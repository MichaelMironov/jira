WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'jira.webresources:data-sets', location = '/includes/ajs/contentretriever/ProgressiveDataSet.js' */
AJS.namespace("JIRA.ProgressiveDataSet",null,require("aui/progressive-data-set"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/UncomplicatedInlineLayer.js' */
define("jira/mention/uncomplicated-inline-layer",["jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jquery"],(function(n,e,t){"use strict";return n.extend({init:function(t){t||(t={});t.contentRetriever=new e;n.prototype.init.call(this,t)},content:function(){arguments.length&&(this.$content=arguments[0]);return this.$content},refreshContent:function(n){this.layer().empty().append(this.content());t.isFunction(n)&&n.call(this);this.contentChange();this.setPosition()}})}));AJS.namespace("JIRA.UncomplicatedInlineLayer",null,require("jira/mention/uncomplicated-inline-layer"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/Mention.Group.js' */
define("jira/mention/mention-group",["jira/ajs/group"],(function(t){"use strict";return t.extend({_makeSelection:function(t){if(this.items&&this.items[this.index]){this.items[this.index].trigger("accept");t.preventDefault()}},shiftFocus:function(i){t.prototype.shiftFocus.call(this,i);this.items[this.index]&&(this.highlighted=this.items[this.index])},keys:{Up:function(t){this.shiftFocus(-1);t.preventDefault()},Down:function(t){this.shiftFocus(1);t.preventDefault()},Return:function(t){this._makeSelection(t)},Tab:function(t){this._makeSelection(t)}}})}));AJS.namespace("JIRA.MentionGroup",null,require("jira/mention/mention-group"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/Mention.js' */
define("jira/mention/mention",["jira/util/key-code","jira/ajs/control","jira/dialog/dialog-stack","jira/mention/mention-user","jira/mention/mention-group","jira/mention/mention-matcher","jira/mention/scroll-pusher","jira/mention/contextual-mention-analytics-event","jira/mention/uncomplicated-inline-layer","jira/ajs/layer/inline-layer/standard-positioning","jira/ajs/layer/inline-layer/window-positioning","jira/ajs/dropdown/dropdown-list-item","jira/util/events","aui/progressive-data-set","jquery","underscore","wrm/context-path","jira/util/logger","jira/util/formatter"],(function(e,t,n,i,r,s,o,a,u,l,c,h,d,f,m,g,p,v,y){"use strict";var _=!1,C={},I=void 0,w=!1,x=!1;function E(e,t){var n="";e&&(n=(e instanceof m?e.get(0):e).querySelector("a").getAttribute(t));return n}function S(e){return E(e,"rel")}function j(e,t){var n=A(e.get("highestIssueInvolvementRank"),t.get("highestIssueInvolvementRank"),(function(e,t){return e-t}));0===n&&0===(n=A(e.get("latestCommentCreationTime"),t.get("latestCommentCreationTime"),(function(e,t){return t-e})))&&(n=e.get("displayName").localeCompare(t.get("displayName")));return n}function A(e,t,n){return void 0!==e?void 0!==t?n(e,t):-1:void 0!==t?1:0}function U(e){return!!e}function R(e,t){return t?p()+"/rest/internal/2/users/mention":U(e)?p()+"/rest/internal/2/user/mention/search":p()+"/rest/api/2/user/viewissue/search"}function M(e,t){return t||U(e)?"query":"username"}return t.extend({CLASS_SIGNATURE:"AJS_MENTION",lastInvalidUsername:"",lastRequestMatch:!0,lastValidUsername:"",init:function(e,t){this.useNewEndpoint=t;var n=function(e,t){return{model:i,comparator:j,queryEndpoint:R(e,t),queryParamKey:M(e,t)}}(e,t);this.listController=new r;this.isRolesEnabled=U(e);this.dataSource=new f([],g.extend({queryData:this._getQueryParams.bind(this),matcher:function(){return!1}},n));this.dataSource.shouldGetMoreResults=function(){return!0};this.fetchUserNames=g.debounce(this.dataSource.query,175);this.dataSource.bind("respond",function(e){var t=this,n=e.query;if(n&&_){var i=(this.dataSource.findQueryCache(n)||[]).slice(0,5).filter((function(e){return e})).map((function(e){return t.dataSource.findWhere({name:e})}));if(i.length){this.lastInvalidUsername="";this.lastValidUsername=n;this.lastRequestMatch=!0}else{(!this.lastInvalidUsername||n.length<=this.lastInvalidUsername.length)&&(this.lastInvalidUsername=n);this.lastRequestMatch=!1}var r=this.generateSuggestions(i,n);this.updateSuggestions(r);v.trace("mention.suggestions.updated")}}.bind(this));this.dataSource.bind("activity",function(e){e.activity?this.layerController._showLoading():this.layerController._hideLoading()}.bind(this))},updateSuggestions:function(e){var t=this;this.layerController&&requestAnimationFrame((function(){t.layerController.content(e);t.layerController.show();t.layerController.refreshContent();t.updateMentionsStatus(w)}))},_getQueryParams:function(){return this.restParams},_getIssueKey:function(){return this.$textarea.attr("data-issuekey")},_getProjectKey:function(){return this.$textarea.attr("data-projectkey")},_getMultipleProjectKeys:function(){return this.$textarea.attr("data-project-keys")},_setQueryParams:function(){var e={maxResults:5},t=n.current&&"create-issue-dialog"===n.current.options.id;if(this.useNewEndpoint){if(this._getMultipleProjectKeys())e.projectKeys=this._getMultipleProjectKeys();else if(this.isRolesEnabled){e.includeInvolvement=!0;e.issueKey=t?void 0:this._getIssueKey()}else e.projectKeys=this._getProjectKey();this.restParams=e}else{e.issueKey=t?void 0:this._getIssueKey();e.projectKey=this._getProjectKey();this.restParams=e}},_composeCustomEventForFollowScroll:function(e){e=e||{};var t=this.$textarea.attr("follow-scroll");t&&t.length&&(e[t]={scroll:function(){this.setPosition()}});return e},_getMentionsOffsetTarget:function(){try{var e=this._getEditorAPI(),t=e&&e.phantomCaret.queryPhantomCaretInDOM();return t?m(t):this.$textarea}catch(e){console.error(e);return this.$textarea}},textarea:function(e){var t=this;if(!e)return this.$textarea;this.$textarea=m(e);m("#mentionDropDown").remove();if(this.$textarea.attr("push-scroll"))var i=new l,r=o(this.$textarea,10);var s=new c;s.setInversePositioningIfNotFit(!0);this.layerController=new u({offsetTarget:this._getMentionsOffsetTarget(),allowDownsize:!0,positioningController:i||s,customEvents:this._composeCustomEventForFollowScroll(),width:function(){return t.$textarea.width()}});this.layerController.bind("showLayer",(function(){t.listController.trigger("focus");t._assignEvents("win",window)})).bind("hideLayer",(function(){t.listController.trigger("blur");t._unassignEvents("win",window);r&&r.reset()})).bind("contentChanged",(function(){if(t.layerController.$content){var e,n=t.listController.index,i=t.listController.highlighted||t.listController.items[n],r=i?S(i.$element):"";t.listController.removeAllItems();t.layerController.$content.off("click.jiraMentions");t.layerController.$content.on("click.jiraMentions","li",(function(e){var n=e.currentTarget;t._acceptSuggestion(n);e.preventDefault()}));t.layerController.$content.find("li").each((function(){var n=S(this),i=new h({element:this,autoScroll:!0});n===r&&(e=i);t.listController.addItem(i)}));t.listController.prepareForInput();e?e.trigger("focus"):t.listController.shiftFocus(0)}})).bind("setLayerPosition",(function(e,t,i){if(n.current&&n.current.$form){var s=n.current.$popup.find(".buttons-container:visible");s.length&&t.top>s.offset().top&&(t.top=s.offset().top)}t.left<0&&(t.left=0);t.left+i.layer().width()>m(window).width()&&(t.left=Math.max(m(window).width()-i.layer().width(),0));r&&r.push(t.top+i.layer().outerHeight(!0))}));this.layerController.layer().attr("id","mentionDropDown");this._assignEvents("inlineLayer",t.layerController.layer());this._assignEvents("textarea",t.$textarea);this._setQueryParams();this._seedData().then((function(e){var n=[];n.push.apply(n,e);t.dataSource.add(n)}))},generateSuggestions:function(e,t,n){var i=function(e){var i={text:e};if(!n&&e&&e.length){var r=this._indexOfFirstMatch(e.toLowerCase(),t.toLowerCase());if(-1!==r){var s=r+t.length;i={prefix:e.substring(0,r),match:e.substring(r,s),suffix:e.substring(s)}}}return i}.bind(this),r=g.map(e,(function(e){var t=e.toJSON();t.username=t.name;t.displayName=i(t.displayName);t.name=i(t.name);t.iconType="rounded";t.issueRoles=g.map(t.roles,(function(e){return i(e.label)}));return t}));return m(JIRA.Templates.mentionsSuggestions({suggestions:r,query:t,activity:this.dataSource.activeQueryCount>0,isRolesEnabled:this.isRolesEnabled,useDefaultAvatar:this.useNewEndpoint}))},updateMentionsStatus:function(e){clearTimeout(I);var t=this;I=setTimeout((function(){I=void 0;var n=x?"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0438\u0439\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0439 \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442.":"",i=t.listController.items?t.listController.items.length:0,r="";e&&(r=i>0?y.format("\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b: {0}.",i):y.format("\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0434\u043b\u044f {0}{1}{2} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.",t.currentUserName,"",""));var s=i>0?y.format("\u0412\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: {0}.",t.getSelectedUserName()):"";if(t.layerController.isVisible()){t.layerController.layer().find('div.assistive[role="status"]').html((n+" "+r+" "+s).trim());x=!1}}),e?1e3:350)},getSelectedUserName:function(){return S((this.listController.highlighted||this.listController.items[this.listController.index]||{}).$element)},_indexOfFirstMatch:function(e,t){for(var n,i=/ |@|\.|-|"|,|'|\(/,r=0;-1!==n;){if(0===e.indexOf(t))return r;if(-1===(n=e.search(i)))return-1;r=r+n+1;e=e.substring(n+1)}},_seedData:function(){var e,t=this._getQueryParams().issueKey;if(t){C[t]||(C[t]=m.ajax({method:"GET",url:p()+(this.useNewEndpoint?"/rest/internal/2/users/mention":"/rest/internal/2/user/mention/search"),data:this._getQueryParams(),dataType:"json",contentType:"application/json; charset=UTF-8"}));e=C[t].promise()}else e=(new m.Deferred).reject();return e},_acceptSuggestion:function(e){this._hide();a.fireUserMayAcceptSuggestionByUsingContextualMentionEvent(this._getCurrentUserName());this._replaceCurrentUserName(S(e),E(e,"data-displayname"));this.listController.removeAllItems();_=!1},_replaceCurrentUserName:function(e){var t=this._rawInputValue(),n=this._getCaretPosition(),i=t.substr(0,n),r=s.getLastWordBoundaryIndex(i,!0),o=t.substr(0,r+1).replace(/\r\n/g,"\n"),a="[~"+e+"]",u=t.substr(n);this._rawInputValue([o,a,u].join(""));this._setCursorPosition(o.length+a.length)},_setCursorPosition:function(e){var t=this.$textarea.get(0);if(t.setSelectionRange){t.focus();t.setSelectionRange(e,e)}else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0);n.moveEnd("character",e);n.moveStart("character",e);n.select()}},_getCaretPosition:function(){var e,t,n,i,r=this.$textarea.get(0),s=this._rawInputValue();if("number"==typeof r.selectionStart)return r.selectionStart;if(document.selection&&r.createTextRange){if(e=document.selection.createRange()){(i=r.createTextRange()).moveToBookmark(e.getBookmark());if(i.compareEndPoints("StartToEnd",r.createTextRange())>=0)return s.length;n=s.replace(/\r\n/g,"\n");t=i.moveStart("character",-s.length);return n.slice(0,-t).split("\n").length-1-t}return s.length}return 0},_rawInputValue:function(){var e=this.$textarea.get(0);"string"==typeof arguments[0]&&(e.value=arguments[0]);return e.value},_getCurrentUserName:function(){return this.currentUserName},_hide:function(){this.layerController.hide()},_show:function(){this.layerController.show()},_keyUp:function(){var e=this._getCaretPosition(),t=this._getUserNameFromInput(e),n=m.trim(t||""),i=!1;x=!_||x;w=this.currentUserName!==this.lastQuery||x;if(this._isNewRequestRequired(n)){this.fetchUserNames(n);i=!0;_=!0}else if(this._showHintSuggestions(t)){var r=this.dataSource.first(5),s=this.generateSuggestions(r,n,!0);this.updateSuggestions(s);i=!0;_=!0}else if(!this._keepSuggestWindowOpen(n)){this._hide();x=!1;_=!1}!i&&_&&this.updateMentionsStatus(!1);this.lastQuery=n;delete this.willCheck},_showHintSuggestions:function(e){return"string"==typeof e&&0===e.length},_keepSuggestWindowOpen:function(e){return!!e&&(!!this.layerController.isVisible()&&(this.dataSource.activeQueryCount||this.lastRequestMatch))},_isNewRequestRequired:function(e){if(!e)return!1;if((e=m.trim(e))===this.lastQuery)return!1;if(this.lastInvalidUsername){if(0===e.indexOf(this.lastInvalidUsername)&&this.lastInvalidUsername.length<e.length)return!1}else if(!this.lastRequestMatch&&e===this.lastValidUsername)return!0;return!0},_getUserNameFromInput:function(e){"number"!=typeof e&&(e=this._getCaretPosition());this.currentUserName=s.getUserNameFromCurrentWord(this._rawInputValue(),e);return this.currentUserName},_getEditorAPI:function(){try{return require("wiki-edit/api")}catch(e){return null}},_events:{win:{resize:function(){this.layerController.setWidth(this.$textarea.width())}},textarea:{keydown:function(t){if(t.keyCode===e.ESCAPE){if(this.layerController.isVisible()){n.current&&d.one("Dialog.beforeHide",(function(e){e.preventDefault()}));this.$textarea.one("keyup",(function(t){if(t.keyCode===e.ESCAPE){t.stopPropagation();d.trigger("Mention.afterHide")}}))}}else if(!this.willCheck){this.willCheck=g.defer(g.bind(this._keyUp,this));g.defer(g.bind((function(){var e=this._getUserNameFromInput(this._getCaretPosition());a.fireContextualMentionIsBeingLookedUpAnalyticsEvent(e,t.keyCode,t.ctrlKey,t.metaKey)}),this))}},focus:function(){this._keyUp()},mouseup:function(){this._keyUp()},blur:function(){this.listController.removeAllItems();this.lastQuery=this.lastValidUsername=this.lastInvalidUsername=""}},inlineLayer:{mousedown:function(e){e.preventDefault()}}}})}));define("jira/mention/mention-user",["jira/backbone-1.3.3","underscore"],(function(e,t){"use strict";return e.Model.extend({idAttribute:"name",initialize:function(){this.on("change:issueInvolvements",(function(e,n){var i=t.union(e.previous("issueInvolvements"),n);e.attributes.issueInvolvements=t.uniq(i,!1,(function(e){return e.id}))}))},parse:function(e){e.issueInvolvements||(e.issueInvolvements=[]);return e},toJSON:function(){var e=t.clone(this.attributes);e.roles=e.issueInvolvements;delete e.issueInvolvements;return e}})}));define("jira/mention/mention-matcher",["jquery"],(function(e){"use strict";return{AT_USERNAME_START_REGEX:/^@(.*)/i,AT_USERNAME_REGEX:/[^\[]@(.*)/i,WIKI_MARKUP_REGEX:/\[[~@]+([^~@]*)/i,ACCEPTED_USER_REGEX:/\[~[^~\]]*\]/i,WORD_LIMIT:3,getUserNameFromCurrentWord:function(t,n){var i,r=t.substr(0,n),s=this.getLastWordBoundaryIndex(r,!1),o=r.charAt(s-1),a=null;if(!o||!/\w/i.test(o)){i=this._removeAcceptedUsernames(r.substr(s));if(/[\r\n]/.test(i))return null;e.each([this.AT_USERNAME_START_REGEX,this.AT_USERNAME_REGEX,this.WIKI_MARKUP_REGEX],(function(e,t){var n=t.exec(i);if(n){a=n[1];return!1}}))}return null!=a&&this.lengthWithinLimit(a,this.WORD_LIMIT)?a:null},lengthWithinLimit:function(t,n){return e.trim(t).split(/\s+/).length<=~~n},getLastWordBoundaryIndex:function(e,t){var n=e.lastIndexOf("@"),i=e.lastIndexOf("[~");if(t){n-=1;i-=1}return n>i?n:i},_removeAcceptedUsernames:function(e){var t=this.ACCEPTED_USER_REGEX.exec(e);return t?e.split(t)[1]:e}}}));define("jira/mention/scroll-pusher",["jquery"],(function(e){"use strict";return function(t,n){n=n||0;var i,r=e(t.attr("push-scroll"));return{push:function(e,t){void 0===t&&(t=n);var s=e-(r.offset().top+r.outerHeight());if(s+t>0){i||(i=r.height());r.height(r.height()+s+t)}},reset:function(){i&&r.height(i)}}}}));define("jira/mention/contextual-mention-analytics-event",["jira/util/key-code","jira/analytics","underscore"],(function(e,t,n){"use strict";var i=/^(assi(gnee?)|repo(rter?))$/,r=n.debounce((function(n,r,s,o){var a=function(t){return t===e.BACKSPACE}(r)||function(e,t,n){return e==="A".charCodeAt()&&(t||n)||t||n}(r,s,o),u=i.test(n);!1===a&&u&&t.send({name:"issue.comment.contextualMention.lookup"})}),500);return{fireAcceptedContextualMentionAnalyticsEvent:function(){t.send({name:"issue.comment.contextualMention.accepted"})},fireContextualMentionIsBeingLookedUpAnalyticsEvent:function(e,t,n,i){r(e,t,n,i)},fireUserMayAcceptSuggestionByUsingContextualMentionEvent:function(e){n.any(["assignee","reporter"],(function(n){if(0===n.indexOf(e)&&n!==e){t.send({name:"issue.comment.contextualMention.mayAccepted"});return!0}}))}}}));AJS.namespace("JIRA.MentionUserModel",null,require("jira/mention/mention-user"));AJS.namespace("JIRA.Mention",null,require("jira/mention/mention"));AJS.namespace("JIRA.Mention.Matcher",null,require("jira/mention/mention-matcher"));AJS.namespace("JIRA.Mention.ScrollPusher",null,require("jira/mention/scroll-pusher"));AJS.namespace("JIRA.Mention.ContextualMentionAnalyticsEvent",null,require("jira/mention/contextual-mention-analytics-event"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/Mention.soy' */
// This file was automatically generated from Mention.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }


JIRA.Templates.mentionsSuggestions = function(opt_data, opt_ignored) {
  var output = '<div class="aui-list">';
  if (opt_data.suggestions.length > 0) {
    output += '<ul role="listbox" class="aui-list-section aui-last">';
    var suggestionList7 = opt_data.suggestions;
    var suggestionListLen7 = suggestionList7.length;
    for (var suggestionIndex7 = 0; suggestionIndex7 < suggestionListLen7; suggestionIndex7++) {
      var suggestionData7 = suggestionList7[suggestionIndex7];
      output += '<li role="presentation" class="aui-list-item jira-mention-suggestion"><a role="option" class="aui-list-item-link aui-iconised-link" rel="' + soy.$$escapeHtml(suggestionData7.username) + '"' + ((suggestionData7.displayName.text) ? ' data-displayname="' + soy.$$escapeHtml(suggestionData7.displayName.text) + '"' : (suggestionData7.displayName.match) ? ' data-displayname="' + soy.$$escapeHtml(suggestionData7.displayName.prefix) + soy.$$escapeHtml(suggestionData7.displayName.match) + soy.$$escapeHtml(suggestionData7.displayName.suffix) + '"' : '');
      if (suggestionData7.roles) {
        output += ' data-issue-roles="';
        var roleList25 = suggestionData7.roles;
        var roleListLen25 = roleList25.length;
        for (var roleIndex25 = 0; roleIndex25 < roleListLen25; roleIndex25++) {
          var roleData25 = roleList25[roleIndex25];
          output += soy.$$escapeHtml(roleData25.id) + ' ';
        }
        output += '"';
      }
      output += ' href="#" >' + JIRA.Templates.highlitEntry(soy.$$augmentMap(suggestionData7, {useDefaultAvatar: opt_data.useDefaultAvatar})) + '</a></li>';
    }
    output += '</ul>';
  } else {
    output += JIRA.Templates.noSuggestions({activity: opt_data.activity, query: '' + soy.$$escapeHtml(opt_data.query)});
  }
  output += ((opt_data.isRolesEnabled) ? '<div class="aui-list-section-footer">' + soy.$$escapeHtml(AJS.format('\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 @{0} \u0438\u043b\u0438 @{1}','\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c','\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043e\u0442\u0447\u0435\u0442\u043e\u0432')) + '</div>' : '') + '<div role="status" class="assistive" aria-atomic="true" aria-live="assertive"></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.mentionsSuggestions.soyTemplateName = 'JIRA.Templates.mentionsSuggestions';
}


JIRA.Templates.noSuggestions = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.query.length == 0) ? '<div class="no-suggestions">' + soy.$$escapeHtml('\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u0438\u0441\u043a\u0430.') + '</div>' : (opt_data.activity) ? '<div class="no-suggestions searching">' + soy.$$filterNoAutoescape(AJS.format('\u041f\u043e\u0438\u0441\u043a {0}{1}{2}\u2026','<strong>',opt_data.query,'</strong>')) + '</div>' : '<div class="no-suggestions">' + soy.$$filterNoAutoescape(AJS.format('\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0434\u043b\u044f {0}{1}{2} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.','<strong>',opt_data.query,'</strong>')) + '</div>');
};
if (goog.DEBUG) {
  JIRA.Templates.noSuggestions.soyTemplateName = 'JIRA.Templates.noSuggestions';
}


JIRA.Templates.highlitEntry = function(opt_data, opt_ignored) {
  return '<span class="jira-mention-suggestion-user"><img class="icon rounded" src="' + ((opt_data.useDefaultAvatar) ? soy.$$escapeHtml(opt_data.avatarUrl) : soy.$$escapeHtml(opt_data.avatarUrls['16x16'])) + '" alt="' + soy.$$escapeHtml(opt_data.displayName) + '" /><span class="jira-mention-suggestion-user-name">' + JIRA.Templates.highlightMention({match: opt_data.displayName}) + ((opt_data.emailAddress) ? ' - ' + soy.$$escapeHtml(opt_data.emailAddress) : '') + JIRA.Templates.highlightMention({prefix: ' (', match: opt_data.name, suffix: ')'}) + '</span></span>' + ((opt_data.issueRoles) ? JIRA.Templates.renderIssueRoles(opt_data) : '');
};
if (goog.DEBUG) {
  JIRA.Templates.highlitEntry.soyTemplateName = 'JIRA.Templates.highlitEntry';
}


JIRA.Templates.highlightMention = function(opt_data, opt_ignored) {
  return '' + ((opt_data.match.text || opt_data.match.match) ? ((opt_data.prefix) ? soy.$$escapeHtml(opt_data.prefix) : '') + ((opt_data.match.match) ? soy.$$escapeHtml(opt_data.match.prefix) + '<mark>' + soy.$$escapeHtml(opt_data.match.match) + '</mark>' + soy.$$escapeHtml(opt_data.match.suffix) : soy.$$escapeHtml(opt_data.match.text)) + ((opt_data.suffix) ? soy.$$escapeHtml(opt_data.suffix) : '') : '');
};
if (goog.DEBUG) {
  JIRA.Templates.highlightMention.soyTemplateName = 'JIRA.Templates.highlightMention';
}


JIRA.Templates.renderIssueRoles = function(opt_data, opt_ignored) {
  var output = '<span class="jira-mention-issue-roles">';
  var roleList110 = opt_data.issueRoles;
  var roleListLen110 = roleList110.length;
  for (var roleIndex110 = 0; roleIndex110 < roleListLen110; roleIndex110++) {
    var roleData110 = roleList110[roleIndex110];
    output += ' <span class="aui-lozenge aui-lozenge-complete' + ((! roleData110.match) ? ' aui-lozenge-subtle' : '') + '">' + JIRA.Templates.highlightMention({prefix: '', match: roleData110, suffix: ''}) + '</span>';
  }
  output += '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.renderIssueRoles.soyTemplateName = 'JIRA.Templates.renderIssueRoles';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:mentions-feature', location = '/includes/jira/mention/Mention.Element.js' */
define("jira/mention/mention-element",["jira/mention/mention","jira/skate"],(function(e,t){"use strict";function n(t){var n=t.getAttribute("data-issuekey"),i="true"===t.getAttribute("data-use-new-endpoint");t._controller||(t._controller=new e(n,i));t._controller.textarea(t)}return t("mentionable",{type:t.type.CLASSNAME,created:function(){},attached:function(e){document.activeElement===e&&n(e)},events:{focus:function(e){n(e)}}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:rte-saving-kb-shortcuts', location = 'js/editor-saving-kb-shortcuts.js' */
(k=>{k.set('common.forms.submit.accesskey','S');})(WRM.I18n.km);
define("jira/editor/saving-kb-shortcuts",["jquery","jira/editor/analytics","jira/util/navigator","jira/util/data/meta","jira/util/formatter"],function(e,f,c,g,h){function k(a){return(a.ctrlKey||c.isMac()&&a.metaKey)&&(13===a.keyCode||!c.isMac()&&10===a.keyCode)}function l(a){return d&&d===a.keyCode?m.every(function(b){return a[b]}):!1}var d=function(){var a=h.I18n.getText("common.forms.submit.accesskey");return a&&1===a.length?a.toUpperCase().charCodeAt(0):0}(),m=function(){return(g.get("keyboard-accesskey-modifier")||
"").split("+").map(function(a){return a.trim().toLowerCase()+"Key"})}();return{enable:function(a){a.getInstance().relayEvent("keydown",function(b){if(k(b)||l(b))b.preventDefault(),a.serialize().then(function(){f.sendEvent("editor.instance.submit");e(a.$textarea.prop("form")).submit()})},!0)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:schema-builder', location = 'js/editor-schema-builder.js' */
define("jira/editor/schema-builder",["jira/editor/tinymce","jquery","underscore","jira/util/logger"],function(t,r,h,q){function u(a,b,e){var g=(new t.html.Schema({schema:e})).elements;g.img.attributesRequired=["src"];g.img.attributes.imagetext={};g.img.attributesOrder.push("imagetext");return a.map(function(k){var d=g[k];if(!d)return!1;var n=d.removeEmptyAttrs?"!":"",c="";d.paddEmpty?c="#":d.removeEmpty&&(c="-");var m=d.attributesOrder.map(function(l){var p="";-1!==(d.attributesRequired||[]).indexOf(l)&&
(p="!");return p+l}).filter(function(l){return-1===b.indexOf(l)});return c+k+n+"["+m.join("|")+"]"}).filter(function(k){return!!k})}function v(a){return h.isArray(a)?h.every(a,function(b){return"string"===typeof b}):!1===a||void 0===a}function w(a){return h.isArray(a)?h.every(a,function(b){return"string"===typeof b}):void 0===a}var f=function(){this.noBreak=[];this.noNest=[];this.customElementChildren={};this.customElementAttrs={};this.validChildren=[];this.unwantedAttributes=[];this.extendedValidElements=
[];this.baseSchema="html5";this.validElements=[]};f.prototype.withCustomElement=function(a,b,e){if(!("string"===typeof a&&0<a.indexOf("-")))return q.error("Could not add custom element: incorrect `name` given:",a,"(see https://www.w3.org/TR/custom-elements/#valid-custom-element-name)"),this;if(!v(b))return q.error("Could not add custom element: incorrect `children` given:",b),this;if(!w(e))return q.error("Could not add custom element: incorrect `attributes` given:",e),this;!1===b?b=[]:void 0===b?
b=["p","#comment"]:b.push("#comment");e||(e=[]);this.customElementChildren[a]=h.uniq(b);this.customElementAttrs[a]=h.uniq(e);return this};f.prototype.withBaseSchema=function(a){this.baseSchema=a;return this};f.prototype.withValidElements=function(a){this.validElements=a;return this};f.prototype.withNoBreak=function(a){this.noBreak.push.apply(this.noBreak,a);return this};f.prototype.withNoSelfNest=function(a){this.noNest.push.apply(this.noNest,a.map(function(b){return[b,b]}));return this};f.prototype.setValidChildren=
function(a,b){this.validChildren.push(a+"["+b+"]");return this};f.prototype.withExtendedValidElements=function(a){this.extendedValidElements.push.apply(this.extendedValidElements,a);return this};f.prototype.withNoNest=function(a){this.noNest.push.apply(this.noNest,a);return this};f.prototype.withUnwantedAttributes=function(a){this.unwantedAttributes.push.apply(this.unwantedAttributes,a);return this};f.prototype.build=function(){function a(c,m){g.push("-"+c+"["+m+"]")}var b=this.baseSchema,e=[],g=
[],k=[],d=[],n={};this.noBreak.forEach(function(c){a(c,"br")});this.noNest.forEach(function(c){a.apply(null,c)});e.push.apply(e,Object.keys(this.customElementChildren));r.each(this.customElementChildren,function(c,m){n[c]=m.reduce(function(l,p){l[p]={};return l},{})});g.push.apply(g,this.validChildren);k=u(this.validElements,this.unwantedAttributes,b);d.push.apply(d,h.map(this.customElementAttrs,function(c,m){return m+(c.length?"["+c.join("|")+"]":"")}));d.push.apply(d,this.extendedValidElements);
return{getValidChildren:function(){return g.join(",")},getValidElements:function(){return k.join(",")},getExtendedValidElements:function(){return d.join(",")},getCustomElements:function(){return e.join(",")},getType:function(){return b},fixChildren:function(c){r.extend((c||{}).children,n)}}};return f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:schema-builder', location = 'js/editor-supported-operations.js' */
define("jira/richeditor/editor-supported-operations",["underscore"],function(b){function d(a,c){var g={bold:["strong","b"],italic:["em","i"],underline:["ins","u"],"bullet-list":["li","ul"],"numbered-list":["li","ol"],paragraph:[],"paragraph-quote":["blockquote"],"block-quote":["blockquote"],monospace:["samp","tt","code"],"delete":["del"],superscript:["sup"],subscript:["sub"],color:["font"],icon:["img"],attachment:["a","img","sup"],code:["pre"],panel:["b"],noformat:["pre"],table:"table thead tbody tr th td tfoot caption colgroup col".split(" "),
undo:[],redo:[]};a=b.map(a,function(e){return g[e]||[e]});a.push(c||[]);c=b.flatten(a);return b.uniq(c)}var f="bold italic underline bullet-list numbered-list h1 h2 h3 h4 h5 h6 paragraph paragraph-quote block-quote monospace delete superscript subscript cite hr color icon attachment code panel noformat table undo redo".split(" "),h=d(f,["br","span","a","p","div"]);return{getWikiOperations:function(){return f},getRequiredHtmlTags:function(){return h},mapWikiOperationToHtmlTags:d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:html-browser-converter', location = 'js/util/html-browser-converter.js' */
define("jira/editor/util/html-browser-converter",[],function(){return{convert:function(b){if(!b)return"";try{const a=document.createElement("template");a.innerHTML=b;return a.innerHTML}catch(a){return""}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:schema', location = 'js/editor-schema.js' */
(k=>{k.set('jira.editor.security.unicode.bidi.characters.info','\u0414\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430. \u041e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u0440\u0435\u0434\u043e\u043d\u043e\u0441\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430.');})(WRM.I18n.km);
define("jira/editor/schema","jira/editor/schema-builder jira/richeditor/editor-supported-operations jira/editor/tinymce jira/editor/util/html-browser-converter jira/util/formatter jira/featureflags/feature-manager jquery".split(" "),function(h,n,e,p,q,r,k){function t(a,b){return`<span
                    title="${q.I18n.getText("jira.editor.security.unicode.bidi.characters.info")}"
                    contenteditable="false"
                    class="bidi-unicode"
                    data-bidi-character-code="${b.charCodeAt(0).toString(16).padStart(4,"0").toUpperCase()}"
                >${b}</span>`}function l(a,b){"textContent"in document.body&&(a=a.replace(/(<br>|<br \/>)/g,"\n"));a=k("\x3cdiv\x3e").addClass("richeditor-sanitize").append(a)[0];a=AJS.escapeHTML(a.textContent||a.innerText);const d=r.isFeatureEnabled("jira.richeditor.bidi.warning");return b&&d?a.replace(/([\u2066-\u2069\u202A-\u202E])/g,t):a}var m="strong b em i tt code samp sub sup del cite panel-title".split(" "),u=[["td","table"],["th","table"],["td","p"],["th","p"]],f=[],v=["strong/b"];f.push("xml:lang");
f.push("xml:space");var g={getSchemaSpecBuilder:function(a){void 0===a&&(a=new h);return a.withValidElements(n.getRequiredHtmlTags()).withNoBreak(m).withNoSelfNest(m).withNoNest(u).withUnwantedAttributes(f).withExtendedValidElements(v).withCustomElement("panel-title",["span","#text"],["style"]).setValidChildren("pre","br|span|#text|pre|p|panel-title")},getPasteSchemaSpecBuilder:function(a){void 0===a&&(a=g.getSchemaSpecBuilder());return a.withUnwantedAttributes(["contenteditable"])},getPasteInsidePreSchemaSpecBuilder:function(a){void 0===
a&&(a=new h);return a.withValidElements(["br","span","p","pre"]).withUnwantedAttributes(["style"])},getSchemaFromSpec:function(a){var b=new e.html.Schema({schema:a.getType(),custom_elements:a.getCustomElements(),valid_children:a.getValidChildren(),valid_elements:a.getValidElements(),extended_valid_elements:a.getExtendedValidElements()});a.fixChildren(b);return b},sanitizeHtml:function(a,b,d){var c=k(b.selection.getStart()).add(b.selection.getEnd()).add(b.selection.getNode());a=p.convert(a);c.is("pre, pre \x3e *")&&
(a=c.clone().html(l(a,!0)).prop("outerHTML"));c.is("panel-title, panel-title \x3e *")&&(a=l(a,!1));c=g.getSchemaFromSpec(d);d=new e.html.DomParser(b.settings,c);b=new e.html.Serializer(b.settings,c);a=d.parse(a,{forced_root_block:void 0});return b.serialize(a)}};return g});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:i18n', location = '/js/editor-i18n.js' */
(k=>{k.set('jira.editor.tinymce.Left.to.right','\u0421\u043b\u0435\u0432\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043e');k.set('jira.editor.tinymce.access.clipboard','\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u044f\u043c\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0443\u0444\u0435\u0440\u0443 \u043e\u0431\u043c\u0435\u043d\u0430. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0432\u0438\u0448 Ctrl + X/C/V.');k.set('jira.editor.tinymce.advanced','\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e');k.set('jira.editor.tinymce.align.center','\u0412\u044b\u0440\u043e\u0432\u043d\u044f\u0442\u044c \u043f\u043e \u0446\u0435\u043d\u0442\u0440\u0443');k.set('jira.editor.tinymce.align.left','\u041f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e');k.set('jira.editor.tinymce.align.right','\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e');k.set('jira.editor.tinymce.alignment','\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435');k.set('jira.editor.tinymce.alternative.source','\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a');k.set('jira.editor.tinymce.anchor','\u042f\u043a\u043e\u0440\u044c');k.set('jira.editor.tinymce.anchors','\u042f\u043a\u043e\u0440\u044f');k.set('jira.editor.tinymce.author','\u0410\u0432\u0442\u043e\u0440');k.set('jira.editor.tinymce.background.color','\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430');k.set('jira.editor.tinymce.blockquote','\u0411\u043b\u043e\u043a \u0446\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f');k.set('jira.editor.tinymce.blocks','\u0411\u043b\u043e\u043a\u0438');k.set('jira.editor.tinymce.body','\u0422\u0435\u043a\u0441\u0442');k.set('jira.editor.tinymce.bold','\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439');k.set('jira.editor.tinymce.border','\u0413\u0440\u0430\u043d\u0438\u0446\u0430');k.set('jira.editor.tinymce.bullet.list','\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a');k.set('jira.editor.tinymce.cancel','\u041e\u0442\u043c\u0435\u043d\u0430');k.set('jira.editor.tinymce.caption','\u041f\u043e\u0434\u043f\u0438\u0441\u044c');k.set('jira.editor.tinymce.cell','\u042f\u0447\u0435\u0439\u043a\u0430');k.set('jira.editor.tinymce.cell.padding','\u041e\u0442\u0441\u0442\u0443\u043f \u044f\u0447\u0435\u0439\u043a\u0438');k.set('jira.editor.tinymce.cell.properties','\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u044f\u0447\u0435\u0439\u043a\u0438');k.set('jira.editor.tinymce.cell.spacing','\u041f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a \u043c\u0435\u0436\u0434\u0443 \u044f\u0447\u0435\u0439\u043a\u0430\u043c\u0438');k.set('jira.editor.tinymce.cell.type','\u0422\u0438\u043f \u044f\u0447\u0435\u0439\u043a\u0438');k.set('jira.editor.tinymce.center','\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443');k.set('jira.editor.tinymce.circle','\u041a\u0440\u0443\u0433');k.set('jira.editor.tinymce.clear.formatting','\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435');k.set('jira.editor.tinymce.close','\u0417\u0430\u043a\u0440\u044b\u0442\u044c');k.set('jira.editor.tinymce.code','\u041a\u043e\u0434');k.set('jira.editor.tinymce.cols','\u0421\u0442\u043e\u043b\u0431\u0446\u044b');k.set('jira.editor.tinymce.column','\u0421\u0442\u043e\u043b\u0431\u0435\u0446');k.set('jira.editor.tinymce.column.group','\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432');k.set('jira.editor.tinymce.constrain.proportions','\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u0438');k.set('jira.editor.tinymce.copy','\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c');k.set('jira.editor.tinymce.copy.row','\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443');k.set('jira.editor.tinymce.could.not.find.string','\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443.');k.set('jira.editor.tinymce.cut','\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c');k.set('jira.editor.tinymce.cut.row','\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443');k.set('jira.editor.tinymce.deault','\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e');k.set('jira.editor.tinymce.decrease.indent','\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f');k.set('jira.editor.tinymce.delete.column','\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446');k.set('jira.editor.tinymce.delete.row','\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443');k.set('jira.editor.tinymce.delete.table','\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443');k.set('jira.editor.tinymce.description','\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435');k.set('jira.editor.tinymce.dimensions','\u0420\u0430\u0437\u043c\u0435\u0440\u044b');k.set('jira.editor.tinymce.disc','\u0414\u0438\u0441\u043a');k.set('jira.editor.tinymce.div','Div');k.set('jira.editor.tinymce.document.properties','\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430');k.set('jira.editor.tinymce.edit','\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c');k.set('jira.editor.tinymce.embed','\u0412\u0441\u0442\u0440\u043e\u0438\u0442\u044c');k.set('jira.editor.tinymce.emoticons','\u0421\u043c\u0430\u0439\u043b\u044b');k.set('jira.editor.tinymce.encoding','\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430');k.set('jira.editor.tinymce.file','\u0424\u0430\u0439\u043b');k.set('jira.editor.tinymce.find','\u041d\u0430\u0439\u0442\u0438');k.set('jira.editor.tinymce.find.and.replace','\u041d\u0430\u0439\u0442\u0438 \u0438 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c');k.set('jira.editor.tinymce.finish','\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c');k.set('jira.editor.tinymce.font.family','\u041d\u0430\u0431\u043e\u0440 \u0448\u0440\u0438\u0444\u0442\u043e\u0432');k.set('jira.editor.tinymce.font.sizes','\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0448\u0440\u0438\u0444\u0442\u0430');k.set('jira.editor.tinymce.footer','\u041d\u0438\u0436\u043d\u0438\u0439 \u043a\u043e\u043b\u043e\u043d\u0442\u0438\u0442\u0443\u043b');k.set('jira.editor.tinymce.format','\u0424\u043e\u0440\u043c\u0430\u0442');k.set('jira.editor.tinymce.formats','\u0424\u043e\u0440\u043c\u0430\u0442\u044b');k.set('jira.editor.tinymce.fullscreen','\u041d\u0430 \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d');k.set('jira.editor.tinymce.general','\u041e\u0431\u0449\u0435\u0435');k.set('jira.editor.tinymce.header','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.editor.tinymce.header.1','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1');k.set('jira.editor.tinymce.header.2','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2');k.set('jira.editor.tinymce.header.3','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3');k.set('jira.editor.tinymce.header.4','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4');k.set('jira.editor.tinymce.header.5','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5');k.set('jira.editor.tinymce.header.6','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6');k.set('jira.editor.tinymce.header.cell','\u042f\u0447\u0435\u0439\u043a\u0430 \u0441 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c');k.set('jira.editor.tinymce.headers','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438');k.set('jira.editor.tinymce.height','\u0412\u044b\u0441\u043e\u0442\u0430');k.set('jira.editor.tinymce.horizontal.line','\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0438\u044f');k.set('jira.editor.tinymce.horizontal.space','\u041e\u0442\u0441\u0442\u0443\u043f \u043f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438');k.set('jira.editor.tinymce.ignore','\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c');k.set('jira.editor.tinymce.ignore.all','\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435');k.set('jira.editor.tinymce.image.description','\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f');k.set('jira.editor.tinymce.increase.indent','\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f');k.set('jira.editor.tinymce.inline','\u0412 \u0441\u0442\u0440\u043e\u043a\u0435');k.set('jira.editor.tinymce.insert','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c');k.set('jira.editor.tinymce.insert.column.after','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u043f\u043e\u0441\u043b\u0435');k.set('jira.editor.tinymce.insert.column.before','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u043f\u0435\u0440\u0435\u0434');k.set('jira.editor.tinymce.insert.date.time','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u0442\u0443/\u0432\u0440\u0435\u043c\u044f');k.set('jira.editor.tinymce.insert.edit.image','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435');k.set('jira.editor.tinymce.insert.edit.link','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443');k.set('jira.editor.tinymce.insert.edit.video','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e');k.set('jira.editor.tinymce.insert.image','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435');k.set('jira.editor.tinymce.insert.link','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443');k.set('jira.editor.tinymce.insert.row.after','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0441\u043b\u0435');k.set('jira.editor.tinymce.insert.row.before','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u0435\u0440\u0435\u0434');k.set('jira.editor.tinymce.insert.table','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443');k.set('jira.editor.tinymce.insert.template','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d');k.set('jira.editor.tinymce.insert.video','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e');k.set('jira.editor.tinymce.italic','\u041a\u0443\u0440\u0441\u0438\u0432');k.set('jira.editor.tinymce.justify','\u041f\u043e \u0448\u0438\u0440\u0438\u043d\u0435');k.set('jira.editor.tinymce.keywords','\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430');k.set('jira.editor.tinymce.left','\u0421\u043b\u0435\u0432\u0430');k.set('jira.editor.tinymce.lower.alpha','\u0421\u0442\u0440\u043e\u0447\u043d\u0430\u044f \u0430\u043b\u044c\u0444\u0430');k.set('jira.editor.tinymce.lower.greek','\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0433\u0440\u0435\u0447\u0435\u0441\u043a\u0438\u0435');k.set('jira.editor.tinymce.lower.roman','\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0440\u0438\u043c\u0441\u043a\u0438\u0435');k.set('jira.editor.tinymce.match.case','\u0423\u0447\u0435\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430');k.set('jira.editor.tinymce.merge.cells','\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438');k.set('jira.editor.tinymce.name','\u0418\u043c\u044f');k.set('jira.editor.tinymce.navigate','\u041e\u0441\u0442\u0430\u043b\u0438\u0441\u044c \u043d\u0435\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0439\u0442\u0438 \u043e\u0442\u0441\u044e\u0434\u0430?');k.set('jira.editor.tinymce.new.document','\u041d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442');k.set('jira.editor.tinymce.new.window','\u041d\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e');k.set('jira.editor.tinymce.next','\u0414\u0430\u043b\u0435\u0435');k.set('jira.editor.tinymce.nonbreaking.space','\u041d\u0435\u0440\u0430\u0437\u0440\u044b\u0432\u043d\u044b\u0439 \u043f\u0440\u043e\u0431\u0435\u043b');k.set('jira.editor.tinymce.none','\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e');k.set('jira.editor.tinymce.numbered.list','\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a');k.set('jira.editor.tinymce.ok','OK');k.set('jira.editor.tinymce.page.break','\u0420\u0430\u0437\u0440\u044b\u0432 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b');k.set('jira.editor.tinymce.paragraph','\u0410\u0431\u0437\u0430\u0446');k.set('jira.editor.tinymce.paste','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c');k.set('jira.editor.tinymce.paste.as.text','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0442\u0435\u043a\u0441\u0442');k.set('jira.editor.tinymce.paste.embed.code','\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043a\u043e\u0434 \u0434\u043b\u044f \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u044f \u043d\u0438\u0436\u0435:');k.set('jira.editor.tinymce.paste.plain','\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430. \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0435\u043a\u0441\u0442, \u043f\u043e\u043a\u0430 \u044d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430.');k.set('jira.editor.tinymce.paste.row.after','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0441\u043b\u0435');k.set('jira.editor.tinymce.paste.row.before','\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u0435\u0440\u0435\u0434');k.set('jira.editor.tinymce.poster','\u041f\u043e\u0441\u0442\u0435\u0440');k.set('jira.editor.tinymce.pre','\u041f\u0440\u0435\u0434\u0432.');k.set('jira.editor.tinymce.prev','\u041f\u0440\u0435\u0434.');k.set('jira.editor.tinymce.preview','\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440');k.set('jira.editor.tinymce.print','\u041f\u0435\u0447\u0430\u0442\u044c');k.set('jira.editor.tinymce.redo','\u0412\u0435\u0440\u043d\u0443\u0442\u044c');k.set('jira.editor.tinymce.remove.link','\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443');k.set('jira.editor.tinymce.replace','\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c');k.set('jira.editor.tinymce.replace.all','\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435');k.set('jira.editor.tinymce.replace.with','\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c\u2026');k.set('jira.editor.tinymce.restore.last.draft','\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a');k.set('jira.editor.tinymce.rich.text.area','\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e');k.set('jira.editor.tinymce.right','\u0421\u043f\u0440\u0430\u0432\u0430');k.set('jira.editor.tinymce.right.to.left','\u0421\u043f\u0440\u0430\u0432\u0430 \u043d\u0430\u043b\u0435\u0432\u043e');k.set('jira.editor.tinymce.robots','\u0420\u043e\u0431\u043e\u0442\u044b');k.set('jira.editor.tinymce.row','\u0421\u0442\u0440\u043e\u043a\u0430');k.set('jira.editor.tinymce.row.group','\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0442\u0440\u043e\u043a');k.set('jira.editor.tinymce.row.properties','\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0441\u0442\u0440\u043e\u043a\u0438');k.set('jira.editor.tinymce.row.type','\u0422\u0438\u043f \u0441\u0442\u0440\u043e\u043a\u0438');k.set('jira.editor.tinymce.rows','\u0421\u0442\u0440\u043e\u043a\u0438');k.set('jira.editor.tinymce.save','\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c');k.set('jira.editor.tinymce.scope','\u041e\u0431\u043b\u0430\u0441\u0442\u044c');k.set('jira.editor.tinymce.seems.email.address','\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b. \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u00abmailto:\u00bb?');k.set('jira.editor.tinymce.seems.external.link','\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u0441\u0441\u044b\u043b\u043a\u043e\u0439. \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u00abhttp://\u00bb?');k.set('jira.editor.tinymce.select.all','\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435');k.set('jira.editor.tinymce.show.blocks','\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043b\u043e\u043a\u0438');k.set('jira.editor.tinymce.show.invisible.characters','\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b');k.set('jira.editor.tinymce.source','\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a');k.set('jira.editor.tinymce.source.code','\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434');k.set('jira.editor.tinymce.special.character','\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b');k.set('jira.editor.tinymce.spellcheck','\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0440\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u0438');k.set('jira.editor.tinymce.split.cell','\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443');k.set('jira.editor.tinymce.square','\u041a\u0432\u0430\u0434\u0440\u0430\u0442');k.set('jira.editor.tinymce.strikethrough','\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439');k.set('jira.editor.tinymce.style','\u0421\u0442\u0438\u043b\u044c');k.set('jira.editor.tinymce.subscript','\u041f\u043e\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.editor.tinymce.superscript','\u041d\u0430\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439');k.set('jira.editor.tinymce.table','\u0422\u0430\u0431\u043b\u0438\u0446\u0430');k.set('jira.editor.tinymce.table.properties','\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b');k.set('jira.editor.tinymce.target','\u0426\u0435\u043b\u044c');k.set('jira.editor.tinymce.templates','\u0428\u0430\u0431\u043b\u043e\u043d\u044b');k.set('jira.editor.tinymce.text.color','\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430');k.set('jira.editor.tinymce.text.to.display','\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.editor.tinymce.title','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.editor.tinymce.tools','\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b');k.set('jira.editor.tinymce.underline','\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439');k.set('jira.editor.tinymce.undo','\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c');k.set('jira.editor.tinymce.upper.alpha','\u041f\u0440\u043e\u043f\u0438\u0441\u043d\u0430\u044f \u0430\u043b\u044c\u0444\u0430');k.set('jira.editor.tinymce.upper.roman','\u041f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0435 \u0440\u0438\u043c\u0441\u043a\u0438\u0435');k.set('jira.editor.tinymce.url','Url-\u0430\u0434\u0440\u0435\u0441');k.set('jira.editor.tinymce.vertical.space','\u041e\u0442\u0441\u0442\u0443\u043f \u043f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438');k.set('jira.editor.tinymce.view','\u0412\u0438\u0434');k.set('jira.editor.tinymce.visual.aids','\u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a\u0438');k.set('jira.editor.tinymce.whole.words','\u0426\u0435\u043b\u044b\u0435 \u0441\u043b\u043e\u0432\u0430');k.set('jira.editor.tinymce.width','\u0428\u0438\u0440\u0438\u043d\u0430');k.set('jira.editor.tinymce.words','\u0421\u043b\u043e\u0432\u0430: {0}');})(WRM.I18n.km);
define("jira/editor/i18n",["jira/editor/tinymce"],function(a){a.addI18n("en",{Cut:AJS.I18n.getText("jira.editor.tinymce.cut"),"Header 2":AJS.I18n.getText("jira.editor.tinymce.header.2"),"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":AJS.I18n.getText("jira.editor.tinymce.access.clipboard"),Div:AJS.I18n.getText("jira.editor.tinymce.div"),Paste:AJS.I18n.getText("jira.editor.tinymce.paste"),Close:AJS.I18n.getText("jira.editor.tinymce.close"),
"Font Family":AJS.I18n.getText("jira.editor.tinymce.font.family"),Pre:AJS.I18n.getText("jira.editor.tinymce.pre"),"Align right":AJS.I18n.getText("jira.editor.tinymce.align.right"),"New document":AJS.I18n.getText("jira.editor.tinymce.new.document"),Blockquote:AJS.I18n.getText("jira.editor.tinymce.blockquote"),"Numbered list":AJS.I18n.getText("jira.editor.tinymce.numbered.list"),"Increase indent":AJS.I18n.getText("jira.editor.tinymce.increase.indent"),Formats:AJS.I18n.getText("jira.editor.tinymce.formats"),
Headers:AJS.I18n.getText("jira.editor.tinymce.headers"),"Select all":AJS.I18n.getText("jira.editor.tinymce.select.all"),"Header 3":AJS.I18n.getText("jira.editor.tinymce.header.3"),Blocks:AJS.I18n.getText("jira.editor.tinymce.blocks"),Undo:AJS.I18n.getText("jira.editor.tinymce.undo"),Strikethrough:AJS.I18n.getText("jira.editor.tinymce.strikethrough"),"Bullet list":AJS.I18n.getText("jira.editor.tinymce.bullet.list"),"Header 1":AJS.I18n.getText("jira.editor.tinymce.header.1"),Superscript:AJS.I18n.getText("jira.editor.tinymce.superscript"),
"Clear formatting":AJS.I18n.getText("jira.editor.tinymce.clear.formatting"),"Font Sizes":AJS.I18n.getText("jira.editor.tinymce.font.sizes"),Subscript:AJS.I18n.getText("jira.editor.tinymce.subscript"),"Header 6":AJS.I18n.getText("jira.editor.tinymce.header.6"),Redo:AJS.I18n.getText("jira.editor.tinymce.redo"),Paragraph:AJS.I18n.getText("jira.editor.tinymce.paragraph"),Ok:AJS.I18n.getText("jira.editor.tinymce.ok"),Bold:AJS.I18n.getText("jira.editor.tinymce.bold"),Code:AJS.I18n.getText("jira.editor.tinymce.code"),
Italic:AJS.I18n.getText("jira.editor.tinymce.italic"),"Align center":AJS.I18n.getText("jira.editor.tinymce.align.center"),"Header 5":AJS.I18n.getText("jira.editor.tinymce.header.5"),"Decrease indent":AJS.I18n.getText("jira.editor.tinymce.decrease.indent"),"Header 4":AJS.I18n.getText("jira.editor.tinymce.header.4"),"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":AJS.I18n.getText("jira.editor.tinymce.paste.plain"),Underline:AJS.I18n.getText("jira.editor.tinymce.underline"),
Cancel:AJS.I18n.getText("jira.editor.tinymce.cancel"),Justify:AJS.I18n.getText("jira.editor.tinymce.justify"),Inline:AJS.I18n.getText("jira.editor.tinymce.inline"),Copy:AJS.I18n.getText("jira.editor.tinymce.copy"),"Align left":AJS.I18n.getText("jira.editor.tinymce.align.left"),"Visual aids":AJS.I18n.getText("jira.editor.tinymce.visual.aids"),"Lower Greek":AJS.I18n.getText("jira.editor.tinymce.lower.greek"),Square:AJS.I18n.getText("jira.editor.tinymce.square"),Default:AJS.I18n.getText("jira.editor.tinymce.deault"),
"Lower Alpha":AJS.I18n.getText("jira.editor.tinymce.lower.alpha"),Circle:AJS.I18n.getText("jira.editor.tinymce.circle"),Disc:AJS.I18n.getText("jira.editor.tinymce.disc"),"Upper Alpha":AJS.I18n.getText("jira.editor.tinymce.upper.alpha"),"Upper Roman":AJS.I18n.getText("jira.editor.tinymce.upper.roman"),"Lower Roman":AJS.I18n.getText("jira.editor.tinymce.lower.roman"),Name:AJS.I18n.getText("jira.editor.tinymce.name"),Anchor:AJS.I18n.getText("jira.editor.tinymce.anchor"),"You have unsaved changes are you sure you want to navigate away?":AJS.I18n.getText("jira.editor.tinymce.navigate"),
"Restore last draft":AJS.I18n.getText("jira.editor.tinymce.restore.last.draft"),"Special character":AJS.I18n.getText("jira.editor.tinymce.special.character"),"Source code":AJS.I18n.getText("jira.editor.tinymce.source.code"),"Right to left":AJS.I18n.getText("jira.editor.tinymce.right.to.left"),"Left to right":AJS.I18n.getText("jira.editor.tinymce.Left.to.right"),Emoticons:AJS.I18n.getText("jira.editor.tinymce.emoticons"),Robots:AJS.I18n.getText("jira.editor.tinymce.robots"),"Document properties":AJS.I18n.getText("jira.editor.tinymce.document.properties"),
Title:AJS.I18n.getText("jira.editor.tinymce.title"),Keywords:AJS.I18n.getText("jira.editor.tinymce.keywords"),Encoding:AJS.I18n.getText("jira.editor.tinymce.encoding"),Description:AJS.I18n.getText("jira.editor.tinymce.description"),Author:AJS.I18n.getText("jira.editor.tinymce.author"),Fullscreen:AJS.I18n.getText("jira.editor.tinymce.fullscreen"),"Horizontal line":AJS.I18n.getText("jira.editor.tinymce.horizontal.line"),"Horizontal space":AJS.I18n.getText("jira.editor.tinymce.horizontal.space"),"Insert/edit image":AJS.I18n.getText("jira.editor.tinymce.insert.edit.image"),
General:AJS.I18n.getText("jira.editor.tinymce.general"),Advanced:AJS.I18n.getText("jira.editor.tinymce.advanced"),Source:AJS.I18n.getText("jira.editor.tinymce.source"),Border:AJS.I18n.getText("jira.editor.tinymce.border"),"Constrain proportions":AJS.I18n.getText("jira.editor.tinymce.constrain.proportions"),"Vertical space":AJS.I18n.getText("jira.editor.tinymce.vertical.space"),"Image description":AJS.I18n.getText("jira.editor.tinymce.image.description"),Style:AJS.I18n.getText("jira.editor.tinymce.style"),
Dimensions:AJS.I18n.getText("jira.editor.tinymce.dimensions"),"Insert image":AJS.I18n.getText("jira.editor.tinymce.insert.image"),"Insert date/time":AJS.I18n.getText("jira.editor.tinymce.insert.date.time"),"Remove link":AJS.I18n.getText("jira.editor.tinymce.remove.link"),Url:AJS.I18n.getText("jira.editor.tinymce.url"),"Text to display":AJS.I18n.getText("jira.editor.tinymce.text.to.display"),Anchors:AJS.I18n.getText("jira.editor.tinymce.anchors"),"Insert link":AJS.I18n.getText("jira.editor.tinymce.insert.link"),
"New window":AJS.I18n.getText("jira.editor.tinymce.new.window"),None:AJS.I18n.getText("jira.editor.tinymce.none"),"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":AJS.I18n.getText("jira.editor.tinymce.seems.external.link"),Target:AJS.I18n.getText("jira.editor.tinymce.target"),"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":AJS.I18n.getText("jira.editor.tinymce.seems.email.address"),"Insert/edit link":AJS.I18n.getText("jira.editor.tinymce.insert.edit.link"),
"Insert/edit video":AJS.I18n.getText("jira.editor.tinymce.insert.edit.video"),Poster:AJS.I18n.getText("jira.editor.tinymce.poster"),"Alternative source":AJS.I18n.getText("jira.editor.tinymce.alternative.source"),"Paste your embed code below:":AJS.I18n.getText("jira.editor.tinymce.paste.embed.code"),"Insert video":AJS.I18n.getText("jira.editor.tinymce.insert.video"),Embed:AJS.I18n.getText("jira.editor.tinymce.embed"),"Nonbreaking space":AJS.I18n.getText("jira.editor.tinymce.nonbreaking.space"),"Page break":AJS.I18n.getText("jira.editor.tinymce.page.break"),
"Paste as text":AJS.I18n.getText("jira.editor.tinymce.paste.as.text"),Preview:AJS.I18n.getText("jira.editor.tinymce.preview"),Print:AJS.I18n.getText("jira.editor.tinymce.print"),Save:AJS.I18n.getText("jira.editor.tinymce.save"),"Could not find the specified string.":AJS.I18n.getText("jira.editor.tinymce.could.not.find.string"),Replace:AJS.I18n.getText("jira.editor.tinymce.replace"),Next:AJS.I18n.getText("jira.editor.tinymce.next"),"Whole words":AJS.I18n.getText("jira.editor.tinymce.whole.words"),
"Find and replace":AJS.I18n.getText("jira.editor.tinymce.find.and.replace"),"Replace with":AJS.I18n.getText("jira.editor.tinymce.replace.with"),Find:AJS.I18n.getText("jira.editor.tinymce.find"),"Replace all":AJS.I18n.getText("jira.editor.tinymce.replace.all"),"Match case":AJS.I18n.getText("jira.editor.tinymce.match.case"),Prev:AJS.I18n.getText("jira.editor.tinymce.prev"),Spellcheck:AJS.I18n.getText("jira.editor.tinymce.spellcheck"),Finish:AJS.I18n.getText("jira.editor.tinymce.finish"),"Ignore all":AJS.I18n.getText("jira.editor.tinymce.ignore.all"),
Ignore:AJS.I18n.getText("jira.editor.tinymce.ignore"),"Insert row before":AJS.I18n.getText("jira.editor.tinymce.insert.row.before"),Rows:AJS.I18n.getText("jira.editor.tinymce.rows"),Height:AJS.I18n.getText("jira.editor.tinymce.height"),"Paste row after":AJS.I18n.getText("jira.editor.tinymce.paste.row.after"),Alignment:AJS.I18n.getText("jira.editor.tinymce.alignment"),"Column group":AJS.I18n.getText("jira.editor.tinymce.column.group"),Row:AJS.I18n.getText("jira.editor.tinymce.row"),"Insert column before":AJS.I18n.getText("jira.editor.tinymce.insert.column.before"),
"Split cell":AJS.I18n.getText("jira.editor.tinymce.split.cell"),"Cell padding":AJS.I18n.getText("jira.editor.tinymce.cell.padding"),"Cell spacing":AJS.I18n.getText("jira.editor.tinymce.cell.spacing"),"Row type":AJS.I18n.getText("jira.editor.tinymce.row.type"),"Insert table":AJS.I18n.getText("jira.editor.tinymce.insert.table"),Body:AJS.I18n.getText("jira.editor.tinymce.body"),Caption:AJS.I18n.getText("jira.editor.tinymce.caption"),Footer:AJS.I18n.getText("jira.editor.tinymce.footer"),"Delete row":AJS.I18n.getText("jira.editor.tinymce.delete.row"),
"Paste row before":AJS.I18n.getText("jira.editor.tinymce.paste.row.before"),Scope:AJS.I18n.getText("jira.editor.tinymce.scope"),"Delete table":AJS.I18n.getText("jira.editor.tinymce.delete.table"),"Header cell":AJS.I18n.getText("jira.editor.tinymce.header.cell"),Column:AJS.I18n.getText("jira.editor.tinymce.column"),Cell:AJS.I18n.getText("jira.editor.tinymce.cell"),Header:AJS.I18n.getText("jira.editor.tinymce.header"),"Cell type":AJS.I18n.getText("jira.editor.tinymce.cell.type"),"Copy row":AJS.I18n.getText("jira.editor.tinymce.copy.row"),
"Row properties":AJS.I18n.getText("jira.editor.tinymce.row.properties"),"Table properties":AJS.I18n.getText("jira.editor.tinymce.table.properties"),"Row group":AJS.I18n.getText("jira.editor.tinymce.row.group"),Right:AJS.I18n.getText("jira.editor.tinymce.right"),"Insert column after":AJS.I18n.getText("jira.editor.tinymce.insert.column.after"),Cols:AJS.I18n.getText("jira.editor.tinymce.cols"),"Insert row after":AJS.I18n.getText("jira.editor.tinymce.insert.row.after"),Width:AJS.I18n.getText("jira.editor.tinymce.width"),
"Cell properties":AJS.I18n.getText("jira.editor.tinymce.cell.properties"),Left:AJS.I18n.getText("jira.editor.tinymce.left"),"Cut row":AJS.I18n.getText("jira.editor.tinymce.cut.row"),"Delete column":AJS.I18n.getText("jira.editor.tinymce.delete.column"),Center:AJS.I18n.getText("jira.editor.tinymce.center"),"Merge cells":AJS.I18n.getText("jira.editor.tinymce.merge.cells"),"Insert template":AJS.I18n.getText("jira.editor.tinymce.insert.template"),Templates:AJS.I18n.getText("jira.editor.tinymce.templates"),
"Background color":AJS.I18n.getText("jira.editor.tinymce.background.color"),"Text color":AJS.I18n.getText("jira.editor.tinymce.text.color"),"Show blocks":AJS.I18n.getText("jira.editor.tinymce.show.blocks"),"Show invisible characters":AJS.I18n.getText("jira.editor.tinymce.show.invisible.characters"),"Words: {0}":AJS.I18n.getText("jira.editor.tinymce.words"),Insert:AJS.I18n.getText("jira.editor.tinymce.insert"),File:AJS.I18n.getText("jira.editor.tinymce.file"),Edit:AJS.I18n.getText("jira.editor.tinymce.edit"),
"Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":AJS.I18n.getText("jira.editor.tinymce.rich.text.area"),Tools:AJS.I18n.getText("jira.editor.tinymce.tools"),View:AJS.I18n.getText("jira.editor.tinymce.view"),Table:AJS.I18n.getText("jira.editor.tinymce.table"),Format:AJS.I18n.getText("jira.editor.tinymce.format")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:wrm', location = 'js/editor-wrm.js' */
define("jira/editor/wrm",["exports","wrm/data"],function(a,c){var b=c.claim("com.atlassian.jira.plugins.jira-editor-plugin:wrm.editor-data")||{};a.isAttachmentsAllowed=function(){return b.allowedAttachments};a.getResources=function(){return b.resources};a.getConverters=function(){return b.converters}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/color-converter.js' */
define("jira/editor/converter/util/color-converter",["exports"],function(b){b.colorToHex=function(a){if("#"===a.substr(0,1))return a;a=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(a);var d=[a[2],a[3],a[4]].map(function(c){return("00"+parseInt(c).toString(16)).slice(-2)});return a[1]+"#"+d.join("")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/strings.js' */
define("jira/editor/converter/util/strings",["jira/editor/util/strings","exports","jquery","underscore"],function(h,c,g,e){c.asBooleanOrString=function(a){var b=a?a.toLowerCase():"";"true"===b?a=!0:"false"===b&&(a=!1);return a};c.startsWith=function(a,b){return e.isEmpty(a)||e.isEmpty(b)?!1:0===a.indexOf(b)};c.endsWith=function(a,b){return e.isEmpty(a)||e.isEmpty(b)?!1:a.indexOf(b)+b.length===a.length};c.substringAfter=function(a,b){if(e.isEmpty(a))return a;if(e.isEmpty(b))return"";var d=a.indexOf(b);
return 0>d?"":a.substring(d+b.length)};c.substringBefore=function(a,b){if(e.isEmpty(a))return a;if(e.isEmpty(b))return"";b=a.indexOf(b);return 0>b?"":a.substring(0,b)};c.contains=function(a,b){return e.isEmpty(a)?!1:0<=a.indexOf(b)};c.repeat=function(a,b){return e.isEmpty(a)?"":Array(b+1).join(a)};c.length=function(a){return e.isEmpty(a)?0:a.length};c.replace=function(a,b,d){if(e.isEmpty(a)||e.isEmpty(b))return"";"undefined"===typeof d&&(d="");var f;for(f=a.indexOf(b);0<=f;){var k=a.substring(0,f);
a=a.substring(f+b.length);a=k+d+a;f+=d.length;f=a.indexOf(b,f)}return a.substring(f,a.length)};c.hashCode=function(a){var b=0;if(!a)return"";for(var d=0;d<a.length;d+=1){var f=a.charCodeAt(d);b=31*b+f;b|=0}return""+b};c.resolveUrl=function(a,b){if(a){b=g(document.createElement("base")).prop("href",b).appendTo("head");try{return g(document.createElement("a")).prop("href",a).prop("href")}finally{b.remove()}}};c.getBaseUrl=function(){return document.location.origin+document.location.pathname};c.getContextUrl=
function(){return document.location.origin+AJS.contextPath()};c.getFilenameFromHref=function(a,b){var d=a.split("/");a=d[d.length-1];b?(b=a.indexOf("_"),0<b&&(a=a.substring(b+1))):(b=d[d.length-2]+"_",0===a.indexOf(b)&&(a=a.substring(b.length)));a=a.replace(/\+/g," ");return decodeURIComponent(a)};c.isAttachmentPath=function(a){return c.contains(a,"/secure/attachment/")};c.isTemporaryAttachmentPath=function(a){return c.contains(a,"/secure/temporaryattachment/")};c.isThumbnailPath=function(a){return c.contains(a,
"/secure/thumbnail/")};c.isEmotePath=function(a){return c.contains(a,"/images/icons/emoticons/")};c.getFilenameFromError=function(a){return h.getFilenameFromError(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/uri.js' */
define("jira/editor/converter/util/uri",["exports","atlassian/libs/uri-1.14.1"],function(b,c){b.decodeUri=function(a){return c.decodeQuery(a||"",!0)};b.encodeUri=function(a){return c.encodeQuery(a||"",!0)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter-util', location = '/js/converter/util/rte-strings.js' */
define("jira/editor/converter/util/rte-strings",["exports","underscore"],function(c,d){c.isWhitespace=function(a){if(d.isEmpty(a))return!1;var b={"\t":1,"\n":1," ":1,"\t":1,"\n":1,"\r":1,"\f":1,"":1},e=!0;d.each(a,function(f){e=e&&f in b});return e};c.trim=function(a){return d.isEmpty(a)?"":this.trimLeading(this.trimTrailing(a))};c.trimTrailing=function(a){if(d.isEmpty(a))return"";var b;for(b=a.length-1;0<=b&&this.isWhitespace(a[b]);b--);return a.substring(0,b+1)};c.trimLeading=function(a){if(d.isEmpty(a))return"";
var b;for(b=0;b<a.length&&this.isWhitespace(a[b]);b++);return a.substring(b,a.length)};c.parseHtml=function(a){return(new DOMParser).parseFromString(a,"text/html").body}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:context-detector', location = 'js/context-detector.js' */
define("jira/editor/context-detector",["jira/editor/converter/util/rte-strings","underscore","jquery"],function(d,e,b){return{detectPre:function(a){return 0<b(a||{}).closest("pre,.code.panel,.preformatted.panel,.panelHeader,panel-title").length},detectTable:function(a){return 0<b(a||{}).closest("table").length},detectA:function(a){return 0<b(a||{}).closest("a").length},detectPreWithinSelection:function(a){try{var c=0<b((e.isString(a)?d.parseHtml(a):a)||{}).find("pre,.code.panel,.preformatted.panel,.panelHeader,panel-title").length}catch(f){c=
!1}return c}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:context-manager', location = 'js/context-manager.js' */
define("jira/editor/context-manager",["jira/editor/context-detector","jira/backbone-1.3.3","underscore-1.8.3"],function(f,g,e){var d=function(a){this._disableStates={all:null,table:null,a:null};this._tagList=e.difference(Object.keys(this._disableStates),"all");this._editorInstance=a;a.on("selection:update",function(b){var c=b.insidePreformatted||b.preformattedSelected;this._setDisable(c,"all");this._setDisable(c||b.insideTable,"table");this._setDisable(c||b.insideA,"a")}.bind(this));a.on("tabs:changed",
function(){this._setDisable(!1,"all");this._setDisable(!1,"table");this._setDisable(!1,"a")}.bind(this));e.extend(this,g.Events)};d.prototype._setDisable=function(a,b){this._disableStates[b]!==a&&(this._disableStates[b]=a,this.trigger("change:"+b,{disableState:a}),"all"===b&&this._tagList.forEach(function(c){this._setDisable(a,c)},this))};d.prototype.isPreContextActive=function(){return!0===this._disableStates.all};d.prototype.isContextActive=function(a){return!0===this._disableStates[a]};d.prototype.getPasteSchemaForContext=
function(){return f.detectPre(this._editorInstance.editor.selection.getNode())?this._editorInstance.pasteInsidePreSchemaSpec:this._editorInstance.pasteSchemaSpec};return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:selection', location = 'js/editor-selection.js' */
define("jira/editor/selection",["jira/editor/constants"],function(h){function k(b,a){b=b.match(a);return null!==b?b[0]:""}var g=function(b){this.editor=b};g.prototype.trimSelection=function(){var b=!1,a=this.editor.selection.getRng();if(a.collapsed)return!1;if(!a.toString().trim())return a.collapse(!0),this.editor.selection.setRng(a),this.editor.focus(),!0;var d=a.startContainer,l=a.startOffset,e=a.endContainer,m=a.endOffset;if(d&&d.nodeType===Node.TEXT_NODE){var f=d.nodeValue.substring(l),c=k(f,
h.LEFT_WHITESPACE_MATCHER);c&&(b=!0,f.length===c.length?a.setStartAfter(d):a.setStart(d,l+c.length))}e&&e.nodeType===Node.TEXT_NODE&&(f=e.nodeValue.substring(0,m),c=k(f,h.RIGHT_WHITESPACE_MATCHER))&&(b=!0,f.length===c.length?a.setEndBefore(e):a.setEnd(e,m-c.length));b&&this.editor.selection.setRng(a);return b};g.prototype.hasSelection=function(){return!this.editor.selection.getRng().collapsed};return g});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:instance', location = 'js/editor-instance.js' */
(k=>{k.set('jira.editor.macro.code.placeholder','// \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c \u043a\u043e\u0434\u0430');k.set('jira.wiki.editor.operation.link.anchor.placeholder','\u044f\u043a\u043e\u0440\u044c');k.set('jira.wiki.editor.operation.link.external.placeholder','\u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.wiki.editor.operation.noFormat.placeholder','\u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0435 _\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435_ *\u043d\u0435* \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f');k.set('jira.wiki.editor.operation.panel.placeholder','\u041d\u0435\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c');k.set('jira.wiki.editor.operation.panel.placeholder.title','\u041c\u043e\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.wiki.editor.operation.table.placeholder.column','\u0421\u0442\u043e\u043b\u0431\u0435\u0446');k.set('jira.wiki.editor.operation.table.placeholder.heading','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.wiki.editor.operation.userMention.placeholder','\u0423\u043f\u043e\u043c\u044f\u043d\u0438\u0442\u0435 \u043a\u043e\u0433\u043e-\u043d\u0438\u0431\u0443\u0434\u044c, \u043d\u0430\u0431\u0440\u0430\u0432 \u0435\u0433\u043e \u0438\u043c\u044f\u2026');})(WRM.I18n.km);
define("jira/editor/instance","jira/dialog/dialog jira/editor/analytics jira/editor/analytics-shortcuts jira/util/navigator jira/editor/tinymce jira/editor/context-manager jira/editor/context-detector jira/editor/schema jira/editor/selection wiki-edit/SpeechRecognition wiki-edit/PhantomCaret jira/util/logger jquery jira/backbone-1.3.3 underscore-1.8.3 wrm/context-path".split(" "),function(l,f,r,g,p,t,k,u,v,w,m,h,q,x,n,y){var d=function(a,b){this.element=a;this.options=n.extend({},b)};n.extend(d.prototype,
x.Events);d.prototype.init=function(a){this.editor=a;this.operationOverride={};this.analyticsShortcuts=new r(this.editor);this.selection=new v(this.editor);this.editor.on("NodeChange",function(c){var e=f.startMeasure();c&&("img"===c.element.nodeName.toLowerCase()&&this.editor.fire("content"),c=q(c.element),this.trigger("selection:update",{insidePreformatted:k.detectPre(c),preformattedSelected:k.detectPreWithinSelection(this.editor.selection.getContent()),insideTable:k.detectTable(c),insideA:k.detectA(c)}),
e.measure("nodechange"))}.bind(this));this.editor.on("change SetContent blur",this._onChange.bind(this));this.editor.on("keyup",n.debounce(this._onChange.bind(this),1E3));this.editor.on("init",function(c){c=c.target.formatter.get("removeformat");0<c.length&&"object"===typeof c[0]&&(c[0].selector+=",tt")});this.editor.on("input click",function(){const c=a.selection.getRng().getBoundingClientRect();m.setPhantomCaretPosition(c.top);m.setCaretHeight(c.height);m.mountPhantomCaret(a.contentAreaContainer.closest(".wiki-edit-content"))});
a.on("keydown",function(c){if(!c.isDefaultPrevented()){var e=q(a.selection.getStart());c.keyCode!==p.util.VK.ENTER||c.shiftKey||!e.is("th, td, th *, td *")||e.is("li")||(c.preventDefault(),a.execCommand("InsertLineBreak",!1,c));l.current&&27===c.keyCode&&l.current.hide(!0,{reason:l.HIDE_REASON.cancel});c.keyCode===p.util.VK.ENTER&&(e.is("panel-title, panel-title *")||e.parent().hasClass("panelHeader"))&&c.preventDefault()}});f.sendEvent("editor.instance.init");f.sendEvent("bundled.editor.instance.init");
var b=/(Edge)\/(\d+)\.(\d+)/.test(g._getUserAgent())?"edge":g.isIE()?"ie":g.isChrome()?"chrome":g.isMozilla()?"firefox":g.isSafari()?"safari":"";b&&f.sendEvent("editor.instance.init."+b);this.contextManager=new t(this);a.contextManager=this.contextManager};d.prototype.getId=function(){return this.editor.id};d.prototype.relayEvent=function(a,b,c){this.editor.on(a,function(e){b(e)},c)};d.prototype.getAllowedOperations=function(){return"paragraph h1 h2 h3 h4 h5 h6 monospace paragraph-quote block-quote delete superscript subscript cite monospace-inline :) :( :P :D ;) (y) (n) (i) (/) (x) (!) (+) (-) (?) (on) (off) (*) (*r) (*g) (*b) (*y) bold italic underline color bullet-list numbered-list mention table code noformat panel hr speech link link-mail link-anchor link-attachment image image-attachment attachment editorInsertContent editorInsertContentInNewLine editorReplaceContent editorReplaceContentInNewLine".split(" ")};
d.prototype._isOperationSupported=function(a){return 0<this.getAllowedOperations().filter(function(b){return b instanceof Object?b.name===a:b===a}).length};d.prototype._assertOperationIsSupported=function(a){this._isOperationSupported(a)||h.error("Operation not supported:",a)};d.prototype._selectedTextSanitized=function(){return u.sanitizeHtml(this.editor.selection.getContent(),this.editor,this.pasteInsidePreSchemaSpec)};d.prototype.executeOperation=function(a,b){this._assertOperationIsSupported(a);
var c=this._mapOperationNameToTinymce(a),e=this.operationOverride[a];if(e)return f.sendEvent("editor.instance.operation."+a),e(b),!0;if("editorReplaceContentInNewLine"===a)this.editor.execCommand("mceReplaceContent",!1,"\x3cbr /\x3e"+b.content);else if("editorReplaceContent"===a)this.editor.execCommand("mceReplaceContent",!1,b.content);else if("editorInsertContentInNewLine"===a)this.editor.insertContent("\x3cbr /\x3e"+b.content);else if("editorInsertContent"===a)this.editor.insertContent(b.content);
else if("hr"===a)this.editor.insertContent("\x3chr /\x3e");else if("color"===a)this.editor.execCommand("ForeColor",!0,b);else if(-1<"h1 h2 h3 h4 h5 h6 paragraph paragraph-quote block-quote monospace monospace-inline cite".split(" ").indexOf(a))this.editor.execCommand("mceToggleFormat",!0,c);else if(-1<"bold italic underline delete superscript subscript".split(" ").indexOf(a)){if(this.selection.trimSelection())if(this.selection.hasSelection())f.sendEvent("editor.instance.selection.trimmed",{op:a});
else return f.sendEvent("editor.instance.selection.collapsed",{op:a}),!1;this.editor.execCommand(c,!0)}else if(-1<["bullet-list","numbered-list"].indexOf(a))this.editor.execCommand(c,!0);else if(this._emoticonSourceMap(a))b=(AJS&&AJS.contextPath?AJS.contextPath():"")+"/images/icons/emoticons/"+this._emoticonSourceMap(a),this.editor.insertContent('\x3cimg class\x3d"emoticon" src\x3d"'+b+'" height\x3d"16" width\x3d"16" align\x3d"absmiddle" alt\x3d"" border\x3d"0"\x3e');else if("link"===a)b=this._selectedTextSanitized()||
AJS.I18n.getText("jira.wiki.editor.operation.link.external.placeholder"),this.editor.selection.setContent("["+b+"|http://example.com]");else if("link-anchor"===a)b=this._selectedTextSanitized()||AJS.I18n.getText("jira.wiki.editor.operation.link.anchor.placeholder"),this.editor.selection.setContent("[#"+b+"]");else if("link-mail"===a)b=this._selectedTextSanitized()||"mail@example.com",this.editor.selection.setContent("[mailto:"+b+"]");else if("mention"===a)b=this._selectedTextSanitized()||AJS.I18n.getText("jira.wiki.editor.operation.userMention.placeholder"),
this.editor.selection.setContent("@"),c=this.getSelectionStart(),this.editor.selection.setContent(b),this.setSelectionStartWithOffset(c,1);else if("attachment"===a&&b.attachment)"image"===b.attachment.type?(c=b.attachment.href||y()+"/images/icons/attach/image.gif",b.attachment.thumbnailable&&(c=c.replace("/attachment/","/thumbnail/")),b=JIRA.Editor.Tags.Templates.attachedImage({source:c,filename:b.attachment.name})):b=JIRA.Editor.Tags.Templates.attachedFile({title:b.attachment.name,href:b.attachment.href,
filename:b.attachment.name}),this.editor.insertContent(b);else if("code"===a)b=this._selectedTextSanitized()||AJS.I18n.getText("jira.editor.macro.code.placeholder")+"\n",this.editor.selection.setContent('\x3cpre class\x3d"code panel" data-language\x3d"code-java"\x3e'+b+"\x3c/pre\x3e");else if("panel"===a)b=this.editor.selection.getContent()||AJS.I18n.getText("jira.wiki.editor.operation.panel.placeholder"),this.editor.selection.setContent('\x3cdiv class\x3d"plain panel" style\x3d"border-width: 1px;"\x3e\x3cpanel-title\x3e'+
AJS.I18n.getText("jira.wiki.editor.operation.panel.placeholder.title")+"\x3c/panel-title\x3e\x3cp\x3e"+b+"\x3c/p\x3e\x3c/div\x3e");else if("noformat"===a)b=this._selectedTextSanitized()||AJS.I18n.getText("jira.wiki.editor.operation.noFormat.placeholder"),this.editor.selection.setContent('\x3cpre class\x3d"noformat panel"\x3e'+b+"\x3c/pre\x3e");else if("table"===a)b=this.editor.selection.getContent()||AJS.I18n.getText("jira.wiki.editor.operation.table.placeholder.column")+" A1",this.editor.selection.setContent('\x3cdiv class\x3d"table-wrap"\x3e\x3ctable class\x3d"confluenceTable mce-item-table" data-mce-selected\x3d"1"\x3e\x3ctbody\x3e\x3ctr\x3e\x3cth class\x3d"confluenceTh"\x3e'+
AJS.I18n.getText("jira.wiki.editor.operation.table.placeholder.heading")+' 1\x3c/th\x3e\x3cth class\x3d"confluenceTh"\x3e'+AJS.I18n.getText("jira.wiki.editor.operation.table.placeholder.heading")+' 2\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd class\x3d"confluenceTd"\x3e'+b+'\x3c/td\x3e\x3ctd class\x3d"confluenceTd"\x3eCol A2\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e'),f.sendEvent("editor.instance.table.toolbar");else if("speech"===a)w.start(null,this);else return-1<["link-attachment",
"image","image-attachment"].indexOf(a)?h.warn("Not supported yet "+a):h.warn("Unsupported operation "+a),!1;f.sendEvent("editor.instance.operation."+a);this.trigger("content");h.trace("jira.editor.operation.executed");return!0};d.prototype._mapOperationNameToTinymce=function(a){var b={bold:"Bold",italic:"Italic",underline:"Underline","bullet-list":"InsertUnorderedList","numbered-list":"InsertOrderedList",blockquote:"mceBlockQuote",paragraph:"p","paragraph-quote":"blockquote","block-quote":"blockquote",
monospace:"samp","monospace-inline":"samp-inline","delete":"strikethrough",superscript:"superscript",subscript:"subscript"};return a in b?b[a]:a};d.prototype._emoticonSourceMap=function(a){var b={":)":"smile.png",":(":"sad.png",":P":"tongue.png",":D":"biggrin.png",";)":"wink.png","(y)":"thumbs_up.png","(n)":"thumbs_down.png","(i)":"information.png","(/)":"check.png","(x)":"error.png","(!)":"warning.png","(+)":"add.png","(-)":"forbidden.png","(?)":"help_16.png","(on)":"lightbulb_on.png","(off)":"lightbulb.png",
"(*)":"star_yellow.png","(*r)":"star_red.png","(*g)":"star_green.png","(*b)":"star_blue.png","(*y)":"star_yellow.png","(flag)":"flag.png","(flagoff)":"flag_grey.png"};if(a in b)return b[a]};d.prototype.focus=function(){if(!this.editor.initialized||this.editor.removed||this.editor.destroyed)return h.warn("bypassing `editor-instance.focus` because the editor instance hasn't initialized yet or already removed"),this;this.editor.focus();this.editor.nodeChanged();return this};d.prototype.destroy=function(){this.editor.contextManager=
null;this.editor.remove();f.sendEvent("editor.instance.destroy");f.sendEvent("bundled.editor.instance.destroy")};d.prototype.setContent=function(a,b,c){var e={};b&&(e={format:"raw"});e.no_events=c;this.editor.setContent(a||"",e);this.lastContent=this.getContent();c||this.trigger("content")};d.prototype.replaceSelection=function(a){this.editor.selection.setContent(a);this.trigger("content")};d.prototype.selectAll=function(){this.editor.selection.select(this.editor.getBody(),!0)};d.prototype.getSelectionStart=
function(){return this.editor.selection.getRng()};d.prototype.setSelectionStart=function(a){var b=this.editor.selection.getRng();b.setStart(a.startContainer,a.startOffset);this.editor.selection.setRng(b)};d.prototype.setSelectionStartWithOffset=function(a,b){var c=this.editor.selection.getRng();c.setStart(a.startContainer.firstChild,b);this.editor.selection.setRng(c)};d.prototype.getContent=function(a){var b={};a&&(b={format:"raw"});return this.editor.getContent(b)};d.prototype._onChange=function(){if(!this.editor.destroyed){var a=
this.getContent(),b=a!==this.lastContent;this.lastContent=a;!this.hidden&&b&&this.trigger("content",this.getContent())}};d.prototype.getSelectedContent=function(a){return a?this.editor.selection.getContent({format:"text"}):this.editor.selection.getContent()};d.prototype.addShortcut=function(a,b){this.editor.addShortcut(a,"",b)};d.prototype.removeShortcut=function(a){this.editor.shortcuts.remove(a)};d.prototype.addOperationOverride=function(a,b){this._assertOperationIsSupported(a);this.operationOverride[a]=
b};d.prototype.removeOperationOverride=function(a){this._assertOperationIsSupported(a);delete this.operationOverrideoperationOverride[a]};d.prototype.hide=function(){this.hidden=!0;this.editor.hide()};d.prototype.show=function(){this.editor.show();delete this.hidden};d.prototype.isVisible=function(){return!this.editor.isHidden()};d.prototype.switchMode=function(a){this.trigger("switchMode",a)};d.prototype.enable=function(){this.editor.setProgressState(!1)};d.prototype.disable=function(){this.editor.setProgressState(!0)};
return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:instance', location = 'js/editor-resources.js' */
define("jira/editor/resources",["jira/editor/tinymce","jira/editor/wrm","wrm/require","jquery"],function(f,g,d,e){function h(b){return"object"===typeof b&&b.length?b.map(function(a){return a.replace(",","%2C")}):[]}var c={},k={};c.loadPlugins=function(b){b=b.filter(function(a){return a.resource}).map(function(a){f.PluginManager.urls[a.name]=a.resource;return"wr!"+a.resource});return 0<b.length?d(b):(new e.Deferred).resolve()};c.require=function(b){return d(b.filter(function(a){return!k[a]}).map(function(a){return"wr!"+
a}))};c.loadCssResources=function(){return(new e.Deferred).resolve(h(g.getResources())).promise()};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:api', location = 'js/editor-create.js' */
define("jira/editor/create","jira/editor/instance jira/editor/resources jira/editor/schema jira/editor/customizer jira/editor/height-helper jira/util/navigator jira/editor/tinymce jquery underscore".split(" "),function(q,p,l,r,t,u,m,k,v){function w(a,b,c){var d=a.build();b.schema=d.getType();b.custom_elements=d.getCustomElements();b.valid_children=d.getValidChildren();b.valid_elements=d.getValidElements();b.extended_valid_elements=d.getExtendedValidElements();c.schemaSpec=d;c.pasteSchemaSpec=l.getPasteSchemaSpecBuilder(a).build();
c.pasteInsidePreSchemaSpec=l.getPasteInsidePreSchemaSpecBuilder().build()}var g=function(a){this.element=a;this.settings={toolbar:!1,menubar:!1,elementpath:!1};this.plugins=[]};g.prototype.build=function(){var a=new k.Deferred,b=this,c=new q(b.element),d=new t(this.element),h=v.extend(this.settings,{plugins:["autoresize","lists","table","help"],language:"en",content_style:u.isIE()?"body#tinymce {min-height: 10px}":"",autoresize_on_init:!0,resize:!0,max_height:d.getMaxHeight()+-2,min_height:d.getMinHeight()+
-2,autoresize_bottom_margin:0,allow_conditional_comments:!1,object_resizing:"img:not(.emoticon)",end_container_on_empty_block:!0,browser_spellcheck:!0,table_toolbar:"tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",hidden_input:!1,target:this.element,autoresize_overflow_padding:8,relative_urls:!1,convert_urls:!1,branding:!1,formats:{underline:[{inline:"ins",remove:"all"},{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},
exact:!0}],strikethrough:[{inline:"del",remove:"all"},{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}]},setup:function(e){a.notify(c);c.init(e);e.on("init",function(){e.getContainer().classList.add("jira-editor-container");c.schemaSpec.fixChildren(e.schema);if(this.settings&&this.settings.target){var f=this.settings.target.$textarea.attr("id");f&&(f=k("label[for\x3d"+f+"]").text())&&this.$().attr("aria-label",f+", "+this.$().attr("aria-label"))}a.resolve(c)});
e.on("focus",function(){k(b.element).trigger("click").trigger("focusin")})}});k.when(p.loadCssResources(),p.loadPlugins(this.plugins)).then(function(e){this.plugins.forEach(function(n){require(n.name).configure(c,h)},this);var f=l.getSchemaSpecBuilder();r.getCustomizeSettingCallbacks().forEach(function(n){n(h,m,f)});w(f,h,c);h.content_css=e;"interactive"===document.readyState&&(m.dom.EventUtils.Event.domLoaded=!0);document.body.contains(this.element)?m.init(h):a.reject()}.bind(this));return a.promise()};
g.prototype.withElement=function(a){this.element=a;return this};g.prototype.withPlugin=function(a,b){this.plugins.push({name:a,resource:b});return this};g.prototype.withMeta=function(a){this.meta=a;return this};return{builder:function(a){return new g(a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:renderer', location = '/js/converter/html-renderer.js' */
define("jira/editor/html-renderer",["wrm/context-path","jquery","underscore"],function(c,d,e){return{renderMarkup:function(a,b){b=b||{};a=e.extend({rendererType:"atlassian-wiki-renderer",unrenderedMarkup:a,forWysiwyg:!0},b);return d.ajax({url:c()+"/rest/api/1.0/render",contentType:"application/json",type:"POST",data:JSON.stringify(a),dataType:"html"})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:mentions', location = 'js/plugins/mentions/mentions-util.js' */
define("jira/editor/plugins/mentions/mentions-util",["jquery","underscore"],function(g,h){return{isMentionNode:function(a){return a?g(a).is("a.user-hover"):!1},isCaretAfterMention:function(a){return null!=this.getMentionBeforeCaret(a)},getMentionBeforeCaret:function(a){a=this.getPreviousNode(a).node;return this.isMentionNode(a)?a:null},getPreviousNode:function(a){var c=function(e){if(e.nodeType===Node.TEXT_NODE)return e.nodeValue.length;if(e.nodeType===Node.ELEMENT_NODE)return e.childNodes.length},
b=a.getSelection();a=b.anchorNode;var d=b.anchorOffset,f={node:a,offset:b.anchorOffset};if(b.isCollapsed&&a)if(a.nodeType===Node.ELEMENT_NODE&&a.childNodes){if(d=b.anchorOffset-1,0>d?(a=a.childNodes[0],b=this._getPreviousSiblingSkipEmptyTextNodes(a,0)):(b=d===a.childNodes.length-1,a=a.childNodes[d],d=c(a),b=this._getPreviousSiblingSkipEmptyTextNodes(a,d,b)),b)return{node:b,offset:c(b)}}else if(a.nodeType===Node.TEXT_NODE&&(b=this._getPreviousSiblingSkipEmptyTextNodes(a,d)))return{node:b,offset:b===
a?d:c(b)};return f},_getPreviousSiblingSkipEmptyTextNodes:function(a,c,b){for(b=b||!1;(b=this._isContentBeforeCursorEmpty(a,c,b)).outcome;)a=a.previousSibling,c=void 0,b=b.relaxed;return a},_isContentBeforeCursorEmpty:function(a,c,b){var d={outcome:!0,relaxed:!1},f={outcome:!0,relaxed:!0};if(a&&a.nodeType===Node.TEXT_NODE){h.isUndefined(c)&&(c=a.nodeValue.length);if(0===c||1===c&&this._isEmptyCharacter(a.nodeValue.charCodeAt(0))&&1===a.nodeValue.length)return d;if(b&&1===c&&" "===a.nodeValue)return f}return{outcome:!1,
relaxed:!1}},_isEmptyCharacter:function(a){return 8203===a||65279===a},selectMention:function(a,c,b){c&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation());b.selection.select(a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:mentions', location = 'js/plugins/mentions/mention.js' */
define("jira/editor/plugins/mentions/mention-rte",["jira/mention/mention-matcher","jquery","jira/mention/mention","underscore","jira/editor/plugins/mentions/mentions-util"],function(f,h,g,k,l){return g.extend({init:function(a,b,d,c){g.prototype.init.call(this,a,c);this.editor=b;this.skipProcessing=d},_replaceCurrentUserName:function(a,b){this._selectMentionText()&&this.editor.execCommand("mceInsertContent",!1,this._renderMentionLink(a,b))},_selectMentionText:function(){var a=this._getDocument(),b=
this._getSelection();if(b&&b.isCollapsed){var d=this._getNodeForUsernameRetrieval(),c=this._getPreviousSiblingsTextNodes(d.node);if(0<c.length){b=c[0];var e=c[c.length-1];d=d.offset;c=this._getStringFormPreviousSiblingsTextNodes(c,d);c=f.getLastWordBoundaryIndex(c,!0);a=a.createRange();a.setStart(b,c+1);a.setEnd(e,d);this.editor.selection.setRng(a);return!0}}else return!1},_renderMentionLink:function(a,b){return JIRA.Editor.Tags.Templates.mentionlink({username:a,displayname:b})},_getUserNameFromInput:function(){if(k.isFunction(this.skipProcessing)&&
this.skipProcessing())return null;var a=this._getSelection();if(a&&a.isCollapsed){a=this._getNodeForUsernameRetrieval();var b=this._getPreviousSiblingsTextNodes(a.node);a=this._getStringFormPreviousSiblingsTextNodes(b,a.offset);return this.currentUserName=f.getUserNameFromCurrentWord(a,a.length)}return null},_getStringFormPreviousSiblingsTextNodes:function(a,b){for(var d="",c=0;c<a.length;c+=1){var e=a[c];d=c===a.length-1?d+e.nodeValue.substring(0,b):d+e.nodeValue}return d},_getPreviousSiblingsTextNodes:function(a){var b=
[];if(a&&a.nodeType===Node.TEXT_NODE)for(;a;a=a.previousSibling)if(a.nodeType===Node.TEXT_NODE){if(b.unshift(a),0<=a.nodeValue.indexOf("@")||0<=a.nodeValue.indexOf("[~"))return b}else break;return[]},_getNodeForUsernameRetrieval:function(){return l.getPreviousNode(this._getDocument())},_getSelection:function(){if(this.$textarea){var a=this.$textarea.get(0);if(a&&a.ownerDocument)return a.ownerDocument.getSelection()}return null},_getDocument:function(){return this.$textarea.get(0).ownerDocument},_getOffsetTarget:function(){return h(this.editor.getContainer())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:mentions-plugin', location = 'js/plugins/mentions/jira-mentions-plugin.js' */
define("jira/editor/plugins/mentions/jira-mentions",["jira/editor/tinymce","jquery","jira/editor/plugins/mentions/mention-rte","jira/editor/plugins/mentions/mentions-util"],function(g,e,m,k){var l={9:"Tab",13:"Return",27:"Esc",38:"Up",40:"Down"},n=function(b){var a=new e.Event("aui:keydown");a.key=l[b.which];a.shiftKey=b.shiftKey;a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.target=b.target;arguments[0]=a;e.event.trigger(a,arguments,document,!0)},p=function(b,a){var c=a.$textarea.get(0).ownerDocument;a.mentioningInProgress=
!1;a.layerController.bind("showLayer",function(){a.mentioningInProgress=!0}).bind("hideLayer",function(){a.mentioningInProgress=!1});b.on("keydown",function(d){if(d.which in l&&!0===a.mentioningInProgress)d.preventDefault(),d.stopPropagation(),n(d);else if(8===d.keyCode&&k.isCaretAfterMention(c)){var h=k.getMentionBeforeCaret(c);k.selectMention(h,d,this)}},!0)};g.create("tinymce.plugins.jira.JiraMentions",{init:function(b){var a=b.settings;if(a.jiramentions.mentionable)b.on("init",function(){var c=
b.getBody(),d=function(){var f=b.selection.getSel();if((f=f?e(f.anchorNode):null)&&(0<f.parents("pre").length||0<f.parents("div.panelHeader,panel-title").length))return!0},h=a.jiramentions.issuekey,q=a.jiramentions.projectkey;e(c).attr("data-issuekey",h);e(c).attr("data-projectkey",q);c._controller||(c._controller=new m(h,b,d,a.jiramentions.useNewEndpoint));c._controller.textarea(c);p(b,c._controller)})}});g.PluginManager.add("jira.jiramentions",g.plugins.jira.JiraMentions);g.PluginManager.urls["jira.jiramentions"]=
!0;return{configure:function(b,a){a.plugins.push("jira.jiramentions");var c=b.element.$textarea.data();a.jiramentions={issuekey:c.issuekey,projectkey:c.projectkey,mentionable:b.element.$textarea.hasClass("mentionable"),useNewEndpoint:c.useNewEndpoint}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:polyfil-string-ends-with', location = '/js/polyfills/stringEndsWithPolyfill.js' */
String.prototype.endsWith||(String.prototype.endsWith=function(b,a){if(void 0===a||a>this.length)a=this.length;return this.substring(a-b.length,a)===b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/paste-plugin.js' */
(k=>{k.set('jira.editor.tinymce.plugin.paste.attachments.disabled','\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0431\u044b\u043b\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0432\u0430\u0448\u0438\u043c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c Jira.');k.set('jira.editor.tinymce.plugin.paste.no.handler','\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u044d\u043a\u0440\u0430\u043d\u0430.');})(WRM.I18n.km);
define("jira/editor/plugins/paste","jira/editor/tinymce jira/editor/converter/util/strings jira/editor/schema jira/editor/analytics jquery wrm/context-path dndattachment/ctrlv/utility dndattachment/ctrlv/base64decode jira/editor/wrm jira/flag jira/util/formatter".split(" "),function(g,h,x,e,m,y,n,z,A,q,r){var B=A.isAttachmentsAllowed();g.create("tinymce.plugins.jira.Paste",{});g.PluginManager.add("jira.paste",g.plugins.jira.Paste);g.PluginManager.urls["jira.paste"]=!0;return{configure:function(d,
f){function t(b){var a=d.editor;if(a&&a.editorUpload&&a.editorUpload.blobCache)return a.editorUpload.blobCache.getByUri(b)}function p(b,a){b=n.convertBlobToImage(b,a);n.dropFileToElement(b,d.element.$textarea)||(console.warn("Uploading attachment failed. Check 'allow attachment' setting."),q.showWarningMsg("",r.I18n.getText("jira.editor.tinymce.plugin.paste.no.handler"),{close:"auto"}),d.editor.dom.remove(d.editor.dom.select('img[data-filename\x3d"'+a+'"]')))}function C(b,a){var c=new XMLHttpRequest;
c.open("GET",b,!0);c.responseType="blob";c.onload=function(k){p(this.response,a)};c.send()}var D={upload:function(){}},u={upload:function(b,a){e.sendEvent("editor.instance.paste.addimage.nocache.http");C(b,a)}},v={upload:function(b,a){e.sendEvent("editor.instance.paste.addimage.nocache.image");a:{if(b){var c=b.split(",")[0].split(":");if(1<c.length){c=c[1].split(";")[0];break a}}c=void 0}c=c||"image/png";p(new Blob([z.decodeBase64DataUri(b)],{type:c}),a)}},w={upload:function(b,a){(b=t(b,d.editor))?
(e.sendEvent("editor.instance.paste.addimage.cache"),p(b.blob(),a)):console.warn("no cached blob found in cache")}};f.plugins.push("paste");f.paste_data_images=!0;f.paste_preprocess=function(b,a){b=d.contextManager.getPasteSchemaForContext();a.content=x.sanitizeHtml(a.content,d.editor,b)};f.paste_postprocess=function(b,a){e.sendEvent("editor.instance.paste");b=m(a.node).find("img:first-child:last-child");if(1===b.length&&b.is("img"))if(a=b[0].src,b.hasClass("emoticon")&&h.startsWith(a,document.location.origin+
y()+"/images/icons/emoticons/"))e.sendEvent("editor.instance.paste.emoticon");else{e.sendEvent("editor.instance.paste.image");var c=a;if(h.isAttachmentPath(a)||h.isThumbnailPath(a))c=h.getFilenameFromHref(a);var k={source:a,filename:c,width:b.attr("width"),height:b.attr("height"),id:b.attr("id"),vspace:b.attr("vspace")};var l=t(a,d.editor)?w:a.match(/^((data|blob):http)|(blob:)/)?u:a.match(/^(data|blob):image/)?v:D;l===v||l===u||l===w?B?(c=n.generateFileName()+".png",l.upload(a,c),k.filename=c,a=
JIRA.Editor.Tags.Templates.image(k),b.replaceWith(m(a))):(q.showWarningMsg("",r.I18n.getText("jira.editor.tinymce.plugin.paste.attachments.disabled"),{close:"auto"}),b.remove()):(a=JIRA.Editor.Tags.Templates.image(k),b.replaceWith(m(a)))}else e.sendEvent("editor.instance.paste.other")};return f}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/wiki-autoformat/wiki-autoformat-plugin.js' */
(k=>{k.set('editor.autoformat.sampletext.firstcell','editor.autoformat.sampletext.firstcell');k.set('jira.wiki.editor.operation.panel.placeholder.title','\u041c\u043e\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');})(WRM.I18n.km);
define("jira/editor/plugins/wiki-autoformat","jira/editor/tinymce jira/editor/analytics jquery jira/util/version jira/featureflags/feature-manager jira/editor/html-renderer jira/util/logger jira/editor/converter/handlers/bidi-unicode-to-span-handler".split(" "),function(r,n,q,C,x,D,E,F){function z(b){return q("\x3cdiv\x3e\x3c/div\x3e").append(b.cloneNode(!0)).html()}function G(b,c,k){if(!c)throw Error("text node is null");c.nodeType!==Node.TEXT_NODE&&(c=c.childNodes[k-1],k=c.length);for(;c&&c.nodeType===
Node.TEXT_NODE;c=c.previousSibling){-1===k&&(k=c.nodeValue.length);if(k>b)return{container:c,offset:k-b};if(k===b){k=0;for(b=c.parentNode;c=c.previousSibling;)k++;return{container:b,offset:k}}b-=k;k=-1}return null}function A(b){if(!b||!b.collapsed)throw Error("range is null or not collapsed");var c=b.startContainer;var k=b.startOffset;if(c.nodeType===Node.ELEMENT_NODE&&0<k)if(c=c.childNodes[b.startOffset-1],c.nodeType===Node.TEXT_NODE)k=c.nodeValue.length;else return"";else if(c.nodeType!==Node.TEXT_NODE)return"";
b=c.nodeValue.substring(0,k);for(c=c.previousSibling;c&&c.nodeType===Node.TEXT_NODE;c=c.previousSibling)b=c.nodeValue+b;return b}function p(b,c,k,e="",d=!1){return{handles:function(g,l){"string"===typeof e?e=[e]:e&&e.length||(e=[]);l=g.selection.getRng();if(!l.collapsed)return!1;g=g.contextManager;var a=g.isPreContextActive();if(d&&!a||!d&&a)return n.sendEvent("editor.instance.autoformat.prevented",{context:"pre"}),!1;a=0;for(var f=e.length;a<f;++a)if(g.isContextActive(e[a]))return n.sendEvent("editor.instance.autoformat.prevented",
{context:e[a]}),!1;return b.test(A(l))},execute:function(g,l){var a=1;var f=y(l);32===f?g.execCommand("mceInsertContent",!1,"\x26nbsp;"):g.execCommand("mceInsertContent",!1,String.fromCharCode(f));f=g.selection.getRng();var h=A(f);"|"===h[h.length-1]&&(h+=" ",a=0);h=b.exec(h.substring(0,h.length-1));a=G(h[1].length+a,f.commonAncestorContainer,f.startOffset);f.setStart(a.container,a.offset);q(f.commonAncestorContainer);g.selection.setRng(f);c(h,g.selection.getRng());g.selection.getRng();if(k)return l.preventDefault(),
l.stopPropagation(),r.dom.Event.cancel(l),!1}}}function H(b,c,k,e="",d=!1){return{handles:function(g,l){"string"===typeof e?e=[e]:e&&e.length||(e=[]);var a=g.contextManager;g=q(g.selection.getStart()).add(g.selection.getEnd()).add(g.selection.getNode());g=a.isPreContextActive()&&g.is("pre, pre \x3e *");if(d&&!g||!d&&g)return n.sendEvent("editor.instance.autoformat.prevented",{context:"pre"}),!1;g=0;for(var f=e.length;g<f;++g)if(a.isContextActive(e[g]))return n.sendEvent("editor.instance.autoformat.prevented",
{context:e[g]}),!1;return l===b},execute:function(g,l){var a=y(l);32===a?g.execCommand("mceInsertContent",!1,"\x26nbsp;"):g.execCommand("mceInsertContent",!1,c(g,a));if(k)return l.preventDefault(),l.stopPropagation(),r.dom.Event.cancel(l),!1}}}function y(b){return"beforeinput"===b.type?b.data.charCodeAt(0):q.browser.msie?b.keyCode:b.which}function B(){this.handlers={}}function I(b){function c(a,f,h,t,u,v){a=a.charCodeAt(0);var w=AJS.contextPath()+"/images/icons/emoticons/"+u;f=p(f,function(){var J=
b.dom.createHTML("img",{src:w,alt:b.translate(t),title:r.translate(t),border:0,"class":"emoticon emoticon-"+h,"data-emoticon-name":h,align:"absmiddle"});b.execCommand("mceInsertContent",!1,J,{skip_undo:!0})},!0);this.imagePath=w;e.registerHandler(a,f)}function k(a,f){var h=b.formatter.get(a)[0];h=b.dom.create(h.inline,{style:h.styles,class:h.classes&&0<h.classes.length?h.classes.join(" "):""});h.appendChild(document.createTextNode(f+"{$caret}"));b.execCommand("mceInsertContent",!1,z(h),{skip_undo:!0});
b.formatter.remove(a)}var e=new B,d=C.isGreaterThanOrEqualTo("7.0")?"png":"gif";d=[new c(")",m._REGEXES_EMOTICON.SMILE,"smile","emotions_dlg.smile","smile."+d),new c("(",m._REGEXES_EMOTICON.SAD,"sad","emotions_dlg.sad","sad."+d),new c("P",m._REGEXES_EMOTICON.CHEEKY,"tongue","emotions_dlg.tongue","tongue."+d),new c("p",m._REGEXES_EMOTICON.CHEEKY_2,"cheeky","emotions_dlg.tongue","tongue."+d),new c("D",m._REGEXES_EMOTICON.LAUGH,"biggrin","emotions_dlg.biggrin","biggrin."+d),new c(")",m._REGEXES_EMOTICON.WINK,
"wink","emotions_dlg.wink","wink."+d),new c(")",m._REGEXES_EMOTICON.THUMBS_UP,"thumbs_up","emotions_dlg.thumbs_up","thumbs_up."+d),new c(")",m._REGEXES_EMOTICON.THUMBS_DOWN,"thumbs_down","emotions_dlg.thumbs_down","thumbs_down."+d),new c(")",m._REGEXES_EMOTICON.INFORMATION,"information","emotions_dlg.information","information."+d),new c(")",m._REGEXES_EMOTICON.TICK,"check","emotions_dlg.check","check."+d),new c(")",m._REGEXES_EMOTICON.CROSS,"error","emotions_dlg.error","error."+d),new c(")",m._REGEXES_EMOTICON.WARNING,
"warning","emotions_dlg.warning","warning."+d),new c(")",m._REGEXES_EMOTICON.PLUS,"add","emotions_dlg.add","add."+d),new c(")",m._REGEXES_EMOTICON.MINUS,"forbidden","emotions_dlg.forbidden","forbidden."+d),new c(")",m._REGEXES_EMOTICON.QUESTION,"help_16","emotions_dlg.help_16","help_16."+d),new c(")",m._REGEXES_EMOTICON.LIGHT_ON,"lightbulb_on","emotions_dlg.lightbulb_on","lightbulb_on."+d),new c(")",m._REGEXES_EMOTICON.LIGHT_OFF,"lightbulb","emotions_dlg.lightbulb","lightbulb."+d),new c(")",m._REGEXES_EMOTICON.YELLOW_STAR,
"star_yellow","emotions_dlg.star_yellow","star_yellow."+d),new c(")",m._REGEXES_EMOTICON.YELLOW_STAR_2,"star_yellow","emotions_dlg.star_yellow","star_yellow."+d),new c(")",m._REGEXES_EMOTICON.RED_STAR,"star_red","emotions_dlg.star_red","star_red."+d),new c(")",m._REGEXES_EMOTICON.GREEN_STAR,"star_green","emotions_dlg.star_green","star_green."+d),new c(")",m._REGEXES_EMOTICON.BLUE_STAR,"star_blue","emotions_dlg.star_blue","star_blue."+d),new c(")",m._REGEXES_EMOTICON.FLAG,"flag","emotions_dlg.flag",
"flag."+d),new c(")",m._REGEXES_EMOTICON.FLAG_OFF,"flag_grey","emotions_dlg.flag_grey","flag_grey."+d)];for(var g=[],l=0;l<d.length;l++)g[l]=new Image,g[l].src=d[l].imagePath;q.each({"*":"bold",_:"italic","~":"subscript","^":"superscript","+":"underline","-":"strikethrough"},function(a,f){var h=new RegExp("(?:[\\s\\xA0\\u200b\\uFEFF]+|^)(\\"+a+"(?\x3d[^\\s"+a+"])([^"+a+"]*?[^\\s]))$");e.registerHandler(a.charCodeAt(0),p(h,function(t){k(f,t[2]);n.sendEvent("editor.instance.autoformat.format")},!0))});
b.formatter.register("samp-inline",{inline:"span",classes:"monospace"});d=/(?:[\s\xA0\u200b]+|^)({{(?=[^\s])([^}]*?[^\s])})$/;x.isFeatureEnabled("jira.renderer.consider.variable.format")&&(d=/(?:^|[^$])(?:[\s\xA0\u200b]+|^)({{(?=[^\s])([^}]*?[^\s])})$/);e.registerHandler(125,p(d,function(a){k("samp-inline",a[2]);n.sendEvent("editor.instance.autoformat.inlinecode")},!0));b.formatter.register("cite",{inline:"cite"});e.registerHandler(63,p(/(?:[\s\xA0\u200b]+|^)(\?\?(?=[^\s])([^\?]*?[^\s])\?)$/,function(a){k("cite",
a[2]);n.sendEvent("editor.instance.autoformat.cite")},!0));for(l=1;6>=l;l++)(function(a){e.registerHandler(32,p(new RegExp("^\\u200b?(h"+a+"\\.)$"),function(){b.execCommand("formatBlock",!1,"h"+a,{skip_undo:!0});n.sendEvent("editor.instance.autoformat.header")},!0))})(l);e.registerHandler(32,p(/^\u200b?(bq\.)$/,function(){b.execCommand("formatBlock",!1,"blockquote",{skip_undo:!0});n.sendEvent("editor.instance.autoformat.bq")},!0));e.registerHandler(32,p(/[^-]*[\s](\-\-\-?)$/,function(a){b.execCommand("mceInsertContent",
!1,2===a[1].length?"":"",{skip_undo:!0});n.sendEvent("editor.instance.autoformat.dash")},!1));d=p(/(([^\s-]+)(\-\-\-?)([^\s-]+))$/,function(a){b.execCommand("mceInsertContent",!1,a[2]+(2===a[3].length?"":"")+a[4],{skip_undo:!0})},!1);e.registerHandler(32,d);e.registerHandler(r.util.VK.ENTER,d);d=p(/^\u200b?(\-\-\-\-)$/,function(){b.execCommand("mceInsertContent",!1,"\x3chr /\x3e",{skip_undo:!0});n.sendEvent("editor.instance.autoformat.hr")},!0);e.registerHandler(32,d);e.registerHandler(r.util.VK.ENTER,
d);d=/(\{code)$/;x.isFeatureEnabled("jira.renderer.consider.variable.format")&&(d=/(?:^|[^$])(\{code)$/);e.registerHandler(125,p(d,function(){b.execCommand("mceInsertContent",!1,'\x3cdiv class\x3d"code panel" style\x3d"border-width: 1px;"\x3e\x3cdiv class\x3d"codeContent panelContent"\x3e\x3cpre class\x3d"code-java"\x3e{$caret} \x3c/pre\x3e\x3c/div\x3e\x3c/div\x3e');n.sendEvent("editor.instance.autoformat.code")},!0));d=/(\{panel)$/;x.isFeatureEnabled("jira.renderer.consider.variable.format")&&(d=
/(?:^|[^$])(\{panel)$/);e.registerHandler(125,p(d,function(){b.execCommand("mceInsertContent",!1,'\x3cdiv class\x3d"plain panel"\x3e\x3cpanel-title\x3e'+AJS.I18n.getText("jira.wiki.editor.operation.panel.placeholder.title")+"\x3c/panel-title\x3e\x3cp\x3e{$caret} \x3c/p\x3e\x3c/div\x3e");n.sendEvent("editor.instance.autoformat.panel")},!0));d=/(\{noformat)$/;x.isFeatureEnabled("jira.renderer.consider.variable.format")&&(d=/(?:^|[^$])(\{noformat)$/);e.registerHandler(125,p(d,function(){b.execCommand("mceInsertContent",
!1,'\x3cdiv class\x3d"preformatted panel" style\x3d"border-width: 1px;"\x3e\x3cdiv class\x3d"preformattedContent panelContent"\x3e\x3cpre\x3e{$caret} \x3c/pre\x3e\x3c/div\x3e\x3c/div\x3e');n.sendEvent("editor.instance.autoformat.noformat")},!0));e.registerHandler(r.util.VK.ENTER,p(/(^\u200b?\|\|\s*(?:[^|]*\s?\|\|\s?)+$)/,function(a){var f="\x3ctable class\x3d'confluenceTable'\x3e\x3ctr\x3e",h="",t=!0;a=q(a[1].slice(2,-2).split("||")).map(function(w){w=q.trim(this);t=t&&""===w;return w});t&&(a[0]=
AJS.I18n.getText("editor.autoformat.sampletext.firstcell"));for(var u=0,v=a.length;u<v;u++)f+="\x3cth class\x3d'confluenceTh'\x3e"+a[u]+"\x3c/th\x3e",h+="\x3ctd class\x3d'confluenceTd'\x3e\x26#x200b;\x3c/td\x3e";b.execCommand("mceInsertContent",!1,f+("\x3c/tr\x3e\x3ctr\x3e"+h+"\x3c/tr\x3e\x3c/table\x3e"),{skip_undo:!0});b.selection.select(q(b.selection.getRng().commonAncestorContainer).parents("table").find(t?"th":"td")[0].childNodes[0]);q(b.selection.getRng().startContainer).parent().closest('[contenteditable\x3d"true"]').focus();
n.sendEvent("editor.instance.table.autoformat.plain")},!0,"table"));e.registerHandler(r.util.VK.ENTER,p(/(^\u200b?\|\s?(?:[^|]*\s?\|\s?)+$)/,function(a){var f="\x3ctable class\x3d'confluenceTable'\x3e\x3ctr\x3e",h=!0;a=q(a[1].slice(1,-1).split("|")).map(function(v){v=q.trim(this);h=h&&""===v;return v});h&&(a[0]=AJS.I18n.getText("editor.autoformat.sampletext.firstcell"));for(var t=0,u=a.length;t<u;t++)f+="\x3ctd class\x3d'confluenceTd'\x3e"+a[t]+"\x3c/td\x3e";b.execCommand("mceInsertContent",!1,f+
"\x3c/tr\x3e\x3c/table\x3e",{skip_undo:!0});h&&b.selection.select(q(b.selection.getRng().commonAncestorContainer).parents("table").find("td")[0].childNodes[0]);q(b.selection.getRng().startContainer).parent().closest('[contenteditable\x3d"true"]').focus();n.sendEvent("editor.instance.table.autoformat")},!0,"table"));q.each({"]":/(?:\s|^)((\[[^\[^\]]+))$/,"\r":/(?:\s|^)((\[[^\[^\]]+)(?:\]))$/," ":/(?:\s|^)((\[[^\[^\]]+)(?:\]))$/},function(a,f){e.registerHandler(a.charCodeAt(0),p(f,function(h,t){h=h[1]+
(h[1].endsWith("]")?"":"]");D.renderMarkup(h,b.settings.target.getRenderParams()).then(function(u){u=q((new DOMParser).parseFromString(u,"text/html").body).find("p").unwrap().html();b.execCommand("mceInsertContent",!1,u,{skip_undo:!0});n.sendEvent("editor.instance.autoformat.wikilink")})},!0))});d=p(/\b(((https?|ftp):\/\/|(www\.))[\w\.\$\-_\+!\*'\(\),/\?:@=&%#~;\[\]]+)$/,function(a){var f=b.dom.create("a",{href:a[3]?a[1]:"http://"+a[1]});f.appendChild(document.createTextNode(a[1]));b.execCommand("mceInsertContent",
!1,z(f),{skip_undo:!0});b.getDoc().execCommand("unlink",!1,{});n.sendEvent("editor.instance.autoformat.autolink")},!1,"a");e.registerHandler(32,d);e.registerHandler(r.util.VK.ENTER,d);d=p(/\b((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)$/i,
function(a){var f=b.dom.create("a",{href:"mailto:"+a[1]});f.appendChild(document.createTextNode(a[1]));b.execCommand("mceInsertContent",!1,z(f),{skip_undo:!0});b.getDoc().execCommand("unlink",!1,{})},!1,"a");e.registerHandler(32,d);e.registerHandler(r.util.VK.ENTER,d);d=function(a,f){a=p(a,function(){b.execCommand("mceInsertContent",!1,f,{skip_undo:!0});n.sendEvent("editor.instance.autoformat.quickcorrect")},!1);e.registerHandler(32,a);e.registerHandler(r.util.VK.ENTER,a)};d(/(?:\b|^)(jira)$/i,"Jira");
d(/(?:\b|^)(bitbucket|[Bb]itBucket)$/,"Bitbucket");d(/(?:\b|^)(atlassian)$/,"Atlassian");d(/(?:\b|^)([Hh]ipchat)$/,"HipChat");x.isFeatureEnabled("jira.richeditor.bidi.warning")&&(new F(b,e,H)).registerHandlers();b.on("keydown",function(a){var f=y(a);if(f===r.util.VK.ENTER)return e.executeHandlers(f,b,a)},!0);b.on("keypress",function(a){return e.executeHandlers(y(a),b,a)},!0);b.on("beforeinput",function(a){if(null!==a&&"insertText"===a.inputType)return e.executeHandlers(y(a),b,a)},!0)}var m={_REGEXES_EMOTICON:{SMILE:/\B(:-?)$/,
SAD:/\B(:-?)$/,CHEEKY:/\B(:-?)$/,CHEEKY_2:/\B(:-?)$/,LAUGH:/\B(:-?)$/,WINK:/\B(;-?)$/,THUMBS_UP:/\B(\(y)$/,THUMBS_DOWN:/\B(\(n)$/,INFORMATION:/\B(\(i)$/,TICK:/\B(\(\/)$/,CROSS:/\B(\(x)$/,WARNING:/\B(\(!)$/,PLUS:/\B(\(\+)$/,MINUS:/\B(\(-)$/,QUESTION:/\B(\(\?)$/,LIGHT_ON:/\B(\(on)$/,LIGHT_OFF:/\B(\(off)$/,YELLOW_STAR:/\B(\(\*)$/,YELLOW_STAR_2:/\B(\(\*y)$/,RED_STAR:/\B(\(\*r)$/,GREEN_STAR:/\B(\(\*g)$/,BLUE_STAR:/\B(\(\*b)$/,FLAG:/\B(\(flag)$/,FLAG_OFF:/\B(\(flagoff)$/,HEART:/\B(<)$/,BROKEN_HEAR:/\B(<\/)$/}};
B.prototype={registerHandler:function(b,c){this.handlers[b]||(this.handlers[b]=[]);this.handlers[b].push(c)},executeHandlers:function(b,c,k){var e=!0;q.each(this.handlers[b]||[],function(d,g){if(g.handles(c,b))return e=g.execute(c,k),E.trace("jira.editor.wiki.autoformatted"),!1});return e}};r.create("tinymce.plugins.jira.WikiAutoFormat",{init:function(b){b.on("init",function(){I(b)})}});r.PluginManager.add("jira.wikiautoformat",r.plugins.jira.WikiAutoFormat);r.PluginManager.urls["jira.wikiautoformat"]=
!0;return{configure:function(b,c){c.plugins.push("jira.wikiautoformat")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/wiki-autoformat/bidi-unicode-to-span-handler.js' */
(k=>{k.set('jira.editor.security.unicode.bidi.characters.info','\u0414\u0432\u0443\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438\u0437\u043c\u0435\u043d\u044f\u044e\u0442 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430. \u041e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u0440\u0435\u0434\u043e\u043d\u043e\u0441\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430.');})(WRM.I18n.km);
define("jira/editor/converter/handlers/bidi-unicode-to-span-handler",["jira/util/formatter"],function(c){const d=[8294,8295,8296,8297,8234,8235,8236,8237,8238];class e{constructor(a,b,f){this.editor=a;this.handlerManager=b;this.handlerCreator=f}registerHandlers(){this.editor&&this.handlerManager&&this.handlerCreator&&d.forEach(a=>{this._biDiCharHandler(a)})}_getBiDiSpan(a){return this.editor.dom.createHTML("span",{contentEditable:"false",title:c.I18n.getText("jira.editor.security.unicode.bidi.characters.info"),
"class":"bidi-unicode","data-bidi-character-code":a.toString(16).padStart(4,"0").toUpperCase()},String.fromCharCode(a))}_biDiCharHandler(a){const b=this.handlerCreator(a,()=>this._getBiDiSpan(a),!0,"",!0);this.handlerManager.registerHandler(a,b)}}return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/prevent-default-plugin.js' */
define("jira/editor/plugins/prevent-default",["jira/editor/tinymce","jquery"],function(b,e){b.create("tinymce.plugins.jira.PreventDefaultPlugin",{init:function(c){var d=c.settings;c.on("init",function(){var a=c.getBody()._controller;if(a&&a.$textarea&&a.$textarea.get(0)&&(a=a.$textarea.get(0).ownerDocument)){var f=d.preventdefault.selector;e(a).on("click",f,function(g){g.preventDefault()})}})}});b.PluginManager.add("jira.preventdefault",b.plugins.jira.PreventDefaultPlugin);b.PluginManager.urls["jira.preventdefault"]=
!0;return{configure:function(c,d){d.plugins.push("jira.preventdefault");d.preventdefault={selector:"a[contenteditable\x3dfalse]"}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:resources', location = 'js/plugins/editor-content-postprocess-plugin.js' */
define("jira/editor/plugins/editor-content-postprocess",["jira/editor/tinymce","jira/editor/converter/util/strings","jira/editor/util/temporaryAttachment","jira/editor/analytics"],function(g,k,m,n){var e=function(c,d){return 0<=(c&&c.attr("class")||"").indexOf(d)},p=function(c){c.parser.addAttributeFilter("class",function(d){for(var a=d.length,b;a--;)b=d[a],e(b,"user-hover")&&(b.attr("contenteditable","false"),b.attr("tabindex","-1"))})},r=function(c){c.parser.addNodeFilter("h1,h2,h3,h4,h5,h6",function(d){for(var a=
function(f,q){var l=[];for(f=f.firstChild;f;f=f.next)f.name!==q||f.firstChild||l.push(f);return l},b=d.length,h;b--;)h=d[b],a(h,"a").filter(function(f){return"undefined"!==typeof f.attr("name")}).forEach(function(f){f.remove()})})},t=function(c){c.parser.addNodeFilter("div,pre",function(d){d.forEach(function(a){a.parent&&"pre"===a.parent.name&&"panel-title"!==a.name&&a.unwrap();a.attr("class")||"pre"!==a.name||a.unwrap();if(e(a,"panel")&&!e(a,"panelHeader")&&!e(a,"panelContent")){e(a,"preformatted")&&
a.attr("class","noformat panel");a.lastChild&&a.lastChild.firstChild&&/^code/.test(a.lastChild.firstChild.attr("class"))&&(a.attr("data-language",a.lastChild.firstChild.attr("class")),a.attr("class","code panel"));var b=a.firstChild;if(e(b,"panelHeader")){var h=b.attr("style");b.firstChild.unwrap();b.name="panel-title";b.attr("class",h)}b=a.lastChild;if(e(b,"panel")||e(b,"panelContent"))b.attr("style"),(e(a,"noformat")||e(a,"code"))&&b.firstChild.unwrap(),b.unwrap();e(a,"noformat")||e(a,"code")?a.name=
"pre":a.attr("class","plain panel")}})})},u=function(c){c.parser.addNodeFilter("img",function(d){if(0!==d.length){var a=m.getFormToken(c.getContainer());a?d.filter(function(b){b=b.attr("src");return k.isTemporaryAttachmentPath(b)?!k.contains(b,"/secure/temporaryattachment/"+a):!1}).forEach(function(b){b.remove();n.sendEvent("editor.plugin.content-postprocess.temporary-attachment.removed")}):console.warn("formToken not found, skipping invalid temporary attachment content post processing")}})};g.create("tinymce.plugins.jira.EditorContentPostprocess",
{init:function(c){c.on("PreInit",function(){u(c);p(c);r(c);t(c)})}});g.PluginManager.add("jira.editorcontentpostprocess",g.plugins.jira.EditorContentPostprocess);g.PluginManager.urls["jira.editorcontentpostprocess"]=!0;return{configure:function(c,d){d.plugins.push("jira.editorcontentpostprocess");d.editor_content_postprocess={};return d}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/node-handler.js' */
define("jira/editor/converter/handlers/node-handler","jira/editor/converter/util/strings jira/editor/converter/util/rte-strings jira/editor/converter/new-lines/new-lines jira/editor/constants jira/lib/class underscore jquery".split(" "),function(q,n,f,k,r,m,g){var l={},p=[],b=r.extend({init:function(a){this.node=a},before:function(){return new b.EmptyHandler},processText:function(){return""},after:function(){return new b.EmptyHandler},children:function(){var a=[],c=this.node.childNodes,e=m.filter(c,
function(d,h){d=this.createChildHandler(d,h,c.length);return""===d.processText()?!0:n.isWhitespace(d.processText())&&q.contains(d.processText(),"\n")&&!d.preformatted?!1:!0},this);m.each(e,function(d,h){a.push(this.createBeforeChild(d,h,e.length));a.push(this.createChildHandler(d,h,e.length));a.push(this.createAfterChild(d,h,e.length))},this);return a},createBeforeChild:function(a,c,e){return new b.EmptyHandler},createAfterChild:function(a,c,e){return new b.EmptyHandler},createChildHandler:function(a,
c,e){return b.createHandler(a)},newLinesBefore:function(){var a=b._isBlock(this.node.parentNode)||g(this.node).parents().is("th, td");return!b._isBlock(this.node)||g(this.node).is(":first-child")&&a?f.empty():f.single(!0)},newLinesAfter:function(){return f.empty()},getPreviousSibling:function(){return this.node.previousSibling},getNextSibling:function(){return this.node.nextSibling},isNextSiblingBreakLine:function(){return"BR"===this.node.nextSibling.tagName},isPreviousSiblingBreakLine:function(){return"BR"===
this.node.previousSibling.tagName},previousSiblingEndsWithWhitespace:function(){return this.getPreviousSibling().textContent.match(k.RIGHT_WHITESPACE_MATCHER)},nextSiblingStartsWithWhitespace:function(){return this.getNextSibling().textContent.match(k.LEFT_WHITESPACE_MATCHER)},endsWithWhitespace:function(){return this.node.textContent.match(k.RIGHT_WHITESPACE_MATCHER)},startsWithWhitespace:function(){return this.node.textContent.match(k.LEFT_WHITESPACE_MATCHER)},shouldUseAlternativeSyntax:function(){return!this.startsWithWhitespace()&&
this.getPreviousSibling()&&!this.isPreviousSiblingBreakLine()&&!this.previousSiblingEndsWithWhitespace()||!this.endsWithWhitespace()&&this.getNextSibling()&&!this.isNextSiblingBreakLine()&&!this.nextSiblingStartsWithWhitespace()?!0:!1}});b.EmptyHandler=b.extend({init:function(a){this.node=a},before:function(){throw void 0;},after:function(){throw void 0;},processText:function(){return""},children:function(){return[]}});b.addHandler=function(a,c){a=a.toLowerCase();l[a]=c;p.push(a)};b.getHandler=function(a){var c=
a.nodeName.toLowerCase();return l[(c+"."+(a.className||"")).toLowerCase()]||l[c]||p.reduce(function(e,d){return e||g(a).is(d)&&l[d]},null)||b};b.createHandler=function(a){return new (b.getHandler(a))(a)};b.isInsideTable=function(a){return 0<g(a).parents("td").length||0<g(a).parents("th").length};b.singleNewLineExceptTable=function(a,c){return b.isInsideTable(a)?f.empty():f.single(c)};b._isBlock=m.memoize(function(a){if(!a||!a.tagName)return!1;var c=document.createElement("div");a=document.createElement(a.tagName);
c.appendChild(a);document.body.appendChild(c);try{return"block"===window.getComputedStyle(a).display}finally{document.body.removeChild(c)}},function(a){return a&&a.tagName?a.tagName:""});b.isEmptyTextNode=function(a){return a?a.nodeType===Node.TEXT_NODE&&""===n.trim(a.nodeValue):!1};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/empty-handler.js' */
define("jira/editor/converter/handlers/empty-handler",["jira/editor/converter/handlers/node-handler"],function(a){return a.EmptyHandler});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/block-handler.js' */
define("jira/editor/converter/handlers/block-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/new-lines/new-lines jira/editor/converter/util/strings jira/editor/converter/util/color-converter jira/editor/converter/handlers/bidi-unicode-handler jquery".split(" "),function(b,c,d,e,f,l,g){const m=/^[a-zA-Z]+$/;var k=b.extend({init:function(a){this.wrapperNode=a;this.node=a.querySelector(".panelContent")||a;this.nodeHeader=a.querySelector("panel-title")||
a.querySelector(".panelHeader");this.attrs=this.getAttrs();g(this.node).is(".panelContent")&&this.workaroundTypingOutsideWrapper()},workaroundTypingOutsideWrapper:function(){var a=g(this.wrapperNode);a.find("\x3e p").before('\x3cbr data-mce-bogus\x3d"1"\x3e');this.node?a.find("\x3e :not(div.preformattedContent.panelContent, div.codeContent.panelContent, div.panelHeader, div.panelContent)").detach().appendTo(this.node):this.node=this.wrapperNode},getAttrs:function(){var a=[];this.nodeHeader&&(this.nodeHeader.textContent&&
a.push("title\x3d"+this.nodeHeader.textContent),this.nodeHeader.style.borderBottomStyle&&a.push("borderStyle\x3d"+this.nodeHeader.style.borderBottomStyle),this.nodeHeader.style.borderBottomWidth&&"1px"!==this.nodeHeader.style.borderBottomWidth&&a.push("borderWidth\x3d"+this.nodeHeader.style.borderBottomWidth),this.nodeHeader.style.borderBottomColor&&a.push(`borderColor=${this._getProperColorValue(this.nodeHeader.style.borderBottomColor)}`),this.nodeHeader.style.backgroundColor&&a.push(`titleBGColor=${this._getProperColorValue(this.nodeHeader.style.backgroundColor)}`));
this.wrapperNode&&this.wrapperNode.style.backgroundColor&&a.push("bgColor\x3d"+f.colorToHex(this.wrapperNode.style.backgroundColor));return 0<a.length?a.join("|"):""},_getProperColorValue:function(a){return this._isNamedColor(a)?a:f.colorToHex(a)},_isNamedColor:function(a){return m.test(a)},createChildHandler:function(a,n,p){return a.nodeType===Node.TEXT_NODE?c.createPreformattedTextHandler(a):"BR"===a.tagName?c.newlineHandler():"IMG"===a.tagName?e.startsWith(a.src,"data")||e.startsWith(a.src,"blob")?
(a=document.createTextNode("(attachment)"),c.createTextHandler(a)):b.createHandler(a):"SPAN"===a.nodeName&&"bidi-unicode"===a.className?new l(a):"PRE"===a.tagName?new h(a):"PANEL-TITLE"===a.tagName?new b.EmptyHandler(a):new h(a)},children:function(){var a=b.prototype.children.apply(this,arguments);a.unshift(d.single(!0));return a},newLinesBefore:function(){return b.singleNewLineExceptTable(this.wrapperNode,!0)},newLinesAfter:function(){return b.singleNewLineExceptTable(this.wrapperNode,!0)}}),h=b.extend({createChildHandler:k.prototype.createChildHandler,
newLinesBefore:function(){return d.empty()},before:function(){return new b.EmptyHandler},after:function(){return new b.EmptyHandler}});return k});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/text-handler.js' */
define("jira/editor/converter/handlers/text-handler",["jira/featureflags/feature-manager","jira/editor/converter/util/strings","jira/editor/converter/util/rte-strings","jira/editor/converter/handlers/node-handler","jira/editor/context-detector"],function(g,e,f,h,k){var c=h.extend({init:function(a){this.node=a;this.preformatted=this.node.preformatted},processText:function(){var a=this.node.textContent||"";if(this.node.preformatted)return a;f.isWhitespace(a)||(a=this.trimNewlines(a));a=g.isFeatureEnabled("jira.renderer.consider.variable.format")?
a.replace(/([^$])({[^}]+})/g,"$1\\$2").replace(/(\$)({[^}]+)$/g,"$1\\$2"):a.replace(/{/g,"\\{");k.detectTable(this.node)&&(a=e.replace(a,"|","\\|"));return a},children:function(){return[]},trimNewlines:function(a){var b;for(b=0;b<a.length&&f.isWhitespace(a[b]);b++);var d;for(d=a.length-1;0<=d&&f.isWhitespace(a[d]);d--);var l=a.substring(0,b);b=a.substring(b,d+1);a=a.substring(d+1);return e.replace(l,"\n","")+b+e.replace(a,"\n","")}});c.createTextHandler=function(a){var b=a;a instanceof Node&&(b=a.textContent);
return new c({textContent:b||""})};c.createPreformattedTextHandler=function(a){var b=a;a instanceof Node&&(b=a.textContent);return new c({textContent:b||"",preformatted:!0})};c.newlineHandler=function(){return new c({textContent:"\n",preformatted:!0})};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/heading-handler.js' */
define("jira/editor/converter/handlers/heading-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler"],function(b,d,e){var c={H1:"h1. ",H2:"h2. ",H3:"h3. ",H4:"h4. ",H5:"h5. ",H6:"h6. "};return b.extend({init:function(a){this.node=a},newLinesBefore:function(){return b.singleNewLineExceptTable(this.node,!0)},before:function(){var a=this.node.tagName;return a in c?d.createTextHandler(c[a]):new e},newLinesAfter:function(){return b.singleNewLineExceptTable(this.node)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/bold-handler.js' */
define("jira/editor/converter/handlers/bold-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(a,b,c){a=a.extend({init:function(d){this.node=d;this.marker=this.shouldUseAlternativeSyntax()?"{*}":"*"},before:function(){return b.createTextHandler(this.marker)},after:function(){return b.createTextHandler(this.marker)}});return c(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/emphasis-handler.js' */
define("jira/editor/converter/handlers/emphasis-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(a,b,c){a=a.extend({init:function(d){this.node=d;this.marker=this.shouldUseAlternativeSyntax()?"{_}":"_"},before:function(){return b.createTextHandler(this.marker)},after:function(){return b.createTextHandler(this.marker)}});return c(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/monospaced-handler.js' */
define("jira/editor/converter/handlers/monospaced-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(c,b){return c.extend({init:function(a){this.node=a;this.openingMarker=(a=this.shouldUseAlternativeSyntax())?"{{{}":"{{";this.closingMarker=a?"{}}}":"}}"},before:function(){return b.createPreformattedTextHandler(this.openingMarker)},after:function(){return b.createPreformattedTextHandler(this.closingMarker)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/link-handler.js' */
define("jira/editor/converter/handlers/link-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/image-handler jira/editor/converter/handlers/empty-handler jira/editor/converter/handlers/superscript-handler jira/editor/converter/util/strings jira/editor/converter/util/uri jquery".split(" "),function(m,e,n,h,p,b,k,g){var d=m.extend({init:function(a){this.node=a;var c=this.node.getAttribute("href"),f=b.resolveUrl(c,b.getBaseUrl()),
l=a.getAttribute("data-filename");d.isAnchor(c)?f=c:d.isAttachment(f)||l?(this.attachment=l||b.getFilenameFromHref(f),g(a).find("\x3e:first-child:last-child").is("img")&&(this.imageAttachment=this.attachment)):d.isIssue(f,a.classList)?this.issueKey=b.substringAfter(f,b.getContextUrl()+"/browse/"):d.isProfile(f,a)?this.username=k.decodeUri(b.substringAfter(f,"ViewProfile.jspa?name\x3d")):d.isWiki(f,a)&&(this.wikiLink=g(a).text());this.href=f},before:function(){var a=g(this.node.previousSibling).is("a")?
" ":"";return this.imageAttachment?e.createTextHandler(a+"!"):this.attachment?e.createTextHandler(a+"[^"):this.issueKey?new h:this.username?e.createTextHandler(a+"[~"):this.href||this.wikiLink?e.createTextHandler(a+"["):new h},children:function(){return this.imageAttachment?[e.createTextHandler(""+this.imageAttachment)]:this.attachment?[e.createTextHandler(""+this.attachment)]:this.username?[e.createTextHandler(""+this.username)]:d.isAnchor(this.href,this.node)?e.createTextHandler(this.href):d.isMailto(this.href,
this.node)?this._filterMailtoChildren(this._super()):this._super()},after:function(){if(this.imageAttachment){var a=n.getAttrs(g(this.node).find("\x3e img")[0]);return e.createTextHandler(a+"!")}return this.attachment||this.wikiLink?e.createTextHandler("]"):this.issueKey?new h:this.username?e.createTextHandler("]"):this.href?this.href===g(this.node).text()||d.isAnchor(this.href,this.node)?e.createTextHandler("]"):e.createTextHandler("|"+this.href+"]"):new h},_filterMailtoChildren:function(a){3<=a.length&&
a[a.length-2]instanceof p&&(a=a.splice(0,a.length-3));return a}});d.isAttachment=function(a){/^\//.test(a)&&(a=window.location.origin+a);return b.startsWith(a,b.getContextUrl()+"/secure/attachment/")||b.startsWith(a,"../secure/attachment/")};d.isIssue=function(a,c){/^\//.test(a)&&(a=window.location.origin+a);c=!c||!c.contains("external-link");return b.startsWith(a,b.getContextUrl()+"/browse/")&&!b.contains(a,"?")&&c};d.isProfile=function(a,c){return b.contains(a,"ViewProfile.jspa?name\x3d")&&g(c).is(".user-hover")};
d.isWiki=function(a,c){return b.contains(a,"/wiki/display/")&&b.endsWith(k.decodeUri(a),"/"+g(c).text())};d.isMailto=function(a,c){return b.startsWith(a,"mailto:")};d.isAnchor=function(a,c){return b.startsWith(a,"#")&&(!c||a==="#"+g(c).text())};return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/linebreak-handler.js' */
define("jira/editor/converter/handlers/linebreak-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jquery"],function(a,b,c){return a.extend({init:function(d){this.node=d},before:function(){return new a.EmptyHandler},children:function(){return new a.EmptyHandler},after:function(){return this.node.previousSibling||this.node.nextSibling||!c(this.node).parent().is("td, th")?this.node.previousSibling&&"BR"===this.node.previousSibling.tagName&&c(this.node).parent().is("td, th")?
new b({textContent:decodeURI("%C2%A0")+"\n",preformatted:!0}):b.newlineHandler():b.createTextHandler(" ")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/image-handler.js' */
define("jira/editor/converter/handlers/image-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/empty-handler jquery jira/editor/converter/util/strings wrm/context-path".split(" "),function(h,d,e,k,c,l){var f=h.extend({init:function(a){this.node=a;this.imageType=this._getImageType(a)},_getImageType:function(a){if(this.node.getAttribute("imagetext"))return"placeholder";var b=this.node.getAttribute("data-image-type");if(b)return b;
if(b=this.node.getAttribute("src"))return c.isEmotePath(b)&&a.classList.contains("emoticon")?c.contains(b,"/images/icons/mail_small")&&this.$(a).parents("a").is(".external-link")?void 0:"emote":c.isAttachmentPath(b)||c.isThumbnailPath(b)||b.match(/^((data|blob):http)|(data:image)/)?"attachment-image":c.isTemporaryAttachmentPath(b)?"temporary-attachment-image":"external-image"},before:function(){var a=this.node.previousSibling;a=a&&a.nodeType===Node.TEXT_NODE&&!c.endsWith(a.textContent," ")?" ":"";
return this.imageType&&"emote"!==this.imageType?d.createTextHandler(a+"!"):new e},children:function(){return this.imageType?d.createTextHandler(this._getImageSource()):new e},after:function(){var a=this.node.nextSibling;a=a&&a.nodeType===Node.TEXT_NODE&&!c.startsWith(a.textContent," ")?" ":"";return this.imageType&&"emote"!==this.imageType?d.createTextHandler("!"+a):new e},_getImageSource:function(){if("placeholder"===this.imageType)return this.node.getAttribute("imagetext");if("emote"===this.imageType){var a=
this.node.getAttribute("src"),b=c.substringAfter(a,"/images/icons/emoticons/").replace(/\.(png|gif)$/,"");if(b in g)return g[b];if(c.startsWith(a,l()))return"!"+document.location.origin+a+"!"}else if("attachment-image"===this.imageType||"temporary-attachment-image"===this.imageType||"external-image"===this.imageType)return a=this.node.getAttribute("data-filename")||this.node.getAttribute("href")||this.node.getAttribute("src"),"attachment-image"===this.imageType?a=c.getFilenameFromHref(a):"temporary-attachment-image"!==
this.imageType||this.node.getAttribute("data-filename")||(a=c.getFilenameFromHref(a,!0)),(b=f.getAttrs(this.node))?a+b:a}});f.getAttrs=function(a){if(k(a).is("img.emoticon"))return"";var b=[];a.width&&b.push("width\x3d"+a.width);a.height&&b.push("height\x3d"+a.height);a.id&&b.push("id\x3d"+a.id);a.vspace&&b.push("vspace\x3d"+a.vspace);a.align?b.push("align\x3d"+a.align):a.style.textAlign?b.push("align\x3d"+a.style.textAlign):a.style["float"]&&b.push("align\x3d"+a.style["float"]);c.isThumbnailPath(a.getAttribute("src"))&&
b.push("thumbnail");return 0<b.length?"|"+b.join(","):""};var g={smile:":)",sad:":(",tongue:":P",biggrin:":D",wink:";)",thumbs_up:"(y)",thumbs_down:"(n)",information:"(i)",check:"(/)",error:"(x)",warning:"(!)",add:"(+)",forbidden:"(-)",help_16:"(?)",lightbulb_on:"(on)",lightbulb:"(off)",star_yellow:"(*)",star_red:"(*r)",star_green:"(*g)",star_blue:"(*b)",flag:"(flag)",flag_grey:"(flagoff)"};return f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/code-block-handler.js' */
define("jira/editor/converter/handlers/code-block-handler",["jira/editor/converter/handlers/block-handler","jira/editor/converter/handlers/text-handler","jquery"],function(d,b,c){return d.extend({init:function(a){this._super(a);this.language=this.getLanguage()},getLanguage:function(){var a=c(this.node).is("pre")?this.node:this.node.querySelector("pre");return(a=c(a).attr("data-language"))?a.replace("code-",""):""},before:function(){var a=[];this.language&&a.push(this.language);this.attrs&&a.push(this.attrs);
a=a.length?":"+a.join("|"):"";return b.createPreformattedTextHandler("{code"+a+"}")},after:function(){return b.createPreformattedTextHandler("{code}")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/noformat-handler.js' */
define("jira/editor/converter/handlers/noformat-handler",["jira/editor/converter/handlers/block-handler","jira/editor/converter/handlers/text-handler"],function(b,a){return b.extend({before:function(){return a.createPreformattedTextHandler("{noformat"+(this.attrs?":"+this.attrs:"")+"}")},after:function(){return a.createPreformattedTextHandler("{noformat}")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/list-type-matcher.js' */
define("jira/editor/converter/handlers/list-type-matcher",["jquery","underscore"],function(c,d){var a={selectorBulletMap:{}};a.selectorBulletMap["ul:not(.alternate)"]="*";a.selectorBulletMap["ul.alternate"]="-";a.selectorBulletMap.ol="#";a.DEFAULT_DECORATOR="*";a.matchBullet=function(b){return d.find(a.selectorBulletMap,function(f,e){return c(b).is(e)})};a.getBulletDecorator=function(b){return a.matchBullet(b)||a.DEFAULT_DECORATOR};a.isListNode=function(b){return null!=a.matchBullet(b)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/list-handler.js' */
define("jira/editor/converter/handlers/list-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/empty-handler jira/editor/converter/handlers/list-type-matcher jquery jira/editor/converter/new-lines/new-lines jira/editor/context-detector".split(" "),function(d,f,e,g,h,c,k){return d.extend({init:function(a,b){this.node=a;this.type=this.node.getAttribute("type");this.depth="undefined"===typeof b?0:b;this.bulletDecorator=g.getBulletDecorator(a)},
createChildHandler:function(a){var b=d.getHandler(a);return"LI"===a.tagName?new b(a,this.depth,this.bulletDecorator):new b(a)},before:function(){return new e},newLinesBefore:function(){return 0===this.depth&&k.detectTable(this.node)&&this.node.previousSibling&&!d.isEmptyTextNode(this.node.previousSibling)?c.single(!0):c.empty()},newLinesAfter:function(){return 0!==this.depth||h(this.node).is(":last-child")?c.empty():new c(2,!0)},createAfterChild:function(a,b,l){return b!==l-1?f.newlineHandler():new e}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/list-item-handler.js' */
define("jira/editor/converter/handlers/list-item-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/handlers/list-type-matcher","jira/editor/converter/util/strings"],function(d,e,f,g,h){return d.extend({init:function(a,b,c){this.node=a;this.depth="undefined"===typeof b?0:b;this.bulletDecorator=c},before:function(){var a=h.repeat(this.bulletDecorator,this.depth+1);return e.createTextHandler(" "+
a+" ")},after:function(){return new f},createBeforeChild:function(a,b,c){return g.isListNode(a)?e.newlineHandler():new f},createChildHandler:function(a,b,c){b=d.getHandler(a);return g.isListNode(a)?new b(a,this.depth+1):new b(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/table-handler.js' */
define("jira/editor/converter/handlers/table-handler",["jira/editor/converter/handlers/node-handler","jira/editor/context-detector","jira/editor/converter/new-lines/new-lines"],function(b,c,d){return b.extend({init:function(a){this.node=a},newLinesBefore:function(){var a=c.detectTable(this.node.previousElementSibling);return d.single(!a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/table-row-handler.js' */
define("jira/editor/converter/handlers/table-row-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/new-lines/new-lines"],function(e,b,f,g){return e.extend({init:function(a){this.node=a},createBeforeChild:function(a,c,d){return"TH"===a.tagName?b.createTextHandler("||"):b.createTextHandler("|")},newLinesAfter:function(){return g.single()},createAfterChild:function(a,c,d){return c===
d-1?"TH"===a.tagName?b.createTextHandler("||"):b.createTextHandler("|"):new f}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/table-data-handler.js' */
define("jira/editor/converter/handlers/table-data-handler",["jira/editor/converter/handlers/node-handler"],function(a){return a.extend({init:function(b){this.node=b}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/paragraph-handler.js' */
define("jira/editor/converter/handlers/paragraph-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/empty-handler","jira/editor/converter/new-lines/new-lines","jquery"],function(c,d,a,b){return c.extend({init:function(e){this.node=e},newLinesBefore:function(){return null===this.node.previousElementSibling&&b(this.node).parents().is("td, th, .panelContent, .panel")?a.empty():null!==this.node.previousElementSibling?a.single():a.empty()},newLinesAfter:function(){return b(this.node).is(":last-child")&&
b(this.node).parents().is("td, th")?a.empty():a.single(b(this.node).parents().is("td, th"))},before:function(){return new d}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/quote-handler.js' */
define("jira/editor/converter/handlers/quote-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler"],function(b,a){return b.extend({init:function(c){this.node=c},before:function(){return a.createPreformattedTextHandler("{quote}")},after:function(){return a.createPreformattedTextHandler("{quote}")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/panel-handler.js' */
define("jira/editor/converter/handlers/panel-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/block-handler"],function(c,b,d){return d.extend({init:function(a){a.firstChild&&a.className===a.firstChild.className&&(a=a.firstChild);this.node=a;this._super(a)},before:function(){return b.createPreformattedTextHandler("{panel"+(this.attrs?":"+this.attrs:"")+"}")},createChildHandler:function(){return c.prototype.createChildHandler.apply(this,
arguments)},after:function(){return b.createPreformattedTextHandler("{panel}")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/span-handler.js' */
define("jira/editor/converter/handlers/span-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/empty-handler jira/editor/converter/util/strings jira/editor/converter/util/color-converter jquery".split(" "),function(g,b,d,c,h,k){var e={white:"#FFFFFF",silver:"#C0C0C0",gray:"#808080",black:"#000000",red:"#FF0000",maroon:"#800000",yellow:"#FFFF00",olive:"#808000",lime:"#00FF00",green:"#008000",aqua:"#00FFFF",teal:"#008080",
blue:"#0000FF",navy:"#000080",purple:"#800080",orange:"#FFA500",brown:"#AA4B00",mahogany:"#C04000",pink:"#FFC0CB","yellow orche":"#CF912A",harlequin:"#3FFF00",mauvelous:"#EF98AA","dark red":"#8B0000",saffron:"#F4C430",sepia:"#704214",fuchsia:"#FF00FF",magenta:"#FF00FF",marsala:"#955251",indigo:"#000080"};return g.extend({init:function(a){this.node=a;this.$node=k(this.node);this.node.getAttribute("href");"underline"===this.getStyle(this.node,"textDecoration")?this.decorator="underline":"error"===this.node.className?
(a=this.$node.text(),c.getFilenameFromError(a)&&(this.decorator="attachment-error")):0<c.length(this.getStyle(this.node,"color"))?(a=this.getStyle(this.node,"color").toLowerCase(),c.contains(a,"rgb")?this.color=h.colorToHex(a):c.contains(a,"#")?this.color=a:a in e&&(this.color=e[a.toLowerCase()]),void 0!==this.color&&(this.decorator="color")):"jira-issue-macro"===this.node.className&&this.$node.attr("data-jira-key")&&(this.decorator="jira-issue-macro")},before:function(){return"attachment-error"===
this.decorator?b.createTextHandler("!"):"underline"===this.decorator?b.createTextHandler("+"):"color"===this.decorator?b.createPreformattedTextHandler("{color:"+this.color+"}"):new d},after:function(){return"attachment-error"===this.decorator?b.createTextHandler("!"):"underline"===this.decorator?b.createTextHandler("+"):"color"===this.decorator?b.createPreformattedTextHandler("{color}"):new d},children:function(){if("attachment-error"===this.decorator){var a=c.getFilenameFromError(this.$node.text());
return[b.createTextHandler(a)]}return"jira-issue-macro"===this.decorator?b.createTextHandler(this.$node.attr("data-jira-key")):this._super()},getStyle:function(a,f){if(f in this.node.style)return this.node.style[f]}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/strikethrough-handler.js' */
define("jira/editor/converter/handlers/strikethrough-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/link-handler jira/editor/converter/handlers/empty-handler jira/editor/converter/factories/whitespace-extractor jquery".split(" "),function(a,c,f,d,g,e){a=a.extend({init:function(b){this.node=b;this.marker=this.shouldUseAlternativeSyntax()?"{-}":"-";e(b.parentNode).is("a[data-issue-key]")&&(this.isIssue=f.isIssue(e(b.parentNode).attr("href")))},
before:function(){return this.isIssue?new d:c.createTextHandler(this.marker)},after:function(){return this.isIssue?new d:c.createTextHandler(this.marker)}});return g(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/superscript-handler.js' */
define("jira/editor/converter/handlers/superscript-handler","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/empty-handler jira/editor/converter/util/strings jira/editor/converter/factories/whitespace-extractor jquery".split(" "),function(a,b,c,e,f,d){a=a.extend({init:function(g){this.node=g;this.marker=this.shouldUseAlternativeSyntax()?"{^}":"^";d(this.node).parents("a").is(".external-link")&&e.endsWith(d(this.node).children().attr("src"),
"images/icons/mail_small.gif")&&(this.dontExpand=!0)},before:function(){return this.dontExpand?new c:b.createTextHandler(this.marker)},after:function(){return this.dontExpand?new c:b.createTextHandler(this.marker)}});return f(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/subscript-handler.js' */
define("jira/editor/converter/handlers/subscript-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(a,b,c){a=a.extend({init:function(d){this.node=d;this.marker=this.shouldUseAlternativeSyntax()?"{~}":"~"},before:function(){return b.createTextHandler(this.marker)},after:function(){return b.createTextHandler(this.marker)}});return c(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/underline-handler.js' */
define("jira/editor/converter/handlers/underline-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/whitespace-extractor"],function(a,b,c){a=a.extend({init:function(d){this.node=d;this.marker=this.shouldUseAlternativeSyntax()?"{+}":"+"},before:function(){return b.createTextHandler(this.marker)},after:function(){return b.createTextHandler(this.marker)}});return c(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/hr-handler.js' */
define("jira/editor/converter/handlers/hr-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/handlers/empty-handler"],function(b,c,a){return b.extend({init:function(d){this.node=d},before:function(){return new a},children:function(){return[new c({textContent:"----",preformatted:!0})]},after:function(){return new a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/cite-handler.js' */
define("jira/editor/converter/handlers/cite-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler"],function(b,a){return b.extend({init:function(c){this.node=c},before:function(){return a.createTextHandler("??")},after:function(){return a.createTextHandler("??")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/external-handler.js' */
define("jira/editor/converter/handlers/external-handler",["jira/editor/converter/handlers/node-handler","jira/editor/converter/handlers/text-handler","jira/editor/converter/new-lines/new-lines","jira/editor/converter","underscore"],function(e,f,c,g,h){var d=e.extend({init:function(a){this.node=a},children:function(){var a=this.external(this.getParams());return[f.createPreformattedTextHandler(a)]},getParams:function(){return Object.create(Object.prototype,{node:{value:this.node},innerMarkup:{get:function(){return g.handleMarkup(this.node.innerHTML)}}})}});
d.forConverter=function(a){var b=AJS.namespace(a["function"]);h.isFunction(b)?e.addHandler(a.selector,d.extend({external:b})):console.error(a["function"]," is not a function, this macro won't be supported by converter: ",a.selector," - it may result in data loss.")};d.Legacy=f.extend({init:function(a){this.node=a},processText:function(){var a=this.node.getAttribute("data-original-text"),b=this.node.getAttribute("data-command");return(a||"")+(this.node.innerText||this.node.textContent)+(b&&"{"+b+"}")},
newLinesBefore:function(){return"true"===this.node.getAttribute("data-new-line-before")?c.single(!0):c.empty()},newLinesAfter:function(){return"true"===this.node.getAttribute("data-new-line-after")?c.single(!0):c.empty()}});return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handler-mapper.js' */
define("jira/editor/converter/handler-mapper","jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/text-handler jira/editor/converter/handlers/heading-handler jira/editor/converter/handlers/bold-handler jira/editor/converter/handlers/emphasis-handler jira/editor/converter/handlers/monospaced-handler jira/editor/converter/handlers/linebreak-handler jira/editor/converter/handlers/link-handler jira/editor/converter/handlers/image-handler jira/editor/converter/handlers/code-block-handler jira/editor/converter/handlers/noformat-handler jira/editor/converter/handlers/list-handler jira/editor/converter/handlers/list-item-handler jira/editor/converter/handlers/paragraph-handler jira/editor/converter/handlers/strikethrough-handler jira/editor/converter/handlers/superscript-handler jira/editor/converter/handlers/subscript-handler jira/editor/converter/handlers/underline-handler jira/editor/converter/handlers/quote-handler jira/editor/converter/handlers/panel-handler jira/editor/converter/handlers/span-handler jira/editor/converter/handlers/table-handler jira/editor/converter/handlers/table-row-handler jira/editor/converter/handlers/table-data-handler jira/editor/converter/handlers/hr-handler jira/editor/converter/handlers/cite-handler jira/editor/wrm".split(" "),
function(a,q,b,d,e,c,r,t,u,f,g,h,v,w,x,y,z,k,A,l,B,C,m,n,D,E,F){return{registerHandlers:function(){var p=require("jira/editor/converter/handlers/external-handler");F.getConverters().forEach(p.forConverter);a.addHandler("pre.external-macro",p.Legacy);a.addHandler("H1",b);a.addHandler("H2",b);a.addHandler("H3",b);a.addHandler("H4",b);a.addHandler("H5",b);a.addHandler("H6",b);a.addHandler("A",t);a.addHandler("B",d);a.addHandler("STRONG",d);a.addHandler("BR",r);a.addHandler("EM",e);a.addHandler("I",e);
a.addHandler("IMG",u);a.addHandler("TT",c);a.addHandler("CODE",c);a.addHandler("SAMP",c);a.addHandler("SPAN.monospace",c);a.addHandler("DIV.preformatted panel",g);a.addHandler("PRE.noformat panel",g);a.addHandler("DIV.code panel",f);a.addHandler("PRE.code panel",f);a.addHandler("PANEL-TITLE",a.EmptyHandler);a.addHandler("UL",h);a.addHandler("OL",h);a.addHandler("LI",v);a.addHandler("P",w);a.addHandler("DEL",x);a.addHandler("SUB",z);a.addHandler("SUP",y);a.addHandler("INS",k);a.addHandler("U",k);a.addHandler("TABLE",
C);a.addHandler("TR",m);a.addHandler("CAPTION",m);a.addHandler("TD",n);a.addHandler("TH",n);a.addHandler("SPAN",B);a.addHandler("BLOCKQUOTE",A);a.addHandler("DIV.panel",l);a.addHandler("PRE.panel",l);a.addHandler("HR",D);a.addHandler("CITE",E);a.addHandler("#text",q)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/factories/whitespace-extractor.js' */
define("jira/editor/converter/factories/whitespace-extractor",["jira/editor/constants","jira/editor/converter/handlers/text-handler","jira/editor/converter/factories/left-trim","jira/editor/converter/factories/right-trim"],function(e,c,h,k){function f(b,a){b=(b&&b.textContent||"").match(a);return null!==b?b[0]:null}return function(b){return b.extend({init:function(a){this._super(a);this.leftWhitespaces=f(a.firstChild,e.LEFT_WHITESPACE_MATCHER);this.rightWhitespaces=f(a.lastChild,e.RIGHT_WHITESPACE_MATCHER);
this.leftTrimChildren=!!this.leftWhitespaces;this.rightTrimChildren=!!this.rightWhitespaces},before:function(){var a=this._super();return this._extractLeftSpaces(a)||a},after:function(){var a=this._super();return this._extractRightSpaces(a)||a},createChildHandler:function(a,d,g){a=this._super(a,d,g);this.leftTrimChildren&&0===d&&(a=h(a));this.rightTrimChildren&&g-1===d&&(a=k(a));return a},_extractLeftSpaces:function(a){return this.leftTrimChildren?(a.preformatted?c.createPreformattedTextHandler:c.createTextHandler)(this.leftWhitespaces+
a.processText()):null},_extractRightSpaces:function(a){return this.rightTrimChildren?(a.preformatted?c.createPreformattedTextHandler:c.createTextHandler)(a.processText()+this.rightWhitespaces):null}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/factories/left-trim.js' */
define("jira/editor/converter/factories/left-trim",["jira/editor/constants"],function(d){return function e(f){var a=Object.create(f);a.createChildHandler=function(b,c,g){b=Object.getPrototypeOf(a).createChildHandler.call(this,b,c,g);0===c&&(b=e(b));return b};a.processText=function(){return Object.getPrototypeOf(a).processText.call(this).replace(d.LEFT_WHITESPACE_MATCHER,"")};a._extractLeftSpaces=function(){};return a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/factories/right-trim.js' */
define("jira/editor/converter/factories/right-trim",["jira/editor/constants"],function(e){return function f(g){var a=Object.create(g);a.createChildHandler=function(b,c,d){b=Object.getPrototypeOf(a).createChildHandler.call(this,b,c,d);d-1===c&&(b=f(b));return b};a.processText=function(){return Object.getPrototypeOf(a).processText.call(this).replace(e.RIGHT_WHITESPACE_MATCHER,"")};a._extractRightSpaces=function(){};return a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/new-lines/new-lines.js' */
define("jira/editor/converter/new-lines/new-lines",["jira/lib/class"],function(c){var a=c.extend({init:function(b,d){this._lines=b;this._optional=d},newLines:function(){return this._lines},optional:function(){return this._optional}});a.empty=function(){return new a(0,!0)};a.single=function(b){return new a(1,!!b)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/new-lines/new-lines-merger.js' */
define("jira/editor/converter/new-lines/new-lines-merger",["underscore","jira/editor/converter/util/strings","jira/editor/converter/new-lines/new-lines"],function(f,l,g){function h(b){var c=f.max(b.filter(function(a){return a.optional()}).map(function(a){return a.newLines()}));b=b.filter(function(a){return!a.optional()}).reduce(function(a,d){return a+d.newLines()},0);return Math.max(b,c)}return{mergeNewLines:function(b){b=f.filter(b,function(k){return k instanceof g||""!==k});for(var c=[],a=[],d=
0;d<b.length;d++){var e=b[d];e instanceof g?c.push(e):(a.push(l.repeat("\n",h(c))),a.push(e),c=[])}return a},_newLinesNumber:h}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/handlers/bidi-unicode-handler.js' */
define("jira/editor/converter/handlers/bidi-unicode-handler",["jira/editor/converter/handlers/node-handler"],function(a){return a.extend({init:function(b){this.node=b},before:function(){return new a.EmptyHandler},children:function(){return new a.EmptyHandler},processText:function(){const b=parseInt(this.node.dataset.bidiCharacterCode,16);return String.fromCharCode(b)},after:function(){return new a.EmptyHandler}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:converter', location = '/js/converter/html-converter.js' */
define("jira/editor/converter","jquery jira/editor/converter/util/rte-strings jira/editor/converter/handlers/node-handler jira/editor/converter/handlers/empty-handler jira/editor/converter/new-lines/new-lines jira/editor/converter/new-lines/new-lines-merger jira/editor/converter/handler-mapper jira/editor/analytics jira/util/logger exports".split(" "),function(l,d,m,n,p,q,r,e,t,g){r.registerHandlers();var h=function(a){if(null==a)return"";a=[m.createHandler(a)];for(var c=[];0!==a.length;){var b=a.pop();
if(!(b instanceof n))if(b instanceof p)c.push(b);else{a.push(b.newLinesBefore());a.push(b.before());var f=b.children();a=a.concat(f);a.push(b.after());c.push(b.processText());c.push(b.newLinesAfter())}}c=q.mergeNewLines(c);return d.trim(c.reverse().join(""))};g.handleMarkup=function(a){return h(d.parseHtml(a))};g.convert=function(a){var c=new l.Deferred;e.mark("rte-convert");try{var b=d.parseHtml(a),f=b?b.getElementsByTagName("*").length:0,u=h(b);c.resolve(u);e.oneShotMeasure("rte-convert",{nodesCount:f})}catch(k){t.warn(k),
c.reject(k),e.oneShotMeasure("rte-convert",{nodesCount:-1})}return c.promise()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:plugins', location = 'js/plugins/markup-plugin.js' */
require(["jira/editor/customizer"],function(b){b.customizeSettings(function(a){-1===a.plugins.indexOf("textpattern")&&a.plugins.push("textpattern");a.textpattern_patterns=a.textpattern_patterns||[];Array.prototype.push.apply(a.textpattern_patterns,[{start:"1. ",cmd:"InsertOrderedList"},{start:"# ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}])})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:plugins', location = 'js/plugins/toolbar-sync-plugin.js' */
define("jira/editor/plugins/toolbar-sync",["jira/editor/tinymce"],function(d){var e=["bold","italic","underline"];d.create("tinymce.plugins.jira.ToolbarSyncPlugin",{init:function(b){var c=b.settings;b.on("NodeChange",function(){b.isHidden()||e.forEach(function(a){var f=b.queryCommandState(a);a=c.toolbarContainer.find("[data-operation\x3d"+a+"]");a.attr("aria-pressed")!==f&&a.attr("aria-pressed",f?"true":"false")})});b.on("hide",function(){e.forEach(function(a){c.toolbarContainer.find("[data-operation\x3d"+
a+"]").attr("aria-pressed",null)})});b.contextManager.on("change:all",function(a){c.toolbarContainer.find("[aria-disabled], [data-operation], [aria-controls]").attr("aria-disabled",a.disableState)});b.contextManager.on("change:a",function(a){c.toolbarContainer.find("[data-operation^\x3dlink]").attr("aria-disabled",a.disableState)});b.contextManager.on("change:table",function(a){c.toolbarContainer.find("[data-operation\x3dtable]").attr("aria-disabled",a.disableState)})}});d.PluginManager.add("jira.toolbarsync",
d.plugins.jira.ToolbarSyncPlugin);d.PluginManager.urls["jira.toolbarsync"]=!0;return{configure:function(b,c){c.plugins.push("jira.toolbarsync");c.toolbarContainer=b.element.getToolbarContainer()}}});
}catch(e){WRMCB(e)};