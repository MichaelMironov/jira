WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/aui-amd.js' */
define("dndattachment/aui/dialog2",function(){return AJS.dialog2});define("dndattachment/aui/escape-html",function(){return AJS.escapeHtml});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-amd', location = 'js/dnd-template-wrapper.js' */
define("dndattachment/templates",function(){return window.JIRA.Templates.DnDAttachmentPlugin});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:moment-2.29.4', location = 'libs/moment/2.29.4/moment-2.29.4.js' */
'use strict';(function(g){define("atlassian/libs/moment-2.29.4",function(){var B={};g.call(B);return B.moment})})(function(){(function(g,B){g.moment=B()})(this,function(){function g(){return lc.apply(null,arguments)}function B(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function da(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function q(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Sa(a){if(Object.getOwnPropertyNames)return 0===
Object.getOwnPropertyNames(a).length;for(var b in a)if(q(a,b))return!1;return!0}function E(a){return void 0===a}function Y(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function pa(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function tb(a,b){var c=[],d,f=a.length;for(d=0;d<f;++d)c.push(b(a[d],d));return c}function Z(a,b){for(var c in b)q(b,c)&&(a[c]=b[c]);q(b,"toString")&&(a.toString=b.toString);q(b,"valueOf")&&(a.valueOf=
b.valueOf);return a}function N(a,b,c,d){return ub(a,b,c,d,!0).utc()}function n(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1});return a._pf}function Ta(a){if(null==a._isValid){var b=n(a),c=mc.call(b.parsedDateParts,function(a){return null!=a});c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&
!b.invalidEra&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function za(a){var b=N(NaN);null!=a?Z(n(b),a):n(b).userInvalidated=!0;return b}function Ua(a,b){var c,d=vb.length;E(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject);E(b._i)||
(a._i=b._i);E(b._f)||(a._f=b._f);E(b._l)||(a._l=b._l);E(b._strict)||(a._strict=b._strict);E(b._tzm)||(a._tzm=b._tzm);E(b._isUTC)||(a._isUTC=b._isUTC);E(b._offset)||(a._offset=b._offset);E(b._pf)||(a._pf=n(b));E(b._locale)||(a._locale=b._locale);if(0<d)for(c=0;c<d;c++){var f=vb[c];var t=b[f];E(t)||(a[f]=t)}return a}function qa(a){Ua(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Va&&(Va=!0,g.updateOffset(this),Va=!1)}function K(a){return a instanceof
qa||null!=a&&null!=a._isAMomentObject}function wb(a){!1===g.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function H(a,b){var c=!0;return Z(function(){null!=g.deprecationHandler&&g.deprecationHandler(null,a);if(c){var d=[],f,t,nc=arguments.length;for(f=0;f<nc;f++){var e="";if("object"===typeof arguments[f]){e+="\n["+f+"] ";for(t in arguments[0])q(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[f];
d.push(e)}wb(a+"\nArguments: "+Array.prototype.slice.call(d).join("")+"\n"+Error().stack);c=!1}return b.apply(this,arguments)},b)}function xb(a,b){null!=g.deprecationHandler&&g.deprecationHandler(a,b);yb[a]||(wb(b),yb[a]=!0)}function O(a){return"undefined"!==typeof Function&&a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function Wa(a,b){var c=Z({},a),d;for(d in b)q(b,d)&&(da(a[d])&&da(b[d])?(c[d]={},Z(c[d],a[d]),Z(c[d],b[d])):null!=b[d]?c[d]=b[d]:delete c[d]);for(d in a)q(a,
d)&&!q(b,d)&&da(a[d])&&(c[d]=Z({},c[d]));return c}function Xa(a){null!=a&&this.set(a)}function P(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function k(a,b,c,d){var f=d;"string"===typeof d&&(f=function(){return this[d]()});a&&(ia[a]=f);b&&(ia[b[0]]=function(){return P(f.apply(this,arguments),b[1],b[2])});c&&(ia[c]=function(){return this.localeData().ordinal(f.apply(this,arguments),a)})}function oc(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function pc(a){var b=a.match(Ya),c;var d=0;for(c=b.length;d<c;d++)b[d]=ia[b[d]]?ia[b[d]]:oc(b[d]);return function(d){var f="",e;for(e=0;e<c;e++)f+=O(b[e])?b[e].call(d,a):b[e];return f}}function Aa(a,b){if(!a.isValid())return a.localeData().invalidDate();b=zb(b,a.localeData());Za[b]=Za[b]||pc(b);return Za[b](a)}function zb(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ba.lastIndex=0;0<=d&&Ba.test(a);)a=a.replace(Ba,c),Ba.lastIndex=0,--d;return a}function C(a,
b){var c=a.toLowerCase();ra[c]=ra[c+"s"]=ra[b]=a}function I(a){return"string"===typeof a?ra[a]||ra[a.toLowerCase()]:void 0}function $a(a){var b={},c,d;for(d in a)q(a,d)&&(c=I(d))&&(b[c]=a[d]);return b}function qc(a){var b=[],c;for(c in a)q(a,c)&&b.push({unit:c,priority:A[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function aa(a){return 0===a%4&&0!==a%100||0===a%400}function J(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function l(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=J(a));
return b}function ja(a,b){return function(c){return null!=c?(Ab(this,a,c),g.updateOffset(this,b),this):Ca(this,a)}}function Ca(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Ab(a,b,c){if(a.isValid()&&!isNaN(c))if("FullYear"===b&&aa(a.year())&&1===a.month()&&29===a.date())c=l(c),a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),Da(c,a.month()));else a._d["set"+(a._isUTC?"UTC":"")+b](c)}function h(a,b,c){ab[a]=O(b)?b:function(a,f){return a&&c?c:b}}function rc(a,b){return q(ab,
a)?ab[a](b._strict,b._locale):new RegExp(sc(a))}function sc(a){return F(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,f,t){return c||d||f||t}))}function F(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function u(a,b){var c,d=b;"string"===typeof a&&(a=[a]);Y(b)&&(d=function(a,c){c[b]=l(a)});var f=a.length;for(c=0;c<f;c++)bb[a[c]]=d}function sa(a,b){u(a,function(a,d,f,t){f._w=f._w||{};b(a,f._w,f,t)})}function Da(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=
(b%12+12)%12;return 1===c?aa(a+(b-c)/12)?29:28:31-c%7%2}function Bb(a,b){if(!a.isValid())return a;if("string"===typeof b)if(/^\d+$/.test(b))b=l(b);else if(b=a.localeData().monthsParse(b),!Y(b))return a;var c=Math.min(a.date(),Da(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function Cb(a){return null!=a?(Bb(this,a),g.updateOffset(this,!0),this):Ca(this,"Month")}function Db(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f;for(f=0;12>f;f++){var t=N([2E3,f]);b.push(this.monthsShort(t,
""));c.push(this.months(t,""));d.push(this.months(t,""));d.push(this.monthsShort(t,""))}b.sort(a);c.sort(a);d.sort(a);for(f=0;12>f;f++)b[f]=F(b[f]),c[f]=F(c[f]);for(f=0;24>f;f++)d[f]=F(d[f]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+d.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function tc(a,b,c,d,f,t,e){100>a&&0<=a?(b=new Date(a+400,b,c,d,f,t,e),isFinite(b.getFullYear())&&b.setFullYear(a)):
b=new Date(a,b,c,d,f,t,e);return b}function ta(a){if(100>a&&0<=a){var b=Array.prototype.slice.call(arguments);b[0]=a+400;b=new Date(Date.UTC.apply(null,b));isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a)}else b=new Date(Date.UTC.apply(null,arguments));return b}function Ea(a,b,c){c=7+b-c;return-((7+ta(a,0,c).getUTCDay()-b)%7)+c-1}function Eb(a,b,c,d,f){c=(7+c-d)%7;d=Ea(a,d,f);d=1+7*(b-1)+c+d;0>=d?(b=a-1,a=(aa(b)?366:365)+d):d>(aa(a)?366:365)?(b=a+1,a=d-(aa(a)?366:365)):(b=a,a=d);return{year:b,dayOfYear:a}}
function ua(a,b,c){var d=Ea(a.year(),b,c);d=Math.floor((a.dayOfYear()-d-1)/7)+1;1>d?(a=a.year()-1,b=d+R(a,b,c)):d>R(a.year(),b,c)?(b=d-R(a.year(),b,c),a=a.year()+1):(a=a.year(),b=d);return{week:b,year:a}}function R(a,b,c){var d=Ea(a,b,c);b=Ea(a+1,b,c);return((aa(a)?366:365)-d+b)/7}function cb(a,b){return a.slice(b,7).concat(a.slice(0,b))}function uc(a,b,c){var d;a=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d){var f=
N([2E3,1]).day(d);this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase();this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase();this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase()}if(c)b="dddd"===b?y.call(this._weekdaysParse,a):"ddd"===b?y.call(this._shortWeekdaysParse,a):y.call(this._minWeekdaysParse,a);else if("dddd"===b){b=y.call(this._weekdaysParse,a);if(-1!==b)return b;b=y.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=y.call(this._minWeekdaysParse,
a)}else if("ddd"===b){b=y.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=y.call(this._weekdaysParse,a);if(-1!==b)return b;b=y.call(this._minWeekdaysParse,a)}else{b=y.call(this._minWeekdaysParse,a);if(-1!==b)return b;b=y.call(this._weekdaysParse,a);if(-1!==b)return b;b=y.call(this._shortWeekdaysParse,a)}return-1!==b?b:null}function db(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],f=[],t;for(t=0;7>t;t++){var e=N([2E3,1]).day(t);var g=F(this.weekdaysMin(e,""));var h=F(this.weekdaysShort(e,
""));e=F(this.weekdays(e,""));b.push(g);c.push(h);d.push(e);f.push(g);f.push(h);f.push(e)}b.sort(a);c.sort(a);d.sort(a);f.sort(a);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function eb(){return this.hours()%12||12}function Fb(a,b){k(a,0,0,function(){return this.localeData().meridiem(this.hours(),
this.minutes(),b)})}function Gb(a,b){return b._meridiemParse}function Hb(a){return a?a.toLowerCase().replace("_","-"):a}function Fa(a){var b=null;if(void 0===x[a]&&"undefined"!==typeof module&&module&&module.exports&&null!=a.match("^[^/\\\\]*$"))try{b=va._abbr;var c=require;c("./locale/"+a);ba(b)}catch(d){x[a]=null}return x[a]}function ba(a,b){a&&((b=E(b)?S(a):fb(a,b))?va=b:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?"));return va._abbr}
function fb(a,b){if(null!==b){var c=Ib;b.abbr=a;if(null!=x[a])xb("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=x[a]._config;else if(null!=b.parentLocale)if(null!=x[b.parentLocale])c=x[b.parentLocale]._config;else if(c=Fa(b.parentLocale),null!=c)c=c._config;else return wa[b.parentLocale]||
(wa[b.parentLocale]=[]),wa[b.parentLocale].push({name:a,config:b}),null;x[a]=new Xa(Wa(c,b));wa[a]&&wa[a].forEach(function(a){fb(a.name,a.config)});ba(a);return x[a]}delete x[a];return null}function S(a){var b;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return va;if(!B(a)){if(b=Fa(a))return b;a=[a]}a:{b=0;for(var c,d,f,t;b<a.length;){t=Hb(a[b]).split("-");c=t.length;for(d=(d=Hb(a[b+1]))?d.split("-"):null;0<c;){if(f=Fa(t.slice(0,c).join("-"))){a=f;break a}if(f=d&&d.length>=c){b:{var e=
Math.min(t.length,d.length);for(f=0;f<e;f+=1)if(t[f]!==d[f])break b;f=e}f=f>=c-1}if(f)break;c--}b++}a=va}return a}function gb(a){var b;(b=a._a)&&-2===n(a).overflow&&(b=0>b[T]||11<b[T]?T:1>b[Q]||b[Q]>Da(b[D],b[T])?Q:0>b[z]||24<b[z]||24===b[z]&&(0!==b[L]||0!==b[U]||0!==b[ea])?z:0>b[L]||59<b[L]?L:0>b[U]||59<b[U]?U:0>b[ea]||999<b[ea]?ea:-1,n(a)._overflowDayOfYear&&(b<D||b>Q)&&(b=Q),n(a)._overflowWeeks&&-1===b&&(b=vc),n(a)._overflowWeekday&&-1===b&&(b=wc),n(a).overflow=b);return a}function Jb(a){var b=
a._i;var c=xc.exec(b)||yc.exec(b);var d=Ga.length;var f=hb.length;if(c){n(a).iso=!0;for(b=0;b<d;b++)if(Ga[b][1].exec(c[1])){var e=Ga[b][0];var g=!1!==Ga[b][2];break}if(null==e)a._isValid=!1;else{if(c[3]){b=0;for(d=f;b<d;b++)if(hb[b][1].exec(c[3])){var h=(c[2]||" ")+hb[b][0];break}if(null==h){a._isValid=!1;return}}if(g||null==h){if(c[4])if(zc.exec(c[4]))var k="Z";else{a._isValid=!1;return}a._f=e+(h||"")+(k||"");ib(a)}else a._isValid=!1}}else a._isValid=!1}function Kb(a){var b=Ac.exec(a._i.replace(/\([^()]*\)|[\n\t]/g,
" ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(b){var c=b[3],d=b[2],f=b[5],e=b[6],g=b[7],h=parseInt(b[4],10);c=[49>=h?2E3+h:999>=h?1900+h:h,Lb.indexOf(c),parseInt(d,10),parseInt(f,10),parseInt(e,10)];g&&c.push(parseInt(g,10));a:{if(g=b[1])if(g=Mb.indexOf(g),d=(new Date(c[0],c[1],c[2])).getDay(),g!==d){n(a).weekdayMismatch=!0;g=a._isValid=!1;break a}g=!0}g&&(a._a=c,(g=b[8])?b=Bc[g]:b[9]?b=0:(b=parseInt(b[10],10),g=b%100,b=(b-g)/100*60+g),a._tzm=b,a._d=ta.apply(null,a._a),
a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),n(a).rfc2822=!0)}else a._isValid=!1}function Cc(a){var b=Dc.exec(a._i);null!==b?a._d=new Date(+b[1]):(Jb(a),!1===a._isValid&&(delete a._isValid,Kb(a),!1===a._isValid&&(delete a._isValid,a._strict?a._isValid=!1:g.createFromInputFallback(a))))}function ka(a,b,c){return null!=a?a:null!=b?b:c}function jb(a){var b=[];if(!a._d){var c=new Date(g.now());c=a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()];
if(a._w&&null==a._a[Q]&&null==a._a[T]){var d=a._w;if(null!=d.GG||null!=d.W||null!=d.E){var f=1;var e=4;var h=ka(d.GG,a._a[D],ua(v(),1,4).year);var k=ka(d.W,1);var l=ka(d.E,1);if(1>l||7<l)var r=!0}else if(f=a._locale._week.dow,e=a._locale._week.doy,k=ua(v(),f,e),h=ka(d.gg,a._a[D],k.year),k=ka(d.w,k.week),null!=d.d){if(l=d.d,0>l||6<l)r=!0}else if(null!=d.e){if(l=d.e+f,0>d.e||6<d.e)r=!0}else l=f;1>k||k>R(h,f,e)?n(a)._overflowWeeks=!0:null!=r?n(a)._overflowWeekday=!0:(r=Eb(h,k,l,f,e),a._a[D]=r.year,a._dayOfYear=
r.dayOfYear)}if(null!=a._dayOfYear){r=ka(a._a[D],c[D]);if(a._dayOfYear>(aa(r)?366:365)||0===a._dayOfYear)n(a)._overflowDayOfYear=!0;r=ta(r,0,a._dayOfYear);a._a[T]=r.getUTCMonth();a._a[Q]=r.getUTCDate()}for(r=0;3>r&&null==a._a[r];++r)a._a[r]=b[r]=c[r];for(;7>r;r++)a._a[r]=b[r]=null==a._a[r]?2===r?1:0:a._a[r];24===a._a[z]&&0===a._a[L]&&0===a._a[U]&&0===a._a[ea]&&(a._nextDay=!0,a._a[z]=0);a._d=(a._useUTC?ta:tc).apply(null,b);b=a._useUTC?a._d.getUTCDay():a._d.getDay();null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-
a._tzm);a._nextDay&&(a._a[z]=24);a._w&&"undefined"!==typeof a._w.d&&a._w.d!==b&&(n(a).weekdayMismatch=!0)}}function ib(a){if(a._f===g.ISO_8601)Jb(a);else if(a._f===g.RFC_2822)Kb(a);else{a._a=[];n(a).empty=!0;var b=""+a._i,c,d,f=b.length,e=0;var h=zb(a._f,a._locale).match(Ya)||[];var k=h.length;for(c=0;c<k;c++){var l=h[c];if(d=(b.match(rc(l,a))||[])[0]){var r=b.substr(0,b.indexOf(d));0<r.length&&n(a).unusedInput.push(r);b=b.slice(b.indexOf(d)+d.length);e+=d.length}if(ia[l]){if(d?n(a).empty=!1:n(a).unusedTokens.push(l),
r=a,null!=d&&q(bb,l))bb[l](d,r._a,r,l)}else a._strict&&!d&&n(a).unusedTokens.push(l)}n(a).charsLeftOver=f-e;0<b.length&&n(a).unusedInput.push(b);12>=a._a[z]&&!0===n(a).bigHour&&0<a._a[z]&&(n(a).bigHour=void 0);n(a).parsedDateParts=a._a.slice(0);n(a).meridiem=a._meridiem;b=a._a;c=z;f=a._locale;h=a._a[z];e=a._meridiem;null!=e&&(null!=f.meridiemHour?h=f.meridiemHour(h,e):null!=f.isPM&&((f=f.isPM(e))&&12>h&&(h+=12),f||12!==h||(h=0)));b[c]=h;b=n(a).era;null!==b&&(a._a[D]=a._locale.erasConvertYear(b,a._a[D]));
jb(a);gb(a)}}function Ec(a){if(!a._d){var b=$a(a._i);a._a=tb([b.year,b.month,void 0===b.day?b.date:b.day,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});jb(a)}}function Nb(a){var b=a._i,c=a._f;a._locale=a._locale||S(a._l);if(null===b||void 0===c&&""===b)return za({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(K(b))return new qa(gb(b));if(pa(b))a._d=b;else if(B(c)){var d=!1,f=a._f.length;if(0===f)n(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=
0;b<f;b++){c=0;var e=!1;var g=Ua({},a);null!=a._useUTC&&(g._useUTC=a._useUTC);g._f=a._f[b];ib(g);Ta(g)&&(e=!0);c+=n(g).charsLeftOver;c+=10*n(g).unusedTokens.length;n(g).score=c;if(d)c<h&&(h=c,k=g);else if(null==h||c<h||e){var h=c;var k=g;e&&(d=!0)}}Z(a,k||g)}}else c?ib(a):Fc(a);Ta(a)||(a._d=null);return a}function Fc(a){var b=a._i;E(b)?a._d=new Date(g.now()):pa(b)?a._d=new Date(b.valueOf()):"string"===typeof b?Cc(a):B(b)?(a._a=tb(b.slice(0),function(a){return parseInt(a,10)}),jb(a)):da(b)?Ec(a):Y(b)?
a._d=new Date(b):g.createFromInputFallback(a)}function ub(a,b,c,d,f){var e={};if(!0===b||!1===b)d=b,b=void 0;if(!0===c||!1===c)d=c,c=void 0;if(da(a)&&Sa(a)||B(a)&&0===a.length)a=void 0;e._isAMomentObject=!0;e._useUTC=e._isUTC=f;e._l=c;e._i=a;e._f=b;e._strict=d;a=new qa(gb(Nb(e)));a._nextDay&&(a.add(1,"d"),a._nextDay=void 0);return a}function v(a,b,c,d){return ub(a,b,c,d,!1)}function Ob(a,b){var c;1===b.length&&B(b[0])&&(b=b[0]);if(!b.length)return v();var d=b[0];for(c=1;c<b.length;++c)if(!b[c].isValid()||
b[c][a](d))d=b[c];return d}function Ha(a){var b=$a(a);a=b.year||0;var c=b.quarter||0,d=b.month||0,f=b.week||b.isoWeek||0,e=b.day||0,g=b.hour||0,h=b.minute||0,k=b.second||0,n=b.millisecond||0;a:{var m,p=!1,u=xa.length;for(m in b)if(q(b,m)&&(-1===y.call(xa,m)||null!=b[m]&&isNaN(b[m]))){b=!1;break a}for(m=0;m<u;++m)if(b[xa[m]]){if(p){b=!1;break a}parseFloat(b[xa[m]])!==l(b[xa[m]])&&(p=!0)}b=!0}this._isValid=b;this._milliseconds=+n+1E3*k+6E4*h+36E5*g;this._days=+e+7*f;this._months=+d+3*c+12*a;this._data=
{};this._locale=S();this._bubble()}function Ia(a){return a instanceof Ha}function kb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Pb(a,b){k(a,0,0,function(){var a=this.utcOffset(),d="+";0>a&&(a=-a,d="-");return d+P(~~(a/60),2)+b+P(~~a%60,2)})}function lb(a,b){a=(b||"").match(a);if(null===a)return null;a=((a[a.length-1]||[])+"").match(Gc)||["-",0,0];b=+(60*a[1])+l(a[2]);return 0===b?0:"+"===a[0]?b:-b}function mb(a,b){return b._isUTC?(b=b.clone(),a=(K(a)||pa(a)?a.valueOf():v(a).valueOf())-
b.valueOf(),b._d.setTime(b._d.valueOf()+a),g.updateOffset(b,!1),b):v(a).local()}function Qb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function M(a,b){var c=a;Ia(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:Y(a)||!isNaN(+a)?(c={},b?c[b]=+a:c.milliseconds=+a):(b=Hc.exec(a))?(c="-"===b[1]?-1:1,c={y:0,d:l(b[Q])*c,h:l(b[z])*c,m:l(b[L])*c,s:l(b[U])*c,ms:l(kb(1E3*b[ea]))*c}):(b=Ic.exec(a))?(c="-"===b[1]?-1:1,c={y:fa(b[2],c),M:fa(b[3],c),w:fa(b[4],c),d:fa(b[5],c),h:fa(b[6],c),m:fa(b[7],
c),s:fa(b[8],c)}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(b=v(c.from),c=v(c.to),b.isValid()&&c.isValid()?(c=mb(c,b),b.isBefore(c)?c=Rb(b,c):(c=Rb(c,b),c.milliseconds=-c.milliseconds,c.months=-c.months),b=c):b={milliseconds:0,months:0},c={},c.ms=b.milliseconds,c.M=b.months);c=new Ha(c);Ia(a)&&q(a,"_locale")&&(c._locale=a._locale);Ia(a)&&q(a,"_isValid")&&(c._isValid=a._isValid);return c}function fa(a,b){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b}function Rb(a,b){var c=
{};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function Sb(a,b){return function(c,d){if(null!==d&&!isNaN(+d)){xb(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");var f=c;c=d;d=f}c=M(c,d);Tb(this,c,a);return this}}function Tb(a,b,c,d){var f=b._milliseconds,e=kb(b._days);
b=kb(b._months);a.isValid()&&(d=null==d?!0:d,b&&Bb(a,Ca(a,"Month")+b*c),e&&Ab(a,"Date",Ca(a,"Date")+e*c),f&&a._d.setTime(a._d.valueOf()+f*c),d&&g.updateOffset(a,e||b))}function Ub(a){return"string"===typeof a||a instanceof String}function Jc(a){var b=B(a),c=!1;b&&(c=0===a.filter(function(b){return!Y(b)&&Ub(a)}).length);return b&&c}function Ja(a,b){if(a.date()<b.date())return-Ja(b,a);var c=12*(b.year()-a.year())+(b.month()-a.month()),d=a.clone().add(c,"months");0>b-d?(a=a.clone().add(c-1,"months"),
b=(b-d)/(d-a)):(a=a.clone().add(c+1,"months"),b=(b-d)/(a-d));return-(c+b)||0}function Vb(a){if(void 0===a)return this._locale._abbr;a=S(a);null!=a&&(this._locale=a);return this}function Wb(){return this._locale}function la(a,b){return(a%b+b)%b}function Xb(a,b,c){return 100>a&&0<=a?new Date(a+400,b,c)-126227808E5:(new Date(a,b,c)).valueOf()}function Yb(a,b,c){return 100>a&&0<=a?Date.UTC(a+400,b,c)-126227808E5:Date.UTC(a,b,c)}function nb(a,b){return b.erasAbbrRegex(a)}function ob(){var a=[],b=[],c=
[],d=[],f,e=this.eras();var g=0;for(f=e.length;g<f;++g)b.push(F(e[g].name)),a.push(F(e[g].abbr)),c.push(F(e[g].narrow)),d.push(F(e[g].name)),d.push(F(e[g].abbr)),d.push(F(e[g].narrow));this._erasRegex=new RegExp("^("+d.join("|")+")","i");this._erasNameRegex=new RegExp("^("+b.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}function Ka(a,b){k(0,[a,a.length],0,b)}function Zb(a,b,c,d,f){if(null==a)return ua(this,d,
f).year;var e=R(a,d,f);b>e&&(b=e);a=Eb(a,b,c,d,f);a=ta(a.year,0,a.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());this.date(a.getUTCDate());return this}function Kc(a,b){b[ea]=l(1E3*("0."+a))}function $b(a){return a}function La(a,b,c,d){var f=S();b=N().set(d,b);return f[c](b,a)}function ac(a,b,c){Y(a)&&(b=a,a=void 0);a=a||"";if(null!=b)return La(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=La(a,b,c,"month");return d}function pb(a,b,c,d){"boolean"!==typeof a&&(c=b=a,a=!1);Y(b)&&
(c=b,b=void 0);b=b||"";var f=S();a=a?f._week.dow:0;f=[];if(null!=c)return La(b,(c+a)%7,d,"day");for(c=0;7>c;c++)f[c]=La(b,(c+a)%7,d,"day");return f}function bc(a,b,c,d){b=M(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function cc(a){return 0>a?Math.floor(a):Math.ceil(a)}function V(a){return function(){return this.as(a)}}function ha(a){return function(){return this.isValid()?this._data[a]:NaN}}function Lc(a,b,c,d,f){return f.relativeTime(b||1,
!!c,a,d)}function ma(a){return(0<a)-(0>a)||+a}function Ma(){if(!this.isValid())return this.localeData().invalidDate();var a=qb(this._milliseconds)/1E3,b=qb(this._days),c=qb(this._months),d=this.asSeconds();if(!d)return"P0D";var f=J(a/60);var e=J(f/60);a%=60;f%=60;var g=J(c/12);c%=12;var h=a?a.toFixed(3).replace(/\.?0+$/,""):"";var k=0>d?"-":"";var l=ma(this._months)!==ma(d)?"-":"";var m=ma(this._days)!==ma(d)?"-":"";d=ma(this._milliseconds)!==ma(d)?"-":"";return k+"P"+(g?l+g+"Y":"")+(c?l+c+"M":"")+
(b?m+b+"D":"")+(e||f||a?"T":"")+(e?d+e+"H":"")+(f?d+f+"M":"")+(a?d+h+"S":"")}var mc=Array.prototype.some?Array.prototype.some:function(a){var b=Object(this),c=b.length>>>0,d;for(d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var vb=g.momentProperties=[],Va=!1,yb={};g.suppressDeprecationWarnings=!1;g.deprecationHandler=null;var Mc=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)q(a,b)&&c.push(b);return c};var Ya=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
Ba=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Za={},ia={},ra={},A={},dc=/\d/,G=/\d\d/,ec=/\d{3}/,rb=/\d{4}/,Na=/[+-]?\d{6}/,w=/\d\d?/,fc=/\d\d\d\d?/,gc=/\d\d\d\d\d\d?/,Oa=/\d{1,3}/,sb=/\d{1,4}/,Pa=/[+-]?\d{1,6}/,na=/\d+/,Qa=/[+-]?\d+/,Nc=/Z|[+-]\d\d:?\d\d/gi,Ra=/Z|[+-]\d\d(?::?\d\d)?/gi,ya=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var ab={};var bb={},D=0,T=1,Q=2,z=3,L=4,U=5,ea=6,vc=7,wc=
8;var y=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};k("M",["MM",2],"Mo",function(){return this.month()+1});k("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});k("MMMM",0,0,function(a){return this.localeData().months(this,a)});C("month","M");A.month=8;h("M",w);h("MM",w,G);h("MMM",function(a,b){return b.monthsShortRegex(a)});h("MMMM",function(a,b){return b.monthsRegex(a)});u(["M","MM"],function(a,b){b[T]=
l(a)-1});u(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[T]=d:n(c).invalidMonth=a});var Lb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),hc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;k("Y",0,0,function(){var a=this.year();return 9999>=a?P(a,4):"+"+a});k(0,["YY",2],0,function(){return this.year()%100});k(0,["YYYY",4],0,"year");k(0,["YYYYY",5],0,"year");k(0,["YYYYYY",6,!0],0,"year");C("year","y");A.year=1;h("Y",Qa);h("YY",w,G);h("YYYY",sb,rb);h("YYYYY",Pa,Na);
h("YYYYYY",Pa,Na);u(["YYYYY","YYYYYY"],D);u("YYYY",function(a,b){b[D]=2===a.length?g.parseTwoDigitYear(a):l(a)});u("YY",function(a,b){b[D]=g.parseTwoDigitYear(a)});u("Y",function(a,b){b[D]=parseInt(a,10)});g.parseTwoDigitYear=function(a){return l(a)+(68<l(a)?1900:2E3)};var ic=ja("FullYear",!0);k("w",["ww",2],"wo","week");k("W",["WW",2],"Wo","isoWeek");C("week","w");C("isoWeek","W");A.week=5;A.isoWeek=5;h("w",w);h("ww",w,G);h("W",w);h("WW",w,G);sa(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,
1)]=l(a)});k("d",0,"do","day");k("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});k("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});k("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});k("e",0,0,"weekday");k("E",0,0,"isoWeekday");C("day","d");C("weekday","e");C("isoWeekday","E");A.day=11;A.weekday=11;A.isoWeekday=11;h("d",w);h("e",w);h("E",w);h("dd",function(a,b){return b.weekdaysMinRegex(a)});h("ddd",function(a,b){return b.weekdaysShortRegex(a)});
h("dddd",function(a,b){return b.weekdaysRegex(a)});sa(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:n(c).invalidWeekday=a});sa(["d","e","E"],function(a,b,c,d){b[d]=l(a)});var Mb="Sun Mon Tue Wed Thu Fri Sat".split(" ");k("H",["HH",2],0,"hour");k("h",["hh",2],0,eb);k("k",["kk",2],0,function(){return this.hours()||24});k("hmm",0,0,function(){return""+eb.apply(this)+P(this.minutes(),2)});k("hmmss",0,0,function(){return""+eb.apply(this)+P(this.minutes(),
2)+P(this.seconds(),2)});k("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)});k("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)});Fb("a",!0);Fb("A",!1);C("hour","h");A.hour=13;h("a",Gb);h("A",Gb);h("H",w);h("h",w);h("k",w);h("HH",w,G);h("hh",w,G);h("kk",w,G);h("hmm",fc);h("hmmss",gc);h("Hmm",fc);h("Hmmss",gc);u(["H","HH"],z);u(["k","kk"],function(a,b,c){a=l(a);b[z]=24===a?0:a});u(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});
u(["h","hh"],function(a,b,c){b[z]=l(a);n(c).bigHour=!0});u("hmm",function(a,b,c){var d=a.length-2;b[z]=l(a.substr(0,d));b[L]=l(a.substr(d));n(c).bigHour=!0});u("hmmss",function(a,b,c){var d=a.length-4,f=a.length-2;b[z]=l(a.substr(0,d));b[L]=l(a.substr(d,2));b[U]=l(a.substr(f));n(c).bigHour=!0});u("Hmm",function(a,b,c){c=a.length-2;b[z]=l(a.substr(0,c));b[L]=l(a.substr(c))});u("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[z]=l(a.substr(0,c));b[L]=l(a.substr(c,2));b[U]=l(a.substr(d))});var Oc=
ja("Hours",!0),Ib={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",
hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:Lb,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:Mb,meridiemParse:/[ap]\.?m?\.?/i},x={},wa={},va,xc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
yc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zc=/Z|[+-]\d\d(?::?\d\d)?/,Ga=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",
/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dc=/^\/?Date\((-?\d+)/i,Ac=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
Bc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};g.createFromInputFallback=H("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});g.ISO_8601=function(){};g.RFC_2822=function(){};
var Pc=H("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=v.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:za()}),Qc=H("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=v.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:za()}),xa="year quarter month week day hour minute second millisecond".split(" ");Pb("Z",":");Pb("ZZ",
"");h("Z",Ra);h("ZZ",Ra);u(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=lb(Ra,a)});var Gc=/([\+\-]|\d\d)/gi;g.updateOffset=function(){};var Hc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ic=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;M.fn=Ha.prototype;M.invalid=function(){return M(NaN)};var Rc=Sb(1,"add"),Sc=Sb(-1,"subtract");g.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
g.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var jc=H("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});k("N",0,0,"eraAbbr");k("NN",0,0,"eraAbbr");k("NNN",0,0,"eraAbbr");k("NNNN",0,0,"eraName");k("NNNNN",0,0,"eraNarrow");k("y",["y",1],"yo","eraYear");k("y",["yy",2],0,"eraYear");k("y",["yyy",3],0,"eraYear");k("y",["yyyy",4],0,"eraYear");h("N",
nb);h("NN",nb);h("NNN",nb);h("NNNN",function(a,b){return b.erasNameRegex(a)});h("NNNNN",function(a,b){return b.erasNarrowRegex(a)});u(["N","NN","NNN","NNNN","NNNNN"],function(a,b,c,d){(b=c._locale.erasParse(a,d,c._strict))?n(c).era=b:n(c).invalidEra=a});h("y",na);h("yy",na);h("yyy",na);h("yyyy",na);h("yo",function(a,b){return b._eraYearOrdinalRegex||na});u(["y","yy","yyy","yyyy"],D);u(["yo"],function(a,b,c,d){var f;c._locale._eraYearOrdinalRegex&&(f=a.match(c._locale._eraYearOrdinalRegex));b[D]=c._locale.eraYearOrdinalParse?
c._locale.eraYearOrdinalParse(a,f):parseInt(a,10)});k(0,["gg",2],0,function(){return this.weekYear()%100});k(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ka("gggg","weekYear");Ka("ggggg","weekYear");Ka("GGGG","isoWeekYear");Ka("GGGGG","isoWeekYear");C("weekYear","gg");C("isoWeekYear","GG");A.weekYear=1;A.isoWeekYear=1;h("G",Qa);h("g",Qa);h("GG",w,G);h("gg",w,G);h("GGGG",sb,rb);h("gggg",sb,rb);h("GGGGG",Pa,Na);h("ggggg",Pa,Na);sa(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,
2)]=l(a)});sa(["gg","GG"],function(a,b,c,d){b[d]=g.parseTwoDigitYear(a)});k("Q",0,"Qo","quarter");C("quarter","Q");A.quarter=7;h("Q",dc);u("Q",function(a,b){b[T]=3*(l(a)-1)});k("D",["DD",2],"Do","date");C("date","D");A.date=9;h("D",w);h("DD",w,G);h("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});u(["D","DD"],Q);u("Do",function(a,b){b[Q]=l(a.match(w)[0])});var kc=ja("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear");C("dayOfYear","DDD");A.dayOfYear=
4;h("DDD",Oa);h("DDDD",ec);u(["DDD","DDDD"],function(a,b,c){c._dayOfYear=l(a)});k("m",["mm",2],0,"minute");C("minute","m");A.minute=14;h("m",w);h("mm",w,G);u(["m","mm"],L);var Tc=ja("Minutes",!1);k("s",["ss",2],0,"second");C("second","s");A.second=15;h("s",w);h("ss",w,G);u(["s","ss"],U);var Uc=ja("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)});k(0,["SS",2],0,function(){return~~(this.millisecond()/10)});k(0,["SSS",3],0,"millisecond");k(0,["SSSS",4],0,function(){return 10*this.millisecond()});
k(0,["SSSSS",5],0,function(){return 100*this.millisecond()});k(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});k(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});k(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});k(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});C("millisecond","ms");A.millisecond=16;h("S",Oa,dc);h("SS",Oa,G);h("SSS",Oa,ec);var ca;for(ca="SSSS";9>=ca.length;ca+="S")h(ca,na);for(ca="S";9>=ca.length;ca+="S")u(ca,Kc);var Vc=ja("Milliseconds",
!1);k("z",0,0,"zoneAbbr");k("zz",0,0,"zoneName");var e=qa.prototype;e.add=Rc;e.calendar=function(a,b){if(1===arguments.length)if(arguments[0]){var c=arguments[0],d;if(!(d=K(c)||pa(c)||Ub(c)||Y(c)||Jc(c))){d=da(c)&&!Sa(c);var f=!1,e="years year y months month M days day d dates date D hours hour h minutes minute m seconds second s milliseconds millisecond ms".split(" "),h,k=e.length;for(h=0;h<k;h+=1){var l=e[h];f=f||q(c,l)}d=d&&f}if(d||null===c||void 0===c)a=arguments[0],b=void 0;else{c=arguments[0];
d=da(c)&&!Sa(c);f=!1;e="sameDay nextDay lastDay nextWeek lastWeek sameElse".split(" ");for(h=0;h<e.length;h+=1)l=e[h],f=f||q(c,l);d&&f&&(b=arguments[0],a=void 0)}}else b=a=void 0;c=a||v();d=mb(c,this).startOf("day");d=g.calendarFormat(this,d)||"sameElse";f=b&&(O(b[d])?b[d].call(this,c):b[d]);return this.format(f||this.localeData().calendar(d,this,v(c)))};e.clone=function(){return new qa(this)};e.diff=function(a,b,c){if(!this.isValid())return NaN;a=mb(a,this);if(!a.isValid())return NaN;var d=6E4*(a.utcOffset()-
this.utcOffset());b=I(b);switch(b){case "year":b=Ja(this,a)/12;break;case "month":b=Ja(this,a);break;case "quarter":b=Ja(this,a)/3;break;case "second":b=(this-a)/1E3;break;case "minute":b=(this-a)/6E4;break;case "hour":b=(this-a)/36E5;break;case "day":b=(this-a-d)/864E5;break;case "week":b=(this-a-d)/6048E5;break;default:b=this-a}return c?b:J(b)};e.endOf=function(a){a=I(a);if(void 0===a||"millisecond"===a||!this.isValid())return this;var b=this._isUTC?Yb:Xb;switch(a){case "year":var c=b(this.year()+
1,0,1)-1;break;case "quarter":c=b(this.year(),this.month()-this.month()%3+3,1)-1;break;case "month":c=b(this.year(),this.month()+1,1)-1;break;case "week":c=b(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case "isoWeek":c=b(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case "day":case "date":c=b(this.year(),this.month(),this.date()+1)-1;break;case "hour":c=this._d.valueOf();c+=36E5-la(c+(this._isUTC?0:6E4*this.utcOffset()),36E5)-1;break;case "minute":c=this._d.valueOf();
c+=6E4-la(c,6E4)-1;break;case "second":c=this._d.valueOf(),c+=1E3-la(c,1E3)-1}this._d.setTime(c);g.updateOffset(this,!0);return this};e.format=function(a){a||(a=this.isUtc()?g.defaultFormatUtc:g.defaultFormat);a=Aa(this,a);return this.localeData().postformat(a)};e.from=function(a,b){return this.isValid()&&(K(a)&&a.isValid()||v(a).isValid())?M({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};e.fromNow=function(a){return this.from(v(),a)};e.to=function(a,b){return this.isValid()&&
(K(a)&&a.isValid()||v(a).isValid())?M({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};e.toNow=function(a){return this.to(v(),a)};e.get=function(a){a=I(a);return O(this[a])?this[a]():this};e.invalidAt=function(){return n(this).overflow};e.isAfter=function(a,b){a=K(a)?a:v(a);if(!this.isValid()||!a.isValid())return!1;b=I(b)||"millisecond";return"millisecond"===b?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf()};e.isBefore=function(a,b){a=
K(a)?a:v(a);if(!this.isValid()||!a.isValid())return!1;b=I(b)||"millisecond";return"millisecond"===b?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf()};e.isBetween=function(a,b,c,d){a=K(a)?a:v(a);b=K(b)?b:v(b);if(!(this.isValid()&&a.isValid()&&b.isValid()))return!1;d=d||"()";return("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};e.isSame=function(a,b){a=K(a)?a:v(a);if(!this.isValid()||!a.isValid())return!1;b=I(b)||"millisecond";
if("millisecond"===b)return this.valueOf()===a.valueOf();a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()};e.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};e.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};e.isValid=function(){return Ta(this)};e.lang=jc;e.locale=Vb;e.localeData=Wb;e.max=Qc;e.min=Pc;e.parsingFlags=function(){return Z({},n(this))};e.set=function(a,b){if("object"===typeof a){a=$a(a);b=qc(a);
var c,d=b.length;for(c=0;c<d;c++)this[b[c].unit](a[b[c].unit])}else if(a=I(a),O(this[a]))return this[a](b);return this};e.startOf=function(a){a=I(a);if(void 0===a||"millisecond"===a||!this.isValid())return this;var b=this._isUTC?Yb:Xb;switch(a){case "year":var c=b(this.year(),0,1);break;case "quarter":c=b(this.year(),this.month()-this.month()%3,1);break;case "month":c=b(this.year(),this.month(),1);break;case "week":c=b(this.year(),this.month(),this.date()-this.weekday());break;case "isoWeek":c=b(this.year(),
this.month(),this.date()-(this.isoWeekday()-1));break;case "day":case "date":c=b(this.year(),this.month(),this.date());break;case "hour":c=this._d.valueOf();c-=la(c+(this._isUTC?0:6E4*this.utcOffset()),36E5);break;case "minute":c=this._d.valueOf();c-=la(c,6E4);break;case "second":c=this._d.valueOf(),c-=la(c,1E3)}this._d.setTime(c);g.updateOffset(this,!0);return this};e.subtract=Sc;e.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};
e.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};e.toDate=function(){return new Date(this.valueOf())};e.toISOString=function(a){if(!this.isValid())return null;var b=(a=!0!==a)?this.clone().utc():this;return 0>b.year()||9999<b.year()?Aa(b,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?a?this.toDate().toISOString():(new Date(this.valueOf()+
6E4*this.utcOffset())).toISOString().replace("Z",Aa(b,"Z")):Aa(b,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};e.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");a="["+a+'("]';var c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};"undefined"!==typeof Symbol&&null!=Symbol.for&&(e[Symbol.for("nodejs.util.inspect.custom")]=
function(){return"Moment\x3c"+this.format()+"\x3e"});e.toJSON=function(){return this.isValid()?this.toISOString():null};e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};e.unix=function(){return Math.floor(this.valueOf()/1E3)};e.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};e.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};e.eraName=function(){var a,b=this.localeData().eras();
var c=0;for(a=b.length;c<a;++c){var d=this.clone().startOf("day").valueOf();if(b[c].since<=d&&d<=b[c].until||b[c].until<=d&&d<=b[c].since)return b[c].name}return""};e.eraNarrow=function(){var a,b=this.localeData().eras();var c=0;for(a=b.length;c<a;++c){var d=this.clone().startOf("day").valueOf();if(b[c].since<=d&&d<=b[c].until||b[c].until<=d&&d<=b[c].since)return b[c].narrow}return""};e.eraAbbr=function(){var a,b=this.localeData().eras();var c=0;for(a=b.length;c<a;++c){var d=this.clone().startOf("day").valueOf();
if(b[c].since<=d&&d<=b[c].until||b[c].until<=d&&d<=b[c].since)return b[c].abbr}return""};e.eraYear=function(){var a,b=this.localeData().eras();var c=0;for(a=b.length;c<a;++c){var d=b[c].since<=b[c].until?1:-1;var f=this.clone().startOf("day").valueOf();if(b[c].since<=f&&f<=b[c].until||b[c].until<=f&&f<=b[c].since)return(this.year()-g(b[c].since).year())*d+b[c].offset}return this.year()};e.year=ic;e.isLeapYear=function(){return aa(this.year())};e.weekYear=function(a){return Zb.call(this,a,this.week(),
this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};e.isoWeekYear=function(a){return Zb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};e.quarter=e.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};e.month=Cb;e.daysInMonth=function(){return Da(this.year(),this.month())};e.week=e.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};e.isoWeek=e.isoWeeks=function(a){var b=ua(this,1,4).week;
return null==a?b:this.add(7*(a-b),"d")};e.weeksInYear=function(){var a=this.localeData()._week;return R(this.year(),a.dow,a.doy)};e.weeksInWeekYear=function(){var a=this.localeData()._week;return R(this.weekYear(),a.dow,a.doy)};e.isoWeeksInYear=function(){return R(this.year(),1,4)};e.isoWeeksInISOWeekYear=function(){return R(this.isoWeekYear(),1,4)};e.date=kc;e.day=e.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var c=
this.localeData();"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),a="number"===typeof a?a:null):a=parseInt(a,10));return this.add(a-b,"d")}return b};e.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};e.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"===typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?
a:a-7)}return this.day()||7};e.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};e.hour=e.hours=Oc;e.minute=e.minutes=Tc;e.second=e.seconds=Uc;e.millisecond=e.milliseconds=Vc;e.utcOffset=function(a,b,c){var d=this._offset||0,f;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"===typeof a){if(a=lb(Ra,a),null===a)return this}else 16>Math.abs(a)&&!c&&(a*=60);!this._isUTC&&b&&(f=-Math.round(this._d.getTimezoneOffset()));
this._offset=a;this._isUTC=!0;null!=f&&this.add(f,"m");d!==a&&(!b||this._changeInProgress?Tb(this,M(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,g.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?d:-Math.round(this._d.getTimezoneOffset())};e.utc=function(a){return this.utcOffset(0,a)};e.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(-Math.round(this._d.getTimezoneOffset()),"m"));return this};e.parseZone=function(){if(null!=
this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var a=lb(Nc,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this};e.hasAlignedHourOffset=function(a){if(!this.isValid())return!1;a=a?v(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};e.isLocal=function(){return this.isValid()?!this._isUTC:!1};e.isUtcOffset=function(){return this.isValid()?
this._isUTC:!1};e.isUtc=Qb;e.isUTC=Qb;e.zoneAbbr=function(){return this._isUTC?"UTC":""};e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};e.dates=H("dates accessor is deprecated. Use date instead.",kc);e.months=H("months accessor is deprecated. Use month instead",Cb);e.years=H("years accessor is deprecated. Use year instead",ic);e.zone=H("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?
("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});e.isDSTShifted=H("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!E(this._isDSTShifted))return this._isDSTShifted;var a={};Ua(a,this);a=Nb(a);if(a._a){var b=a._isUTC?N(a._a):v(a._a);var c;if(c=this.isValid()){a=a._a;b=b.toArray();c=Math.min(a.length,b.length);var d=Math.abs(a.length-b.length),f=0,e;for(e=0;e<c;e++)l(a[e])!==l(b[e])&&f++;c=0<f+d}this._isDSTShifted=
c}else this._isDSTShifted=!1;return this._isDSTShifted});var p=Xa.prototype;p.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return O(a)?a.call(b,c):a};p.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];if(b||!c)return b;this._longDateFormat[a]=c.match(Ya).map(function(a){return"MMMM"===a||"MM"===a||"DD"===a||"dddd"===a?a.slice(1):a}).join("");return this._longDateFormat[a]};p.invalidDate=function(){return this._invalidDate};p.ordinal=
function(a){return this._ordinal.replace("%d",a)};p.preparse=$b;p.postformat=$b;p.relativeTime=function(a,b,c,d){var f=this._relativeTime[c];return O(f)?f(a,b,c,d):f.replace(/%d/i,a)};p.pastFuture=function(a,b){a=this._relativeTime[0<a?"future":"past"];return O(a)?a(b):a.replace(/%s/i,b)};p.set=function(a){var b;for(b in a)if(q(a,b)){var c=a[b];O(c)?this[b]=c:this["_"+b]=c}this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+
"|"+/\d{1,2}/.source)};p.eras=function(a,b){var c=this._eras||S("en")._eras;a=0;for(b=c.length;a<b;++a){switch(typeof c[a].since){case "string":var d=g(c[a].since).startOf("day");c[a].since=d.valueOf()}switch(typeof c[a].until){case "undefined":c[a].until=Infinity;break;case "string":d=g(c[a].until).startOf("day").valueOf(),c[a].until=d.valueOf()}}return c};p.erasParse=function(a,b,c){var d,f=this.eras();a=a.toUpperCase();var e=0;for(d=f.length;e<d;++e){var g=f[e].name.toUpperCase();var h=f[e].abbr.toUpperCase();
var k=f[e].narrow.toUpperCase();if(c)switch(b){case "N":case "NN":case "NNN":if(h===a)return f[e];break;case "NNNN":if(g===a)return f[e];break;case "NNNNN":if(k===a)return f[e]}else if(0<=[g,h,k].indexOf(a))return f[e]}};p.erasConvertYear=function(a,b){var c=a.since<=a.until?1:-1;return void 0===b?g(a.since).year():g(a.since).year()+(b-a.offset)*c};p.erasAbbrRegex=function(a){q(this,"_erasAbbrRegex")||ob.call(this);return a?this._erasAbbrRegex:this._erasRegex};p.erasNameRegex=function(a){q(this,"_erasNameRegex")||
ob.call(this);return a?this._erasNameRegex:this._erasRegex};p.erasNarrowRegex=function(a){q(this,"_erasNarrowRegex")||ob.call(this);return a?this._erasNarrowRegex:this._erasRegex};p.months=function(a,b){return a?B(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||hc).test(b)?"format":"standalone"][a.month()]:B(this._months)?this._months:this._months.standalone};p.monthsShort=function(a,b){return a?B(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[hc.test(b)?
"format":"standalone"][a.month()]:B(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};p.monthsParse=function(a,b,c){var d;if(this._monthsParseExact){a:{a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d){var f=N([2E3,d]);this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase();this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase()}if(c)b="MMM"===b?y.call(this._shortMonthsParse,
a):y.call(this._longMonthsParse,a);else if("MMM"===b){b=y.call(this._shortMonthsParse,a);if(-1!==b)break a;b=y.call(this._longMonthsParse,a)}else{b=y.call(this._longMonthsParse,a);if(-1!==b)break a;b=y.call(this._shortMonthsParse,a)}b=-1!==b?b:null}return b}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if(f=N([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(f,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(f,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(f,"")+"|^"+this.monthsShort(f,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};p.monthsRegex=function(a){if(this._monthsParseExact)return q(this,"_monthsRegex")||Db.call(this),a?this._monthsStrictRegex:this._monthsRegex;q(this,"_monthsRegex")||
(this._monthsRegex=ya);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};p.monthsShortRegex=function(a){if(this._monthsParseExact)return q(this,"_monthsRegex")||Db.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex;q(this,"_monthsShortRegex")||(this._monthsShortRegex=ya);return this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex};p.week=function(a){return ua(a,this._week.dow,this._week.doy).week};p.firstDayOfYear=function(){return this._week.doy};
p.firstDayOfWeek=function(){return this._week.dow};p.weekdays=function(a,b){b=B(this._weekdays)?this._weekdays:this._weekdays[a&&!0!==a&&this._weekdays.isFormat.test(b)?"format":"standalone"];return!0===a?cb(b,this._week.dow):a?b[a.day()]:b};p.weekdaysMin=function(a){return!0===a?cb(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin};p.weekdaysShort=function(a){return!0===a?cb(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort};p.weekdaysParse=
function(a,b,c){var d;if(this._weekdaysParseExact)return uc.call(this,a,b,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++){var f=N([2E3,1]).day(d);c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(f,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(f,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+
this.weekdaysMin(f,"").replace(".","\\.?")+"$","i"));this._weekdaysParse[d]||(f="^"+this.weekdays(f,"")+"|^"+this.weekdaysShort(f,"")+"|^"+this.weekdaysMin(f,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i"));if(c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a)||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d}};p.weekdaysRegex=function(a){if(this._weekdaysParseExact)return q(this,"_weekdaysRegex")||
db.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex;q(this,"_weekdaysRegex")||(this._weekdaysRegex=ya);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex};p.weekdaysShortRegex=function(a){if(this._weekdaysParseExact)return q(this,"_weekdaysRegex")||db.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;q(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ya);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};
p.weekdaysMinRegex=function(a){if(this._weekdaysParseExact)return q(this,"_weekdaysRegex")||db.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;q(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ya);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};p.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};p.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};ba("en",{eras:[{since:"0001-01-01",until:Infinity,offset:1,name:"Anno Domini",
narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;b=1===l(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});g.lang=H("moment.lang is deprecated. Use moment.locale instead.",ba);g.langData=H("moment.langData is deprecated. Use moment.localeData instead.",S);var W=Math.abs,Wc=V("ms"),Xc=V("s"),Yc=V("m"),Zc=V("h"),$c=V("d"),ad=V("w"),bd=V("M"),cd=
V("Q"),dd=V("y"),ed=ha("milliseconds"),fd=ha("seconds"),gd=ha("minutes"),hd=ha("hours"),id=ha("days"),jd=ha("months"),kd=ha("years"),X=Math.round,oa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},qb=Math.abs,m=Ha.prototype;m.isValid=function(){return this._isValid};m.abs=function(){var a=this._data;this._milliseconds=W(this._milliseconds);this._days=W(this._days);this._months=W(this._months);a.milliseconds=W(a.milliseconds);a.seconds=W(a.seconds);a.minutes=W(a.minutes);a.hours=W(a.hours);a.months=W(a.months);
a.years=W(a.years);return this};m.add=function(a,b){return bc(this,a,b,1)};m.subtract=function(a,b){return bc(this,a,b,-1)};m.as=function(a){if(!this.isValid())return NaN;var b=this._milliseconds;a=I(a);if("month"===a||"quarter"===a||"year"===a){var c=this._days+b/864E5;c=this._months+4800*c/146097;switch(a){case "month":return c;case "quarter":return c/3;case "year":return c/12}}else switch(c=this._days+Math.round(146097*this._months/4800),a){case "week":return c/7+b/6048E5;case "day":return c+b/
864E5;case "hour":return 24*c+b/36E5;case "minute":return 1440*c+b/6E4;case "second":return 86400*c+b/1E3;case "millisecond":return Math.floor(864E5*c)+b;default:throw Error("Unknown unit "+a);}};m.asMilliseconds=Wc;m.asSeconds=Xc;m.asMinutes=Yc;m.asHours=Zc;m.asDays=$c;m.asWeeks=ad;m.asMonths=bd;m.asQuarters=cd;m.asYears=dd;m.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*l(this._months/12):NaN};m._bubble=function(){var a=this._milliseconds,
b=this._days,c=this._months,d=this._data;0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*cc(146097*c/4800+b),c=b=0);d.milliseconds=a%1E3;a=J(a/1E3);d.seconds=a%60;a=J(a/60);d.minutes=a%60;a=J(a/60);d.hours=a%24;b+=J(a/24);a=J(4800*b/146097);c+=a;b-=cc(146097*a/4800);a=J(c/12);d.days=b;d.months=c%12;d.years=a;return this};m.clone=function(){return M(this)};m.get=function(a){a=I(a);return this.isValid()?this[a+"s"]():NaN};m.milliseconds=ed;m.seconds=fd;m.minutes=gd;m.hours=hd;m.days=id;m.weeks=function(){return J(this.days()/
7)};m.months=jd;m.years=kd;m.humanize=function(a,b){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=oa;"object"===typeof a&&(b=a,a=!1);"boolean"===typeof a&&(c=a);"object"===typeof b&&(d=Object.assign({},oa,b),null!=b.s&&null==b.ss&&(d.ss=b.s-1));a=this.localeData();b=!c;var f=M(this).abs(),e=X(f.as("s")),g=X(f.as("m")),h=X(f.as("h")),k=X(f.as("d")),l=X(f.as("M")),m=X(f.as("w"));f=X(f.as("y"));e=e<=d.ss&&["s",e]||e<d.s&&["ss",e]||1>=g&&["m"]||g<d.m&&["mm",g]||1>=h&&["h"]||h<d.h&&
["hh",h]||1>=k&&["d"]||k<d.d&&["dd",k];null!=d.w&&(e=e||1>=m&&["w"]||m<d.w&&["ww",m]);e=e||1>=l&&["M"]||l<d.M&&["MM",l]||1>=f&&["y"]||["yy",f];e[2]=b;e[3]=0<+this;e[4]=a;b=Lc.apply(null,e);c&&(b=a.pastFuture(+this,b));return a.postformat(b)};m.toISOString=Ma;m.toString=Ma;m.toJSON=Ma;m.locale=Vb;m.localeData=Wb;m.toIsoString=H("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ma);m.lang=jc;k("X",0,0,"unix");k("x",0,0,"valueOf");h("x",Qa);h("X",/[+-]?\d+(\.\d{1,3})?/);
u("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a))});u("x",function(a,b,c){c._d=new Date(l(a))});g.version="2.29.4";var lc=v;g.fn=e;g.min=function(){var a=[].slice.call(arguments,0);return Ob("isBefore",a)};g.max=function(){var a=[].slice.call(arguments,0);return Ob("isAfter",a)};g.now=function(){return Date.now?Date.now():+new Date};g.utc=N;g.unix=function(a){return v(1E3*a)};g.months=function(a,b){return ac(a,b,"months")};g.isDate=pa;g.locale=ba;g.invalid=za;g.duration=M;g.isMoment=K;g.weekdays=
function(a,b,c){return pb(a,b,c,"weekdays")};g.parseZone=function(){return v.apply(null,arguments).parseZone()};g.localeData=S;g.isDuration=Ia;g.monthsShort=function(a,b){return ac(a,b,"monthsShort")};g.weekdaysMin=function(a,b,c){return pb(a,b,c,"weekdaysMin")};g.defineLocale=fb;g.updateLocale=function(a,b){if(null!=b){var c=Ib;if(null!=x[a]&&null!=x[a].parentLocale)x[a].set(Wa(x[a]._config,b));else{var d=Fa(a);null!=d&&(c=d._config);b=Wa(c,b);null==d&&(b.abbr=a);b=new Xa(b);b.parentLocale=x[a];
x[a]=b}ba(a)}else null!=x[a]&&(null!=x[a].parentLocale?(x[a]=x[a].parentLocale,a===ba()&&ba(a)):null!=x[a]&&delete x[a]);return x[a]};g.locales=function(){return Mc(x)};g.weekdaysShort=function(a,b,c){return pb(a,b,c,"weekdaysShort")};g.normalizeUnits=I;g.relativeTimeRounding=function(a){return void 0===a?X:"function"===typeof a?(X=a,!0):!1};g.relativeTimeThreshold=function(a,b){if(void 0===oa[a])return!1;if(void 0===b)return oa[a];oa[a]=b;"s"===a&&(oa.ss=b-1);return!0};g.calendarFormat=function(a,
b){a=a.diff(b,"days",!0);return-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"};g.prototype=e;g.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};return g})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.lib.js' */
define("jira/moment/moment.lib",["atlassian/libs/moment-2.29.4"],(function(n){return n}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.formatter.js' */
define("jira/moment/moment.jira.formatter",["underscore","exports"],(function(e,t){"use strict";var r={d:"D",y:"Y",a:"A",E:"d",u:"d",Z:"ZZ",z:"[GMT]ZZ",XX:"ZZ",XXX:"Z"};function n(t){return r[t]||e.reduce(t,(function(e,t){return e+(r[t]||t)}),"")}t.translateSimpleDateFormat=function(t){var r=!1,i=!1,f="",u=e.reduce(t,(function(e,t,u,s){if(i)i=!1;else if("'"===t){if(f){e+=n(f);f=""}if("'"===s[u+1]){e+=t;i=!0}else{e+=r?"]":"[";r=!r}}else if(r)e+=t;else if(/[a-zA-Z]/.test(t))if(f&&f[f.length-1]!==t){e+=n(f);f=t}else f+=t;else{if(f){e+=n(f);f=""}e+=t}return e}),"");f&&(u+=n(f));return u}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.jira.i18n.js' */
!function(){"use strict";var e;define("jira/moment/moment.jira.datetime-formats",["wrm/data"],(function(t){e||(e=t.claim("jira.core:dateFormatProvider.allFormats"));return e}))}();define("jira/moment/moment.jira.i18n",["jira/moment/moment.lib","jira/moment/moment.jira.datetime-formats","jira/moment/moment.jira.formatter","jira/util/formatter"],(function(e,t,m,a){"use strict";var o=t.dateFormats,r=t.lookAndFeelFormats;e.locale("jira",{months:o.months,monthsShort:o.monthsShort,weekdays:o.weekdays,weekdaysShort:o.weekdaysShort,weekdaysMin:o.weekdaysShort,longDateFormat:{LT:m.translateSimpleDateFormat(r.time),L:m.translateSimpleDateFormat(r.day),LL:m.translateSimpleDateFormat(r.dmy),LLL:m.translateSimpleDateFormat(r.complete)},meridiem:function(e){return o.meridiem[+(e>11)]},calendar:{sameDay:"LLL",nextDay:"LLL",nextWeek:"LLL",lastDay:"LLL",lastWeek:"LLL",sameElse:"LLL"},relativeTime:{future:a.format("\u0447\u0435\u0440\u0435\u0437 {0}","%s"),past:a.format("{0} \u043d\u0430\u0437\u0430\u0434","%s"),s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:a.format("{0} \u043c\u0438\u043d\u0443\u0442","%d"),h:"\u0432 \u0447\u0430\u0441",hh:a.format("{0} \u0447\u0430\u0441\u043e\u0432","%d"),d:"\u0434\u0435\u043d\u044c",dd:a.format("{0} \u0434\u043d\u0435\u0439","%d"),M:"\u043c\u0435\u0441\u044f\u0446",MM:a.format("{0} \u043c\u0435\u0441\u044f\u0446\u0435\u0432","%d"),y:"\u0433\u043e\u0434",yy:a.format("{0} \u043b\u0435\u0442","%d")}});return e}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.js' */
define("jira/moment",["jira/moment/moment.jira.i18n"],(function(t){t.splitDate=function(t,n){return Date.splitDate(t,n)};return t}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:momentjs', location = '/static/lib/moment/moment.legacy.js' */
!function(){AJS.namespace("JIRA.translateSimpleDateFormat",null,require("jira/moment/moment.jira.formatter").translateSimpleDateFormat);AJS.namespace("window.moment",null,require("jira/moment"))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/time.js' */
define("dndattachment/ctrlv/time",["require"],function(a){return a("jira/moment")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/base64decode.js' */
define("dndattachment/ctrlv/base64decode",["exports"],function(c){var f=function(b){b=b.replace(/[^A-Za-z0-9\+\/]/g,"");for(var g=b.length,c=3*g+1>>2,f=new Uint8Array(c),d,h=0,k=0,e=0;e<g;e++){d=e&3;var a=b.charCodeAt(e);h|=(64<a&&91>a?a-65:96<a&&123>a?a-71:47<a&&58>a?a+4:43===a?62:47===a?63:0)<<18-6*d;if(3===d||1===g-e){for(d=0;3>d&&k<c;d++,k++)f[k]=h>>>(16>>>d&24)&255;h=0}}return f};c.base64decode=f;c.decodeBase64DataUri=function(b){var c=b.slice(0,b.indexOf(";base64,"))+";base64,";b=b.substring(c.length);
return f(b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:shared-utility', location = 'js/ctrlv/utility.js' */
define("dndattachment/ctrlv/utility",["require","exports"],function(h,c){var q=h("jira/jquery/deferred"),l=h("jquery"),d=h("underscore"),r=h("dndattachment/ctrlv/base64decode"),t=h("dndattachment/ctrlv/time"),u=h("jira/flag"),m=h("jira/util/navigator");c.isKeyPasteEvent=function(a,b){b=-1!==(b||"").indexOf("Mac")||m.isMac();return 86===a.which&&(b?a.metaKey:a.ctrlKey)};c.isImagePasteEvent=function(a){if(a&&a.clipboardData){var b=d.union(d.toArray(a.clipboardData.items),d.toArray(a.clipboardData.files));
a=b.some(function(a){return-1!==a.type.indexOf("image")});b=b.some(function(a){return-1!==a.type.indexOf("rtf")});return a&&!b}};var n=function(a){if(a.clipboardData&&a.clipboardData.types&&d.contains(a.clipboardData.types,"text/html"))return a=l(a.clipboardData.getData("text/html")),1===a.length&&0===a.children().length&&"img"===a[0].nodeName.toLowerCase()?a[0].src:null};c.getHtmlImagePaste=n;c.isHtmlImagePasteEvent=function(a){return null!=n(a)};c.isTextPasteEvent=function(a){return a.clipboardData.types&&
(d.contains(a.clipboardData.types,"text/plain")||d.contains(a.clipboardData.types,"text/html"))};c.isContentEditable=function(a){return"true"==a.contentEditable||""==a.contentEditable||"inherit"==a.contentEditable&&l(a).parents().is("[contenteditable\x3dtrue]")};c.isValidFileName=function(a){return!d('\\/":?*\x3c|\x3e!'.split("")).any(function(b){return-1<a.indexOf(b)})};c.getTextPasteContent=function(a){return a.clipboardData.types&&d.contains(a.clipboardData.types,"text/plain")&&a.clipboardData.getData("text/plain")||
""};c.getTextContent=function(a){return a?a.innerText:""};c.normalizePasteEvent=function(a){a&&a.originalEvent&&a.originalEvent.clipboardData&&(a.clipboardData=a.originalEvent.clipboardData);a&&!a.clipboardData&&window.clipboardData&&(a.clipboardData={files:window.clipboardData.files,types:{contains:function(a){if("text/plain"==a)return!!window.clipboardData.getData("Text")}},getData:function(a){if("text/plain"==a)return window.clipboardData.getData("Text")}});return a};c.browserIsNativePaste=function(){return m.isChrome()||
m.isSafari()};c.isWikiTextfield=function(a){return a.is(":input")&&a.hasClass("wiki-textfield")};var p=function(a,b,k,g){var e=l(b);if((c.isWikiTextfield(e)||e.is("input#summary"))&&a){if(!e.is(":focus"))e.one("focus",function(){var b=e[0];b.selectionStart=b.selectionEnd=k+a.length});var f=e.val(),h=f.substring(0,k);g=f.substring(g,f.length);(f=e.data("wikiEditor"))&&f.undoRedoEl&&d.isFunction(f.undoRedoEl.recordHistoryItem)&&f.undoRedoEl.recordHistoryItem();e.val(h+a+g);e.trigger("input");b.selectionStart=
b.selectionEnd=k+a.length;f&&f.undoRedoEl&&d.isFunction(f.undoRedoEl.updateCurrent)&&f.undoRedoEl.updateCurrent()}};c.insertToInput=p;c.isThumbnailsAllowed=function(){var a=l("#dnd-metadata-webpanel").data("thumbnails-allowed"),b=!0;null!=a&&(b=!!a);return b};c.getMarkup=function(a){var b=["bmp","gif"],k=["pjpeg","jpeg","jpg","png"],g=a.split("."),e=c.isThumbnailsAllowed();g=g[g.length-1].toLowerCase();return e&&d.contains(k,g)?"!"+a+"|thumbnail!":d.contains(k,g)||d.contains(b,g)?"!"+a+"!":"[^"+a+
"]"};c.insertWikiMarkup=function(a,b,k,d,e){(a=c.getMarkup(a,e))&&p(" "+a+" ",b,k,d)};c.loadImage=function(a){var b=new q,c=new Image;c.setAttribute("crossOrigin","anonymous");c.onload=function(){b.resolve(c)};c.onerror=b.reject.bind(b);c.src=a;0<c.width&&0<c.height&&b.resolve(c);return b};c.convertImageToBlob=function(a){var b=l("\x3ccanvas\x3e").attr("width",a.width).attr("height",a.height)[0];b.getContext("2d").drawImage(a,0,0);try{if(b.mozGetAsFile)return b.mozGetAsFile("image/png");if(b.toDataURL)return new Blob([r.decodeBase64DataUri(b.toDataURL("image/png"))],
{type:"image/png"})}catch(k){return null}};c.convertBlobToImage=function(a,b){a=new Blob([a.slice()],{type:a.type});a.lastModifiedDate=new Date;a.name=b;return a};c.dropFileToElement=function(a,b){var c=a.name;c||(c=this.generateFileName(),a.name=c+".png");a=l.Event("drop",{dataTransfer:{files:[a]}});var d=!1;l(document).on("dropHandled.dropFileToElement",function(){d=!0});b.trigger(a);l(document).off(".dropFileToElement");return d};c.generateFileName=function(){return"image-"+t().format("YYYY-MM-DD-HH-mm-ss-SSS")};
c.getCurrentIssueId=function(){return JIRA.Issues.Api.getSelectedIssueId()};c.showErrorMsg=function(a,b){u.showErrorMsg(a,b)};c.createBlobFromFile=function(a){var b=new Blob([a.slice()],{type:a.type});b.name=a.name;return b};c.dragEventContainsFiles=function(a){if(!a.dataTransfer||!a.dataTransfer.types)return!0;a=a.dataTransfer.types;return m.isMozilla()?d.contains(a,"application/x-moz-file"):d.contains(a,"Files")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/Configuration.js' */
define("dndattachment/util/Configuration",["require"],function(a){var b=a("wrm/data");return{getWRM:function(a){return b.claim("com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone."+a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/DataTransfer.js' */
define("dndattachment/util/DataTransfer",["require"],function(f){var h=f("jira/lib/class"),d=f("underscore"),e=f("jira/jquery/deferred"),g=f("jquery");return h.extend({init:function(b){this._dataTransfer=b},getFiles:function(){var b=this._dataTransfer.files,a=this._dataTransfer.items;return a&&0<a.length&&d.any(a,function(c){return!!c.webkitGetAsEntry})?this.readEntries(a):b&&0<b.length?this.readFiles(this._dataTransfer.files):(new e).reject()},readFiles:function(b){var a=new e;g.when.apply(window,
d.map(b,function(c){var a=new e;!c.name.match(/\.([a-z0-9]+)$/i)&&8192>=c.size||8192==c.size||4096==c.size||1024>=c.size?this.readFileAsText(c).fail(function(){b=d(b).without(c)}).always(a.resolve.bind(a)):a.resolve();return a}.bind(this))).always(function(){a.resolve(b)});return a},readFileAsText:function(b){var a=new e,c=new FileReader;c.onload=function(){a.resolve(this.result)};c.onerror=function(){a.reject(this.error)};c.readAsText(b);return a},readEntries:function(b){var a=new e;b=d.filter(b,
function(a){return"file"===a.kind});g.when.apply(window,d.map(b,function(a){return this.readEntry(a.webkitGetAsEntry(),a)}.bind(this))).then(function(){a.resolve(d.union.apply(d,arguments))},a.reject.bind(a));return a},readEntry:function(b,a){var c=new e;b.isFile?a&&a.getAsFile?c.resolve([a.getAsFile()]):b.file(function(a){c.resolve([a])}):b.isDirectory&&b.createReader().readEntries(function(a){var b=[];g.when.apply(window,d.map(a,function(a){return this.readEntry(a).then(function(a){return b.push.apply(b,
a)})}.bind(this))).always(function(){c.resolve(b)})}.bind(this));return c}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/FileSizeUtil.js' */
define("dndattachment/util/FileSizeUtil",function(){return{format:function(a){return 1048576<a?(a/1048576).toFixed(2)+" MB":1024<a?Math.round(a/1024)+" kB":(a/1024).toFixed(1)+" kB"}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-utility', location = 'js/util/AttachmentEvents.js' */
define("dndattachment/util/events/types",{ATTACHMENT_FOR_PAGE_RECEIVED:"attachmentForPageReceived"});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/UploadHandler.js' */
define("dndattachment/upload/handler",["require","exports"],function(b,f){var l=b("jira/analytics"),r=b("jira/dialog/dialog-stack"),t=b("jira/jquery/deferred"),m=b("jira/util/events"),n=b("dndattachment/util/events/types"),g=b("underscore"),u=b("jquery"),k=b("dndattachment/ctrlv/utility"),h=[],p,q=function(c,a){var d=t(),e=r.current;if(e&&e.$form){l.send({name:"attach.screenshot.html5.dialogPaste",data:{}});var b=k.createBlobFromFile(a.files[0]);k.dropFileToElement(b,e.$form)&&d.resolve([a.files[0].name])}else if(b=
g.find(h,function(b){return b.isValid(c,a)}))d=b.processFiles(a.files,p),a.successCallback&&d.done(a.successCallback),a.failureCallback&&d.fail(a.failureCallback),a.alwaysCallback&&d.always(a.alwaysCallback);d.done(function(c,b){if(!b&&a.isWikiTextfieldFocused){var d=a.wikiTextfield;g.each(c,function(a){k.insertWikiMarkup(a,d,d.selectionStart,d.selectionStart)});e&&a.isPaste&&l.send({name:"attach.screenshot.html5.dialogPaste.insertWikiMarkup",data:{}});u(a.wikiTextfield).is(":focus")||setTimeout(function(){a.wikiTextfield.focus()},
0)}})},v=function(c){if(c){var a="undefined"!==typeof c.processFiles,b="undefined"!==typeof c.weight,e="undefined"!==typeof c.name;return"undefined"!==typeof c.isValid&&a&&b&&e}return!1};f.registerExecutor=function(b){var a=v(b);if(a){var c=g.reject(h,function(a){return a.name===b.name});c.push(b);h=g.sortBy(c,function(a){return-a.weight})}return a};f.unregisterExecutor=function(b){h=g.reject(h,function(a){return a.name===b.name})};f.initialize=function(){m.bind(n.ATTACHMENT_FOR_PAGE_RECEIVED,q)};
f.disable=function(){m.unbind(n.ATTACHMENT_FOR_PAGE_RECEIVED,q)};f.setAttachmentDropZone=function(b){p=b}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-upload', location = 'js/upload/DefaultUploadExecutor.js' */
define("dndattachment/upload/default/executor",["require","exports"],function(c,a){a.name="Default attachment executor";a.weight=0;a.isValid=function(a,b){return!0};a.processFiles=function(a,b){return b.uploadFiles(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/i18n.js' */
define("dndattachment/i18n",["require"],function(c){var a=c("jira/util/formatter"),b={"dnd.attachment.unsupported.browser":"\u041f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u043d\u0438\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432:","dnd.attachment.file.is.too.large":"\u0424\u0430\u0439\u043b \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c ({0}).","dnd.attachment.upload.in.progress":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.","dnd.attachment.not.uploaded":function(d){return a.format("\u0424\u0430\u0439\u043b \u0022{0}\u0022 \u043d\u0435 \u0431\u044b\u043b \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d",d)},"dnd.attachment.unauthorized":"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u0432\u0440\u0435\u043c\u044f \u0441\u0435\u0430\u043d\u0441\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u043e\u0441\u044c \u0438\u043b\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043e.",
"dnd.attachment.internal.server.error":"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443.","dnd.attachment.upload.aborted":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0431\u044b\u043b\u0430 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u0430.","dnd.attachment.upload.remove":"\u0423\u0431\u0440\u0430\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435"};return function(a){if(b[a])return b[a];throw"Unknown key: "+a;}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/TemporaryAttachments.js' */
define("dndattachment/TemporaryAttachments",[],function(){var d={};return{createAttachment:function(a,b,c,d){return{id:a,name:b,type:c,file:d}},getAttachment:function(a,b){return d[a]||this.createAttachment(a,b)},putAttachment:function(a,b,c){c=c||{};return d[a]=this.createAttachment(a,c.name||b.name,c.type||b.type,b)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/Parser.js' */
define("dndattachment/Parser",["require"],function(b){function c(d){d=a(d).find("*[duiType]:not(.-dui-type-parsed)").add(d.filter("*[duiType]:not(.-dui-type-parsed)")).addClass("-dui-type-parsed").map(function(d,c){var e=new f;b([a(c).attr("duiType")],function(a){"function"==typeof a?e.resolve(new a(c)):e.reject()});return e});return a.when.apply(window,a.makeArray(d))}var g=b("jira/util/events"),h=b("jira/util/events/types"),f=b("jira/jquery/deferred"),a=b("jquery");g.bind(h.NEW_CONTENT_ADDED,function(a,
b,f){c(b)});a.isReady?c(a("body")):a(function(){c(a("body"))});return{parse:c}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'templates/IssueDropZone.soy' */
// This file was automatically generated from IssueDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.IssueDropZone = function(opt_data, opt_ignored) {
  return '<div class="issue-drop-zone__target"></div><span class="issue-drop-zone__text"><span class="issue-drop-zone__drop-icon"> </span> ' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c, \u0438\u043b\u0438') + ' <button type="button" id="attachment-browse-button" class="issue-drop-zone__button"> ' + soy.$$escapeHtml('\u043e\u0431\u0437\u043e\u0440') + '.</button><input class="issue-drop-zone__file ignore-inline-attach" type="file" multiple aria-hidden="true" aria-labelledby="attachment-browse-button" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.IssueDropZone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.IssueDropZone';
}


JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone = function(opt_data, opt_ignored) {
  return '<div duiType="dndattachment/dropzones/AttachmentsDropZone" class="issue-drop-zone" data-upload-limit="' + soy.$$escapeHtml(opt_data.jiraAttachmentSize) + '" data-upload-size="' + soy.$$escapeHtml(opt_data.uploadLimit) + '" data-upload-size="' + soy.$$escapeHtml(opt_data.uploadLimit) + '"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.AttachmentsDropZone';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-base', location = 'js/dropzones/IssueDropZone.js' */
define("dndattachment/dropzones/IssueDropZone",["require"],function(c){var g=c("jira/util/formatter"),p=c("jira/util/logger"),v=c("jira/analytics"),w=c("jira/ajs/ajax/smart-ajax"),x=c("jira/issue"),h=c("jira/jquery/plugins/isdirty"),q=c("jira/util/data/meta"),y=c("jira/lib/class"),f=c("underscore"),k=c("jira/jquery/deferred"),e=c("jquery"),l=c("jira/flag"),z=c("dndattachment/Parser"),r=c("dndattachment/templates"),A=c("dndattachment/util/DataTransfer"),m=["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443."];
return y.extend({eventGroup:"issuedropzone",progressBarType:"dndattachment/progressbars/UploadProgressBar",init:function(a){this.$node=e(a);this.$node.parents(".mod-content")&&this.$node.parents(".mod-content").addClass("issue-drop-zone");this.uploadLimit=this.$node.data("upload-limit");this.uploadSize=this.$node.data("upload-size");this.formToken=this.$node.data("form-token");this.attachFileUrl=contextPath+"/secure/AttachFile.jspa";this.pendingQueue=[];this.render();this.queueEvent("init")},queueTask:function(a){this.pendingQueue.push(a);
a.always(function(){this.pendingQueue.splice(this.pendingQueue.indexOf(a),1)}.bind(this));this.markDirty(!0);e.when.apply(window,this.pendingQueue).always(f.debounce(this.checkMarkDirty,!1,!0).bind(this))},render:function(){this.$node.html(r.IssueDropZone({}));this.fileInput=this.$node.find(".issue-drop-zone__file");this.fileButton=this.$node.find("button.issue-drop-zone__button");this.connectListeners();p.trace("jira.issue.dnd.issuedropzone.render")},connectListeners:function(){this.fileInput.change(function(a){this.handleFilesReceived(this.fileInput[0].files);
this.queueEvent("fileInput",{count:this.fileInput[0].files.length});this.fileInput.attr("value",null)}.bind(this));this.fileButton.click(function(a){a.preventDefault();this.fileInput.click()}.bind(this));var a=0<this.$node.parents(".issue-drop-zone").length?this.$node.parents(".issue-drop-zone"):this.$node;this.$dropTarget=a.find("\x3e*").andSelf();this.$dropTarget.on("dragover dragenter drop",function(b){b.preventDefault();b.stopPropagation();a.addClass("dragover");"drop"==b.type&&(a.removeClass("dragover"),
e(document).trigger("dropHandled"),(new A(b.dataTransfer)).getFiles().then(function(a){this.handleFilesReceived(a);this.queueEvent("fileDrop",{count:a.length})}.bind(this)))}.bind(this));this.$dropTarget.on("dragleave",function(){a.removeClass("dragover")}.bind(this))},configureUploadProgressBar:function(a,b){a.data("upload-size",this.uploadSize).data("file",b).data("form-token",this.formToken)},createUploadProgressBar:function(a){var b=e('\x3cdiv duiType\x3d"'+this.progressBarType+'" class\x3d"upload-progress-bar"\x3e\x3c/div\x3e');
this.configureUploadProgressBar(b,a);return z.parse(b).done(function(a){this.placeUploadProgressBar(b,a);this.handleNewProgressBar(a)}.bind(this))},placeUploadProgressBar:function(a){return a.insertAfter(this.$node)},handleNewProgressBar:function(a){},handleFilesReceived:function(a){this.uploadFiles(a)},getSuccessfulUploads:function(a){return f.filter(a,function(a){return"resolved"===a.result.state()})},uploadFiles:function(a){var b=new k,c=[],B=q.get("issue-key"),h=q.get("viewissue-permlink"),m=
e("#summary-val input").attr("value")||e("#summary-val").text(),t=r.SuccessMessageLink({issueLink:h,issueKey:B,issueSummary:m}),u=f.map(a,function(a){var d=new k;this.createUploadProgressBar(a).then(function(n){this.trigger("progressBarInserted",n);c.push(n);n.uploadFile(a,this.uploadLimit).then(d.resolve.bind(d),d.resolve.bind(d)).done(function(){this.trigger("uploadFinished",n)}.bind(this)).fail(function(){b.reject(arguments)})}.bind(this));return d}.bind(this));a=e.when.apply(window,u);a.done(function(){var a=
f.filter(1==u.length?[arguments]:arguments,function(a){return a&&a[0]&&a[0].id}).map(function(a){return a[0].id});if(0!=a.length){if(this.showFlagsForCreateDialogUploads){var d=this.getSuccessfulUploads(c);1==d.length?(d=d[0].getFileName(),l.showSuccessMsg("",g.format("\u0424\u0430\u0439\u043b {0} \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u043a \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435.",d))):1<d.length&&l.showSuccessMsg("",g.format("\u0424\u0430\u0439\u043b\u044b {0} \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u044b \u043a \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435.",d.length))}this.commitUpload(a).done(function(){f.delay(function(){c.some(function(a){a.getAutoDestroy()&&
(a.destroy(),this.queueEvent("autoDestroy"))}.bind(this))}.bind(this),5E3);var a=this.getSuccessfulUploads(c);if(1==a.length){var d=a[0].getFileName();l.showSuccessMsg("",g.format("\u0424\u0430\u0439\u043b {0} \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u043a {1}.",d,t))}else 1<a.length&&l.showSuccessMsg("",g.format("\u0424\u0430\u0439\u043b\u044b {0} \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u044b \u043a {1}.",a.length,t));b.resolve(f.map(a,function(a){return a.file.name}))}.bind(this)).fail(function(a,d){b.reject(a,d);a&&a.forEach(function(a){c.forEach(function(b){b.reportError(a)})});
d&&c.forEach(function(a){var b=d["#"+a.getFileID()]||d[a.getFileName()];b&&a.reportError(b)});p.trace("jira.issue.dnd.commit.fail")})}}.bind(this));this.queueTask(a);return b},loadAttachments:function(a){a.forEach(function(a){this.createUploadProgressBar(a.file).then(function(b){b.setFileID(a.id);b.setFileName(a.name);b.setFileSize(a.size);b.setProgress(1);b.setFinished();this.trigger("uploadFinished",b)}.bind(this))},this)},commitUpload:function(a){return new k},attachFile:function(a){var b=new k;
w.makeRequest({type:"POST",url:this.attachFileUrl,data:{inline:!0,id:x.getIssueId(),filetoconvert:a,atl_token:atl_token(),formToken:this.formToken},dataType:"json"}).done(b.resolve.bind(b)).fail(function(a){try{var c=JSON.parse(a.responseText);b.reject(c.errorMessages||m,c.errors)}catch(C){b.reject(m)}});return b},markDirty:function(a){this.$node.addClass(h.ClassNames.SANCTIONED);this.$node.toggleClass(h.ClassNames.EXEMPT,!a);this.$node.attr("value",!1);this.$node.attr("defaultValue",!0)},checkMarkDirty:function(){0==
this.pendingQueue.length&&this.markDirty(!1)},queueEvent:function(a,b){v.send({name:"issue.dnd.attachment."+this.eventGroup+"."+a,data:b||{}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:drag-and-drop-attachment-javascript-init', location = 'js/initIssueDropZone.js' */
define("dndattachment/init","jira/util/events jira/util/events/types jira/dialog/dialog-register jira/dialog/dialog-stack underscore dndattachment/Parser jquery dndattachment/dropzones/IssueDropZone dndattachment/upload/handler dndattachment/upload/default/executor dndattachment/TemporaryAttachments dndattachment/templates dndattachment/util/Configuration dndattachment/util/FileSizeUtil".split(" "),function(k,t,l,u,v,m,c,d,f,w,x,n,y,p){function g(a,b){a=a.find(".field-group.file-input-list");if(0!=
a.size()&&!(0<a.find('*[duiType*\x3d"'+b+'"]').length)){var z=a.find("input[name\x3dfiletoconvert]:checked").map(function(a,b){return x.getAttachment(b.value,c(b).siblings("label").text())}).toArray(),d=a.find(".description:last-child").html();a.empty();b=c(n[b]({uploadLimit:p.format(e),jiraAttachmentSize:e,description:d}));m.parse(b.appendTo(a)).then(function(a){null!=a&&a.loadAttachments(z)})}}function q(a,b){var c=function(){g(a.$popupContent,b)};if(a.$popup&&a.$popup.is(":visible"))c();else a.onContentReady(c)}
function r(a){var b=a&&"attachmentmodule"==a.attr("id")&&c(".mod-content:not(.issue-drop-zone)",a);b&&0<b.size()&&0!=a.find("#add-attachments-link").length&&(b.addClass("issue-drop-zone"),a=c(n.AttachmentsDropZone({uploadLimit:p.format(e),jiraAttachmentSize:e})),m.parse(a.prependTo(b)).then(function(a){h&&h.disconnectContainer();h=a;f.setAttachmentDropZone(a)}))}var e=y.getWRM("upload-limit"),h;d=function(){l.attachFile&&q(l.attachFile,"AttachFilesDropZone");var a=["create-issue-dialog","create-subtask-dialog",
"edit-issue-dialog"],b=function(b,c,d){v.contains(a,c.attr("id"))&&q(d,"CreateIssueDropZone")};k.bind("Dialog.show",b);const d=u.current;d&&b(null,d.$popup,d);k.bind(t.NEW_CONTENT_ADDED,function(a,b,c){g(b,"CreateIssueDropZone");r(b)});b=c("form#issue-create, form#issue-edit, form.dnd-attachment-support");0<b.size()&&g(b,"CreateIssueDropZone");f.initialize();f.registerExecutor(w);r(c("#attachmentmodule"));c(document).on("dragover dragenter",function(){c("body").addClass("issue-drop-zone-document__dragover")});
c(document).on("dragleave drop dropHandled",function(){c("body").removeClass("issue-drop-zone-document__dragover")})};c.isReady?d():c(d);c.event.props.push("dataTransfer")});require("dndattachment/init");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:soy-templates', location = 'viewissue/attachmentsblock.soy' */
// This file was automatically generated from attachmentsblock.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }


JIRA.Templates.ViewIssue.renderAttachments = function(opt_data, opt_ignored) {
  return '' + ((opt_data.viewMode == 'list') ? JIRA.Templates.ViewIssue.fileAttachments(opt_data) : JIRA.Templates.ViewIssue.galleryAttachments(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachments';
}


JIRA.Templates.ViewIssue.fileAttachments = function(opt_data, opt_ignored) {
  var output = '<ol id="file_attachments" class="item-attachments" data-sort-key="' + soy.$$escapeHtml(opt_data.sortKey) + '" data-sort-order="' + soy.$$escapeHtml(opt_data.sortOrder) + '">';
  var fileAttachmentList14 = opt_data.attachments;
  var fileAttachmentListLen14 = fileAttachmentList14.length;
  for (var fileAttachmentIndex14 = 0; fileAttachmentIndex14 < fileAttachmentListLen14; fileAttachmentIndex14++) {
    var fileAttachmentData14 = fileAttachmentList14[fileAttachmentIndex14];
    output += JIRA.Templates.ViewIssue.fileAttachment(soy.$$augmentMap(opt_data, {fileAttachment: fileAttachmentData14}));
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.fileAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.fileAttachments';
}


JIRA.Templates.ViewIssue.galleryAttachments = function(opt_data, opt_ignored) {
  var output = '<ol id="attachment_thumbnails" class="item-attachments" data-sort-key="' + soy.$$escapeHtml(opt_data.sortKey) + '" data-sort-order="' + soy.$$escapeHtml(opt_data.sortOrder) + '">';
  var imageAttachmentList25 = opt_data.attachments;
  var imageAttachmentListLen25 = imageAttachmentList25.length;
  for (var imageAttachmentIndex25 = 0; imageAttachmentIndex25 < imageAttachmentListLen25; imageAttachmentIndex25++) {
    var imageAttachmentData25 = imageAttachmentList25[imageAttachmentIndex25];
    output += JIRA.Templates.ViewIssue.imageAttachment(soy.$$augmentMap(opt_data, {imageAttachment: imageAttachmentData25}));
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.galleryAttachments.soyTemplateName = 'JIRA.Templates.ViewIssue.galleryAttachments';
}


JIRA.Templates.ViewIssue.fileAttachment = function(opt_data, opt_ignored) {
  return '<li class="attachment-content js-file-attachment' + ((! opt_data.fileAttachment.latest) ? ' earlier-version' : '') + '" data-attachment-id="' + soy.$$escapeHtml(opt_data.fileAttachment.id) + '"' + JIRA.Templates.ViewIssue.renderAttachmentData({issue: opt_data.issue, attachment: opt_data.fileAttachment}) + '>' + ((opt_data.fileAttachment.expandable) ? JIRA.Templates.ViewIssue.zipFileAttachment(opt_data) : '<div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '</dl>') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.fileAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.fileAttachment';
}


JIRA.Templates.ViewIssue.zipFileAttachment = function(opt_data, opt_ignored) {
  return '<div class="twixi-block collapsed expander"><div class="twixi-wrap verbose"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-expanded"><span>' + soy.$$escapeHtml('\u0421\u043a\u0440\u044b\u0442\u044c') + '</span></span></a><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '<dd class="zip-contents"><ol><li><div class="attachment-thumb"><img src="' + soy.$$escapeHtml(opt_data.baseurl) + '/images/icons/wait.gif" /></div>' + soy.$$escapeHtml('\u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u0430\u0440\u0445\u0438\u0432\u0430 ...') + '</li></ol></dd></dl></div><div class="twixi-wrap concise"><a href="#" class="twixi"><span class="icon-default aui-icon aui-icon-small aui-iconfont-collapsed"><span>' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c') + '</span></span></a><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.fileAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.fileAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.fileAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.fileAttachment}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon(soy.$$augmentMap(opt_data, {mimetype: opt_data.fileAttachment.mimeType})) + '</a></div><dl>' + JIRA.Templates.ViewIssue.renderAttachmentInfo(soy.$$augmentMap(opt_data, {attachment: opt_data.fileAttachment})) + '</dl></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.zipFileAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.zipFileAttachment';
}


JIRA.Templates.ViewIssue.imageAttachment = function(opt_data, opt_ignored) {
  return '<li class="attachment-content js-file-attachment" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.imageAttachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.renderAttachmentData({issue: opt_data.issue, attachment: opt_data.imageAttachment}) + '><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '" title="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ' -' + ((opt_data.imageAttachment.latest) ? ' ' + soy.$$escapeHtml('\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439') : '') + ' ' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + ((opt_data.imageAttachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.imageAttachment.authorDisplayName) : '') + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.imageAttachment}) + '>' + ((opt_data.imageAttachment.thumbnailUrl != null) ? '<img class="attachment-thumb-img" loading="lazy" src="' + soy.$$escapeHtml('' + opt_data.imageAttachment.thumbnailUrl) + '" alt="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + '" />' : JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype: opt_data.imageAttachment.mimeType})) + '</a></div><dl ' + ((! opt_data.imageAttachment.latest) ? 'class="earlier-version"' : '') + '><dt>' + ((opt_data.imageAttachment.deletable) ? '<span class="blender blender-delete"></span><div class="attachment-delete"><a title="' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435') + '" aria-label="' + soy.$$escapeHtml(AJS.format('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435\xa0\u2014 {0}',opt_data.imageAttachment.fileName)) + '" id="del_' + soy.$$escapeHtml(opt_data.imageAttachment.id) + '" href="' + soy.$$escapeHtml(opt_data.baseurl) + '/secure/DeleteAttachment!default.jspa?id=' + soy.$$escapeHtml(opt_data.issue.id) + '&deleteAttachmentId=' + soy.$$escapeHtml(opt_data.imageAttachment.id) + '&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435') + '</span></a></div>' : '<span class="blender"></span>') + '<a  href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.imageAttachment.attachmentUrl) + '" class="attachment-title" title="' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + ' -' + ((opt_data.imageAttachment.latest) ? ' ' + soy.$$escapeHtml('\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439') : '') + ' ' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + ((opt_data.imageAttachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.imageAttachment.authorDisplayName) : '') + '"' + JIRA.Templates.ViewIssue.tagAttachment({attachment: opt_data.imageAttachment}) + '>' + soy.$$escapeHtml(opt_data.imageAttachment.fileName) + '</a></dt><dd class="attachment-size">' + soy.$$escapeHtml(opt_data.imageAttachment.fileSize) + '</dd><dd class="attachment-date"><time class="livestamp" datetime="' + soy.$$escapeHtml('' + opt_data.imageAttachment.createdIso8601) + '">' + soy.$$escapeHtml(opt_data.imageAttachment.createdDateTime) + '</time></dd></dl></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.imageAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.imageAttachment';
}


JIRA.Templates.ViewIssue.renderAttachmentInfo = function(opt_data, opt_ignored) {
  return '<dt class="attachment-title"><a href="' + soy.$$escapeHtml(opt_data.baseurl) + '/' + soy.$$escapeHtml('' + opt_data.attachment.attachmentUrl) + '" title="' + ((opt_data.attachment.latest) ? soy.$$escapeHtml('\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439') + ' ' : '') + ' ' + soy.$$escapeHtml(opt_data.attachment.createdDateTime) + ((opt_data.attachment.authorDisplayName) ? ' - ' + soy.$$escapeHtml(opt_data.attachment.authorDisplayName) : '') + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.attachment.mimeType) + ':' + soy.$$escapeHtml(opt_data.attachment.fileName) + ':' + soy.$$escapeHtml(opt_data.fullBaseUrl) + '/' + soy.$$escapeHtml('' + opt_data.attachment.attachmentUrl) + '"' + JIRA.Templates.ViewIssue.tagAttachment(opt_data) + '>' + soy.$$escapeHtml(opt_data.attachment.fileName) + '</a></dt><dd class="attachment-delete">' + ((opt_data.attachment.deletable) ? '<a title="' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435') + '" aria-label="' + soy.$$escapeHtml(AJS.format('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435\xa0\u2014 {0}',opt_data.attachment.fileName)) + '" id="del_' + soy.$$escapeHtml(opt_data.attachment.id) + '" href="' + soy.$$escapeHtml(opt_data.baseurl) + '/secure/DeleteAttachment!default.jspa?id=' + soy.$$escapeHtml(opt_data.issue.id) + '&deleteAttachmentId=' + soy.$$escapeHtml(opt_data.attachment.id) + '&from=issue"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435') + '</span></a>' : '<span class="icon"></span>') + '</dd><dd class="attachment-date"><time class="livestamp" datetime="' + soy.$$escapeHtml('' + opt_data.attachment.createdIso8601) + '">' + soy.$$escapeHtml(opt_data.attachment.createdDateTime) + '</time></dd><dd class="attachment-size">' + soy.$$escapeHtml(opt_data.attachment.fileSize) + '</dd><dd class="attachment-author">' + soy.$$escapeHtml(opt_data.attachment.authorDisplayName ? opt_data.attachment.authorDisplayName : '') + '</dd>';
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentInfo.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentInfo';
}


JIRA.Templates.ViewIssue.renderAttachmentData = function(opt_data, opt_ignored) {
  return 'data-issue-id="' + soy.$$escapeHtml(opt_data.issue.id) + '"' + ((opt_data.attachment.expandable) ? 'data-attachment-type="expandable"' : (opt_data.attachment.imageFileType) ? 'data-attachment-type="image" data-attachment-thumbnail="' + soy.$$escapeHtml(opt_data.attachment.thumbnailUrl != null) + '"' : 'data-attachment-type="file"');
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentData.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentData';
}


JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileIconUrl__soy290 = '' + JIRA.Templates.ViewIssue.matchFileIconUrl(opt_data);
  var fileIconAlt__soy292 = '' + JIRA.Templates.ViewIssue.matchFileIconAlt(opt_data);
  output += '<img src="' + soy.$$escapeHtml(fileIconUrl__soy290) + '" height="16" width="16" border="0" alt="' + soy.$$escapeHtml(fileIconAlt__soy292) + '" role="presentation">';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentLegacyIcon';
}


JIRA.Templates.ViewIssue.matchFileIconUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml(opt_data.baseurl) + '/images/icons/attach/' + JIRA.Templates.ViewIssue.matchFileIcon(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIconUrl.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIconUrl';
}


JIRA.Templates.ViewIssue.matchFileIcon = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += 'pdf.gif';
      break;
    case 'image/gif':
      output += 'image.gif';
      break;
    case 'image/png':
      output += 'image.gif';
      break;
    case 'image/jpeg':
      output += 'image.gif';
      break;
    case 'text/xml':
      output += 'xml.gif';
      break;
    case 'text/html':
      output += 'html.gif';
      break;
    case 'text/plain':
      output += 'text.gif';
      break;
    case 'application/zip':
      output += 'zip.gif';
      break;
    case 'application/x-gzip-compressed':
      output += 'zip.gif';
      break;
    case 'application/msword':
      output += 'word.gif';
      break;
    case 'application/msword-template':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += 'word.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += 'word.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += 'word.gif';
      break;
    case 'application/vnd.ms-excel':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += 'excel.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += 'excel.gif';
      break;
    case 'application/vnd.ms-powerpoint':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += 'powerpoint.gif';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += 'powerpoint.gif';
      break;
    case 'text/x-java':
      output += 'java.gif';
      break;
    case 'text/x-java-source':
      output += 'java.gif';
      break;
    case 'application/x-java-archive':
      output += 'java.gif';
      break;
    default:
      output += 'file.gif';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIcon';
}


JIRA.Templates.ViewIssue.matchFileIconAlt = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += soy.$$escapeHtml('PDF \u0444\u0430\u0439\u043b');
      break;
    case 'image/gif':
      output += soy.$$escapeHtml('GIF \u0444\u0430\u0439\u043b');
      break;
    case 'image/png':
      output += soy.$$escapeHtml('PNG \u0444\u0430\u0439\u043b');
      break;
    case 'image/jpeg':
      output += soy.$$escapeHtml('JPEG \u0444\u0430\u0439\u043b');
      break;
    case 'text/xml':
      output += soy.$$escapeHtml('XML \u0444\u0430\u0439\u043b');
      break;
    case 'text/html':
      output += soy.$$escapeHtml('HTML \u0444\u0430\u0439\u043b');
      break;
    case 'text/plain':
      output += soy.$$escapeHtml('\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b');
      break;
    case 'application/zip':
      output += soy.$$escapeHtml('ZIP \u0430\u0440\u0445\u0438\u0432');
      break;
    case 'application/x-gzip-compressed':
      output += soy.$$escapeHtml('GZip \u0430\u0440\u0445\u0438\u0432');
      break;
    case 'application/msword':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/msword-template':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += soy.$$escapeHtml('Microsoft Word');
      break;
    case 'application/vnd.ms-powerpoint':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += soy.$$escapeHtml('Microsoft PowerPoint');
      break;
    case 'text/x-java':
      output += soy.$$escapeHtml('\u0424\u0430\u0439\u043b \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 Java');
      break;
    case 'text/x-java-source':
      output += soy.$$escapeHtml('\u0424\u0430\u0439\u043b \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 Java');
      break;
    case 'application/x-java-archive':
      output += soy.$$escapeHtml('\u0424\u0430\u0439\u043b \u0430\u0440\u0445\u0438\u0432\u0430 Java');
      break;
    default:
      output += soy.$$escapeHtml('\u0424\u0430\u0439\u043b');
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileIconAlt.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileIconAlt';
}


JIRA.Templates.ViewIssue.renderAttachmentIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileClass__soy448 = '' + JIRA.Templates.ViewIssue.matchFileClass(opt_data);
  var fileIconAlt__soy450 = '' + JIRA.Templates.ViewIssue.matchFileIconAlt(opt_data);
  output += '<span class="aui-icon aui-icon-small attachment-icon ' + soy.$$escapeHtml(fileClass__soy448) + '" title="' + soy.$$escapeHtml(fileIconAlt__soy450) + '"></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderAttachmentIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderAttachmentIcon';
}


JIRA.Templates.ViewIssue.renderThumbnailIcon = function(opt_data, opt_ignored) {
  var output = '';
  var fileClass__soy458 = '' + JIRA.Templates.ViewIssue.matchFileClass(opt_data);
  output += (fileClass__soy458 == 'aui-iconfont-image') ? '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48" class="no-image"><defs><path d="M39 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9s-9-4.0294373-9-9c0-4.97056275 4.0294373-9 9-9zm4.1553041 4.84471837c-.4595944-.45962449-1.2024684-.45962449-1.6620628 0l-2.4930944 2.49325714-2.4942697-2.49325714c-.4584191-.45962449-1.2024684-.45962449-1.6620629 0-.4584191.45844898-.4584191 1.20254694 0 1.66217143l2.4930943 2.49325714-2.4930943 2.49325716c-.4584191.4596245-.4584191 1.2025469 0 1.6621714.2303849.2292245.5301205.3444245.8310314.3444245.300911 0 .6018219-.1152.8310315-.3444245l2.4942697-2.4932571 2.4930944 2.4932571c.2292095.2292245.5301204.3444245.8310314.3444245.300911 0 .6018219-.1152.8310314-.3444245.4595945-.4596245.4595945-1.2025469 0-1.6621714l-2.4930943-2.49325716 2.4930943-2.49325714c.4595945-.45962449.4595945-1.20372245 0-1.66217143z" id="a"/></defs><g fill-rule="evenodd"><path d="M27 9c0 6.627417 5.372583 12 12 12 2.1861601 0 4.2357797-.5845995 6.0010592-1.6059991L45 38.982424C45 42.3058395 42.3088196 45 38.982424 45H9.01757598C5.69416054 45 3 42.3088196 3 38.982424V9.01757598C3 5.69416054 5.69118038 3 9.01757598 3l19.58867952-.00150229C27.5846974 4.76387737 27 6.81365699 27 9zm6.6773881 15l-9.2173637 9.1911941-4.4147772-4.4022429L8 40.8h30l.1762728-.0050927C39.75108 40.7036609 41 39.3976809 41 37.8v-6.4981782L33.6773881 24zM15 10.5c-2.4852814 0-4.5 2.0147186-4.5 4.5s2.0147186 4.5 4.5 4.5 4.5-2.0147186 4.5-4.5-2.0147186-4.5-4.5-4.5z"/><use xlink:href="#a"/></g></svg>' : '<span class="aui-icon aui-icon-large attachment-thumbnail-icon ' + soy.$$escapeHtml(fileClass__soy458) + '"></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.renderThumbnailIcon.soyTemplateName = 'JIRA.Templates.ViewIssue.renderThumbnailIcon';
}


JIRA.Templates.ViewIssue.matchFileClass = function(opt_data, opt_ignored) {
  var output = '';
  switch (opt_data.mimetype) {
    case 'application/pdf':
      output += 'aui-iconfont-file-pdf';
      break;
    case 'image/gif':
      output += 'aui-iconfont-image';
      break;
    case 'image/png':
      output += 'aui-iconfont-image';
      break;
    case 'image/jpeg':
      output += 'aui-iconfont-image';
      break;
    case 'text/xml':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/html':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/plain':
      output += 'aui-iconfont-file-txt';
      break;
    case 'application/zip':
      output += 'aui-iconfont-file-zip';
      break;
    case 'application/x-gzip-compressed':
      output += 'aui-iconfont-file-zip';
      break;
    case 'application/msword':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/msword-template':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-word.document.macroEnabled.12':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-word.template.macroEnabled.12':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':
      output += 'aui-iconfont-file-doc';
      break;
    case 'application/vnd.ms-excel':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.addin.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.sheet.binary.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.sheet.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-excel.template.macroEnabled.12':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':
      output += 'aui-iconfont-file-xls';
      break;
    case 'application/vnd.ms-powerpoint':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.template.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.template':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.addin.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.slideshow.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.ms-powerpoint.presentation.macroEnabled.12':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
      output += 'aui-iconfont-file-ppt';
      break;
    case 'text/x-java':
      output += 'aui-iconfont-file-code';
      break;
    case 'text/x-java-source':
      output += 'aui-iconfont-file-code';
      break;
    case 'application/x-java-archive':
      output += 'aui-iconfont-file-zip';
      break;
    default:
      output += 'aui-iconfont-devtools-file';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.matchFileClass.soyTemplateName = 'JIRA.Templates.ViewIssue.matchFileClass';
}


JIRA.Templates.ViewIssue.tagAttachment = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id, title: opt_data.attachment.fileName, mimeType: opt_data.attachment.mimeType, isImage: opt_data.attachment.thumbnailUrl != null, thumbnailUrl: opt_data.attachment.thumbnailUrl});
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.tagAttachment.soyTemplateName = 'JIRA.Templates.ViewIssue.tagAttachment';
}


JIRA.Templates.ViewIssue.tagFilePreview = function(opt_data, opt_ignored) {
  var output = '';
  var previewType__soy545 = '' + ((opt_data.isImage || opt_data.mimeType != null && ('' + opt_data.mimeType).indexOf('image/') != -1) ? 'image' : (opt_data.mimeType == 'application/pdf') ? 'document' : 'unknown');
  output += (previewType__soy545 != 'unknown') ? ' file-preview-id="' + soy.$$escapeHtml(opt_data.id) + '" file-preview-title="' + soy.$$escapeHtml(opt_data.title) + '" file-preview-type="' + soy.$$escapeHtml(previewType__soy545) + '"' + ((opt_data.thumbnailUrl != null) ? 'file-preview-url="' + soy.$$escapeHtml('' + opt_data.thumbnailUrl) + '"' : '') : '';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.tagFilePreview.soyTemplateName = 'JIRA.Templates.ViewIssue.tagFilePreview';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:soy-templates', location = 'viewissue/attachment-default.js' */
!function(){"use strict";require(["wrm/context-path"],(function(n){document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementsByClassName("attachment-thumb-img");Array.from(t).forEach((function(t){t.addEventListener("error",(function(){t.onerror=null;t.src=n()+"/images/icons/attach/noimage.png"}))}))}))}))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/dropzones/AttachmentsDropZone.js' */
define("dndattachment/dropzones/AttachmentsDropZone",["require"],function(c){var n=c("jira/libs/parse-uri"),h=c("jira/util/logger"),k=c("jira/util/events/types"),p=c("jira/util/events/reasons"),q=c("underscore"),r=c("jira/jquery/deferred"),t=c("dndattachment/dropzones/IssueDropZone"),f=c("jira/util/events"),u=c("dndattachment/util/events/types"),d=c("jquery"),m=c("dndattachment/templates"),v=c("dndattachment/util/DataTransfer"),l=c("dndattachment/ctrlv/utility"),w=c("jira/dialog/dialog-stack"),x=
function(){var a=n(window.location);return a.protocol+"://"+a.authority}();return t.extend({eventGroup:"attachmentsdropzone",progressBarType:"dndattachment/progressbars/AttachmentsUploadProgressBar",init:function(){this._super.apply(this,arguments);this.attachFileUrl=contextPath+"/rest/jddap/1.0/attachment";f.bind(k.PANEL_REFRESHED,this.panelRefreshed.bind(this));this.connectContainer()},connectContainer:function(){this.$pagePanel=d("div.aui-page-panel");this.$containerNode=this.getContainerNode();
this.$dragoverDropzone=d(m.dropzone());this.$dragoverBorder=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-border");this.$dragoverInfo=this.$dragoverDropzone.find(".attachments-drop-zone__dragover-info");this.$dragoverDropzone.appendTo(this.$containerNode);this.onDragOverDropHandler=this.onDragOverDrop.bind(this);this.onDragLeaveHandler=this.onDragLeave.bind(this);this.$containerNode.on("dragover dragenter drop",this.onDragOverDropHandler);this.$containerNode.on("dragleave",this.onDragLeaveHandler);
this.$windowMask=d(m.windowDropzoneMask());this.$body=d(document.body);this.$body.append(this.$windowMask);this.$body.on("dragenter",q.throttle(this.onBodyDragEnter.bind(this),200,{trailing:!1}));this.$body.on("dragleave",this.onBodyDragLeave.bind(this));this.$windowMask.on("dragover dragenter",this.onWindowMaskDragEnter.bind(this));this.$windowMask.on("dragleave",this.onWindowMaskDragLeave.bind(this));this.$windowMask.on("drop",this.onWindowMaskDrop.bind(this));this.$auiSidebar=d(".aui-sidebar-body");
this._disconnectListenersFromParentDropzone();this.onContentAddedHandler=this.onContentAdded.bind(this);f.bind(k.NEW_CONTENT_ADDED,this.onContentAddedHandler)},_disconnectListenersFromParentDropzone:function(){this.$dropTarget.off("dragover drop dragleave dragenter");d(document).off("dragover dragenter")},_risePagePanel:function(){this._pagePanelZIndex=this.$pagePanel.css("z-index");this.$pagePanel.css("z-index","auto")},_releasePagePanel:function(){this.$pagePanel.css("z-index",this._pagePanelZIndex)},
disconnectContainer:function(){this.$dragoverDropzone.remove();this.$windowMask.remove();this.$body.removeClass("attachments-drop-zone__dragover");this.$body.off("dragenter",this.onBodyDragEnter.bind(this));this.$containerNode.off("dragenter dragover drop",this.onDragOverDropHandler);this.$containerNode.off("dragleave",this.onDragLeaveHandler);f.unbind(k.NEW_CONTENT_ADDED,this.onContentAddedHandler)},isAttached:function(){return d.contains(document,this.$node[0])},onContentAdded:function(){this.isAttached()||
this.disconnectContainer()},getContainerNode:function(){var a=d(d(".issue-container")[0]);"static"===a.css("position")&&a.css("position","relative");return a},canDoFullPageDrop:function(){if(w.current)return h.trace("jira.issue.dnd.dropnotallowed"),!1;h.trace("jira.issue.dnd.dropallowed");return!0},onDragOverDrop:function(a){this.isAttached()?l.dragEventContainsFiles(a)&&this.canDoFullPageDrop()&&(a.preventDefault(),a.originalEvent&&(a.originalEvent.dataTransfer.dropEffect="copy"),h.trace("jira.issue.dnd.dragover"),
this.$body.addClass("attachments-drop-zone__dragover"),this.$body.addClass("attachments-drop-zone__window-dragover"),this.$containerNode.addClass("attachments-drop-zone__dragover-fade"),this._readjustDropzone(),this._repositionStickyInfoBox(),"drop"==a.type&&(this.removeAllDragoverClasses(this.$containerNode),this._releasePagePanel(),d(document).trigger("dropHandled"),(new v(a.dataTransfer)).getFiles().then(function(a){this.handleFilesReceived(a);this.queueEvent("fileDrop",{count:a.length})}.bind(this)))):
this.disconnectContainer()},onDragLeave:function(){this.removeAllDragoverClasses(this.$containerNode)},_readjustDropzone:function(){if(0!==this.$auiSidebar.length){var a=this.$auiSidebar.offset().left+this.$auiSidebar.width();if(this.$dragoverBorder.parent().offset()){var b=this.$dragoverBorder.parent().offset().left;a>b?this.$dragoverBorder.css({left:a-b}):this.$dragoverBorder.css({left:0})}else this.$dragoverBorder.css({left:0});this._risePagePanel()}},_repositionStickyInfoBox:function(){var a=
this.$containerNode.scrollParent().scrollTop()+10,b=this.$containerNode.offset().top;a=0===(this.$containerNode.scrollParent().offset()?this.$containerNode.scrollParent().offset().top:0)?a>=b?a-b:10:a;this.$dragoverInfo.css({top:a})},onBodyDragEnter:function(a){l.dragEventContainsFiles(a)&&(this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"))},onBodyDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDragEnter:function(a){l.dragEventContainsFiles(a)&&
(a.preventDefault(),a.originalEvent&&(a.originalEvent.dataTransfer.dropEffect="none"),this._readjustDropzone(),this.$body.addClass("attachments-drop-zone__window-dragover"),this.canDoFullPageDrop()&&(this.$body.addClass("attachments-drop-zone__dragover"),this._repositionStickyInfoBox()))},onWindowMaskDragLeave:function(){this.removeAllDragoverClasses()},onWindowMaskDrop:function(a){a.preventDefault();this.removeAllDragoverClasses()},removeAllDragoverClasses:function(a){a&&a.removeClass("attachments-drop-zone__dragover-fade");
this.$body.removeClass("attachments-drop-zone__window-dragover");this.$body.removeClass("attachments-drop-zone__dragover")},handleFilesReceived:function(a){var b=d("textarea.wiki-textfield:visible:focus"),e=0<b.length,g=d(".jira-editor-container iframe:visible:focus");f.trigger(u.ATTACHMENT_FOR_PAGE_RECEIVED,{files:a,isWikiTextfieldFocused:e,wikiTextfield:b[0],isRichEditorFieldFocused:0<g.length,richEditorField:g[0]})},render:function(){this.$node.parents("#attachmentmodule").addClass("attachments-drop-zone-parent");
this.$listNode=this.$node.siblings("#file_attachments, #attachment_thumbnails");return this._super.apply(this,arguments)},panelRefreshed:function(a,b,e,g){g.find(this.$node).is("*")&&(this.getViewMode(),e=e.find("\x3e.mod-content"),e.addClass("issue-drop-zone"),this.$node.prependTo(e),this.render(),a=g.find(".attachments-upload-progress-bar"),a.data("viewMode",this.getViewMode()).each(function(a,b){d(b).prop("_instance").render()}),a.each(function(a,b){this.insertProgressBar(d(b))}.bind(this)),this._disconnectListenersFromParentDropzone())},
getViewMode:function(){return"file_attachments"==this.$listNode.attr("id")?"list":"gallery"},getSortBy:function(){return this.$listNode.data("sort-key")},getSortOrder:function(){return this.$listNode.data("sort-order")},getSortComparator:function(){var a="asc"==this.getSortOrder()?1:-1,b="fileName"==this.getSortBy()?function(a){return a.find(".attachment-title").text()}:function(a){return(new Date(a.find("*[datetime]").attr("datetime"))).getTime()},e="fileName"==this.getSortBy()&&String.prototype.localeCompare?
function(a,b){return a.localeCompare(b)}:function(a,b){return a<b?-1:a>b?1:0};return function(d,c){d=b(d);c=b(c);return a*e(d,c)}},commitUpload:function(a){var b=new r;this.attachFile(a).then(b.resolve.bind(b),b.reject.bind(b));b.then(function(b){var c=d(JIRA.Templates.ViewIssue.renderAttachments({baseurl:contextPath,fullBaseUrl:x+contextPath,issue:{id:JIRA.Issues.Api.getSelectedIssueId()},attachments:b,viewMode:this.getViewMode()})).find(".attachment-content");b.forEach(function(b,d){b=c[d];this.$listNode.find('\x3e*[data-file-id\x3d"'+
a[d]+'"]').replaceWith(b)},this);f.trigger(k.NEW_CONTENT_ADDED,[this.$listNode,p.panelRefreshed]);h.trace("jira.issue.dnd.attached")}.bind(this));this.queueTask(b);this.queueEvent("commitUpload",{count:a.length});return b},configureUploadProgressBar:function(a){this._super.apply(this,arguments);a.data("viewMode",this.getViewMode())},placeUploadProgressBar:function(a,b){b.$node.find("time.livestamp").attr("datetime",(new Date).toISOString()).livestamp();this.insertProgressBar(a);b.bind("onDestroy",
function(){var b=a.parents(".item-attachments");0==b.find(".attachments-upload-progress-bar, .attachment-content").length&&b.remove()});return a},insertProgressBar:function(a){var b=this.getSortComparator();this.$listNode.children().toArray().some(function(c){if(1>b(a,d(c)))return a.insertBefore(c),!0})||a.appendTo(this.$listNode)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/progressbars/UploadProgressBar.js' */
define("dndattachment/progressbars/UploadProgressBar",["require"],function(d){function h(a,b){m.send({name:"issue.dnd.attachment.uploadprogress."+a,data:b||{}})}var m=d("jira/analytics"),n=d("jira/util/formatter"),k=d("jira/util/logger"),p=d("jira/issue"),l=d("jira/attachment/inline-attach"),q=d("jira/lib/class"),r=d("wrm/context-path"),g=d("jira/jquery/deferred"),e=d("jquery"),f=d("dndattachment/i18n"),t=d("dndattachment/TemporaryAttachments"),u=d("dndattachment/templates"),v=d("dndattachment/util/Configuration"),
w=d("dndattachment/util/FileSizeUtil"),x=["aui-iconfont-error","aui-iconfont-success","aui-iconfont-close-dialog"],y=v.getWRM("thumbnail-mime-types").split(",");return q.extend({autoDestroy:!0,init:function(a){this.result=new g;this.$node=e(a);this.file=this.$node.data("file");this.uploadSize=this.$node.data("upload-size");this.formToken=this.$node.data("form-token");this.$node.prop("_instance",this);this.render()},render:function(){this.$node.html(u.UploadProgressBar({isImageType:this.isImageType()}));
this.afterRender()},afterRender:function(){this.file&&(this.setFileName(this.file.name),this.setFileSize(this.file.size),this.loadThumbnail(this.file));this.progress&&this.updateProgress();this.connectListeners()},connectListeners:function(){this.getControlNode().on("click",function(){this.destroy();h("buttonClick")}.bind(this))},destroy:function(){this.destroyed||(this.upload&&this.upload.abort(),this.setAutoDestroy(!1),this.trigger("onBeforeDestroy"),this.destroyed=!0,this.$node.animate({opacity:0},
{duration:250,complete:function(){this.$node.slideUp(250,function(){this.objectURL&&window.URL.revokeObjectURL(this.objectURL);this.$node.remove();k.trace("jira.issue.dnd.progressbar.removed");this.trigger("onDestroy")}.bind(this))}.bind(this)}))},isDestroyed:function(){return!!this.destroyed},setAutoDestroy:function(a){this.autoDestroy=a},getAutoDestroy:function(){return this.autoDestroy},getUploadParams:function(a){a={filename:a.name,size:a.size,atl_token:atl_token(),formToken:this.formToken};Object.assign(a,
this.getEntityParams());return a},getEntityParams:function(){var a={},b=p.getIssueId(),c=this.$node.parents("form").find('*[name\x3d"pid"]').attr("value");c?a.projectId=c:b&&(a.issueId=b);return a},setFile:function(a){this.file=a},setFileID:function(a){this.fileID=a;this.$node.attr("data-file-id",a)},getFileID:function(){return this.fileID},setFileName:function(a){this.$node.find(".upload-progress-bar__file-name").text(a)},getFileName:function(){return this.$node.find(".upload-progress-bar__file-name").text()},
setFileNameIcon:function(a){this.$node.find(".upload-progress-bar__control .aui-icon").append(" "+a)},setFileSize:function(a){0<=a&&this.$node.find(".upload-progress-bar__file-size").html(w.format(a))},uploadFile:function(a,b){this.setFile(a);var c=this.result;this.monitorUpload(c);c.fail(this.reportError.bind(this));if(a.size>b)return c.reject(f("dnd.attachment.file.is.too.large").replace("{0}",this.uploadSize),!0),c;b='\\/":?*\x3c|\x3e'.split("");for(var d=0;d<b.length;d++){var e=b[d];if(a.name&&
a.name.includes(e))return c.reject(n.format("{0} \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0441\u0438\u043c\u0432\u043e\u043b\u0027\u0027{1}\u0027\u0027. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u0443\u0439\u0442\u0435 \u0444\u0430\u0439\u043b \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",a.name,e),!0),c}this.upload=new l.AjaxUpload({file:a,params:this.getUploadParams(a),url:l.AjaxPresenter.DEFAULT_URL,progress:function(b){c.notify(b/a.size)},success:function(b,d){void 0!==b.id&&void 0!==b.name?(c.notify(1),c.resolve(b,d,a)):c.reject(b,d,a)},error:function(a,b){c.reject(f("dnd.attachment.internal.server.error"),b)},abort:function(){c.reject(f("dnd.attachment.upload.aborted"),"abort")}});this.checkSession().then(function(){this.upload.upload()}.bind(this)).fail(function(){c.reject(f("dnd.attachment.unauthorized"),
401)});this.$node.find(".upload-progress-bar__control\x3e*").on("click",function(){this.upload.abort();c.reject()}.bind(this));c.done(function(a){t.putAttachment(a.id,this.file,{name:a.name});this.setFile(this.file);this.setFileName(a.name);this.setFileNameIcon(a.name);this.setFileID(a.id);k.trace("jira.issue.dnd.uploaded")}.bind(this));return c},monitorUpload:function(a){a.progress(this.setProgress.bind(this));a.done(this.setFinished.bind(this));a.fail(this.setFailed.bind(this))},setProgress:function(a){this.progress=
a;this.updateProgress()},updateProgress:function(){var a=this.$node.find(".upload-progress-bar__progress-bar");a.toggleClass("UploadProgressBar_progressUnknown",!1===this.progress);0<=this.progress&&a.find(".upload-progress-bar__bar").css("width",100*this.progress+"%")},setFinished:function(){this.$node.addClass("upload-progress-bar__upload-finished");this.$node.find(".upload-progress-bar__control button .aui-icon").addClass("aui-iconfont-success").removeClass("aui-iconfont-close-dialog");this.finished=
!0;this.trigger("onFinished")},setFailed:function(){this.$node.addClass("UploadProgressBar_uploadFailed");this.failed=this.finished=!0;this.trigger("onFailed")},isFinished:function(){return!!this.finished},isFailed:function(){return!!this.failed},isSuccessful:function(){return this.isFinished()&&!this.isFailed()},isImageType:function(){return this.file?y.includes(this.file.type):!1},getThumbnailSrc:function(a){this.isImageType()&&(this.objectURL=window.URL.createObjectURL(a));return this.objectURL||
JIRA.Templates.ViewIssue.matchFileIconUrl({baseurl:r(),mimetype:a.type})},getThumbnailNode:function(){return this.$node.find(".upload-progress-bar__thumbnail")},getControlNode:function(){return this.$node.find(".upload-progress-bar__control button")},loadThumbnail:function(a){a=this.getThumbnailSrc(a);var b=this.getThumbnailNode();b.addClass(this.objectURL?"upload-progress-bar__thumbnail_image":"upload-progress-bar__thumbnail_icon");return e("\x3cimg/\x3e").attr("src",a).appendTo(b)},reportError:function(a,
b){"object"==typeof a&&a.errorMessage&&(a=a.errorMessage);this.$node.addClass("upload-progress-bar__upload-error");this.$node.removeClass("upload-progress-bar__upload-finished");this.$node.find(".upload-progress-bar__bar").css("width","100%");this.showErrorMessage(a,b);this.setAutoDestroy(!1);h("error",{message:a})},showErrorMessage:function(a){this.$node.find(".upload-progress-bar__error-message").text(a)},setIcon:function(a){var b=this.$node.find(".upload-progress-bar__control button .aui-icon");
if(!x.some(function(c){b.toggleClass(c,c==a);return c==a}))throw"Unknown icon";},checkSession:function(){var a=new g;e.ajax({type:"GET",url:contextPath+"/rest/auth/1/session",contentType:"application/json"}).done(function(){a.resolve()}).fail(function(){this.checkPermissions().done(function(b){a.resolve()}).fail(function(){a.reject()})}.bind(this));return a},checkPermissions:function(){var a=new g;e.ajax({type:"GET",url:contextPath+"/rest/api/2/mypermissions",contentType:"application/json",data:this.getEntityParams()}).done(function(b){b.permissions.CREATE_ATTACHMENT.havePermission?
a.resolve():a.reject()}).fail(function(){a.reject()});return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'js/progressbars/AttachmentsUploadProgressBar.js' */
define("dndattachment/progressbars/AttachmentsUploadProgressBar",["require"],function(a){var b=a("dndattachment/progressbars/UploadProgressBar"),e=a("jira/flag"),c=a("jquery"),f=a("dndattachment/aui/escape-html"),g=a("dndattachment/templates"),h=a("dndattachment/i18n");return b.extend({render:function(){this.$node.html(g.AttachmentsUploadProgressBar({isImageType:this.isImageType()})).removeClass("upload-progress-bar").addClass("attachments-upload-progress-bar");this.$node.toggleClass("attachment-content",
!this.isImageType());this.afterRender()},loadThumbnail:function(a){return"gallery"==this.$node.data("viewMode")?b.prototype.isImageType.call(this)?this._super.apply(this,arguments):c(JIRA.Templates.ViewIssue.renderThumbnailIcon({mimetype:a.type})).appendTo(this.getThumbnailNode()):c(JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype:a.type})).appendTo(this.getThumbnailNode())},showErrorMessage:function(a,b){if("abort"!=b){var d=e.showErrorMsg(h("dnd.attachment.not.uploaded")(this.getFileName()),
f(a));c(d).on("aui-flag-close",function(){this.destroy()}.bind(this));this.bind("onDestroy",function(){d.close()})}},isImageType:function(){return"gallery"==this.$node.data("viewMode")},getControlNode:function(){return this.$node.find(".upload-progress-bar__upload-control span")},getAutoDestroy:function(){return!1}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'templates/AttachmentsDropZone.soy' */
// This file was automatically generated from AttachmentsDropZone.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.dropzoneMask = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__dragover-mask" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.dropzoneMask.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.dropzoneMask';
}


JIRA.Templates.DnDAttachmentPlugin.dropzone = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__dragover-border"><div class="attachments-drop-zone__dragover-info"><p>' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0438\u0445 \u043a \u0437\u0430\u043f\u0440\u043e\u0441\u0443') + '</p></div></div></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.dropzone.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.dropzone';
}


JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask = function(opt_data, opt_ignored) {
  return '<span><div class="attachments-drop-zone__window-dragover-mask" /></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.windowDropzoneMask';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone', location = 'templates/UploadProgressBar.soy' */
// This file was automatically generated from UploadProgressBar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DnDAttachmentPlugin.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DnDAttachmentPlugin == 'undefined') { JIRA.Templates.DnDAttachmentPlugin = {}; }


JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar = function(opt_data, opt_ignored) {
  return '<div class="upload-progress-bar__thumbnail"> </div><span class="upload-progress-bar__file-name"> </span><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__control"><button type="button" class="aui-button aui-button-subtle aui-button-compact"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443') + '</span></button></div><div class="upload-progress-bar__error-message"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.UploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isImageType) ? '<div class="upload-progress-bar__thumbnail"><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><dl><dt><span class="upload-progress-bar__file-name"> </span></dt><dd class="upload-progress-bar__file-size"> </dd><dd class="upload-progress-bar__upload-control"><span>' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</span></dd><dd class="upload-progress-bar__error-message"></dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>' : '<div class="attachment-thumb upload-progress-bar__thumbnail"></div><dl><dt class="attachment-title upload-progress-bar__file-name"></dt><dd class="upload-progress-bar__upload-control"><span>' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</span></dd><dd class="attachment-size"><span class="upload-progress-bar__file-size"> </span><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></dd><dd class="attachment-author"> </dd><dd class="attachment-date"><time class="livestamp" /></dd></dl>');
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.AttachmentsUploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar = function(opt_data, opt_ignored) {
  return '<div class="temp-upload-progress-bar__parent-container temp-upload-progress-bar__uploading"><div class="temp-upload-progress-bar__container"><div class="upload-progress-bar__thumbnail"></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div><div class="upload-progress-bar__error"><div class="upload-progress-bar__error-indicator"><span class="aui-icon aui-icon-large aui-iconfont-error">' + soy.$$escapeHtml('\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438') + '</span></div><div class="upload-progress-bar__error-text">' + soy.$$escapeHtml('\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c') + '</div></div><div class="upload-progress-bar__upload-mask"></div><div class="upload-progress-bar__control"><button type="button" class="aui-button"><span class="aui-icon aui-iconfont-close-dialog"><div class="button-text" aria-label="' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443') + ' "></div><div class="file-name"></div><div class="error-message"></div></span></button></div><div class="upload-progress-bar__progress-bar"><span class="upload-progress-bar__bar"> </span></div></div><div class="upload-progress-bar_file-name-container"><span class="upload-progress-bar__file-name"></span></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.TempUploadProgressBar';
}


JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.issueLink) + '">' + soy.$$escapeHtml(opt_data.issueKey) + ' - ' + soy.$$escapeHtml(opt_data.issueSummary) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink.soyTemplateName = 'JIRA.Templates.DnDAttachmentPlugin.SuccessMessageLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-frontend-plugin:jira-frontend-plugin-runtime', location = 'jira-frontend-plugin.runtime.js' */
!function(e){function r(r){for(var t,i,u=r[0],f=r[1],l=r[2],s=0,p=[];s<u.length;s++)i=u[s],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&(e[t]=f[t]);for(c&&c(r);p.length;)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,r=0;r<a.length;r++){for(var n=a[r],t=!0,u=1;u<n.length;u++){var f=n[u];0!==o[f]&&(t=!1)}t&&(a.splice(r--,1),e=i(i.s=n[0]))}return e}var t={},o={2:0},a=[];function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var r=[];return 0===o[e]?Promise.resolve():o[e]?o[e][2]:(r.push(new Promise((function(r,n){o[e]=[r,n]})),new Promise((function(r,n){WRM.require("wrc!com.atlassian.jira.jira-frontend-plugin:"+e).then(r,n)}))),o[e][2]=Promise.all(r))},i.m=e,i.c=t,i.d=function(e,r,n){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,r){if(1&r&&(e=i(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)i.d(n,t,function(r){return e[r]}.bind(null,t));return n},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="",i.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(i.p=AJS.contextPath()+"/download/resources/com.atlassian.jira.jira-frontend-plugin:assets-5f43c26a-23f0-4e1b-aec4-80c7b0fb4b76/");var u=window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb=window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb||[],f=u.push.bind(u);u.push=r,u=u.slice();for(var l=0;l<u.length;l++)r(u[l]);var c=f;n()}([]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-frontend-plugin:split_4', location = '4.6a59abb2598f990acfbc.js' */
(window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb=window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb||[]).push([[4],{24:function(e,n){e.exports=function(e){if(!e.webpackPolyfill){var n=Object.create(e);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n},function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var o="undefined"!=typeof __webpack_exports__?__webpack_exports__:n;if(o)if("function"!=typeof o){for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){var a=void 0;try{a=o[r]}catch(e){continue}e.register(a,r,"/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/node_modules/webpack/buildin/harmony-module.js")}}else e.register(o,"module.exports","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/node_modules/webpack/buildin/harmony-module.js")}}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-frontend-plugin:split_17', location = '17.46c66f140a83cbedef40.js' */
(window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb=window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb||[]).push([[17],{89:function(a,e){a.exports=require("jira/skate")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-frontend-plugin:split_31', location = '31.2852fbeaa934d0f96e14.js' */
(window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb=window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb||[]).push([[31],{109:function(a,e){a.exports=require("jquery")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-frontend-plugin:split_activityTabs', location = 'activityTabs.012bc1021eb6518bb264.js' */
(window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb=window.atlassianWebpackJsonp79f4a9917f6e490b3932d28908705efb||[]).push([[57],{494:function(e,t,n){"use strict";(function(e){var a;n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return f})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,o,i=function(){return document.querySelector("#issue-tabs .active-tab")},l=function(){var e;return null===(e=i())||void 0===e?void 0:e.dataset.id},d=function(){return null!==document.getElementById("ghx-detail-view")},u=function(){return d()?"comment-tabpanel":l()},s=function(){var e;return d()?"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel":null===(e=i())||void 0===e?void 0:e.dataset.key},c=function(){var e;if(d())return-1;var t=i();if(t){var n=null===(e=t.parentNode)||void 0===e?void 0:e.children;if(n)return Array.from(n).indexOf(t)}},f=function(){var e,t,n;return d()?null===(e=document.getElementById("ghx-detail-issue"))||void 0===e?void 0:e.dataset.issueid:null===(t=document.querySelector(".issue-link"))||void 0===t||null===(n=t.attributes.getNamedItem("rel"))||void 0===n?void 0:n.value};(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(r.register(i,"getActiveTab","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts"),r.register(l,"getTabId","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts"),r.register(d,"isAgileDetailsView","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts"),r.register(u,"getCurrentTab","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts"),r.register(s,"getCurrentTabKey","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts"),r.register(c,"getCurrentTabPosition","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts"),r.register(f,"getCurrentIssueId","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/utils.ts")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,n(24)(e))},555:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a,r=n(109),o=n.n(r);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,l,d=function(){var e,t,a=new Promise((function(e,n){t={resolve:e,reject:n}})),r=function r(i){i.preventDefault();var l=i.currentTarget;l&&(l.disabled=!0,o()(document).off("click",".show-more-tab-items",r),o()(document).off("click","#sort-button",r),o()(document).off("submit","#issue-comment-add",r),Promise.all([n.e(0),n.e(1),n.e(10),n.e(11),n.e(79)]).then(n.bind(null,985)).then((function(n){var r=n.ItemsLazyLoader,o="sort-button"===l.id,i="issue-comment-add"===l.getAttribute("id"),d=o||i?document.querySelector(".show-more-tab-items"):l;e=new r(d),t.resolve(e),o||i||a.finally((function(){return e.loadMoreItems()}))})))};return o()(document).on("click",".show-more-tab-items",r),o()(document).on("click","#sort-button",r),o()(document).on("submit","#issue-comment-add",r),a};(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(d,"init","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/itemsLazyLoader/ItemsLazyLoaderInit.ts"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,n(24)(e))},556:function(e,t,n){"use strict";(function(e){var a;function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",(function(){return l})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,i,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"expandFirstComment",value:function(){var e=document.querySelector(".issuePanelContainer .activity-comment:first-of-type");e&&(e.classList.remove("collapsed"),e.classList.add("expanded"))}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(l,"CommentTabUtils","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/commentsTab/CommentTabUtils.ts"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,n(24)(e))},917:function(e,t,n){"use strict";n.r(t),function(e){var t,a=n(109),r=n(89),o=n.n(r),i=n(555),l=n(556),d=n(494);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,f=Object(i.a)();f.then((function(e){e.registerTab("comment-tabpanel",{version:1,callbacks:{newItemsAdded:l.a.expandFirstComment}}),e.registerTab("changehistory-tabpanel",{version:1}),e.registerTab("all-tabpanel",{version:1}),e.registerTab("worklog-tabpanel",{version:1})})),a(document).on("click","#sort-button",(function(e){var t=this;e.preventDefault();var a=Promise.all([n.e(0),n.e(1),n.e(10),n.e(11),n.e(84)]).then(n.bind(null,983));Promise.all([a,f]).then((function(e){var n=u(e,2),a=n[0].SortingHandler,r=n[1],o=Object(d.b)();o&&r.getRegisteredTabsIds().includes(o)&&new a(o,r,t).sort()})).catch((function(e){return console.error(e)}))}));var b,m,g=function(){return Promise.all([n.e(0),n.e(1),n.e(10),n.e(11),n.e(80)]).then(n.bind(null,984)).then((function(e){var t=e.CommentForm;c||(c=new t(f))}))};o()("jira-create-comment-form",{type:o.a.type.ELEMENT,attached:function(){g().then((function(){var e;return null===(e=c)||void 0===e?void 0:e.initialiseJiraCommentFooter()}))},detached:function(){var e;null===(e=c)||void 0===e||e.detach()}}),define("jira/activity-tabs/items-lazy-loader",[],(function(){return f})),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(f,"promisifiedLazyLoader","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/index.ts"),b.register(c,"form","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/index.ts"),b.register(g,"initCommentForm","/buildeng/bamboo-agent-home/xml-data/build-dir/J914REL-RELEASEFINAL-FBUILDJIRACORE/jira-components/jira-plugins/jira-frontend-plugin/src/main/frontend-features/activityTabs/index.ts")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}.call(this,n(24)(e))}},[[917,2,4,17,31]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.help', location = 'aui.chunk.0632f9ae5325ead0f021--195c69a3d86df8feebb0.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[8720],{6452:(u,e,s)=>{s.r(e)}},u=>{u.O(0,[8196,3039,713,6740,4389],(()=>{return e=6452,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:analytics', location = 'util/analytics.js' */
define("jira-help-tips/util/analytics",["jira/analytics"],(function(t){"use strict";function e(t){return(t=""+(t||"")).replace(/\./g,"-")}return{clean:e,send:function(i,n){if(n&&n.attributes.id){var r={},a=e(n.attributes.id),s="";n.attributes.eventPrefix&&"."!==(s=n.attributes.eventPrefix).charAt(s.length-1)&&(s+=".");r.name=s+"helptips."+a+"."+i;r.properties={};t.send(r)}}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager', location = 'js/HelpTipManager.js' */
define("jira-help-tips/feature/help-tip-manager",["require"],(function(s){"use strict";var e=s("underscore"),i=s("jquery"),t=s("jira/jquery/deferred"),n=s("wrm/context-path"),r=s("wrm/data"),d=n()+"/rest/helptips/1.0/tips",u=r.claim("com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"),a={dismissedTipIds:[],sequences:[],loaded:new t,url:function(){return d},sync:function(s,e){var n=new t;s||(s="get");e||(e=null);"get"===s&&u&&u.dismissed?n.resolve(u.dismissed):i.ajax(this.url(),{type:s,dataType:"json",contentType:"application/json",data:e&&JSON.stringify(e),processData:!1}).done((function(s){n.resolve(s)})).fail((function(){n.reject()}));return n.promise()},fetch:function(){var s=this.sync();s.done(i.proxy((function(s){i.merge(this.dismissedTipIds,s);this.loaded.resolve()}),this));return s.promise()},show:function(s){this.loaded.done(s)},dismiss:function(s){var e=s.attributes.id;if(e){this.dismissedTipIds.push(e);this.sync("post",{id:e})}else s._dismissed=!0},undismiss:function(s){var e=s.attributes.id;if(e){this.dismissedTipIds.splice(i.inArray(e,this.dismissedTipIds),1);this.sync("delete",{id:e})}else s._dismissed=!1},isDismissed:function(s){var e=s.attributes.id;return e?i.inArray(e,this.dismissedTipIds)>=0:s._dismissed},clearSequences:function(){this.sequences=[]},hideSequences:function(){e.each(this.sequences,(function(s){s.view.dismiss()}))},showSequences:function(){if(!this._showStarted){var s=this,t=0;this._showStarted=!0;i.when(this.loaded).done((function(){s.sequences.sort((function(s,e){return s.attributes.weight-e.attributes.weight}));s.sequences=e.filter(s.sequences,(function(i){var n=-1===e.indexOf(s.dismissedTipIds,i.attributes.id);n&&(i.attributes.position=t++);return n}));if(s.sequences.length>0){e.last(s.sequences).attributes.showCloseButton=!0;s.sequences[0].show({force:!0})}s._showStarted=!1}))}}};return a}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'templates/HelpTip.soy' */
// This file was automatically generated from HelpTip.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.Templates.HelpTip.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.Templates == 'undefined') { AJS.Templates = {}; }
if (typeof AJS.Templates.HelpTip == 'undefined') { AJS.Templates.HelpTip = {}; }


AJS.Templates.HelpTip.tipContent = function(opt_data, opt_ignored) {
  return ((opt_data.title) ? '<h2 class="helptip-title">' + soy.$$escapeHtml(opt_data.title) + '</h2>' : '') + '<p class="helptip-body">' + soy.$$filterNoAutoescape(opt_data.bodyHtml) + '</p>' + ((opt_data.url) ? '<p><a class="helptip-link" href="' + soy.$$escapeHtml(opt_data.url) + '" target="_blank">' + ((opt_data.linkText) ? soy.$$escapeHtml(opt_data.linkText) : soy.$$escapeHtml('\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435')) + '</a></p>' : '') + AJS.Templates.HelpTip.tipFooter(opt_data);
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipContent.soyTemplateName = 'AJS.Templates.HelpTip.tipContent';
}


AJS.Templates.HelpTip.tipFooter = function(opt_data, opt_ignored) {
  return '<form class="tip-footer">' + AJS.Templates.HelpTip.nextButton(opt_data) + AJS.Templates.HelpTip.closeButton(opt_data) + AJS.Templates.HelpTip.sequencePaging(opt_data) + '</form>';
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.tipFooter.soyTemplateName = 'AJS.Templates.HelpTip.tipFooter';
}


AJS.Templates.HelpTip.nextButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showNextButton) ? '<button class="aui-button helptip-next" type="button">' + ((opt_data.nextButtonText) ? soy.$$escapeHtml(opt_data.nextButtonText) : soy.$$escapeHtml('\u0414\u0430\u043b\u0435\u0435')) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.nextButton.soyTemplateName = 'AJS.Templates.HelpTip.nextButton';
}


AJS.Templates.HelpTip.closeButton = function(opt_data, opt_ignored) {
  return '' + ((opt_data.showCloseButton) ? '<button class="aui-button ' + ((opt_data.showNextButton) ? ' aui-button-link ' : '') + ' helptip-close" type="button">' + ((opt_data.closeButtonText) ? soy.$$escapeHtml(opt_data.closeButtonText) : soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c')) + '</button>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.closeButton.soyTemplateName = 'AJS.Templates.HelpTip.closeButton';
}


AJS.Templates.HelpTip.sequencePaging = function(opt_data, opt_ignored) {
  return '' + ((opt_data.isSequence && opt_data.length > 1) ? '<span class="helptip-sequence-paging">' + soy.$$escapeHtml(opt_data.position + 1) + '/' + soy.$$escapeHtml(opt_data.length) + '</span>' : '');
};
if (goog.DEBUG) {
  AJS.Templates.HelpTip.sequencePaging.soyTemplateName = 'AJS.Templates.HelpTip.sequencePaging';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:help-tip', location = 'js/HelpTip.js' */
define("jira-help-tips/feature/help-tip",["require"],(function(i){"use strict";var t=i("jquery"),e=i("underscore"),s=i("jira-help-tips/feature/help-tip-manager"),n=i("jira-help-tips/util/analytics"),o=i("aui/inline-dialog"),h=i("jira/jquery/deferred"),l=AJS.Popups,r=AJS.Templates.HelpTip,a=0,u=(new Date).getTime(),c="jira-help-tip aui-help";function d(){return!1}function p(){return!0}var f=function(i,t){this.initialize(i,t)},b=function(i){this.initialize(i)},m=function(i){var e;this.attributes=t.extend({},i);this.attributes.id||(this.attributes.id=!1);this.attributes.callbacks||(this.attributes.callbacks={});if(this.attributes.isSequence){this.attributes.weight||(this.attributes.weight=Number.MAX_VALUE);s.sequences.push(this)}if(this.attributes.body){this.attributes.bodyHtml=this.attributes.body;delete this.attributes.body}this.cid="jira-help-tip-"+u+a++;e=this.attributes.anchor;delete this.attributes.anchor;this.view=e?new f(this,e):new b(this)};t.extend(m.prototype,{show:function(i){i=i||{};var t=this,o=new h;if(this.attributes.callbacks.beforeShow){var r=this.attributes.callbacks.beforeShow();r&&e.isFunction(r.done)?r.done(o.resolve):o.resolve()}else o.resolve();o.done((function(){s.show((function(){if(!t.isDismissed()){!i.force&&l&&l.DisplayController?l.DisplayController.request({name:t.id,weight:1e3,show:function(){t.view.show()}}):t.view.show();n.send("shown",t)}}))}))},dismiss:function(){var i=n.clean(arguments[0]||"programmatically");this.view.dismiss();"close-button"===i&&this.attributes.isSequence&&s.clearSequences();if(!this.isDismissed()){s.dismiss(this);n.send("dismissed."+i,this)}},isVisible:function(){return this.view.$el.is(":visible")},isDismissed:function(){return s.isDismissed(this)},refresh:function(){this.isDismissed()||this.view.refresh()},hide:function(){this.isDismissed()||this.view.dismiss()},showNextHelpTipInSequence:function(){this.view.clickNext()}});t.extend(f.prototype,{initialize:function(i,e){this.model=i;this.anchorSelector=e;this.anchor=t(e);this._initDialog(e);t(document).bind("showLayer",(function(e,s,n){if("inlineDialog"===s&&n.id===i.cid){o.current=null;t(document.body).unbind("click."+i.cid+".inline-dialog-check");n._validateClickToClose=d;n.hide=d}}))},show:function(){this.beforeHide=d;this.popup.show()},refresh:function(){var i=t(this.anchorSelector);i.is(":visible")?i.get(0)!==this.anchor.get(0)?this.changeAnchor(i):this.isVisible()?this.popup.refresh():this.show():this.dismiss()},changeAnchor:function(i){var t=this.isVisible();this.dismiss();this.$el.remove();this.anchor=i;this._initDialog(i);t&&this.show()},dismiss:function(){this.beforeHide=p;this._popupHide()},clickNext:function(){var i=t(this.$el).find(".helptip-next");i.length>0&&i.click()},isVisible:function(){return this.$el.is(":visible")},_initDialog:function(i){var s=this,n=this.model;this.popup=new o(t(i),n.cid,e.bind(this._createDialog,this),e.extend({container:"#content",noBind:!0,preHideCallback:function(){return s.beforeHide()},calculatePositions:function(i,e,s,n){var h=o.opts.calculatePositions(i,e,s,n),l=t(this.container).offset();if("auto"!==h.popupCss.left){h.popupCss.left-=l.left;h.popupCss.right="auto"}h.popupCss.top-=l.top;return h},addActiveClass:!1,initCallback:n.attributes.callbacks.init,hideCallback:n.attributes.callbacks.hide,persistent:!0},n.attributes.inlineDialogOpts));this._popupHide=this.popup.hide;this.popup.hide=d;this.$el=t(this.popup[0]);this.$el.addClass(c)},_createDialog:function(i,o,h){var l=this,a=s.sequences,u=this.model.attributes.position,c=this.model.attributes.isSequence;i.removeClass("contents");i.html(t(r.tipContent(e.extend({showNextButton:c&&a.length>1&&u+1<a.length,length:a.length,position:u,showCloseButton:!0},this.model.attributes))));i.unbind("mouseover mouseout");i.find(".helptip-link").click((function(){n.send("learn-more.clicked",l.model)}));i.find(".helptip-close").click((function(i){i.preventDefault();l.model.dismiss("close-button")}));i.find(".helptip-next").click((function(i){i.preventDefault();l.model.dismiss("next-button");var t=u+1;a[t]&&a[t].show({force:!0})}));h()}});t.extend(b.prototype,{initialize:function(){this.$el=t("<div></div>");this.$el.addClass(c)},show:function(){},dismiss:function(){}});return m}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:initialiser', location = 'js/initialiser.js' */
define("jira-help-tips/page/initialiser",["jira-help-tips/feature/help-tip-manager","jira/util/users/logged-in-user","underscore"],(function(e,i,n){"use strict";return{init:n.once((function(){i.isAnonymous()||e.fetch()}))}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.helptips.jira-help-tips:common', location = 'js/legacy.js' */
!function(){"use strict";AJS.namespace("AJS.HelpTip",null,require("jira-help-tips/feature/help-tip"));AJS.namespace("AJS.HelpTip.Manager",null,require("jira-help-tips/feature/help-tip-manager"));require("jira-help-tips/page/initialiser").init()}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:events', location = 'util/Events.js' */
define("jira/components/util/events",["require"],function(a){var b=a("jira/util/events/types");return a("jira/components/libs/underscore").extend({},b,{LAYOUT_RENDERED:"layoutRendered"})});AJS.namespace("JIRA.Events",null,require("jira/util/events/types"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-easing', location = '/includes/jquery/plugins/easing/jquery.easing.1.3.js' */
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,e,t,u,a){return jQuery.easing[jQuery.easing.def](n,e,t,u,a)},easeInQuad:function(n,e,t,u,a){return u*(e/=a)*e+t},easeOutQuad:function(n,e,t,u,a){return-u*(e/=a)*(e-2)+t},easeInOutQuad:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e+t:-u/2*(--e*(e-2)-1)+t},easeInCubic:function(n,e,t,u,a){return u*(e/=a)*e*e+t},easeOutCubic:function(n,e,t,u,a){return u*((e=e/a-1)*e*e+1)+t},easeInOutCubic:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t},easeInQuart:function(n,e,t,u,a){return u*(e/=a)*e*e*e+t},easeOutQuart:function(n,e,t,u,a){return-u*((e=e/a-1)*e*e*e-1)+t},easeInOutQuart:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e+t:-u/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(n,e,t,u,a){return u*(e/=a)*e*e*e*e+t},easeOutQuint:function(n,e,t,u,a){return u*((e=e/a-1)*e*e*e*e+1)+t},easeInOutQuint:function(n,e,t,u,a){return(e/=a/2)<1?u/2*e*e*e*e*e+t:u/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(n,e,t,u,a){return-u*Math.cos(e/a*(Math.PI/2))+u+t},easeOutSine:function(n,e,t,u,a){return u*Math.sin(e/a*(Math.PI/2))+t},easeInOutSine:function(n,e,t,u,a){return-u/2*(Math.cos(Math.PI*e/a)-1)+t},easeInExpo:function(n,e,t,u,a){return 0==e?t:u*Math.pow(2,10*(e/a-1))+t},easeOutExpo:function(n,e,t,u,a){return e==a?t+u:u*(1-Math.pow(2,-10*e/a))+t},easeInOutExpo:function(n,e,t,u,a){return 0==e?t:e==a?t+u:(e/=a/2)<1?u/2*Math.pow(2,10*(e-1))+t:u/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(n,e,t,u,a){return-u*(Math.sqrt(1-(e/=a)*e)-1)+t},easeOutCirc:function(n,e,t,u,a){return u*Math.sqrt(1-(e=e/a-1)*e)+t},easeInOutCirc:function(n,e,t,u,a){return(e/=a/2)<1?-u/2*(Math.sqrt(1-e*e)-1)+t:u/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;i||(i=.3*a);if(s<Math.abs(u)){s=u;r=i/4}else r=i/(2*Math.PI)*Math.asin(u/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)+t},easeOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(1==(e/=a))return t+u;i||(i=.3*a);if(s<Math.abs(u)){s=u;r=i/4}else r=i/(2*Math.PI)*Math.asin(u/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-r)*(2*Math.PI)/i)+u+t},easeInOutElastic:function(n,e,t,u,a){var r=1.70158,i=0,s=u;if(0==e)return t;if(2==(e/=a/2))return t+u;i||(i=a*(.3*1.5));if(s<Math.abs(u)){s=u;r=i/4}else r=i/(2*Math.PI)*Math.asin(u/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-r)*(2*Math.PI)/i)*.5+u+t},easeInBack:function(n,e,t,u,a,r){null==r&&(r=1.70158);return u*(e/=a)*e*((r+1)*e-r)+t},easeOutBack:function(n,e,t,u,a,r){null==r&&(r=1.70158);return u*((e=e/a-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(n,e,t,u,a,r){null==r&&(r=1.70158);return(e/=a/2)<1?u/2*(e*e*((1+(r*=1.525))*e-r))+t:u/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(n,e,t,u,a){return u-jQuery.easing.easeOutBounce(n,a-e,0,u,a)+t},easeOutBounce:function(n,e,t,u,a){return(e/=a)<1/2.75?u*(7.5625*e*e)+t:e<2/2.75?u*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?u*(7.5625*(e-=2.25/2.75)*e+.9375)+t:u*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(n,e,t,u,a){return e<a/2?.5*jQuery.easing.easeInBounce(n,2*e,0,u,a)+t:.5*jQuery.easing.easeOutBounce(n,2*e-a,0,u,a)+.5*u+t}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox-1.3.4.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t,i,n,a,o,d,c,s,r,l,f,h,p,g=0,b={},y=[],u=0,w={},m=[],x=null,v=new Image,I=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\.]\.(swf)\s*$/i,k=1,O=0,j="",S=!1,T=e.extend(e("<div/>")[0],{prop:0}),D=e.browser.msie&&e.browser.version<7&&!window.XMLHttpRequest,A=function(){i.hide();v.onerror=v.onload=null;x&&x.abort();t.empty()},F=function(){if(!1!==b.onError(y,g,b)){b.titleShow=!1;b.width="auto";b.height="auto";t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');N()}else{i.hide();S=!1}},E=function(){var n,a,o,c,s,r,l=y[g];A();b=e.extend({},e.fn.fancybox.defaults,void 0===e(l).data("fancybox")?b:e(l).data("fancybox"));if(!1!==(r=b.onStart(y,g,b))){"object"==(void 0===r?"undefined":_typeof(r))&&(b=e.extend(b,r));o=b.title||(l.nodeName?e(l).attr("title"):l.title)||"";l.nodeName&&!b.orig&&(b.orig=e(l).children("img:first").length?e(l).children("img:first"):e(l));""===o&&b.orig&&b.titleFromAlt&&(o=b.orig.attr("alt"));n=b.href||(l.nodeName?e(l).attr("href"):l.href)||null;(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null);if(b.type){a=b.type;n||(n=b.content)}else b.content?a="html":n&&(a=n.match(I)?"image":n.match(C)?"swf":e(l).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax");if(a){if("inline"==a){l=n.substr(n.indexOf("#"));a=e(l).length>0?"inline":"ajax"}b.type=a;b.href=n;b.title=o;if(b.autoDimensions)if("html"==b.type||"inline"==b.type||"ajax"==b.type){b.width="auto";b.height="auto"}else b.autoDimensions=!1;if(b.modal){b.overlayShow=!0;b.hideOnOverlayClick=!1;b.hideOnContentClick=!1;b.enableEscapeButton=!1;b.showCloseButton=!1}b.padding=parseInt(b.padding,10);b.margin=parseInt(b.margin,10);t.css("padding",b.padding+b.margin);e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",(function(){e(this).replaceWith(d.children())}));switch(a){case"html":t.html(b.content);N();break;case"inline":if(!0===e(l).parent().is("#fancybox-content")){S=!1;return}e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(l)).bind("fancybox-cleanup",(function(){e(this).replaceWith(d.children())})).bind("fancybox-cancel",(function(){e(this).replaceWith(t.children())}));e(l).appendTo(t);N();break;case"image":S=!1;e.fancybox.showActivity();(v=new Image).onerror=function(){F()};v.onload=function(){S=!0;v.onerror=v.onload=null;P()};v.src=n;break;case"swf":b.scrolling="no";c='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+b.width+'" height="'+b.height+'"><param name="movie" value="'+n+'"></param>';s="";e.each(b.swf,(function(e,t){c+='<param name="'+e+'" value="'+t+'"></param>';s+=" "+e+'="'+t+'"'}));c+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+b.width+'" height="'+b.height+'"'+s+"></embed></object>";t.html(c);N();break;case"ajax":S=!1;e.fancybox.showActivity();b.ajax.win=b.ajax.success;x=e.ajax(e.extend({},b.ajax,{url:n,data:b.ajax.data||{},error:function(e,t,i){e.status>0&&F()},success:function(e,a,o){if(200==("object"==(void 0===o?"undefined":_typeof(o))?o:x).status){if("function"==typeof b.ajax.win){if(!1===(r=b.ajax.win(n,e,a,o))){i.hide();return}"string"!=typeof r&&"object"!=(void 0===r?"undefined":_typeof(r))||(e=r)}t.html(e);N()}}}));break;case"iframe":B()}}else F()}else S=!1},N=function(){var i=b.width,n=b.height;i=i.toString().indexOf("%")>-1?parseInt((e(window).width()-2*b.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px";n=n.toString().indexOf("%")>-1?parseInt((e(window).height()-2*b.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px";t.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==b.scrolling?"auto":"yes"==b.scrolling?"scroll":"hidden")+';position:relative;"></div>');b.width=t.width();b.height=t.height();B()},P=function(){b.width=v.width;b.height=v.height;e("<img />").attr({id:"fancybox-img",src:v.src,alt:b.title}).appendTo(t);B()},B=function(){var o,f;i.hide();if(a.is(":visible")&&!1===w.onCleanup(m,u,w)){e.event.trigger("fancybox-cancel");S=!1}else{S=!0;e(d.add(n)).unbind();e(window).unbind("resize.fb scroll.fb");e(document).unbind("keydown.fb");a.is(":visible")&&"outside"!==w.titlePosition&&a.css("height",a.height());m=y;u=g;if((w=b).overlayShow){n.css({"background-color":w.overlayColor,opacity:w.overlayOpacity,cursor:w.hideOnOverlayClick?"pointer":"auto",height:e(document).height()});if(!n.is(":visible")){D&&e("select:not(#fancybox-tmp select)").filter((function(){return"hidden"!==this.style.visibility})).css({visibility:"hidden"}).one("fancybox-cleanup",(function(){this.style.visibility="inherit"}));n.show()}}else n.hide();p=R();L();if(a.is(":visible")){e(c.add(r).add(l)).hide();o=a.position(),h={top:o.top,left:o.left,width:a.width(),height:a.height()};f=h.width==p.width&&h.height==p.height;d.fadeTo(w.changeFade,.3,(function(){var i=function(){d.html(t.contents()).fadeTo(w.changeFade,1,M)};e.event.trigger("fancybox-change");d.empty().removeAttr("filter").css({"border-width":w.padding,width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding});if(f)i();else{T.prop=0;e(T).animate({prop:1},{duration:w.changeSpeed,easing:w.easingChange,step:z,complete:i})}}))}else{a.removeAttr("style");d.css("border-width",w.padding);if("elastic"!=w.transitionIn){"inside"==w.titlePosition&&O>0&&s.show();d.css({width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}).html(t.contents());a.css(p).fadeIn("none"==w.transitionIn?0:w.speedIn,M)}else{h=K();d.html(t.contents());a.show();w.opacity&&(p.opacity=0);T.prop=0;e(T).animate({prop:1},{duration:w.speedIn,easing:w.easingIn,step:z,complete:M})}}}},L=function(){j=w.title||"";O=0;s.empty().removeAttr("style").removeClass();if(!1!==w.titleShow){j=e.isFunction(w.titleFormat)?w.titleFormat(j,m,u,w):function(e){return!(!e||!e.length)&&("float"==w.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+e+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+w.titlePosition+'">'+e+"</div>")}(j);if(j&&""!==j){s.addClass("fancybox-title-"+w.titlePosition).html(j).appendTo("body").show();switch(w.titlePosition){case"inside":s.css({width:p.width-2*w.padding,marginLeft:w.padding,marginRight:w.padding});O=s.outerHeight(!0);s.appendTo(o);p.height+=O;break;case"over":s.css({marginLeft:w.padding,width:p.width-2*w.padding,bottom:w.padding}).appendTo(o);break;case"float":s.css("left",-1*parseInt((s.width()-p.width-40)/2,10)).appendTo(a);break;default:s.css({width:p.width-2*w.padding,paddingLeft:w.padding,paddingRight:w.padding}).appendTo(a)}s.hide()}else s.hide()}else s.hide()},M=function(){if(!e.support.opacity){d.get(0).style.removeProperty("filter");a.get(0).style.removeProperty("filter")}b.autoDimensions&&d.css("height","auto");a.css("height","auto");j&&j.length&&s.show();w.showCloseButton&&c.show();!function(){(w.enableEscapeButton||w.enableKeyboardNav)&&e(document).bind("keydown.fb",(function(t){if(27==t.keyCode&&w.enableEscapeButton){t.preventDefault();e.fancybox.close()}else if((37==t.keyCode||39==t.keyCode)&&w.enableKeyboardNav&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&"SELECT"!==t.target.tagName){t.preventDefault();e.fancybox[37==t.keyCode?"prev":"next"]()}}));if(w.showNavArrows){(w.cyclic&&m.length>1||0!==u)&&r.show();(w.cyclic&&m.length>1||u!=m.length-1)&&l.show()}else{r.hide();l.hide()}}();w.hideOnContentClick&&d.bind("click",e.fancybox.close);w.hideOnOverlayClick&&n.bind("click",e.fancybox.close);e(window).bind("resize.fb",e.fancybox.resize);w.centerOnScroll&&e(window).bind("scroll.fb",e.fancybox.center);"iframe"==w.type&&e('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(e.browser.msie?'allowtransparency="true""':"")+' scrolling="'+b.scrolling+'" src="'+w.href+'"></iframe>').appendTo(d);a.show();S=!1;e.fancybox.center();w.onComplete(m,u,w);_()},_=function(){var e;m.length-1>u&&void 0!==(e=m[u+1].href)&&e.match(I)&&((new Image).src=e);u>0&&void 0!==(e=m[u-1].href)&&e.match(I)&&((new Image).src=e)},z=function(e){var t={width:parseInt(h.width+(p.width-h.width)*e,10),height:parseInt(h.height+(p.height-h.height)*e,10),top:parseInt(h.top+(p.top-h.top)*e,10),left:parseInt(h.left+(p.left-h.left)*e,10)};void 0!==p.opacity&&(t.opacity=e<.5?.5:e);a.css(t);d.css({width:t.width-2*w.padding,height:t.height-O*e-2*w.padding})},H=function(){return[e(window).width()-2*w.margin,e(window).height()-2*w.margin,e(document).scrollLeft()+w.margin,e(document).scrollTop()+w.margin]},R=function(){var e,t=H(),i={},n=w.autoScale,a=2*w.padding;w.width.toString().indexOf("%")>-1?i.width=parseInt(t[0]*parseFloat(w.width)/100,10):i.width=w.width+a;w.height.toString().indexOf("%")>-1?i.height=parseInt(t[1]*parseFloat(w.height)/100,10):i.height=w.height+a;if(n&&(i.width>t[0]||i.height>t[1]))if("image"==b.type||"swf"==b.type){e=w.width/w.height;if(i.width>t[0]){i.width=t[0];i.height=parseInt((i.width-a)/e+a,10)}if(i.height>t[1]){i.height=t[1];i.width=parseInt((i.height-a)*e+a,10)}}else{i.width=Math.min(i.width,t[0]);i.height=Math.min(i.height,t[1])}i.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-i.height-40)),10);i.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-i.width-40)),10);return i},K=function(){var t,i,n=!!b.orig&&e(b.orig),a={};if(n&&n.length)a={width:(t=function(e){var t=e.offset();t.top+=parseInt(e.css("paddingTop"),10)||0;t.left+=parseInt(e.css("paddingLeft"),10)||0;t.top+=parseInt(e.css("border-top-width"),10)||0;t.left+=parseInt(e.css("border-left-width"),10)||0;t.width=e.width();t.height=e.height();return t}(n)).width+2*w.padding,height:t.height+2*w.padding,top:t.top-w.padding-20,left:t.left-w.padding-20};else{i=H();a={width:2*w.padding,height:2*w.padding,top:parseInt(i[3]+.5*i[1],10),left:parseInt(i[2]+.5*i[0],10)}}return a},W=function(){if(i.is(":visible")){e("div",i).css("top",-40*k+"px");k=(k+1)%12}else clearInterval(f)};e.fn.fancybox=function(t){if(!e(this).length)return this;e(this).data("fancybox",e.extend({},t,e.metadata?e(this).metadata():{})).unbind("click.fb").bind("click.fb",(function(t){t.preventDefault();if(!S){S=!0;e(this).blur();y=[];g=0;var i=e(this).attr("rel")||"";if(i&&""!=i&&"nofollow"!==i){y=e("a[rel="+i+"], area[rel="+i+"]");g=y.index(this)}else y.push(this);E()}}));return this};e.fancybox=function(t){var i;if(!S){S=!0;i=void 0!==arguments[1]?arguments[1]:{};y=[];g=parseInt(i.index,10)||0;if(e.isArray(t)){for(var n=0,a=t.length;n<a;n++)"object"==_typeof(t[n])?e(t[n]).data("fancybox",e.extend({},i,t[n])):t[n]=e({}).data("fancybox",e.extend({content:t[n]},i));y=jQuery.merge(y,t)}else{"object"==(void 0===t?"undefined":_typeof(t))?e(t).data("fancybox",e.extend({},i,t)):t=e({}).data("fancybox",e.extend({content:t},i));y.push(t)}(g>y.length||g<0)&&(g=0);E()}};e.fancybox.showActivity=function(){clearInterval(f);i.show();f=setInterval(W,66)};e.fancybox.hideActivity=function(){i.hide()};e.fancybox.next=function(){return e.fancybox.pos(u+1)};e.fancybox.prev=function(){return e.fancybox.pos(u-1)};e.fancybox.pos=function(e){if(!S){e=parseInt(e);y=m;if(e>-1&&e<m.length){g=e;E()}else if(w.cyclic&&m.length>1){g=e>=m.length?0:m.length-1;E()}}};e.fancybox.cancel=function(){if(!S){S=!0;e.event.trigger("fancybox-cancel");A();b.onCancel(y,g,b);S=!1}};e.fancybox.close=function(){if(!S&&!a.is(":hidden")){S=!0;if(w&&!1===w.onCleanup(m,u,w))S=!1;else{A();e(c.add(r).add(l)).hide();e(d.add(n)).unbind();e(window).unbind("resize.fb scroll.fb");e(document).unbind("keydown.fb");d.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");"inside"!==w.titlePosition&&s.empty();a.stop();if("elastic"==w.transitionOut){h=K();var t=a.position();p={top:t.top,left:t.left,width:a.width(),height:a.height()};w.opacity&&(p.opacity=1);s.empty().hide();T.prop=1;e(T).animate({prop:0},{duration:w.speedOut,easing:w.easingOut,step:z,complete:i})}else a.fadeOut("none"==w.transitionOut?0:w.speedOut,i)}}function i(){n.fadeOut("fast");s.empty().hide();a.hide();e.event.trigger("fancybox-cleanup");d.empty();w.onClosed(m,u,w);m=b=[];u=g=0;w=b={};S=!1}};e.fancybox.resize=function(){n.is(":visible")&&n.css("height",e(document).height());e.fancybox.center(!0)};e.fancybox.center=function(){var e,t;if(!S){t=!0===arguments[0]?1:0;e=H();!t&&(a.width()>e[0]||a.height()>e[1])||a.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-d.height()-40)-w.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-d.width()-40)-w.padding))},"number"==typeof arguments[0]?arguments[0]:200)}};e.fancybox.init=function(){if(!e("#fancybox-wrap").length){e("body").append(t=e('<div id="fancybox-tmp"></div>'),i=e('<div id="fancybox-loading"><div></div></div>'),n=e('<div id="fancybox-overlay"></div>'),a=e('<div id="fancybox-wrap"></div>'));(o=e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(a)).append(d=e('<div id="fancybox-content"></div>'),c=e('<a id="fancybox-close"></a>'),s=e('<div id="fancybox-title"></div>'),r=e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),l=e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));c.click(e.fancybox.close);i.click(e.fancybox.cancel);r.click((function(t){t.preventDefault();e.fancybox.prev()}));l.click((function(t){t.preventDefault();e.fancybox.next()}));e.fn.mousewheel&&a.bind("mousewheel.fb",(function(t,i){if(S)t.preventDefault();else if(0==e(t.target).get(0).clientHeight||e(t.target).get(0).scrollHeight===e(t.target).get(0).clientHeight){t.preventDefault();e.fancybox[i>0?"prev":"next"]()}}));e.support.opacity||a.addClass("fancybox-ie");if(D){i.addClass("fancybox-ie6");a.addClass("fancybox-ie6");e('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)}}};e.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};e(document).ready((function(){e.fancybox.init()}))}(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-fancybox', location = '/includes/jquery/plugins/fancybox/jquery.fancybox.jira.js' */
AJS.$.fn.fancybox.defaults.titleFormat=function(t){if(t&&t.length){t=AJS.escapeHtml(t);return"float"==this.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+t+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+this.titlePosition+'">'+t+"</div>"}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/time.js' */
define("jira/jquery/plugins/livestamp/time",["jira/util/formatter","jquery","jira/moment","jira/util/data/meta"],(function(e,t,n,o){"use strict";var r={};function a(e,t){this.key=e;this.isAge=t}var i=o.getBoolean("date-relativize");a.types={};for(var u,l=["shortAge","longAge","fullAge","short","long","full","timestamp"],m=0,s=l.length;m<s;m++){u=l[m];a.types[u]=new a(u,-1!==u.toLowerCase().indexOf("age"))}var c={};r.FormatType=a;function d(t,n,o){return t in c?e.format(c[t],o):null}function g(e){return e.clone().hours(0).minutes(0).seconds(0).milliseconds(0)}function f(e,t){return Math.floor(t.diff(e,"minutes",!0))}function v(e,t){var n=t.diff(e,"hours",!0);return Math.round(n)}function x(e,t){return Math.floor(t.diff(e,"days",!0))}function A(e,t){var n=function(e){switch(e.key){case"short":case"shortAge":return"ll";case"long":case"longAge":return"LL";case"full":case"fullAge":case"timestamp":return"LLL";default:return null}}(t);return e.format(n)}function h(e,t,o){if(e<=(o=o||n())){if(e>o.clone().subtract("m",1))return d("aMomentAgo");if(e>o.clone().subtract("m",2))return d("oneMinuteAgo");if(e>o.clone().subtract("m",50))return d("xMinutesAgo",0,f(e,o));if(e>o.clone().subtract("m",90))return d("oneHourAgo");if(function(e,t){var n=g(e);return n.clone().subtract("d",1)<=t&&t<n}(o,e)&&e<o.clone().subtract("h",5))return d("oneDayAgo");if(e>o.clone().subtract("d",1))return d("xHoursAgo",0,v(e,o));if(e>o.clone().subtract("d",7))return d("xDaysAgo",0,Math.max(x(e,o),2));if(e>o.clone().subtract("d",8))return d("oneWeekAgo")}else{if(e<o.clone().add("m",1))return d("inAMoment");if(e<o.clone().add("m",2))return d("inOneMinute");if(e<o.clone().add("m",50))return d("inXMinutes",0,f(o,e));if(e<o.clone().add("m",90))return d("inOneHour");if(function(e,t){var n=g(e).add("d",1),o=n.clone().add("d",1);return n<=t&&t<o}(o,e)&&e>o.clone().add("h",5))return d("inOneDay");if(e<o.clone().add("d",1))return d("inXHours",0,v(o,e));if(e<o.clone().add("d",7))return d("inXDays",0,Math.max(x(o,e),2));if(e<o.clone().add("d",8))return d("inOneWeek")}return A(e,t)}r.formatDate=function(e,t,n){return e&&t?(i||n)&&t.isAge?h(e,t):A(e,t):null};r.setRelativeTranslations=function(e){for(var t in e)c[t]=e[t]};r.restoreDefaultRelativeTranslations=function(){this.setRelativeTranslations({inAMoment:"\u0421\u0435\u0439\u0447\u0430\u0441",inOneMinute:"\u041c\u0435\u043d\u0435\u0435 \u043c\u0438\u043d\u0443\u0442\u044b \u043d\u0430\u0437\u0430\u0434",inXMinutes:"{0} \u043c\u0438\u043d.",inOneHour:"\u0427\u0435\u0440\u0435\u0437 1 \u0447\u0430\u0441",inXHours:"{0} \u0447.",inOneDay:"\u0417\u0430\u0432\u0442\u0440\u0430",inXDays:"{0} \u0434\u043d\u0435\u0439",inOneWeek:"\u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043d\u0435\u0434\u0435\u043b\u0438",aMomentAgo:"\u0422\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e",oneMinuteAgo:"1 \u043c\u0438\u043d\u0443\u0442\u0443 \u043d\u0430\u0437\u0430\u0434",xMinutesAgo:"{0} \u043c\u0438\u043d. \u043d\u0430\u0437\u0430\u0434",oneHourAgo:"\u0427\u0430\u0441 \u043d\u0430\u0437\u0430\u0434",xHoursAgo:"{0} \u0447. \u043d\u0430\u0437\u0430\u0434",oneDayAgo:"\u0412\u0447\u0435\u0440\u0430",xDaysAgo:"{0} \u0434. \u043d\u0430\u0437\u0430\u0434",oneWeekAgo:"1 \u043d\u0435\u0434\u0435\u043b\u044e \u043d\u0430\u0437\u0430\u0434"})};r.restoreDefaultRelativeTranslations();r.formatDateWithRelativeAge=h;r.formatDateWithFormatString=A;return r}));AJS.namespace("JIRA.Time",null,require("jira/jquery/plugins/livestamp/time"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-livestamp', location = '/includes/jquery/plugins/livestamp/livestamp.js' */
define("jira/jquery/plugins/livestamp/livestamp",["jquery","jira/moment","jira/util/data/meta","jira/jquery/plugins/livestamp/time"],(function(t,e,a,i){"use strict";var r,n=a.getBoolean("date-relativize"),s=[],u=function t(){clearTimeout(r);l();r=setTimeout(t,6e3)},l=function(){s=t.grep(s,(function(t){var a,r,s=t.data("livestampdata"),u=t.data("relativize");if(e.isMoment(s)&&t.closest("html").length){a=t.text();var l=t.data("datetime-format");l=l||"fullAge";n||u||(l=l.replace("Age",""));a!==(r=i.formatDate(s,i.FormatType.types[l],u))&&t.text(r)}else t.removeData("livestampdata");return!!t.data("livestampdata")}))},m=function(a){a.each((function(){var a=t(this),i=a.attr("datetime");if(i){!function(t,e){t.data("livestampdata",e);s.push(t)}(a,isNaN(i)?e(i).utcOffset(i):e(parseInt(i,10)))}}));u();return a};t.fn.livestamp=function(){return m(this)};return m}));require("jira/jquery/plugins/livestamp/livestamp");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-plugin-shortener', location = '/includes/jquery/plugins/shorten/shorten.js' */
define("jira/ajs/shorten/shortener",["jira/util/formatter","jira/ajs/control","jira/data/local-storage","jquery"],(function(t,e,i,n){return e.extend({_getDefaultOptions:function(){return{items:"a, span",numRows:1,shortenText:"hide",shortenOnInit:!0,persist:!0,expandButtonTooltip:"\u041d\u0430\u0436\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0435\u0449\u0435 {0}",collapseButtonTooltip:"\u0421\u043a\u0440\u044b\u0442\u044c"}},init:function(t){"string"==typeof t&&(t={element:t});t=t||{};this.options=n.extend(this._getDefaultOptions(),t);this._timerId=0;this.expanded=!1;this.$container=n(this.options.element);this._assignEvents("body",document.body);this._ready()},_isValid:function(){return!this.initialized&&this.$container.is(":visible")&&this.$container.children().length>0},_ready:function(){if(this._isValid()){this.$container.find(".shortener-expand, .shortener-collapse, br").remove();this.$items=this.$container.children(this.options.items);this.$expandButton=this._render("expandButton");this.$collapseButton=this._render("collapseButton");this._assignEvents("expand-button",".shortener-expand");this._assignEvents("collapse-button",".shortener-collapse");this._assignEvents("resize-region",window);this._isCollapsedOnInit()?this.collapse():this.expand();this.initialized=!0}},_renders:{expandButton:function(){return n("<a href='#' class='ellipsis shortener-expand'></a>").attr("title",this.options.expandButtonTooltip).add("<br>")},collapseButton:function(){return n("<a href='#' title='Hide' class='icon icon-hide shortener-collapse'></a>").append(n("<span>").text(this.options.collapseButtonTooltip))}},_events:{"expand-button":{click:function(t){if(t.currentTarget===this.$expandButton[0]){t.preventDefault();this.expand();this._saveState("expanded")}}},"collapse-button":{click:function(t){if(t.currentTarget===this.$collapseButton[0]){t.preventDefault();this.collapse();this._saveState("collapsed");this.$container.scrollIntoView()}}},"resize-region":{resize:function(){clearTimeout(this._timerId);if(!this.expanded){var t=this;this._timerId=setTimeout((function(){t.collapse()}),400)}}},body:{tabSelect:function(){this._ready()}}},_saveState:function(t){try{i.setItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"),t)}catch(t){}},_loadState:function(){return i.getItem("AJS.Shortener#"+this.$container.closest("[id]").attr("id"))},_isCollapsedOnInit:function(){var t=this._loadState();return null!==t?"expanded"!==t:this.options.shortenOnInit},_removeButtons:function(){this.$expandButton.remove();this.$collapseButton.remove()},_getOverflowIndex:function(){if(this.$items.length>1)for(var t=1,e=-1,i=0;i<this.$items.length;i++){var n=this.$items.eq(i).offset().left;if(n<=e&&++t>this.options.numRows)return i;e=n}return-1},expand:function(){this._removeButtons();if(this._getOverflowIndex()>0){this.$collapseButton=this._render("collapseButton");this.$container.append(this.$collapseButton);this.$container.css("height","auto");n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")}this.expanded=!0},collapse:function(){this._removeButtons();var e=this._getOverflowIndex();if(e>0){this.$container.css({position:"absolute",visibility:"hidden",width:this.$container[0].clientWidth+"px"});var i=this.$expandButton.first();do{var s=this.$items.length-e;i.text("("+s+")");this.$expandButton.insertBefore(this.$items[e]);e--;var o=this.$items.eq(e).offset(),r=this.$expandButton.offset();if(o.left<r.left&&r.top<o.top+10)break}while(e>0);var a=e<this.$items.length-1?this.$items.eq(e+1).offset().top-this.$container.offset().top+"px":"auto";this.$container.css({height:a,position:"static",visibility:"visible",width:"auto"});i.attr("title",t.format(this.options.expandButtonTooltip,s));n.browser.msie&&n.browser.version<"9"&&n("body").toggleClass("reflow")}else this.$container.css("height","auto");this.expanded=!1}})}));define("jira/jquery/plugins/shorten/shorten",["jira/ajs/shorten/shortener","jquery"],(function(t,e){e.fn.shorten=function(e){var i=[];e=e||{};this.each((function(){e.element=this;i.push(new t(e))}));return i}}));AJS.namespace("AJS.Shortener",null,require("jira/ajs/shorten/shortener"));require("jira/jquery/plugins/shorten/shorten");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-plugin-shortener', location = '/includes/jira/viewissue/element/shorten.js' */
define("jira/viewissue/element/shorten",["jira/ajs/shorten/shortener","jira/skate"],(function(e,t){"use strict";return t("shorten",{type:t.type.CLASSNAME,attached:function(t){var n={};n.element=t;new e(n)}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar-lib', location = '/includes/lib/calendar/Calendar.js' */
Calendar=function(e,a,t,n,r){this.activeDiv=null;this.currentDateEl=null;this.getDateStatus=null;this.getDateToolTip=null;this.getDateText=null;this.timeout=null;this.onSelected=n||null;this.onClose=r||null;this.dragging=!1;this.hidden=!1;this.minYear=1970;this.maxYear=2050;this.dateFormat=Calendar._TT.DEF_DATE_FORMAT;this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT;this.isPopup=!0;this.weekNumbers=!0;this.firstDayOfWeek="number"==typeof e?e:Calendar._FD;this.showsOtherMonths=!1;this.dateStr=a;this.todayDateStr=t;this.ar_days=null;this.showsTime=!1;this.time24=!0;this.yearStep=2;this.hiliteToday=!0;this.multiple=null;this.table=null;this.element=null;this.tbody=null;this.firstdayname=null;this.monthsCombo=null;this.yearsCombo=null;this.activeMonth=null;this.activeYear=null;this.dateClicked=!1;if(void 0===Calendar._SDN){void 0===Calendar._SDN_len&&(Calendar._SDN_len=3);for(var l=new Array,i=8;i>0;)l[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);Calendar._SDN=l;void 0===Calendar._SMN_len&&(Calendar._SMN_len=3);l=new Array;for(i=12;i>0;)l[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);Calendar._SMN=l}};Calendar._C=null;Calendar._TargetTypes={Title:"title",PrevYear:"prev_year",PrevMonth:"prev_month",GoToday:"go_today",NextMonth:"next_month",NextYear:"next_year",WeekDayName:"week_day",Day:"day",Hours:"hours",Minutes:"minutes",AmPm:"am_pm",Confirm:"confirm",Cancel:"cancel"};Calendar._createFocusHandler=function(e){return function(a){if("Tab"===a.key){var t=document.activeElement,n=e.querySelectorAll("button:not([tabindex='-1']), [tabindex='0']"),r=n[0],l=n[n.length-1],i=t===r,s="H2"===t.tagName,d=t===l;if(a.shiftKey&&(i||s)){l.focus();a.preventDefault()}else if(!a.shiftKey&&d){r.focus();a.preventDefault()}a.stopPropagation()}}};Calendar._resetTabindex=function(e,a){e.table.querySelectorAll(".day[tabindex='0']").forEach((function(e){e.setAttribute("tabindex",-1)}));a.setAttribute("tabindex",0)};Calendar._isTimeTarget=function(e){var a=Calendar._TargetTypes;return[a.Hours,a.Minutes,a.AmPm].includes(e.navtype)};Calendar.getAbsolutePos=function(e){var a=jQuery(e).offset();a.x=a.left;a.y=a.top;return a};Calendar.isRelated=function(e,a){var t=a.relatedTarget;if(!t){var n=a.type;"mouseover"==n?t=a.fromElement:"mouseout"==n&&(t=a.toElement)}for(;t;){if(t==e)return!0;t=t.parentNode}return!1};Calendar.removeClass=function(e,a){jQuery(e).removeClass(a)};Calendar.addClass=function(e,a){jQuery(e).addClass(a)};Calendar.getTargetElement=function(e){for(var a=e.target;1!==a.nodeType;)a=a.parentNode;return a};Calendar.stopEvent=function(e){e||(e=window.event);if(e.stopPropagation){e.preventDefault();e.stopPropagation()}else{e.cancelBubble=!0;e.returnValue=!1}return!1};Calendar.addEvent=function(e,a,t){Calendar.removeEvent(e,a,t);e.addEventListener(a,t,!0)};Calendar.removeEvent=function(e,a,t){e.removeEventListener(a,t,!0)};Calendar.createElement=function(e,a){var t=document.createElement(e);void 0!==a&&a.appendChild(t);return t};Calendar._assignMouseEvents=function(e,a,t){e.calendar=a;Calendar.addEvent(e,"mouseover",Calendar._setInfoText);Calendar.addEvent(e,"mouseout",Calendar._resetInfoText);Calendar.addEvent(e,"mousedown",Calendar._handleDragging);t||Calendar.addEvent(e,"click",Calendar._handleClick)};Calendar.findMonth=function(e){return void 0!==e.month?e:void 0!==e.parentNode.month?e.parentNode:null};Calendar.findYear=function(e){return void 0!==e.year?e:void 0!==e.parentNode.year?e.parentNode:null};Calendar.showMonthsCombo=function(){if(!(e=Calendar._C))return!1;var e,a=(e=e).activeDiv,t=e.monthsCombo;e.activeMonth&&Calendar.removeClass(e.activeMonth,"active");var n=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(n,"active");e.activeMonth=n;var r=t.style;r.display="block";if(a.navtype===Calendar._TargetTypes.PrevMonth)r.left=a.offsetLeft+"px";else{var l=t.offsetWidth;void 0===l&&(l=50);r.left=a.offsetLeft+a.offsetWidth-l+"px"}r.top=a.offsetTop+a.offsetHeight+"px"};Calendar.showYearsCombo=function(e){if(!(a=Calendar._C))return!1;var a,t=(a=a).activeDiv,n=a.yearsCombo;a.activeYear&&Calendar.removeClass(a.activeYear,"active");a.activeYear=null;for(var r=a.date.getFullYear()+(e?1:-1),l=n.firstChild,i=!1,s=12;s>0;--s){if(r>=a.minYear&&r<=a.maxYear){l.innerHTML=r;l.year=r;l.style.display="block";i=!0}else l.style.display="none";l=l.nextSibling;r+=e?a.yearStep:-a.yearStep}if(i){var d=n.style;d.display="block";if(t.navtype===Calendar._TargetTypes.PrevYear)d.left=t.offsetLeft+"px";else{var o=n.offsetWidth;void 0===o&&(o=50);d.left=t.offsetLeft+t.offsetWidth-o+"px"}d.top=t.offsetTop+t.offsetHeight+"px"}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal)return!1;cal.timeout&&clearTimeout(cal.timeout);var el=cal.activeDiv;if(!el)return!1;var target=Calendar.getTargetElement(ev);ev||(ev=window.event);var mon=Calendar.findMonth(target),date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=!1}}else{var year=Calendar.findYear(target);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=!1}}}with(Calendar){removeEvent(document,"mouseup",tableMouseUp);removeEvent(document,"mouseover",tableMouseOver);removeEvent(document,"mousemove",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev)}};Calendar.tableMouseOver=function(e){var a=Calendar._C;if(a){var t=a.activeDiv,n=Calendar.getTargetElement(e);e||(e=window.event);if(Calendar._isTimeTarget(t)&&n!=t){var r,l=Calendar.getAbsolutePos(t),i=t.offsetWidth,s=e.clientX,d=!0;if(s>l.x+i){r=s-l.x-i;d=!1}else r=l.x-s;r<0&&(r=0);for(var o=t._range,u=t._current,h=Math.floor(r/10)%o.length,C=o.length;--C>=0&&o[C]!=u;);for(;h-- >0;)d?--C<0&&(C=o.length-1):++C>=o.length&&(C=0);var c=o[C];t.innerHTML=c;a.onUpdateTime()}return Calendar.stopEvent(e)}};Calendar.drag=function(e){var a=Calendar._C;if(!a||!a.dragging)return!1;var t=e.pageX,n=e.pageY,r=a.element.style;r.left=t-a.xOffs+"px";r.top=n-a.yOffs+"px";return Calendar.stopEvent(e)};Calendar.endDragging=function(e){var a=Calendar._C;if(!a)return!1;a.dragging=!1;Calendar.removeEvent(document,"mousemove",Calendar.drag);Calendar.removeEvent(document,"mouseup",Calendar.endDragging);Calendar.tableMouseUp(e)};Calendar._handleDragging=function(ev){var el=ev.target;if(el.disabled)return!1;var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!==Calendar._TargetTypes.Title)with(Calendar){if(Calendar._isTimeTarget(el)){el._current=el.innerHTML;addEvent(document,"mousemove",tableMouseOver)}else addEvent(document,"mouseover",tableMouseOver);addEvent(document,"mouseup",tableMouseUp)}else cal.isPopup&&cal._startDragging(ev);if(el.navtype===Calendar._TargetTypes.PrevMonth||el.navtype===Calendar._TargetTypes.NextMonth){cal.timeout&&clearTimeout(cal.timeout);cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)}else if(el.navtype===Calendar._TargetTypes.PrevYear||el.navtype===Calendar._TargetTypes.NextYear){cal.timeout&&clearTimeout(cal.timeout);cal.timeout=setTimeout(el.navtype===Calendar._TargetTypes.NextYear?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)}else cal.timeout=null;return Calendar.stopEvent(ev)};Calendar._setInfoText=function(e){var a=e.target;if(!(Calendar.isRelated(a,e)||Calendar._C||a.disabled)){if(a.ttip){"_"==a.ttip.substr(0,1)&&(a.ttip=a.caldate.print(a.calendar.ttDateFormat)+a.ttip.substr(1));a.calendar.infoTextContainer.innerHTML=a.ttip}return Calendar.stopEvent(e)}};Calendar._resetInfoText=function(ev){with(Calendar){var el=ev.target;if(isRelated(el,ev)||_C||el.disabled)return;el.calendar&&(el.calendar.infoTextContainer.innerHTML=_TT[el.calendar.showsTime?"SEL_DATE_TIME":"SEL_DATE"]);return stopEvent(ev)}};Calendar._handleDateClick=function(e){if(!e.className.includes("emptycell")){var a=e.calendar;if(a.currentDateEl){Calendar.removeClass(a.currentDateEl,"selected");Calendar.addClass(e,"selected");a.currentDateEl=e;Calendar._resetTabindex(a,e);e.focus()}a.date.setDateOnly(e.caldate);var t=a.date,n=!(a.dateClicked=!e.otherMonth);n||a.currentDateEl||a._toggleMultipleDate(new Date(t));n&&a._init(a.firstDayOfWeek,t)}};Calendar._handleWeekDayNameClick=function(e){e.calendar.setFirstDayOfWeek(e.fdow)};Calendar._handleTimeClick=function(e,a){for(var t=e._range,n=e.innerHTML,r=t.length;--r>=0&&t[r]!=n;);a&&a.shiftKey?--r<0&&(r=t.length-1):++r>=t.length&&(r=0);var l=t[r];e.innerHTML=l;e.ariaLabelGenerator&&(e.ariaLabel=e.ariaLabelGenerator(l));e.calendar.onUpdateTime()};Calendar._handleClick=function(e){var a=e.target,t=a.calendar,n=null;if(a.navtype){n=new Date(t.date);a.navtype===Calendar._TargetTypes.GoToday&&(t.todayDateStr?n=new Date(t.todayDateStr):n.setDateOnly(new Date));if(a.navtype===Calendar._TargetTypes.Confirm){t.callHandler();return}if(a.navtype===Calendar._TargetTypes.Cancel){t.callCloseHandler();return}if(Calendar._isTimeTarget(a)){Calendar._handleTimeClick(a,e);return}if(a.navtype===Calendar._TargetTypes.WeekDayName){Calendar._handleWeekDayNameClick(a);return}t.dateClicked=!1;var r=n.getFullYear(),l=n.getMonth();function i(e){var a=n.getDate(),t=n.getMonthDays(e);a>t&&n.setDate(t);n.setMonth(e)}switch(a.navtype){case Calendar._TargetTypes.PrevYear:r>t.minYear&&n.setFullYear(r-1);break;case Calendar._TargetTypes.PrevMonth:if(l>0)i(l-1);else if(r-- >t.minYear){n.setFullYear(r);i(11)}break;case Calendar._TargetTypes.NextMonth:if(l<11)i(l+1);else if(r<t.maxYear){n.setFullYear(r+1);i(0)}break;case Calendar._TargetTypes.NextYear:r<t.maxYear&&n.setFullYear(r+1);break;case Calendar._TargetTypes.GoToday:if("function"==typeof t.getDateStatus&&t.getDateStatus(n,n.getFullYear(),n.getMonth(),n.getDate()))return!1}n.equalsTo(t.date)||t.setDate(n)}else Calendar._handleDateClick(a)};Calendar.prototype.create=function(e){var a=this,t=null;if(e){t=e;this.isPopup=!1}else{t=document.getElementsByTagName("body")[0];this.isPopup=!0}this.dateStr&&(this.date=new Date(this.dateStr));this.date&&!isNaN(this.date)||(this.date=new Date);var n=Calendar.createElement("div");this.element=n;Calendar.addClass(n,"calendar");if(this.isPopup){n.style.position="absolute";n.style.display="none";n.role="dialog";n.ariaLabel=Calendar._TT[this.showsTime?"SEL_DATE_TIME":"SEL_DATE"];n.setAttribute("aria-modal",!0)}var r=Calendar.createElement("div");Calendar.addClass(r,"calendar-header");var l=Calendar.createElement("h2");l.id="calendar-title";l.setAttribute("aria-live","polite");Calendar.addClass(l,"row title");l.setAttribute("tabindex",-1);if(this.isPopup){l.navtype=Calendar._TargetTypes.Title;l.ttip=Calendar._TT.DRAG_TO_MOVE;l.style.cursor="move";Calendar._assignMouseEvents(l,this,!0)}this.title=l;r.appendChild(this.title);var i=function(e,t,n){var r=Calendar.createElement("button");r.navtype=t;r.innerHTML=e;r.ttip=n;r.ariaLabel=n;Calendar._assignMouseEvents(r,a);return r},s=Calendar.createElement("div");Calendar.addClass(s,"row nav-row");this._nav_py=i("&#x00ab;",Calendar._TargetTypes.PrevYear,Calendar._TT.PREV_YEAR);Calendar.addClass(this._nav_py,"prev-year combobox-trigger");s.appendChild(this._nav_py);this._nav_pm=i("&#x2039;",Calendar._TargetTypes.PrevMonth,Calendar._TT.PREV_MONTH);Calendar.addClass(this._nav_pm,"prev-month combobox-trigger");s.appendChild(this._nav_pm);this._nav_now=i(Calendar._TT.TODAY,Calendar._TargetTypes.GoToday,Calendar._TT.GO_TODAY);Calendar.addClass(this._nav_now,"go-today");s.appendChild(this._nav_now);this._nav_nm=i("&#x203a;",Calendar._TargetTypes.NextMonth,Calendar._TT.NEXT_MONTH);Calendar.addClass(this._nav_nm,"next-month combobox-trigger");s.appendChild(this._nav_nm);this._nav_ny=i("&#x00bb;",Calendar._TargetTypes.NextYear,Calendar._TT.NEXT_YEAR);Calendar.addClass(this._nav_ny,"next-year combobox-trigger");s.appendChild(this._nav_ny);r.appendChild(s);this.element.appendChild(r);var d=Calendar.createElement("table");this.table=d;d.role="grid";d.setAttribute("aria-labelledby","calendar-title");d.cellSpacing=0;d.cellPadding=0;d.calendar=this;this.element.appendChild(d);var o=Calendar.createElement("thead",d);o.role="rowgroup";var u=null,h=null;(h=Calendar.createElement("tr",o)).role="row";Calendar.addClass(h,"daynames");if(this.weekNumbers){u=Calendar.createElement("th",h);Calendar.addClass(u,"name wn");u.innerHTML=Calendar._TT.WK;u.role="columnheader";u.ariaLabel=Calendar._TT.WEEK}for(var C=7;C>0;--C){(u=Calendar.createElement("th",h)).role="columnheader";u.setAttribute("scope","col");if(!C){u.navtype=Calendar._TargetTypes.Day;Calendar._assignMouseEvents(u,this)}}this.firstdayname=this.weekNumbers?h.firstChild.nextSibling:h.firstChild;this._displayWeekdays();var c=Calendar.createElement("tbody",d);c.role="rowgroup";this.tbody=c;for(C=6;C>0;--C){(h=Calendar.createElement("tr",c)).role="row";if(this.weekNumbers){(u=Calendar.createElement("th",h)).role="rowheader";u.setAttribute("scope","row")}for(var p=7;p>0;--p){u=Calendar.createElement("td",h);Calendar._assignMouseEvents(u,this)}}this.showsTime?this._createTimeRow(this.element):this.onSetTime=this.onUpdateTime=function(){};div=Calendar.createElement("div",this.element);div.setAttribute("aria-hidden",!0);Calendar.addClass(div,"ttip");div.innerHTML=Calendar._TT[this.showsTime?"SEL_DATE_TIME":"SEL_DATE"];if(this.isPopup){div.navtype=Calendar._TargetTypes.Title;div.ttip=Calendar._TT.DRAG_TO_MOVE;div.style.cursor="move";Calendar._assignMouseEvents(div,this,!0)}this.infoTextContainer=div;div=Calendar.createElement("div",this.element);this.monthsCombo=div;Calendar.addClass(div,"combo");for(C=0;C<Calendar._MN.length;++C){var m=Calendar.createElement("div");Calendar.addClass(m,"label");m.month=C;m.innerHTML=Calendar._SMN[C];div.appendChild(m)}div=Calendar.createElement("div",this.element);this.yearsCombo=div;Calendar.addClass(div,"combo");for(C=12;C>0;--C){var v=Calendar.createElement("div");Calendar.addClass(v,"label");div.appendChild(v)}div=Calendar.createElement("div",this.element);Calendar.addClass(div,"actions-row");var f=i(Calendar._TT.CONFIRM,Calendar._TargetTypes.Confirm,Calendar._TT.CONFIRM);Calendar.addClass(f,"confirm");div.appendChild(f);f=i(Calendar._TT.CANCEL,Calendar._TargetTypes.Cancel,Calendar._TT.CANCEL);Calendar.addClass(f,"cancel");div.appendChild(f);this._init(this.firstDayOfWeek,this.date);t.appendChild(this.element);Calendar.addEvent(this.element,"mousedown",(function(e){e.preventDefault()}))};Calendar.prototype._createTimeRow=function(e){var a=this,t=Calendar.createElement("div",e);Calendar.addClass(t,"time-row");var n=Calendar.createElement("div",t);n.innerHTML=Calendar._TT.TIME||"&nbsp;";var r=Calendar.createElement("div",t);Calendar.addClass(r,"time");function l(e,t,n,r,l,i,s){var d=Calendar.createElement("button",e);Calendar.addClass(d,r);d.innerHTML=l;n&&(d.ariaLabel=n);d.setAttribute("aria-live","assertive");d.setAttribute("aria-describedby",t);d.calendar=a;d.ttip=Calendar._TT.TIME_PART;d._range=[];if("number"!=typeof i)d._range=i;else for(var o=i;o<=s;++o){var u;u=o<10&&s>=10?"0"+o:""+o;d._range[d._range.length]=u}Calendar._assignMouseEvents(d,a);return d}var i=a.date.getHours(),s=a.date.getMinutes(),d=!a.time24,o=i>12;d&&o&&(i-=12);var u=l(r,"calendar-time-instructions",Calendar._TT.HOURS_FN(i),"hour",i,d?1:0,d?12:23);u.navtype=Calendar._TargetTypes.Hours;u.ariaLabelGenerator=Calendar._TT.HOURS_FN;var h=Calendar.createElement("p",r);h.id="calendar-time-instructions";h.innerHTML=Calendar._TT.TIME_INSTRUCTIONS;h.setAttribute("aria-hidden",!0);Calendar.addClass(h,"assistive");var C=Calendar.createElement("span",r);C.innerHTML=":";Calendar.addClass(C,"colon");var c=l(r,"calendar-time-instructions",Calendar._TT.MINUTES_FN(s),"minute",s,0,59);c.navtype=Calendar._TargetTypes.Minutes;c.ariaLabelGenerator=Calendar._TT.MINUTES_FN;var p=null;n=Calendar.createElement("div",t);if(d){(p=l(n,"calendar-am-pm-instructions",null,"ampm",o?Calendar._TT.PM:Calendar._TT.AM,[Calendar._TT.am,Calendar._TT.pm])).navtype=Calendar._TargetTypes.AmPm;(h=Calendar.createElement("p",n)).id="calendar-am-pm-instructions";h.innerHTML=Calendar._TT.TIME_AM_PM_INSTRUCTIONS;h.setAttribute("aria-hidden",!0);Calendar.addClass(h,"assistive")}else n.innerHTML="&nbsp;";this.onSetTime=function(){var e,a=this.date.getHours(),t=this.date.getMinutes();if(d){(e=a>=12)&&(a-=12);0==a&&(a=12);p.innerHTML=e?Calendar._TT.pm:Calendar._TT.am}u.innerHTML=a<10?"0"+a:a;u.ariaLabel=Calendar._TT.HOURS_FN(u.innerHTML);c.innerHTML=t<10?"0"+t:t;c.ariaLabel=Calendar._TT.MINUTES_FN(c.innerHTML)};this.onUpdateTime=function(){var e=this.date,a=parseInt(u.innerHTML,10);d&&(new RegExp(Calendar._TT.pm,"i").test(p.innerHTML)&&a<12?a+=12:new RegExp(Calendar._TT.am,"i").test(p.innerHTML)&&12==a&&(a=0));var t=e.getDate(),n=e.getMonth(),r=e.getFullYear();e.setHours(a);e.setMinutes(parseInt(c.innerHTML,10));e.setFullYear(r);e.setMonth(n);e.setDate(t);this.dateClicked=!1}};Calendar._upkeyEvent=function(e){"Escape"===e.key&&setTimeout((function(){e.stopPropagation();var a=window._dynarch_popupCalendar;a&&!a.multiple&&a.callCloseHandler()}))};Calendar._keyEvent=function(e){if("Tab"!==e.key){var a=window._dynarch_popupCalendar;if(!a||a.multiple)return!1;var t="keydown"==e.type,n=e.keyCode;switch(n){case 32:case 13:Calendar._handleClick(e);break;case 37:case 38:case 39:case 40:if(!t)return Calendar.stopEvent(e);var r,l,i,s,d;r=37==n||38==n;d=37==n||39==n?1:7;function o(){var e=a.currentDateEl.pos;l=15&e;i=e>>4;s=a.ar_days[i][l]}o();function u(){var e=new Date(a.date);e.setDate(e.getDate()-d);a.setDate(e);Calendar._resetTabindex(a,a.currentDateEl);a.currentDateEl.focus()}function h(){var e=new Date(a.date);e.setDate(e.getDate()+d);a.setDate(e);Calendar._resetTabindex(a,a.currentDateEl);a.currentDateEl.focus()}for(;;){switch(n){case 37:if(!(--l>=0)){l=6;n=38;continue}s=a.ar_days[i][l];break;case 38:if(--i>=0)s=a.ar_days[i][l];else{u();o()}break;case 39:if(!(++l<7)){l=0;n=40;continue}s=a.ar_days[i][l];break;case 40:if(++i<a.ar_days.length)s=a.ar_days[i][l];else{h();o()}}break}s&&(s.disabled?r?u():h():Calendar._handleClick({target:s}))}return Calendar.stopEvent(e)}};Calendar.prototype._init=function(e,a){var t=new Date(a);t.setHours(13);var n=new Date,r=n.getFullYear(),l=n.getMonth(),i=n.getDate();this.table.style.visibility="hidden";var s=t.getFullYear();if(s<this.minYear){s=this.minYear;t.setFullYear(s)}else if(s>this.maxYear){s=this.maxYear;t.setFullYear(s)}this.firstDayOfWeek=e;var d=t.getMonth(),o=t.getDate();t.setDate(1);var u=(t.getDay()-this.firstDayOfWeek)%7;u<0&&(u+=7);t.setDate(-u);t.setDate(t.getDate()+1);for(var h=!1,C=this.tbody.firstChild,c=this.ar_days=new Array,p=Calendar._TT.WEEKEND,m=this.multiple?this.datesCells={}:null,v=0;v<6;++v,C=C.nextSibling){var f=C.firstChild;if(this.weekNumbers){f.className="day wn";var y=t;0==d&&0==v&&0==Date.useISO8601WeekNumbers&&(y=new Date(s,d,1));f.innerHTML=y.getWeekNumber(this.firstDayOfWeek);f.ariaLabel=Calendar._TT.WEEK_FN(f.innerHTML);f=f.nextSibling}C.className="daysrow";for(var _,T=!1,g=c[v]=[],b=0;b<7;++b,f=f.nextSibling,t.setDate(_+1)){_=t.getDate();var D=t.getDay();f.className="day day-"+_;f.pos=v<<4|b;g[b]=f;var M=t.getMonth()==d;if(M){f.otherMonth=!1;T=!0;f.role="gridcell";f.setAttribute("aria-selected",!1)}else{if(!this.showsOtherMonths){f.className="emptycell";f.disabled=!0;f.removeAttribute("tabindex");f.removeAttribute("role");f.removeAttribute("aria-selected");f.innerHTML="";continue}Calendar.addClass(f,"othermonth");f.otherMonth=!0;f.role="gridcell";f.setAttribute("aria-selected",!1)}f.disabled=!1;f.innerHTML=this.getDateText?this.getDateText(t,_):_;f.setAttribute("tabindex",-1);if(!h&&!this.hiliteToday){f.setAttribute("tabindex",0);h=!0}m&&(m[t.print("%Y%m%d")]=f);if(this.getDateStatus){var E=this.getDateStatus(t,s,d,_);if(this.getDateToolTip){var w=this.getDateToolTip(t,s,d,_);w&&(f.title=w)}if(!0===E){Calendar.addClass(f,"disabled");f.disabled=!0}else{/disabled/i.test(E)&&(f.disabled=!0);Calendar.addClass(f,E)}}if(!f.disabled){f.caldate=new Date(t);f.ttip="_";if(!this.multiple&&M&&_==o&&this.hiliteToday){Calendar.addClass(f,"selected");f.setAttribute("aria-selected",!0);f.setAttribute("tabindex",0);h=!0;this.currentDateEl=f}if(t.getFullYear()==r&&t.getMonth()==l&&_==i){Calendar.addClass(f,"today");f.ttip+=Calendar._TT.PART_TODAY}-1!=p.indexOf(D.toString())&&Calendar.addClass(f,f.otherMonth?" oweekend":" weekend")}}T||this.showsOtherMonths||(C.className="emptyrow")}this.date=new Date(a);this.onSetTime();this.title.innerHTML=Calendar._MN[d]+", "+s;this.table.style.visibility="visible";this._initMultipleDates()};Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var e in this.multiple){var a=this.datesCells[e];if(this.multiple[e]&&a){Calendar.addClass(a,"selected");a.setAttribute("aria-selected",!0);a.setAttribute("tabindex",0)}}};Calendar.prototype._toggleMultipleDate=function(e){if(this.multiple){var a=e.print("%Y%m%d"),t=this.datesCells[a];if(t){if(this.multiple[a]){Calendar.removeClass(t,"selected");t.setAttribute("aria-selected",!1);t.setAttribute("tabindex",-1);delete this.multiple[a]}else{Calendar.addClass(t,"selected");t.setAttribute("aria-selected",!0);t.setAttribute("tabindex",0);this.multiple[a]=e}}}};Calendar.prototype.setDate=function(e){e.equalsTo(this.date)||this._init(this.firstDayOfWeek,e)};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)};Calendar.prototype.setFirstDayOfWeek=function(e){this._init(e,this.date);this._displayWeekdays()};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(e){this.getDateStatus=e};Calendar.prototype.setRange=function(e,a){this.minYear=e;this.maxYear=a};Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat));this.isPopup&&this.hide()};Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this)};Calendar.prototype.destroy=function(){this.hide();jQuery(this.element).remove();Calendar._C=null;window._dynarch_popupCalendar=null};Calendar.prototype.reparent=function(e){var a=this.element;a.parentNode.removeChild(a);e.appendChild(a)};Calendar._checkCalendar=function(e){var a=window._dynarch_popupCalendar;if(!a)return!1;for(var t=Calendar.getTargetElement(e);null!=t&&t!=a.element;t=t.parentNode);if(null==t){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(e)}};Calendar.prototype.show=function(){if(!this.params.inputField.disabled){Calendar.current=this;this.element.style.display="block";Calendar.addClass(this.element,"active");this.hidden=!1;if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,"keyup",Calendar._upkeyEvent);Calendar.addEvent(document,"keydown",Calendar._keyEvent);Calendar.addEvent(document,"mousedown",Calendar._checkCalendar);this.focusHandler=Calendar._createFocusHandler(this.element);Calendar.addEvent(document,"keydown",this.focusHandler);this.currentDateEl?this.currentDateEl.focus():this.title.focus()}}};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,"keyup",Calendar._upkeyEvent);Calendar.removeEvent(document,"keydown",Calendar._keyEvent);Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar);Calendar.removeEvent(document,"keydown",this.focusHandler)}Calendar.current=null;this.element.style.display="none";Calendar.removeClass(this.element,"active");this.hidden=!0;this.triggerEl?this.triggerEl.focus():this.params.button?this.params.button.focus():this.params.inputField&&this.params.inputField.focus()};Calendar.prototype.showAt=function(e,a){var t=this.element.style;t.left=e+"px";t.top=a+"px";this.show()};Calendar.prototype.showAtElement=function(e,a){var t=this,n=Calendar.getAbsolutePos(e);if(!a||"string"!=typeof a){this.showAt(n.x,n.y+e.offsetHeight);return!0}this.element.style.display="block";Calendar.continuation_for_the_khtml_browser=function(){var r=jQuery(t.element).outerWidth(),l=jQuery(t.element).outerHeight();t.element.style.display="none";var i=a.substr(0,1),s="l";a.length>1&&(s=a.substr(1,1));switch(i){case"T":n.y-=l;break;case"B":n.y+=jQuery(e).outerHeight();break;case"C":n.y+=(jQuery(e).outerHeight()-l)/2;break;case"t":n.y+=jQuery(e).outerHeight()-l}switch(s){case"L":n.x-=r;break;case"R":n.x+=jQuery(e).outerWidth();break;case"C":n.x+=(jQuery(e).outerWidth()-r)/2;break;case"l":n.x+=jQuery(e).outerWidth()-r}n.width=r;n.height=l+40;t.monthsCombo.style.display="none";!function(e){e.x<0&&(e.x=0);e.y<0&&(e.y=0);var a=document.createElement("div"),t=a.style;t.position="absolute";t.right=t.bottom=t.width=t.height="0px";document.body.appendChild(a);var n=Calendar.getAbsolutePos(a);document.body.removeChild(a);n.y+=jQuery(window).scrollTop();n.x+=jQuery(window).scrollLeft();var r=e.x+e.width-n.x;r>0&&(e.x-=r);(r=e.y+e.height-n.y)>0&&(e.y-=r)}(n);t.showAt(n.x,n.y)};Calendar.continuation_for_the_khtml_browser()};Calendar.prototype.setDateFormat=function(e){this.dateFormat=e};Calendar.prototype.setTtDateFormat=function(e){this.ttDateFormat=e};Calendar.prototype.parseDate=function(e,a){a||(a=this.dateFormat);this.setDate(Date.parseDate(e,a))};Calendar.prototype._displayWeekdays=function(){for(var e=this.firstDayOfWeek,a=this.firstdayname,t=Calendar._TT.WEEKEND,n=0;n<7;++n){a.className="day name";var r=(n+e)%7;if(n){a.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[r]);a.navtype=Calendar._TargetTypes.WeekDayName;a.fdow=r;Calendar._assignMouseEvents(a,this)}-1!=t.indexOf(r.toString())&&Calendar.addClass(a,"weekend");a.innerHTML=Calendar._SDN[(n+e)%7];a.ariaLabel=Calendar._DN[(n+e)%7];a=a.nextSibling}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none";this.yearsCombo.style.display="none"};Calendar.prototype._startDragging=function(e){if(!this.dragging){this.dragging=!0;var a=e.clientX+window.scrollX,t=e.clientY+window.scrollY,n=this.element.style;this.xOffs=a-parseInt(n.left);this.yOffs=t-parseInt(n.top);Calendar.addEvent(document,"mousemove",Calendar.drag);Calendar.addEvent(document,"mouseup",Calendar.endDragging)}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1e3;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date._multisplit=function(e,a){if(null==e)return null;null==a&&(a="");var t=[],n=e.length,r="",l=!1;for(i=0;i<n;i++){var s=e.charAt(i);if(-1==a.indexOf(s)){l=!0;r+=s}else if(l){t[t.length]=r;r="";l=!1}}r.length>0&&(t[t.length]=r);0==t.length&&(t[t.length]="");return t};Date._parseNonDateFormatChars=function(e){var a="",t=e.length;for(i=0;i<t;i++){var n=e.charAt(i);if("%"==n){var r="";i+1<t&&(r=e.charAt(i+1));i+=1;if(r.length>0&&-1!="aAbBCdeHIJklmMnpPRSstUWVuwyY%".indexOf(r))continue;-1==a.indexOf(n)&&(a+=n);r.length>0&&-1==a.indexOf(r)&&(a+=r)}else-1==a.indexOf(n)&&(a+=n)}return a};Date.splitDate=function(e,a){var t=0,n=-1,r=0,l=Date._parseNonDateFormatChars(a),i=Date._multisplit(e,l),s=a.match(/%./g),d=0,o=0,u=0,h=0;for(d=0;d<i.length;++d)if(i[d])switch(s[d]){case"%d":case"%e":r=Number(i[d]);break;case"%m":n=Number(i[d])-1;break;case"%Y":case"%y":(t=Number(i[d]))<100&&(t+=t>29?1900:2e3);break;case"%b":case"%B":var C=i[d].toLowerCase(),c=!1;if("%b"==s[d])for(o=0;o<12;++o)if(Calendar._SMN[o].substr(0,C.length).toLowerCase()==C){n=o;c=!0;break}if(!c)for(o=0;o<12;++o)if(Calendar._MN[o].substr(0,C.length).toLowerCase()==C){n=o;break}break;case"%H":case"%I":case"%k":case"%l":u=Number(i[d]);break;case"%P":case"%p":/pm/i.test(i[d])&&u<12?u+=12:/am/i.test(i[d])&&u>=12&&(u-=12);break;case"%M":h=Number(i[d]);break;case"%R":var p=i[d],m=p.indexOf(":"),v=p.substring(0,m),f=-1==m?0:p.substring(m+1);u=Number(v);h=Number(f)}return{parts:i,year:t,month:n,day:r,hour:u,minute:h}};Date.parseDate=function(e,a){var t=new Date,n=Date.splitDate(e,a),r=n.parts,l=n.year,i=n.month,s=n.day,d=n.hour,o=n.minute,u=0,h=0;isNaN(l)&&(l=t.getFullYear());isNaN(i)&&(i=t.getMonth());isNaN(s)&&(s=t.getDate());isNaN(d)&&(d=t.getHours());isNaN(o)&&(o=t.getMinutes());if(0!=l&&-1!=i&&0!=s)return new Date(l,i,s,d,o,0);l=0;i=-1;s=0;for(u=0;u<r.length;++u)if(-1!=r[u].search(/[a-zA-Z]+/)){var C=-1;for(h=0;h<12;++h)if(Calendar._MN[h].substr(0,r[u].length).toLowerCase()==r[u].toLowerCase()){C=h;break}if(-1!=C){-1!=i&&(s=i+1);i=C}}else Number(r[u])<=12&&-1==i?i=r[u]-1:Number(r[u])>31&&0==l?(l=Number(r[u]))<100&&(l+=l>29?1900:2e3):0==s&&(s=r[u]);0==l&&(l=t.getFullYear());return-1!=i&&0!=s?new Date(l,i,s,d,o,0):t};Date.prototype.getMonthDays=function(e){var a=this.getFullYear();void 0===e&&(e=this.getMonth());return 0!=a%4||0==a%100&&0!=a%400||1!=e?Date._MD[e]:29};Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),13,0,0)-new Date(this.getFullYear(),0,0,13,0,0);return Math.floor(e/Date.DAY)};Date.prototype.getWeekNumber=function(e){return Date.useISO8601WeekNumbers?this.getISO8601WeekNumber():this.getSimpleWeekNumber(e)};Date.prototype.getISO8601WeekNumber=function(){function e(e,a,t){y=e;m=a;a<3&&(y-=1);a<3&&(m+=12);return Math.floor(365.25*y)-Math.floor(y/100)+Math.floor(y/400)+Math.floor(30.6*(m+1))+t-62}return function(a){year=a.getFullYear();month=a.getMonth();day=a.getDate();wday=a.getDay();weekday=(wday+6)%7+1;isoyear=year;d0=e(year,1,0);weekday0=(d0+4)%7+1;d=e(year,month+1,day);isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7);if(11==month&&day-weekday>27){isoweeknr=1;isoyear+=1}if(0==month&&weekday-day>3){d0=e(year-1,1,0);weekday0=(d0+4)%7+1;isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7);isoyear-=1}return isoweeknr}(this)};Date.prototype.getSimpleWeekNumber=function(e){return function(e,a,t){var n,r=e.getFullYear(),l=new Date(r,0,1);n=Math.round((e-l)/864e5);null!=a&&(n-=(7+a-l.getDay())%7);null!=t&&(n+=t);return[r,1+n/7|0,1+(7+n)%7]}(this,e||6,6)[1]};Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()};Date.prototype.setDateOnly=function(e){var a=new Date(e);this.setDate(1);this.setFullYear(a.getFullYear());this.setMonth(a.getMonth());this.setDate(a.getDate())};Date.prototype.print=function(e){var a=this.getMonth(),t=this.getDate(),n=this.getFullYear(),r=this.getWeekNumber(),l=this.getDay(),i={},s=this.getHours(),d=s>=12,o=d?s-12:s,u=this.getDayOfYear();0==o&&(o=12);var h=this.getMinutes(),C=this.getSeconds();i["%a"]=Calendar._SDN[l];i["%A"]=Calendar._DN[l];i["%b"]=Calendar._SMN[a];i["%B"]=Calendar._MN[a];i["%C"]=1+Math.floor(n/100);i["%d"]=t<10?"0"+t:t;i["%e"]=t;i["%H"]=s<10?"0"+s:s;i["%I"]=o<10?"0"+o:o;i["%j"]=u<100?u<10?"00"+u:"0"+u:u;i["%k"]=s;i["%l"]=o;i["%m"]=a<9?"0"+(1+a):1+a;i["%M"]=h<10?"0"+h:h;i["%n"]="\n";i["%p"]=d?Calendar._TT.PM:Calendar._TT.AM;i["%P"]=d?Calendar._TT.PM:Calendar._TT.AM;i["%R"]=i["%k"]+":"+i["%M"];i["%s"]=Math.floor(this.getTime()/1e3);i["%S"]=C<10?"0"+C:C;i["%t"]="\t";i["%U"]=i["%W"]=i["%V"]=r<10?"0"+r:r;i["%u"]=l+1;i["%w"]=l;i["%y"]=(""+n).slice(-2);i["%Y"]=n;i["%%"]="%";return e.replace(/%./g,(function(e){return i[e]||e}))};Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear;Date.prototype.setFullYear=function(){var e=new Date(this);e.__msh_oldSetFullYear.apply(this,arguments);e.getMonth()!=this.getMonth()&&this.setDate(28);this.__msh_oldSetFullYear.apply(this,arguments)};window._dynarch_popupCalendar=null;
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar-lib', location = '/includes/lib/calendar/Calendar.setup.js' */
!function(e,t,a){Calendar.setup=function(n){n=n||{};function r(e,t){void 0===n[e]&&(n[e]=t)}r("inputField",null);r("context",null);r("displayArea",null);r("button",null);r("eventName","click");r("ifFormat","%Y/%m/%d");r("daFormat","%Y/%m/%d");r("disableFunc",null);r("dateStatusFunc",n.disableFunc);r("dateText",null);r("firstDay",null);r("align","Br");r("range",[1900,2999]);r("weekNumbers",!0);r("useISO8601WeekNumbers",!1);r("flat",null);r("flatCallback",null);r("onSelect",null);r("onClose",null);r("onUpdate",null);r("date",null);r("todayDate",null);r("showsTime",!1);r("timeFormat","24");r("step",1);r("position",null);r("cache",!1);r("showOthers",!1);r("multiple",null);Calendar._TT||(Calendar._TT={});Calendar._TT.SEL_DATE="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443";Calendar._TT.SEL_DATE_TIME="\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f";Calendar._TT.WEEK="\u041d\u0435\u0434\u0435\u043b\u044f";Calendar._TT.WEEK_FN=function(e){return a.format("\u041d\u0435\u0434\u0435\u043b\u044f\u00a0{0}",e)};Calendar._TT.PREV_YEAR="\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0433\u043e\u0434\u0443";Calendar._TT.PREV_MONTH="\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u043c\u0435\u0441\u044f\u0446\u0443";Calendar._TT.NEXT_MONTH="\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u043c\u0435\u0441\u044f\u0446\u0443";Calendar._TT.NEXT_YEAR="\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0433\u043e\u0434\u0443";Calendar._TT.HOURS_FN=function(e){return a.format("{0,choice,0#{0}\u00a0\u0447|1#{0}\u00a0\u0447|1\u003c{0}\u00a0\u0447}",Number.parseInt(e))};Calendar._TT.MINUTES_FN=function(e){return a.format("{0,choice,0#{0}\u00a0\u043c\u0438\u043d|1#{0}\u00a0\u043c\u0438\u043d|1\u003c{0}\u00a0\u043c\u0438\u043d}",Number.parseInt(e))};Calendar._TT.TIME_INSTRUCTIONS="\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0443";Calendar._TT.TIME_AM_PM_INSTRUCTIONS="\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435";Calendar._TT.CONFIRM="\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c";Calendar._TT.CANCEL="\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c";var l,i,o=["context","inputField","button","displayArea"];for(l in o)n[i=o[l]]instanceof e&&(n[i]=n[i][0]);var u=["inputField","displayArea","button"];for(l in u)if("string"==typeof n[i=u[l]]){var d="#"+e.escapeSelector(n[i]),s=e(n.context||document.body).find(d);n[i]=s[0]}if(!(n.flat||n.multiple||n.inputField||n.displayArea||n.button)){t.log("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return!1}n.firstDay&&null!==n.firstDay&&(n.firstDay=+n.firstDay);function p(t){var a=t.params;if(a.inputField){a.inputField.value=t.date.print(a.ifFormat);e(a.inputField).change()}a.displayArea&&(a.displayArea.innerHTML=t.date.print(a.daFormat));"function"==typeof a.onUpdate&&a.onUpdate(t);a.flat&&"function"==typeof a.flatCallback&&a.flatCallback(t);(t.dateClicked||a.singleClick)&&t.callCloseHandler()}if(null!=n.flat){"string"==typeof n.flat&&(n.flat=document.getElementById(n.flat));if(!n.flat){t.log("Calendar.setup:\n  Flat specified but can't find parent.");return!1}var c=new Calendar(n.firstDay,n.date,n.todayDate,n.onSelect||p);c.showsOtherMonths=n.showOthers;c.showsTime=n.showsTime;c.time24="24"==n.timeFormat;c.params=n;c.weekNumbers=n.weekNumbers;c.setRange(n.range[0],n.range[1]);c.setDateStatusHandler(n.dateStatusFunc);c.getDateText=n.dateText;n.ifFormat&&c.setDateFormat(n.ifFormat);n.inputField&&"string"==typeof n.inputField.value&&c.parseDate(n.inputField.value);c.create(n.flat);c.show();return!1}var T=n.button||n.displayArea||n.inputField;e(T).bind(n.eventName,(function(e){e.preventDefault();f()}));n.button&&e(n.button).keydown((function(e){if(32===e.keyCode||13===e.keyCode){e.preventDefault();f()}}));n.inputField&&function(){var t=e(n.inputField);n.button&&e(n.button).mousedown((function(e){e.preventDefault()}));t.keydown((function(e){var a=window.calendar;"ArrowDown"!==e.key||a&&!a.hidden||setTimeout((function(){f(t)}),1)}))}();function f(e){if(!0!==Calendar._UNSUPPORTED){var t=n.inputField||n.displayArea,a=n.inputField?n.ifFormat:n.daFormat,r=!1,l=window.calendar;l&&l.hide();t&&(t.value||t.innerHTML)&&(n.date=Date.parseDate(t.value||t.innerHTML,a));if(l&&n.cache){n.date&&l.setDate(n.date);l.hide()}else{window.calendar=l=new Calendar(n.firstDay,n.date,n.todayDate,n.onSelect||p,n.onClose||function(e){e.hide()});l.showsTime=n.showsTime;l.time24="24"==n.timeFormat;l.weekNumbers=n.weekNumbers;Date.useISO8601WeekNumbers=n.useISO8601WeekNumbers;n.useISO8601WeekNumbers&&(l.firstDayOfWeek=1);r=!0}if(n.multiple){l.multiple={};for(var i=n.multiple.length;--i>=0;){var o=n.multiple[i],u=o.print("%Y%m%d");l.multiple[u]=o}}l.showsOtherMonths=n.showOthers;l.yearStep=n.step;l.setRange(n.range[0],n.range[1]);l.params=n;l.setDateStatusHandler(n.dateStatusFunc);l.getDateText=n.dateText;l.setDateFormat(a);r&&l.create();l.refresh();l.triggerEl=e||null;n.position?l.showAt(n.position[0],n.position[1]):l.showAtElement(n.button||n.displayArea||n.inputField,n.align);return!1}alert("The JIRA Calendar does not currently support your language.")}return c}}(require("jquery"),require("jira/util/logger"),require("jira/util/formatter"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar-layerable.js' */
define("jira/libs/calendar-layerable-mixin",["jira/ajs/layer/layer-interactions","jira/ajs/layer/inline-layer","jira/util/events"],(function(e,n,i){"use strict";return{layerableExtensions:function(r){e.preventDialogHide(r);e.preventInputBlur(r);e.preventInlineEditCancel(r);i.bind(n.EVENTS.beforeHide,(function(e){r.current&&e.preventDefault()}))}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar-amd.js' */
define("jira/libs/calendar",["require"],(function(a){"use strict";var e=window.Calendar;a("jira/libs/calendar-layerable-mixin").layerableExtensions(e);return e}));!function(){"use strict";var a=require("jira/libs/calendar");AJS.namespace("window.Calendar",window,a)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:create-user-popup-picker', location = '/includes/jira/field/createUserPickerPopupTrigger.js' */
define("jira/field/create-user-picker-popup-trigger",["exports"],(function(e){"use strict";e.createUserPickerPopupTrigger=function(e){var r=e.urlBase,t=e.formName,o=e.fieldName,i=e.actionToOpen,n=e.multiSelect,a=e.fieldConfigId,c=e.triggerEvent,l=e.projectIds;return function(e){var s,f=r;e.preventDefault();f+=i||"/secure/popups/UserPickerBrowser.jspa";f+="?formName="+t;f+="&multiSelect="+Boolean(n);f+="&decorator=popup";f+="&element="+o;a&&(f+="&fieldConfigId="+a);if(l){l=[].concat(l);var p=!0,u=!1,d=void 0;try{for(var g,m=l[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){f+="&projectId="+g.value}}catch(e){u=!0;d=e}finally{try{!p&&m.return&&m.return()}finally{if(u)throw d}}}c&&(f+="&triggerEvent="+c);(s=window.open(f,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes")).opener=self;s.focus()}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/dropdown/Dropdown.js' */
define("jira/dropdown",["require"],(function(i){"use strict";var o=i("jira/util/top-same-origin-window")(window),n=i("jira/ajs/layer/layer-interactions"),e=i("jquery"),t=i("jira/util/key-code"),d=[];var r={current:null,addInstance:function(){d.push(this)},hideInstances:function(){var i=this;e(d).each((function(){i!==this&&this.hideDropdown()}))},getHash:function(){this.hash||(this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown});return this.hash},displayDropdown:function(){if(this.current!==this){this.hideInstances();this.current=this;this.dropdown.css({display:"block"});this.displayed=!0;var i=this.dropdown;(function(){try{return Boolean(o.require("jira/dialog/dialog").current)}catch(i){}return!1})()||setTimeout((function(){var o=e(window),n=i.offset().top+i.prop("offsetHeight")-o.height()+10;o.scrollTop()<n&&e("html,body").animate({scrollTop:n},300,"linear")}),100)}},hideDropdown:function(){if(!1!==this.displayed){this.current=null;this.dropdown.css({display:"none"});this.displayed=!1}},init:function(i,o){var n=this;this.addInstance(this);this.dropdown=e(o);this.dropdown.css({display:"none"});e(document).keydown((function(i){i.keyCode===t.TAB&&n.hideDropdown()}));if(i.target)e.aop.before(i,(function(){n.displayed||n.displayDropdown()}));else{n.dropdown.css("top",e(i).outerHeight()+"px");i.click((function(i){if(n.displayed)n.hideDropdown();else{n.displayDropdown();i.stopPropagation()}i.preventDefault()}))}e(document.body).click((function(){n.displayed&&n.hideDropdown()}))}};n.preventDialogHide(r);n.hideBeforeDialogShown(r);return r}));AJS.namespace("JIRA.Dropdown",null,require("jira/dropdown"));AJS.namespace("jira.widget.dropdown",null,require("jira/dropdown"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/AutoComplete.js' */
define("jira/autocomplete/autocomplete",["jira/ajs/ajax/smart-ajax","jira/util/key-code","jira/util/objects","jira/util/formatter","jquery"],(function(e,t,o,n,i){"use strict";return d={9:!0,13:!0,14:!0,25:!0,27:!0,38:!0,40:!0,224:!0},{dispatcher:function(){},getSavedResponse:function(){},saveResponse:function(){},renderSuggestions:function(){},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},set:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},completeField:function(e){if(e){this.field.val(e).focus();this.field.trigger("change")}},textToSuggestionCursorPosition:function(){return this.field.val()},_makeRequest:function(t){var n=this,i=o.copyObject(t);this.pendingRequest&&this.pendingRequest.abort();i.complete=function(){n.pendingRequest=null};i.error=function(e){!e.aborted&&0!==e.status&&t.error&&t.error.apply(this,arguments)};this.pendingRequest=e.makeRequest(i);return this.pendingRequest},addSuggestionControls:function(e){var o=this,r=function(e){void 0!==o.selectedIndex&&o.selectedIndex>-1&&o.suggestionNodes[o.selectedIndex][0].removeClass("active");o.selectedIndex=function(e,t){var n=!1===o.autoSelectFirst?-1:0;if(o.allowArrowCarousel)return e>t?n:e<n?t:e;if(e>t)return t;if(e<n){o.responseContainer.scrollTop(0);return n}return e}(e,o.suggestionNodes.length-1);o.selectedIndex>-1&&o.suggestionNodes[o.selectedIndex][0].addClass("active")},d=function(){return o.suggestionNodes&&o.suggestionNodes[o.selectedIndex]&&o.suggestionNodes[o.selectedIndex][0].hasClass("active")},a=function(e){var t=e.optionName,i=e.optionIndex,s=e.optionsLength;o.assistiveContainer.text(n.format("\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u00ab{0}\u00bb, {1} \u0438\u0437 {2}",t,i,s))};if(e.length){this.selectedIndex=0;this.suggestionNodes=e;for(var l=0;l<o.suggestionNodes.length;l++){var u={instance:this,index:l};this.suggestionNodes[l][0].bind("mouseover",u,p).bind("mouseout",u,c).bind("click",u,h).bind("mousedown",(function(e){e.preventDefault()}))}if(!this.keyboardHandlerBinded){i(this.field).keypress((function(e){if(o.responseContainer.is(":visible")&&e.keyCode===t.ENTER){d()&&!o.pendingRequest&&o.completeField(o.suggestionNodes[o.selectedIndex][1]);e.preventDefault();e.stopPropagation()}}));i(this.field).keydown((function(e){if(o.responseContainer.is(":visible")){o.field[0]!==document.activeElement&&o.field.focus();if(e.keyCode===t.DOWN){r(o.selectedIndex+1);if(o.selectedIndex>=0){var n=o.responseContainer.height(),i=o.suggestionNodes[o.selectedIndex][0].position().top+o.suggestionNodes[o.selectedIndex][0].outerHeight();i-n>0&&o.responseContainer.scrollTop(o.responseContainer.scrollTop()+i-n+2);a({optionName:o.suggestionNodes[o.selectedIndex][1],optionIndex:o.selectedIndex+1,optionsLength:o.suggestionNodes.length})}else o.responseContainer.scrollTop(0);e.preventDefault()}else if(e.keyCode===t.UP){r(o.selectedIndex-1);if(o.selectedIndex>=0){var s=o.suggestionNodes[o.selectedIndex][0].position().top;s<0&&o.responseContainer.scrollTop(o.responseContainer.scrollTop()+s-2);a({optionName:o.suggestionNodes[o.selectedIndex][1],optionIndex:o.selectedIndex+1,optionsLength:o.suggestionNodes.length})}e.preventDefault()}else if(e.keyCode===t.TAB)if(d()){o.completeField(o.suggestionNodes[o.selectedIndex][1]);e.preventDefault()}else o.dropdownController.hideDropdown()}}));this.keyboardHandlerBinded=!0}!1===o.autoSelectFirst?r(-1):r(0);s=this}function p(e){o.dropdownController.displayed&&r(e.data.index)}function c(e){0===e.data.index&&(o.selectedIndex=-1);i(this).removeClass("active")}function h(e){o.completeField(o.suggestionNodes[e.data.index][1])}},clearResponseContainer:function(){this.responseContainer.empty();this.suggestionNodes=void 0},delay:r=function e(t,o){if(e.t){clearTimeout(e.t);e.t=void 0}e.t=setTimeout(t,1e3*o)},buildResponseContainer:function(){var e=this.field.parent().addClass("atlassian-autocomplete");this.responseContainer=i(document.createElement("div"));this.responseContainer.addClass("suggestions");this.positionResponseContainer();this.responseContainer.appendTo(e);this.assistiveContainer=i(document.createElement("div"));this.assistiveContainer.attr({role:"status",class:"autocomplete-assistive assistive"});this.assistiveContainer.appendTo(e)},positionResponseContainer:function(){this.responseContainer.css({top:this.field.outerHeight()})},keyUpHandler:function(){function e(){this.responseContainer||this.buildResponseContainer();this.dispatcher(this.field.val())}return function(o){this.field.val().length>=this.minQueryLength&&(o.keyCode in d&&(!this.responseContainer||this.responseContainer.is(":visible")||o.keyCode!==t.UP&&o.keyCode!==t.DOWN)||e.call(this));return o}}(),addMultiSelectAdvice:function(e){var t=this,o=function e(o){if(!e.isAlerting){e.isAlerting=!0;var n=i(document.createElement("div")).css({float:"left",display:"none"}).addClass("warningBox").html("Oops! You have already entered the value <em>"+o+"</em>").appendTo(t.field.parent()).show("fast",(function(){t.delay((function(){n.hide("fast",(function(){n.remove();e.isAlerting=!1}))}),4)}))}};i.aop.before({target:this,method:"dispatcher"},(function(t){var o=this.field.val();t[0]=i.trim(o.slice(o.lastIndexOf(e)+1));return t}));i.aop.before({target:this,method:"completeField"},(function(t){var n=t[0],s=this.field.val().split(e),r=i(s).map((function(){return i.trim(this)})).get();if(!this.allowDuplicates&&new RegExp("(?:^|[\\s"+e+"])"+n+"\\s*"+e).test(this.field.val())){o(n);r[r.length-1]=""}else{r[r.length-1]=n;r[r.length]=""}t[0]=r.join(e.replace(/([^\s]$)/,"$1 "));return t}))},addDropdownAdvice:function(){i.aop.after({target:this,method:"buildResponseContainer"},(function(e){this.dropdownController=JIRA.Dropdown.AutoComplete({target:this,method:"renderSuggestions"},this.responseContainer);i.aop.after({target:this.dropdownController,method:"hideDropdown"},(function(){this.dropdown.removeClass("dropdown-ready");clearTimeout(r.t)}));return e}));i.aop.after({target:this,method:"renderSuggestions"},(function(e){if(e&&e.length>0){this.dropdownController.displayDropdown();this.maxHeight&&this.dropdownController.dropdown.prop("scrollHeight")>this.maxHeight?this.dropdownController.dropdown.css({height:this.maxHeight,overflowX:"visible",overflowY:"scroll"}):this.maxHeight&&this.dropdownController.dropdown.css({height:"",overflowX:"",overflowY:""});this.dropdownController.dropdown.addClass("dropdown-ready")}else this.dropdownController.hideDropdown();return e}));i.aop.after({target:this,method:"completeField"},this._afterCompleteField);i.aop.after({target:this,method:"keyUpHandler"},(function(e){if((!(this.field.val().length>=this.minQueryLength)||e.keyCode===t.ESCAPE)&&this.dropdownController&&this.dropdownController.displayed){this.dropdownController.hideDropdown();e.keyCode===t.ESCAPE&&e.stopPropagation()}return e}))},_afterCompleteField:function(e){this.dropdownController.hideDropdown();return e},init:function(e){var o=this;this.set(e);this.field=this.field||i("#"+this.fieldID);this.field.attr("autocomplete","off").keyup((function(e){o.disabled||o.keyUpHandler(e)})).keydown((function(e){e.keyCode===t.ESCAPE&&o.responseContainer&&o.responseContainer.is(":visible")&&e.preventDefault()})).click((function(){s===o&&setTimeout((function(){o.dispatcher(o.field.val())}),0)})).blur((function(){o.pendingRequest&&o.pendingRequest.abort()})).focus((function(e){o.responseContainer||o.buildResponseContainer();if(!o.disabled){e.originalEvent&&e.originalEvent.relatedTarget&&setTimeout((function(){o.dispatcher(o.field.val())}),0);s=o}}));this.addDropdownAdvice();e.delimChar&&this.addMultiSelectAdvice(e.delimChar)}};var s,r,d}));AJS.namespace("jira.widget.autocomplete",null,require("jira/autocomplete/autocomplete"));AJS.namespace("JIRA.AutoComplete",null,require("jira/autocomplete/autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/RESTAutoComplete.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira/autocomplete/rest-autocomplete",["jira/autocomplete/autocomplete","jira/util/objects"],(function(e,t){"use strict";return function(){var o=t.begetObject(e);o.dispatcher=function(e){var t=this;if(!(e.length<this.minQueryLength))if(void 0!==this.responseContainer&&null!==this.responseContainer)if(this.getSavedResponse(e)){t.renderSuggestions(t.getSavedResponse(e));t.responseContainer.scrollTop(0)}else this.delay((function(){var o=t.getAjaxParams();o.data.query=e;o.success=function(o){t.saveResponse(e,o);t.responseContainer.scrollTop(0);t.renderSuggestions(o)};t._makeRequest(o)}),t.queryDelay);else console.warn("Response container was not initialized, skipping rendering")};o.getAjaxParams=function(){};o.getSavedResponse=function(e){this.requested||(this.requested={});return this.requested[e]};o.saveResponse=function(e,t){if("string"==typeof e&&"object"===(void 0===t?"undefined":_typeof(t))){this.requested||(this.requested={});this.requested[e]=t}};return o}()}));AJS.namespace("jira.widget.autocomplete.REST",null,require("jira/autocomplete/rest-autocomplete"));AJS.namespace("JIRA.RESTAutoComplete",null,require("jira/autocomplete/rest-autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/IssueAutoComplete.js' */
define("jira/autocomplete/issue-autocomplete",["jira/data/parse-options-from-fieldset","jira/field/issue-picker","jira/autocomplete/rest-autocomplete","jira/util/objects","wrm/context-path","jquery"],(function(e,t,s,a,i,n){"use strict";var r=i(),d=function(e){var t=a.begetObject(s);t.getAjaxParams=function(){return{url:r+"/rest/api/2/issue/picker",data:e.ajaxData,dataType:"json",type:"GET"}};t.renderSuggestions=function(s){var a,i=[];this.clearResponseContainer();if(s&&s.sections&&s.sections.length>0){a=n("<ul/>").appendTo(this.responseContainer);n(s.sections).each((function(){var t=this,s=n("<div/>").attr("id",e.fieldID+"_s_"+t.id).addClass("yag").text(t.label);t.sub&&s.append(n("<span/>").addClass("yagt").text("("+t.sub+")"));a.append(n("<li/>").append(s).mouseover((function(){n(this).addClass("active")})).mouseout((function(){n(this).removeClass("active")})));if(t.msg){var d=n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_n").addClass("yad").text(t.msg);a.append(n("<li/>").append(d).mouseover((function(){n(this).addClass("active")})).mouseout((function(){n(this).removeClass("active")})))}t.issues&&t.issues.length>0&&n(t.issues).each((function(){var s;s=/^http/.test(this.img)?this.img:r+this.img;var d=n("<li/>").append(n("<div/>").attr("id",e.fieldID+"_i_"+t.id+"_"+this.key).addClass("yad").append(n("<table/>").addClass("yat").attr({cellpadding:"0",cellspacing:"0"}).append(n("<tr/>").append(n("<td/>").append(n("<img/>").attr("src",s))).append(n("<td/>").append(n("<div/>").addClass("yak").html(this.keyHtml))).append(n("<td/>").css("width","100%").html(this.summary)))));a.append(d);i.push([d,this.key])}))}));t.addSuggestionControls(i);return i}};e.minQueryLength=1;e.queryDelay=.25;t.init(e);return t};d.init=function(){n("fieldset.issue-picker-params").each((function(){var s=e(n(this));n("#"+s.fieldId+"-container").add("#"+s.fieldName+"_container").find("a.popup-trigger").click((function(e){var a=r+"/secure/popups/IssuePicker.jspa?";a+="currentIssue="+s.currentIssueKey+"&";a+="singleSelectOnly="+s.singleSelectOnly+"&";a+="showSubTasks="+s.showSubTasks+"&";a+="showSubTasksParent="+s.showSubTaskParent;s.currentProjectId&&""!==s.currentProjectId&&(a+="&selectedProjectId="+s.currentProjectId);t.callback=function(e){var t,a=[];e=JSON.parse(e);if(s.fieldId&&a&&(t=n("#"+s.fieldId))){n.each(e,(function(){a.push(this.value)}));t.val(a.join(", "))}};var i=window.open(a,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width=620,height=500,scrollbars=yes,resizable");i.opener=self;i.focus();e.preventDefault()}));s.fieldId||(s.fieldId=s.fieldName);!0===s.issuePickerEnabled&&d({fieldID:s.fieldId,delimChar:!0===s.singleSelectOnly?void 0:",",ajaxData:s})}))};return d}));AJS.namespace("jira.widget.autocomplete.Issues",null,require("jira/autocomplete/issue-autocomplete"));AJS.namespace("JIRA.IssueAutoComplete",null,require("jira/autocomplete/issue-autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/UserAutoComplete.js' */
define("jira/autocomplete/user-autocomplete",["jira/autocomplete/rest-autocomplete","jira/data/parse-options-from-fieldset","jira/field/create-user-picker-popup-trigger","jira/util/browser","jira/util/elements","jira/util/objects","wrm/context-path","jquery"],(function(e,t,i,r,a,o,n,l){"use strict";var s=n(),u=s+"/rest/api/1.0/users/picker",d=function(t){var i=o.begetObject(e);i.getAjaxParams=function(){return{url:u,data:{fieldName:t.fieldID,fieldConfigId:t.fieldConfigID,projectId:t.projectId},dataType:"json",type:"GET"}};i.renderSuggestions=function(e){if(function(e){var t=!1,i=e.closest("form");i.length&&i.hasClass("submitting")&&(t=!0);return t}(this.field)||!r.isSelenium()&&!a.elementIsFocused(this.field))return!1;var t=void 0,o=[];this.clearResponseContainer();if(e&&e.users&&e.users.length>0){t=l("<ul/>").appendTo(this.responseContainer);l(e.users).each((function(){o.push([l("<li/>").html(this.html).appendTo(t),this.name])}))}e.footer&&this.responseContainer.append(l("<div/>").addClass("yui-ac-ft").html(e.footer).css("display","block"));if(o.length>0){i.addSuggestionControls(o);l(".atlassian-autocomplete div.yad, .atlassian-autocomplete .labels li").textOverflow({autoUpdate:!0})}return o};t.minQueryLength=2;t.queryDelay=.25;i.init(t);return i};d.init=function(e){l("fieldset.user-picker-params",e).each((function(){var r=t(l(this)),a=r.fieldId||r.fieldName,o=l(e).find("#"+a);!function(e,t){e.on("click",i.createUserPickerPopupTrigger({urlBase:s,formName:t.formName||e.closest("form").attr("name"),fieldName:t.fieldName,multiSelect:t.multiSelect,fieldConfigId:t.fieldConfigId,projectIds:t.projectId,actionToOpen:t.actionToOpen}))}(l("#"+a+"_container").find(".popup-trigger"),r);r.userPickerEnabled&&c(o,r)}))};function c(e,t){d({field:parent?e:null,fieldID:t.fieldName,fieldConfigID:t.fieldConfigId,projectId:t.projectId,delimChar:!1===t.multiSelect?void 0:",",ajaxData:{fieldName:t.fieldName}})}return d}));AJS.namespace("jira.widget.autocomplete.Users",null,require("jira/autocomplete/user-autocomplete"));AJS.namespace("JIRA.UserAutoComplete",null,require("jira/autocomplete/user-autocomplete"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:autocomplete', location = '/includes/jira/autocomplete/initAutoCompleteFields.js' */
!function(){"use strict";var e=require("jquery"),r=require("jira/data/parse-options-from-fieldset"),i=require("jira/util/events"),t=require("jira/util/events/reasons"),s=require("jira/util/events/types"),a=require("jira/autocomplete/issue-autocomplete"),l=require("jira/autocomplete/user-autocomplete"),o=require("wrm/context-path")();i.bind(s.NEW_CONTENT_ADDED,(function(e,r,i){if(i!==t.panelRefreshed){l.init(r);a.init(r)}}));i.bind(s.NEW_CONTENT_ADDED,(function(i,s,a){a!==t.panelRefreshed&&e("fieldset.user-searcher-params",s).each((function(){var i=r(e(this)),t=e("#"+i.fieldId+"_container",s);if(!0===i.userPickerEnabled)var a=l({fieldID:i.fieldId,delimChar:!0===i.multiSelect?",":void 0,ajaxData:{fieldName:i.fieldName}});var u=function(r){var t=e("#"+i.fieldId,s),l=e("#"+i.fieldId+"Image",s),o=e("#"+i.fieldId+"GroupImage",s),u=e("#"+i.fieldId+"_desc",s);if("select.list.none"===r){t.val("").attr("disabled","true");l.hide();o.hide();u.hide()}else{t.removeAttr("disabled");if("select.list.group"===r){l.hide();o.show();if(!0===i.userPickerEnabled){a.disable();u.hide()}}else{l.show();o.hide();if(!0===i.userPickerEnabled){a.enable();u.show()}}}};e("#"+i.userSelect,s).change((function(){var r=e(this).find("option:selected").attr("rel");u(r)})).find("option:selected").each((function(){u(e(this).attr("rel"))}));t.find("a.user-popup-trigger").click((function(e){var r=o+"/secure/popups/UserPickerBrowser.jspa?";r+="formName="+i.formName+"&";r+="multiSelect="+i.multiSelect+"&";r+="decorator=popup&";r+="element="+i.fieldId;var t=window.open(r,"UserPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");t.opener=self;t.focus();e.preventDefault()}));t.find("a.group-popup-trigger").click((function(e){var r=o+"/secure/popups/GroupPickerBrowser.jspa?";r+="formName="+i.formName+"&";r+="multiSelect="+i.multiSelect+"&";r+="decorator=popup&";r+="element="+i.fieldId;var t=window.open(r,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes");t.opener=self;t.focus();e.preventDefault()}))}))}))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.js' */
define("jira/admin/group-browser/group-label-lozenge",["jquery","jira/skate"],(function(e,t){"use strict";t("group-label-lozenge",{type:t.type.CLASSNAME,attached:function(t){e(t).tooltip({gravity:"w",html:!0})}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-label-lozenge', location = '/includes/jira/admin/group-browser/group-label-lozenge.soy' */
// This file was automatically generated from group-label-lozenge.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }


JIRA.Templates.groupLabelLozenge = function(opt_data, opt_ignored) {
  return '' + aui.lozenges.lozenge({text: opt_data.label.text, title: opt_data.label.title, isSubtle: true, extraClasses: 'group-label-lozenge'});
};
if (goog.DEBUG) {
  JIRA.Templates.groupLabelLozenge.soyTemplateName = 'JIRA.Templates.groupLabelLozenge';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:groupbrowser', location = '/includes/jira/admin/group-browser/group-browser.js' */
require(["jquery","jira/admin/group-browser/group-label-lozenge"],(function(i){"use strict";i((function(){i(".operations-list .aui-button[disabled]").tooltip({gravity:"e",html:!1})}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/groupPickerUtil.js' */
define("jira/field/group-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jquery"],(function(e,i,r){"use strict";var t=function(t,a){var n=[],s=a?JIRA.Templates.GroupPickerUtil.formatResponseWithLabels:JIRA.Templates.GroupPickerUtil.formatResponse;r(t).each((function(t,a){var u=new i({weight:t,label:a.header});r(a.groups).each((function(){u.addItem(new e({value:this.name,label:this.name,title:this.name,html:s(this),highlighted:!0}))}));n.push(u)}));return n};return{formatResponseWithLabels:function(e){return t(e,!0)},formatResponse:function(e,i){return t(e,i)}}}));AJS.namespace("JIRA.GroupPickerUtil",null,require("jira/field/group-picker-util"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/templates/groupPickerUtil.soy' */
// This file was automatically generated from groupPickerUtil.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.GroupPickerUtil.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.GroupPickerUtil == 'undefined') { JIRA.Templates.GroupPickerUtil = {}; }


JIRA.Templates.GroupPickerUtil.formatResponseWithLabels = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.GroupPickerUtil.formatResponse(soy.$$augmentMap(opt_data, {showLabels: true}));
};
if (goog.DEBUG) {
  JIRA.Templates.GroupPickerUtil.formatResponseWithLabels.soyTemplateName = 'JIRA.Templates.GroupPickerUtil.formatResponseWithLabels';
}


JIRA.Templates.GroupPickerUtil.formatResponse = function(opt_data, opt_ignored) {
  var output = '<div class="group-suggestion-item"><span class="group-suggestion-item__name">' + soy.$$filterNoAutoescape(opt_data.html) + '</span>';
  if (opt_data.showLabels) {
    output += '<span class="group-suggestion-item__labels group-labels-lozenges">';
    var labelList13 = opt_data.labels;
    var labelListLen13 = labelList13.length;
    for (var labelIndex13 = 0; labelIndex13 < labelListLen13; labelIndex13++) {
      var labelData13 = labelList13[labelIndex13];
      output += JIRA.Templates.groupLabelLozenge({label: labelData13}) + ' ';
    }
    output += '</span>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.GroupPickerUtil.formatResponse.soyTemplateName = 'JIRA.Templates.GroupPickerUtil.formatResponse';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initMultiGroupPickers.js' */
define("jira/field/init-multi-group-pickers",["jquery","wrm/context-path","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],(function(e,t,i,r,a,s,n){"use strict";var u=t();s.bind(a.NEW_CONTENT_ADDED,(function(t,a,s){s!==r.panelRefreshed&&a.find(".js-default-multi-group-picker").each((function(){var t=e(this),r=!0===t.data("show-labels"),a=t.data("user-name");new i({element:this,itemAttrDisplayed:"label",showDropdownButton:!1,ajaxOptions:{data:function(e){return{userName:a,query:e,exclude:t.val()}},url:u+"/rest/api/2/groups/picker",query:!0,formatResponse:r?n.formatResponseWithLabels:n.formatResponse}})}))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/initSingleGroupPickers.js' */
define("jira/field/init-single-group-pickers",["jira/ajs/select/single-select","jquery","wrm/context-path","jira/ajs/list/item-descriptor","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/group-picker-util"],(function(e,t,i,a,r,n,s,l){"use strict";var u=i();s.bind(n.NEW_CONTENT_ADDED,(function(i,n,s){s!==r.panelRefreshed&&n.find(".js-default-single-group-picker").each((function(){var i=t(this),r=i.find("option[data-empty]"),n=!0===i.data("show-labels"),s=i.data("user-name");new e({element:this,itemAttrDisplayed:"label",revertOnInvalid:!0,ajaxOptions:{data:function(e){return{userName:s,query:e,exclude:i.val()}},url:u+"/rest/api/2/groups/picker",query:!0,formatResponse:function(e){var t=l.formatResponse(e,n);r.length&&""!==i.val()&&t.unshift(new a({value:"",label:r.text(),highlighted:!0}));return t}}})}))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:group-pickers', location = '/includes/jira/field/init/init-group-pickers-webresource.js' */
require("jira/field/init-multi-group-pickers");require("jira/field/init-single-group-pickers");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/userPickerUtil.js' */
define("jira/field/user-picker-util",["jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","wrm/context-path","jquery","underscore"],(function(e,r,t,i,s){"use strict";var n={reporter:"/rest/internal/2/users/reporter"},a={getUrl:function(e,r,i){if(r){if(!n[i])throw new Error("The URL for the "+i+" picker is not defined");return""+t()+n[i]}return t()+(e?"/rest/api/1.0/users/picker":"/rest/api/2/user/picker")},formatResponse:function(t){var s=[];i(t).each((function(t,n){var a=new r({weight:t,label:n.footer});i(n.users).each((function(){a.addItem(new e({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,iconType:"rounded",allowDuplicate:!1,highlighted:!0,userKey:this.key}))}));s.push(a)}));return s},formatResponseWithoutHTML:function(e,r){var t={users:e.users.map((function(e){e.html=function(e,r){var t=new RegExp("\\b"+RegExp.escape(r),"ig"),i=function(e){return e.replace(t,(function(e){return"<mark>"+e+"</mark>"}))},n=s.escape(e.displayName),a=s.escape(e.name),u=s.escape(e.emailAddress);return i(n)+(e.emailAddress?" - "+u:"")+" ("+i(a)+")"}(e,r);return e}))};return a.formatResponse(t,r,!1)}};return a}));AJS.namespace("JIRA.UserPickerUtil",null,require("jira/field/user-picker-util"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initSingleUserPickers.js' */
define("jira/field/init-single-user-pickers",["jquery","wrm/context-path","aui/params","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/user-picker-util","jira/util/formatter","jira/field/create-user-picker-popup-trigger","jira/ajs/list/item-descriptor"],(function(e,t,r,i,a,n,o,s,p,u,c){"use strict";var d=t();function l(e){return r.projectKeys?r.projectKeys:e.data("project-key")}function f(t){e(".js-default-user-picker",t).each((function(){var t=e(this);if(!t.data("aui-ss")){var r,a=(r=t.attr("name"))&&-1!==r.indexOf("customfield_");AJS.populateParameters();var n=!0===t.data("use-new-endpoint")&&Boolean(l(t)),o=t.data("inputValue");t.data("has-popup-picker")&&t.next(".popup-trigger").on("click",u.createUserPickerPopupTrigger({urlBase:d,formName:t.data("form-name")||t.closest("form").attr("name"),fieldName:t.prop("name"),fieldConfigId:t.data("field-config-id"),projectIds:t.data("project-ids")?t.data("project-ids").split(",").filter((function(e){return e})):void 0,triggerEvent:"userpicker:onPopUpSelection"}));new i({element:t,submitInputVal:!0,hasAddonIcon:!!t.data("has-popup-picker"),showDropdownButton:!!t.data("show-dropdown-button"),errorMessage:p.format("\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0027\u0027{0}\u0027\u0027.","'{0}'"),iconType:"rounded",ajaxOptions:{url:s.getUrl(a,n,t.prop("name")),data:{showAvatar:!n||void 0,fieldName:a?t.prop("name"):void 0,fieldConfigId:a?t.data("field-config-id"):void 0,projectId:a?t.data("project-ids").split(",").filter((function(e){return e})):void 0,maxResults:n?100:void 0,projectKeys:n?l(t):void 0},formatResponse:n?s.formatResponseWithoutHTML:s.formatResponse},inputText:o,ariaLabel:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",events:{element:{"userpicker:onPopUpSelection":function(t,r,i,a){e.ajax({url:d+"/rest/api/2/user?username="+a,type:"GET",contentType:"application/json",success:function(e){i.setSelection(new c({value:a,label:e.displayName,icon:e.avatarUrls["24x24"]}),!0)},error:function(e){return console.error(e)}})}}}})}}))}o.bind(n.NEW_CONTENT_ADDED,(function(e,t,r){r!==a.panelRefreshed&&f(t)}));return f}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/NoBrowseUserNamePicker.js' */
define("jira/field/no-browser-user-name-picker",["require"],(function(e){"use strict";var t=e("jquery"),r=e("jira/ajs/list/item-descriptor"),i=e("jira/ajs/select/multi-select"),a=e("jira/util/formatter"),n=e("wrm/context-path")();return i.extend({_getDefaultOptions:function(){return t.extend(!0,this._super(),{errorMessage:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",showDropdownButton:!1,removeOnUnSelect:!0,itemAttrDisplayed:"label"})},_handleCharacterInput:function(){},_setSuggestions:function(){},_handleServerError:function(e){404===e.status?this.showErrorMessage():this._super()},_deactivate:function(){this.validateAndAdd()},validateAndAdd:function(){var e=this;""===t.trim(this.$field.val())?this.hideErrorMessage():t.ajax({url:n+"/rest/api/2/user",data:{username:t.trim(e.getQueryVal())},success:function(t){e.hideErrorMessage();e.$field.val("");e.addItem(new r({label:t.displayName,value:t.name}))},error:function(){e.showErrorMessage()}})},_handleSpace:function(){this.validate()},_handleServerSuggestions:function(){this.hideErrorMessage();this.handleFreeInput()},handleFreeInput:function(){var e=t.trim(this.$field.val());if(""!==e){this.addItem({value:e,label:e});this.model.$element.trigger("change")}this.$field.val("")},keys:{Return:function(e){e.preventDefault();this.validateAndAdd()},Spacebar:function(e){e.preventDefault();this.validateAndAdd()}}})}));AJS.namespace("AJS.NoBrowseUserNamePicker",null,require("jira/field/no-browser-user-name-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/initMultiUserPickers.js' */
define("jira/field/init-multi-user-pickers",["jquery","wrm/context-path","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/no-browser-user-name-picker","jira/field/user-picker-util","jira/ajs/list/item-descriptor","jira/field/create-user-picker-popup-trigger","jira/util/logger"],(function(e,t,r,i,n,a,o,l,u,c,s){"use strict";var d=t();function f(e){return!1!==e}function p(e){if(e)return String(e).split(",").filter((function(e){return e}))}function m(t){t.find(".js-default-multi-user-picker").each((function(){var i=e(this),n=i.attr("id"),a=t.find("#"+n+"_container").find(".popup-trigger"),m=function(e){return{useFrotherControl:e.data("use-frother-control"),userPickerEnabled:e.data("user-picker-enabled"),fieldName:e.data("field-name"),formName:e.data("form-name"),fieldConfigId:e.data("field-config-id"),multiSelect:e.data("multi-select"),projectId:p(e.data("project-id")),actionToOpen:e.data("action-to-open")}}(i);a.length>0&&function(e,t){e.on("click",c.createUserPickerPopupTrigger({urlBase:d,formName:t.formName||e.closest("form").attr("name"),fieldName:t.fieldName,multiSelect:t.multiSelect,fieldConfigId:t.fieldConfigId,projectIds:t.projectId,actionToOpen:t.actionToOpen,triggerEvent:f(t.useFrotherControl)?"userpicker:onPopUpSelection":void 0}))}(a,m);f(m.useFrotherControl)&&(m.userPickerEnabled?function(e,t){new r({element:e,itemAttrDisplayed:"label",showDropdownButton:!1,removeOnUnSelect:!0,submitInputVal:!0,events:{element:{"userpicker:onPopUpSelection":function(e,t,r,i){try{JSON.parse(i).forEach((function(e){var t=e.id,i=e.displayName;r.addItem(new u({value:t,title:i,label:i}))}))}catch(e){s.error("Cannot parse user names")}}}},ajaxOptions:{url:d+"/rest/api/1.0/users/picker",data:function(r){return{showAvatar:!0,query:r,exclude:e.val(),fieldName:t.fieldName,fieldConfigId:t.fieldConfigId,projectId:t.projectId}},formatResponse:l.formatResponse}})}(i,m):function(e){new o({element:e})}(i))}))}a.bind(n.NEW_CONTENT_ADDED,(function(e,t,r){r!==i.panelRefreshed&&m(t)}));return m}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:user-pickers', location = '/includes/jira/field/init/init-user-pickers-webresource.js' */
require("jira/field/init-multi-user-pickers");require("jira/field/init-single-user-pickers");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/ProjectIssueTypeSelect.js' */
define("jira/field/project-issue-type-select",["jira/lib/class"],(function(e){"use strict";return e.extend({init:function(e){var s,t=this;this.$project=e.project;this.issueTypeSelect=e.issueTypeSelect;this.$projectIssueTypesSchemes=e.projectIssueTypesSchemes;this.$issueTypeSchemeIssueDefaults=e.issueTypeSchemeIssueDefaults;this.projectIssueTypeSchemes=JSON.parse(this.$projectIssueTypesSchemes.html());this.issueTypesSchemeDefaults=JSON.parse(this.$issueTypeSchemeIssueDefaults.html()||"[]");if(t.$project.length>0){s=t.$project.val();t.setIssueTypeScheme(t.getIssueTypeSchemeForProject(s));this.$project.change((function(){var e=t.$project.val();t._handleProjectChanged(t.getIssueTypeSchemeForProject(e))}))}},_handleProjectChanged:function(e){this.issueTypeSelect.model.setFilterGroup(e);var s=this.getDefaultIssueTypeForScheme(e),t=this.issueTypeSelect.model.getDescriptor(s),i=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.$element.data("move-context")?this._handleProjectChangedWhenIssueMoved(t,i):this._handleProjectChangedWhenIssueCreated(t,i);this.issueTypeSelect.model.$element.data("project",this.$project.val())},_handleProjectChangedWhenIssueCreated:function(e,s){e?this.issueTypeSelect.setSelection(e,!1):this.issueTypeSelect.model.setSelected(s,!1)||this.issueTypeSelect.setSelection(this.issueTypeSelect.model.getAllDescriptors()[0],!1)},_handleProjectChangedWhenIssueMoved:function(e,s){this.issueTypeSelect.model.setSelected(s,!1)||this.issueTypeSelect.setSelection(e||this.issueTypeSelect.model.getAllDescriptors()[0],!1)},getIssueTypeSchemeForProject:function(e){return this.projectIssueTypeSchemes[e]},getDefaultIssueTypeForScheme:function(e){return this.issueTypesSchemeDefaults[e]},setIssueTypeScheme:function(e){var s=this.issueTypeSelect.model.getValue();this.issueTypeSelect.model.setFilterGroup(e);this.issueTypeSelect.model.setSelected(s,!1)||this.setDefaultIssueType(e);this.issueTypeSelect.model.$element.data("project",this.$project.val())},setDefaultIssueType:function(e){var s=this.getDefaultIssueTypeForScheme(e),t=this.issueTypeSelect.model.getDescriptor(s);t||(t=this.issueTypeSelect.model.getAllDescriptors()[0]);this.issueTypeSelect.setSelection(t,!1)}})}));AJS.namespace("JIRA.ProjectIssueTypeSelect",null,require("jira/field/project-issue-type-select"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectIssueTypeSelect.js' */
define("jira/field/init-project-issue-type-select",["jira/ajs/select/suggestion-collection-model","jquery","jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/field/project-issue-type-select"],(function(e,t,i,s,n,l,r){"use strict";l.bind(n.NEW_CONTENT_ADDED,(function(n,l,c){c!==s.panelRefreshed&&(d=l||t("body")).find(".issuetype-field").each((function(s){var n=d.find(".project-field, .project-field-readonly"),l=t(this),c=d.find("#"+l.attr("id")+"-projects"),a=d.find("#"+l.attr("id")+"-defaults"),o=new i({element:l,revertOnInvalid:!0,model:e});o.model.remove("");n.length>0&&new r({project:n.eq(s),issueTypeSelect:o,projectIssueTypesSchemes:c,issueTypeSchemeIssueDefaults:a})}));var d}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/initProjectPickers.js' */
define("jira/field/init-project-pickers",["jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","jira/util/events/reasons","jira/util/events/types","jira/util/events"],(function(e,i,n,t,s){"use strict";s.bind(t.NEW_CONTENT_ADDED,(function(t,s,l){l!==n.panelRefreshed&&function(n){n.find(".project-field").each((function(){new e({element:this,revertOnInvalid:!0,pageSize:50,pagingThreshold:100,model:i})}))}(s)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-project-issuetype-fields', location = '/includes/jira/field/init/init-jira-project-issuetype-fields-webresource.js' */
require("jira/field/init-project-issue-type-select");require("jira/field/init-project-pickers");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-options', location = '/includes/jira/searchers/commonPickersConfig.js' */
define("jira/searchers/element/common-pickers-config",[],(function(){"use strict";return{DEFAULT_MAX_RESULTS:100,DEFAULT_START_AT:0,DEFAULT_MAX_RESULTS_PER_GROUP:100}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-options', location = '/includes/jira/searchers/commonPickersUtils.js' */
define("jira/searchers/element/common-pickers-utils",[],(function(){"use strict";var e='.search-criteria li[data-id="project"] .searcherValue';return{getSelectedProjectsIds:function(){var t=document.querySelector(e);if(t){var r=t.dataset.selectedProjectsIds;if(r)return r.split(",")}},getSelectedIssueTypeIds:function(){var t=document.querySelector(e);if(t){var r=t.dataset.selectedIssueTypeIds;if(r)return r.split(",")}}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-options', location = '/includes/jira/searchers/priorityPickerOptions.js' */
define("jira/searchers/element/priority-picker-options",["wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(t,e,r,a,i){"use strict";var n=function(n){var s={maxResults:i.DEFAULT_MAX_RESULTS,startAt:i.DEFAULT_START_AT};n.projectIds&&(s.projectIds=n.projectIds);return{url:t()+"/rest/api/2/priority/page",data:s,formatResponse:function(t){var i=t.values.map((function(t){return new r({value:t.id,label:t.name,icon:t.iconUrl,allowDuplicate:!1,highlighted:!0})})),n=t.total-i.length,s=n>0?e.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",n):void 0;return[new a({items:i,footerText:s,fetchedThroughAjaxCall:!0})]}}};return function(t){return Object.assign(t,{maxInlineResultsDisplayed:i.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:i.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:n(t.baseAjaxOptions),containsStaticSuggestions:!0})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-options', location = '/includes/jira/searchers/multiSelectCustomFieldPickerOptions.js' */
define("jira/searchers/element/multi-select-custom-field-picker-options",["wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(e,t,s,i,o){"use strict";var r=function(r){var a={maxResults:o.DEFAULT_MAX_RESULTS};r.projectIds&&(a.projectIds=r.projectIds);r.issueTypeIds&&(a.issueTypeIds=r.issueTypeIds);return{url:e()+"/rest/api/latest/customFields/"+r.customFieldId+"/options",data:a,formatResponse:function(e){var o=e.options.map((function(e){return new s({value:e.id.toString(),label:e.value,title:e.value,allowDuplicate:!1,highlighted:!1})})),r=e.total-o.length,a=r>0?t.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",r):void 0;return[new i({items:o,footerText:a,fetchedThroughAjaxCall:!0})]}}};return function(e){return Object.assign(e,{maxInlineResultsDisplayed:o.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:o.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:r(e.baseAjaxOptions),containsStaticSuggestions:!1})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-options', location = '/includes/jira/searchers/componentPickerOptions.js' */
define("jira/searchers/element/component-picker-options",["wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(e,t,a,n,r){"use strict";var s=function(s){var i={maxResults:r.DEFAULT_MAX_RESULTS,startAt:r.DEFAULT_START_AT};s.projectIds&&(i.projectIds=s.projectIds);return{url:e()+"/rest/api/2/component/page",data:i,formatResponse:function(e){var r=e.values.map((function(e){return new a({value:s.useIdPrefixInValue?"id:"+e.name:e.id,label:e.name,allowDuplicate:!1,highlighted:!0})})),i=e.total-r.length,o=i>0?t.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",i):void 0;return[new n({items:r,footerText:o,fetchedThroughAjaxCall:!0})]}}};return function(e){return Object.assign(e,{maxInlineResultsDisplayed:r.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:r.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:s(e.baseAjaxOptions),containsStaticSuggestions:!0})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-options', location = '/includes/jira/searchers/versionPickerOptions.js' */
define("jira/searchers/element/version-picker-options",["wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(e,t,r,a,s){"use strict";var n=function(n){var i={maxResults:s.DEFAULT_MAX_RESULTS,startAt:s.DEFAULT_START_AT};n.projectIds&&(i.projectIds=n.projectIds);return{url:e()+"/rest/api/2/version",data:i,formatResponse:function(e){var s=e.values.map((function(e){return new r({value:n.useIdPrefixInValue?"id:"+e.name:e.id,label:e.name,allowDuplicate:!1,highlighted:!0})})),i=e.total-s.length,o=i>0?t.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",i):void 0;return[new a({items:s,footerText:o,fetchedThroughAjaxCall:!0})]}}};return function(e){return Object.assign(e,{maxInlineResultsDisplayed:s.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:s.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:n(e.baseAjaxOptions),containsStaticSuggestions:!0})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/field-templates.soy' */
// This file was automatically generated from field-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }


JIRA.Templates.Fields.username = function(opt_data, opt_ignored) {
  return '' + ((opt_data.escape) ? soy.$$escapeHtml(opt_data.displayName) : soy.$$filterNoAutoescape(opt_data.displayName));
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.username.soyTemplateName = 'JIRA.Templates.Fields.username';
}


JIRA.Templates.Fields.recipientUsername = function(opt_data, opt_ignored) {
  return '<li data-username="' + soy.$$escapeHtml(opt_data.username) + '" title=' + soy.$$escapeHtml(opt_data.username) + '><span><span class="user-hover" rel="' + soy.$$escapeHtml(opt_data.username) + '"><img alt="" src="' + soy.$$escapeHtml(opt_data.icon) + '" title="' + JIRA.Templates.Fields.username(opt_data) + '"><span title="' + JIRA.Templates.Fields.username(opt_data) + '">' + JIRA.Templates.Fields.username(opt_data) + '</span></span>' + ((! opt_data.readOnly) ? '<button type="button" class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete">' + soy.$$escapeHtml(AJS.format('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044f: {0}',opt_data.username)) + '</span></button>' : '') + '</span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.recipientUsername.soyTemplateName = 'JIRA.Templates.Fields.recipientUsername';
}


JIRA.Templates.Fields.recipientEmail = function(opt_data, opt_ignored) {
  return '<li data-email="' + soy.$$escapeHtml(opt_data.email) + '" title=' + soy.$$escapeHtml(opt_data.email) + '><span><img src="' + soy.$$escapeHtml(opt_data.icon) + '" title="' + soy.$$escapeHtml(opt_data.email) + '"><span title="' + soy.$$escapeHtml(opt_data.email) + '">' + soy.$$escapeHtml(opt_data.email) + '</span><span class="remove-recipient item-delete"><span class="icon-default aui-icon aui-icon-small aui-iconfont-delete"></span></span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.recipientEmail.soyTemplateName = 'JIRA.Templates.Fields.recipientEmail';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/util/formatter","jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","wrm/context-path","jquery"],(function(e,t,i,s,a,l){"use strict";var n=a();return t.extend({_getDefaultOptions:function(){return l.extend(!0,this._super(),{ajaxOptions:{url:n+"/includes/js/ajs/layer/labeldata.js",formatResponse:this._formatResponse},removeDuplicates:!0,removeOnUnSelect:!0,userEnteredOptionsMsg:"\u041d\u043e\u0432\u0430\u044f \u043c\u0435\u0442\u043a\u0430"})},isValidItem:function(e){return!/\s/.test(e)},_handleServerSuggestions:function(e){e&&e.token&&l.trim(this.$field.val())!==e.token||this._super(e)},_handleSpace:function(){""!==l.trim(this.$field.val())&&this.handleFreeInput()&&this.hideSuggestions()},keys:{Spacebar:function(e){this._handleSpace();e.preventDefault()}},_formatResponse:function(t){var a=new i({label:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",type:"optgroup",styleClass:"labels-suggested"});t&&t.suggestions&&l.each(t.suggestions,(function(){a.addItem(new s({value:this.label,label:this.label,html:this.html,highlighted:!0}))}));return[a]},handleFreeInput:function(){var e=l.trim(this.$field.val()).match(/\S+/g);if(e){for(var t=0;t<e.length;t++){var i=e[t];this.addItem({value:i,label:i})}this.model.$element.trigger("change")}this.$field.val("")}})}));AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker"));AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/LabelPickerFactory.js' */
define("jira/field/label-picker-factory",["jira/field/label-picker","jira/data/parse-options-from-fieldset","wrm/context-path","jquery","exports"],(function(e,t,i,a,r){"use strict";r.createPicker=function(r,s){var d=t(r),l=a("#"+d.id,s),c=d.issueId,o={};/customfield_\d/.test(d.id)&&(o.customFieldId=parseInt(d.id.replace("customfield_",""),10));new e({element:l,ajaxOptions:{url:i()+"/rest/api/1.0/labels"+(c?"/"+c:"")+"/suggest",data:o}})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.Item.js' */
define("jira/field/multi-user-list-picker/item",["jira/util/data/meta","jira/util/strings","jira/ajs/control","jquery"],(function(e,t,i,n){"use strict";return i.extend({init:function(e){this._setOptions(e);this.$lozenge=this._render("item");this.$removeButton=this.$lozenge.find(".remove-recipient");this._assignEvents("instance",this);this._assignEvents("lozenge",this.$lozenge);this._assignEvents("removeButton",this.$removeButton);this.$lozenge.prependTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{item:function(){var i,s=this.options.descriptor;if(!0!==s.noExactMatch()){i={escape:!1,username:s.value(),icon:s.icon(),displayName:t.escapeHtml(s.label())};return n(JIRA.Templates.Fields.recipientUsername(i))}i={email:s.value(),icon:e.get("default-avatar-url")};return n(JIRA.Templates.Fields.recipientEmail(i))}},_events:{instance:{remove:function(){this.$lozenge.remove()}},removeButton:{click:function(e){e.stopPropagation();this.trigger("remove")}}}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/MultiUserListPicker.js' */
define("jira/field/multi-user-list-picker",["jira/util/formatter","jira/field/multi-user-list-picker/item","jira/ajs/select/suggestions/user-list-suggest-handler","jira/ajs/select/multi-select","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/ajs/group","wrm/context-path","jquery"],(function(e,t,i,r,s,n,a,u,l){"use strict";var o=u();return r.extend({init:function(r){var u=o+"/rest/api/1.0/users/picker";void 0!==r.ajaxOptions&&void 0!==r.ajaxOptions.url&&(u=r.ajaxOptions.url);l.extend(!0,r,{itemAttrDisplayed:"label",userEnteredOptionsMsg:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",showDropdownButton:!1,removeOnUnSelect:!0,ajaxOptions:{url:u,query:!0,data:{showAvatar:!0},formatResponse:function(e){var t=[];l(e).each((function(e,i){var r=new n({weight:e,label:i.footer});l(i.users).each((function(){r.addItem(new s({value:this.name,label:this.displayName,html:this.html,icon:this.avatarUrl,iconType:"rounded",allowDuplicate:!1,highlighted:!0}))}));t.push(r)}));return t}},suggestionsHandler:i,itemGroup:new a,itemBuilder:function(e){return new t({descriptor:e,container:this.$selectedItemsContainer})}});this._super(r)},_createFurniture:function(e){this._super(e);this.options.description&&this._render("description",this.options.description).insertAfter(this.$field)},updateItemsIndent:l.noop,_renders:{selectedItemsWrapper:function(){return l('<div class="recipients" />')},selectedItemsContainer:function(){return l("<ol />")},description:function(e){return l("<div />").addClass("description").text(e)}}})}));AJS.namespace("JIRA.MultiUserListPicker",null,require("jira/field/multi-user-list-picker"));AJS.namespace("JIRA.MultiUserListPicker.Item",null,require("jira/field/multi-user-list-picker/item"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCascadingSelects.js' */
define("jira/field/init-cascading-selects",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],(function(e,i,t,n){"use strict";n.bind(t.NEW_CONTENT_ADDED,(function(t,n,a){a!==i.panelRefreshed&&e(n||document.body).find("div.aui-field-cascadingselect").add("tr.aui-field-cascadingselect").add("td.aui-field-cascadingselect").each((function(){var i=e(this),t=i.find(".cascadingselect-parent"),n="",a=i.find(".cascadingselect-child"),c=a.find("option"),d=a.find(":selected");t.bind("cascadingSelectChanged",(function(){var i,s=t.find("option:selected").attr("class");if(s!==n){i=e("<span />").insertAfter(a);a.detach();a.find("option").each((function(e,i){i.parentNode.removeChild(this)}));a.insertAfter(i);i.remove();c.filter("."+t.find("option:selected").attr("class")).appendTo(a);d.hasClass(t.find("option:selected").attr("class"))?a.val(d.val()):a.val(a.find("option:first").val());n=s}})).change((function(){e(this).trigger("cascadingSelectChanged")})).trigger("cascadingSelectChanged")}))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/ComponentPicker.js' */
define("jira/field/component-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],(function(e,t,n,s,i,r){"use strict";return s.extend({init:function(e){this._super(e);this.suggestionsHandler=new n(this.options,this.model)},_getDefaultOptions:function(t){var n=!1;t&&t.element&&(n=r(t.element).data("create-permission"));return n?r.extend(!0,this._super(),{userEnteredOptionsMsg:"\u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442"}):this._super(t)},_selectionHandler:function(e,n){var s=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor");if(!i.find(s,(function(e){return e.label()===r.label()}))&&r.label()===r.value()){r.properties.value="nv_"+r.value();t.trigger("Issue.Component.new.selected",[r.value()])}this._super(e,n)}})}));AJS.namespace("JIRA.ComponentPicker",null,require("jira/field/component-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initComponentPickers.js' */
define("jira/field/init-component-pickers",["jira/field/component-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/searchers/element/component-picker-options","jquery"],(function(e,t,r,n,i,o,a){"use strict";var s=["div.aui-field-componentspicker.frother-control-renderer","td.aui-field-componentspicker.frother-control-renderer","tr.aui-field-componentspicker.frother-control-renderer"];function c(r,n){n=n||s.join(", ");a(n,r).each((function(n){var i,s=(i=a(this)).is("select")?i:i.find("select");s.length&&function(r,n,i){var a=void 0,s=n[0],c={element:n,itemAttrDisplayed:"label",errorMessage:"{0} - \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.",expandAllResults:!0};if(s.dataset.useRestEndpoint){c.baseAjaxOptions={useIdPrefixInValue:!1};var l=function(e,t,r){var n=e.find(".project-field, .project-field-readonly");return n.length>1?n.eq(r-1).val():t.dataset.projectId}(r,s,i);l&&(c.baseAjaxOptions.projectIds=l);a=o(c)}else a=c;new e(a)}(r,s,n)}))}r.bind(n.NEW_CONTENT_ADDED,(function(e,t,r){r!==i.panelRefreshed&&c(t)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initMultiselectPickers.js' */
define("jira/field/init-multi-select-pickers",["jquery","jira/ajs/select/multi-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/util/formatter"],(function(e,t,i,l,n,r){"use strict";var s=["div.aui-field-multiselectpicker.frother-control-renderer"];function a(i,l){l=l||s.join(", ");e(l,i).each((function(){var i,l=(i=e(this)).is("select")?i:i.find("select");l.length&&function(e){new t({element:e,itemAttrDisplayed:"label",errorMessage:"{0} \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c.",maxInlineResultsDisplayed:15,submitInputVal:!0,expandAllResults:!0})}(l)}))}n.bind(l.NEW_CONTENT_ADDED,(function(e,t,l){l!==i.panelRefreshed&&a(t)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initDatePickers.js' */
define("jira/field/init-date-pickers",["jquery","jira/data/parse-options-from-fieldset","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/libs/calendar"],(function(e,i,t,d,a,n){"use strict";a.bind(d.NEW_CONTENT_ADDED,(function(d,a,r){r!==t.panelRefreshed&&e((s=a)||document.body).find("div.aui-field-datepicker").add("tr.aui-field-datepicker").add("td.aui-field-datepicker").each((function(){var t=e(this),d=t.find("input:text"),a=t.find("#useCurrentDate"),r=i(t.find("fieldset.datepicker-params"));r.context=s;n.setup(r);function c(){d.prop("disabled",a.is(":checked"))}if(a.length){c();a.click(c)}}));var s}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLegacyGroupPickers.js' */
define("jira/field/init-legacy-group-pickers",["jquery","jira/util/events/reasons","jira/util/events/types","jira/util/events"],(function(e,i,r,t){"use strict";t.bind(r.NEW_CONTENT_ADDED,(function(r,t,n){n!==i.panelRefreshed&&e(t||document.body).find("div.aui-field-grouppicker").add("tr.aui-field-grouppicker").add("td.aui-field-grouppicker").each((function(){var i=e(this).find("a.grouppicker-trigger"),r=i.attr("href");i.click((function(e){e.preventDefault();window.open(r,"GroupPicker","status=yes,resizable=yes,top=100,left=100,width=800,height=750,scrollbars=yes")}))}))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initIssuePickers.js' */
define("jira/field/init-issue-pickers",["jira/field/issue-picker","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/util/formatter"],(function(e,i,s,t,n,r){"use strict";i.bind(s.NEW_CONTENT_ADDED,(function(i,s,u){u!==t.panelRefreshed&&n(s||document.body).find(".aui-field-issuepicker").each((function(){new e({element:n(this),userEnteredOptionsMsg:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",uppercaseUserEnteredOnSelect:!0})}))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLabelPickers.js' */
define("jira/field/init-label-pickers",["jira/field/label-picker-factory","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],(function(e,i,a,r,t){"use strict";var n="fieldset.labelpicker-params";function l(i,a){t(a=a||".aui-field-labelpicker",i).each((function(){var a,r=(a=t(this)).is(n)?a:a.find(n);r.length>0&&e.createPicker(r,i)}))}i.bind(a.NEW_CONTENT_ADDED,(function(e,i,a){a!==r.panelRefreshed&&l(i)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/VersionPicker.js' */
define("jira/field/version-picker",["jira/util/formatter","jira/util/events","jira/ajs/select/suggestions/only-new-items-suggest-handler","jira/ajs/select/multi-select","underscore","jquery"],(function(e,t,s,i,n,r){"use strict";return i.extend({init:function(e){this._super(e);this.suggestionsHandler=new s(this.options,this.model)},_getDefaultOptions:function(t){var s=!1;t&&t.element&&(s=r(t.element).data("create-permission"));return s?r.extend(!0,this._super(),{userEnteredOptionsMsg:"\u041d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f"}):this._super(t)},_selectionHandler:function(e,s){var i=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors()),r=e.data("descriptor");if(!n.find(i,(function(e){return e.label()===r.label()}))&&r.label()===r.value()){r.properties.value="nv_"+r.value();t.trigger("Issue.Version.new.selected",[r.value()])}this._super(e,s)}})}));AJS.namespace("JIRA.VersionPicker",null,require("jira/field/version-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initVersionPickers.js' */
define("jira/field/init-version-pickers",["jira/field/version-picker","jira/util/formatter","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/searchers/element/version-picker-options","jira/searchers/element/common-pickers-config","jquery"],(function(e,i,r,t,n,s,a,o){"use strict";function l(r,t){o(t=t||".aui-field-versionspicker.frother-control-renderer",r).each((function(t){var n,l=(n=o(this)).is("select")?n:n.find("select");l.length&&function(r,t,n){var o=void 0,l=t[0],c={element:t,itemAttrDisplayed:"label",removeOnUnSelect:!1,submitInputVal:!0,errorMessage:"{0} \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0435\u0439.",maxInlineResultsDisplayed:a.DEFAULT_MAX_RESULTS,expandAllResults:!0};if(l.dataset.useRestEndpoint){var d=function(e,i,r){var t=e.find(".project-field, .project-field-readonly");return t.length>1?t.eq(r-1).val():i.dataset.projectId}(r,l,n);d&&(c.baseAjaxOptions={projectIds:d});o=s(c)}else o=c;new e(o)}(r,l,t)}))}r.bind(t.NEW_CONTENT_ADDED,(function(e,i,r){r!==n.panelRefreshed&&l(i)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initCommentControls.js' */
define("jira/field/init-comment-controls",["jira/skate","jira/ajs/select/security-level-select","jira/wikipreview/wiki-preview"],(function(e,i,t){"use strict";e("jira-wikifield",{type:e.type.CLASSNAME,created:function(e){var i={fieldId:e.getAttribute("field-id"),trigger:e.querySelector(".wiki-preview")?e.querySelector(".wiki-preview").id:e.getAttribute("field-id")+"-preview_link",issueKey:e.getAttribute("issue-key"),rendererType:e.getAttribute("renderer-type")};t(i,e).init()}});e("security-level",{type:e.type.CLASSNAME,created:function(e){var t=e.querySelector("#commentLevel");t&&new i(t)}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initLogWorkControls.js' */
define("jira/field/init-log-work-controls",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery"],(function(e,t,a,i){"use strict";function n(e,t){var a=i(e).find("#worklog-logworkcontainer"),n=i(e).find("#worklog-timetrackingcontainer"),d=i(e).find("#log-work-activate");if(t){a.removeClass("hidden");n.addClass("hidden");d.prop("checked",!0)}else{a.addClass("hidden");n.removeClass("hidden");d.prop("checked",!1)}}e.bind(t.VALIDATE_TIMETRACKING,(function(e,t){n(t,!0)}));e.bind(t.NEW_CONTENT_ADDED,(function(e,t,d){d!==a.panelRefreshed&&function(e){i("#log-work-adjust-estimate-new-value, #log-work-adjust-estimate-manual-value",e).attr("disabled","disabled");i("#log-work-adjust-estimate-"+i("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked",e).val()+"-value",e).removeAttr("disabled");i("input[name=worklog_adjustEstimate],input[name=adjustEstimate]",e).change((function(){i("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value",e).attr("disabled","disabled");i("#log-work-adjust-estimate-"+i(this).val()+"-value",e).removeAttr("disabled")}));i("#delete-log-work-adjust-estimate-new-value").change((function(){i("#delete-log-work-adjust-estimate-new").prop("checked",!0)}));i("#delete-log-work-adjust-estimate-manual-value").change((function(){i("#delete-log-work-adjust-estimate-manual").prop("checked",!0)}));i(e).find("#log-work-activate").change((function(){n(e,i(this).is(":checked"))}))}(t)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initPriorityPickers.js' */
define("jira/field/init-priority-pickers",["jira/ajs/select/single-select","jira/util/events/reasons","jira/util/events/types","jira/util/events","jira/searchers/element/priority-picker-options","jquery"],(function(e,i,t,r,n,a){"use strict";r.bind(t.NEW_CONTENT_ADDED,(function(t,r,s){s!==i.panelRefreshed&&(l=r).find("select#priority").each((function(i,t){var r={element:t,revertOnInvalid:!0},s=a.attr(t,"aria-label");s&&(r.ariaLabel=s);if(t.dataset.useRestEndpoint){var o=function(e,i,t){var r=e.find(".project-field, .project-field-readonly");return r.length>1?r.eq(t-1).val():i.dataset.projectId}(l,t,i);o&&(r.baseAjaxOptions={projectIds:o});new e(n(r))}else new e(r)}));var l}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/initInlineAttach.js' */
define("jira/field/init-inline-attach",["jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/jquery/plugins/attachment/inline-attach"],(function(i,n,t){"use strict";i.bind(n.NEW_CONTENT_ADDED,(function(i,n,e){e!==t.panelRefreshed&&function(i){i.find("input[type=file]:not('.ignore-inline-attach')").inlineAttach()}(n)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-fields', location = '/includes/jira/field/init/init-jira-fields-webresource.js' */
require("jira/field/init-cascading-selects");require("jira/field/init-component-pickers");require("jira/field/init-multi-select-pickers");require("jira/field/init-date-pickers");require("jira/field/init-legacy-group-pickers");require("jira/field/init-issue-pickers");require("jira/field/init-label-pickers");require("jira/field/init-version-pickers");require("jira/field/init-comment-controls");require("jira/field/init-log-work-controls");require("jira/field/init-priority-pickers");require("jira/field/init-inline-attach");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/issuecomponents.soy' */
// This file was automatically generated from issuecomponents.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }


JIRA.Templates.Issue.watchersWithBrowse = function(opt_data, opt_ignored) {
  var output = '<form action="#" method="get" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c') + '</span></a><fieldset><label class="js-add-watchers-label">' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0435\u0439') + '</label><div class="autocomplete-user-target"><select id="watchers" name="watchers" data-description="' + soy.$$escapeHtml('\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439') + '" class="watchers-user-picker hidden" multiple="multiple">';
  var watcherList10 = opt_data.watchers;
  var watcherListLen10 = watcherList10.length;
  for (var watcherIndex10 = 0; watcherIndex10 < watcherListLen10; watcherIndex10++) {
    var watcherData10 = watcherList10[watcherIndex10];
    output += '<option style="background-image:url(\'' + soy.$$escapeHtml(watcherData10.avatarUrls['16x16']) + '\')" selected="selected" value="' + soy.$$escapeHtml(watcherData10.name) + '">' + soy.$$escapeHtml(watcherData10.displayName) + '</option>';
  }
  output += '</select></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.watchersWithBrowse.soyTemplateName = 'JIRA.Templates.Issue.watchersWithBrowse';
}


JIRA.Templates.Issue.watchersNoBrowse = function(opt_data, opt_ignored) {
  var output = '<form action="#" method="get" class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c') + '</span></a><fieldset><label for="watchers-multi-select">' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0435\u0439') + '</label><div><input type="text" class="text" id="watchers-nosearch" /><div class="description">' + soy.$$escapeHtml('\u041d\u0430\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0432\u0432\u043e\u0434.') + '</div></div><div class="recipients"><ol class="watchers">';
  var watcherList28 = opt_data.watchers;
  var watcherListLen28 = watcherList28.length;
  for (var watcherIndex28 = 0; watcherIndex28 < watcherListLen28; watcherIndex28++) {
    var watcherData28 = watcherList28[watcherIndex28];
    output += JIRA.Templates.Fields.recipientUsername({username: watcherData28.name, icon: watcherData28.avatarUrls['16x16'], displayName: watcherData28.displayName, escape: true});
  }
  output += '</ol></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.watchersNoBrowse.soyTemplateName = 'JIRA.Templates.Issue.watchersNoBrowse';
}


JIRA.Templates.Issue.error = function(opt_data, opt_ignored) {
  var output = '<p>' + soy.$$escapeHtml(opt_data.msg) + '</p><ul>';
  var messageList40 = opt_data.errors;
  var messageListLen40 = messageList40.length;
  for (var messageIndex40 = 0; messageIndex40 < messageListLen40; messageIndex40++) {
    var messageData40 = messageList40[messageIndex40];
    output += '<li>' + soy.$$escapeHtml(messageData40) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.error.soyTemplateName = 'JIRA.Templates.Issue.error';
}


JIRA.Templates.Issue.usersListReadOnly = function(opt_data, opt_ignored) {
  var output = '<form class="aui recipients-form"><a href="#" class="cancel" role="button"><span class="icon-default aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c') + '</span></a><fieldset><div class="recipients"><ol class="voters">';
  var voterList50 = opt_data.users;
  var voterListLen50 = voterList50.length;
  for (var voterIndex50 = 0; voterIndex50 < voterListLen50; voterIndex50++) {
    var voterData50 = voterList50[voterIndex50];
    output += JIRA.Templates.Fields.recipientUsername({username: voterData50.name, icon: voterData50.avatarUrls['16x16'], displayName: voterData50.displayName, readOnly: true, escape: true});
  }
  output += '</ol></div></fieldset></form>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.usersListReadOnly.soyTemplateName = 'JIRA.Templates.Issue.usersListReadOnly';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/user-collection.js' */
define("jira/viewissue/watchers-voters/entities/user-collection",["require"],(function(e){"use strict";var r=e("jira/message"),s=e("jira/backbone-1.3.3"),t=e("underscore"),o=e("jquery"),n=e("wrm/context-path"),i=e("jira/util/formatter"),a=JIRA.Templates.Issue,u=s.Model.extend({idAttribute:"key"});return s.Collection.extend({model:u,initialize:function(e){if(void 0===e)throw new Error("Must supply options");if(!e.issueKey)throw new Error("Must supply issue key");this.issueKey=e.issueKey;if(!e.endpoint)throw new Error("Must supply an endpoint");this.endpoint=e.endpoint;if(!e.modelKey)throw new Error("Must supply an model key");this.modelKey=e.modelKey},url:function(){return[n(),"rest/api/2/issue",this.issueKey,this.endpoint].join("/")},parse:function(e){return e&&e[this.modelKey]?e[this.modelKey]:[]},ajax:function(e){e=t.extend({url:this.url(),headers:{"Content-Type":"application/json"},success:t.bind((function(){this.fetch()}),this),error:t.bind((function(e){404!==e.status&&this.handleErrorResponse(e,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044f")}),this)},e);return o.ajax(e)},getUser:function(e){return o.ajax({url:n()+"/rest/api/2/user?username="+encodeURIComponent(e),error:t.bind((function(e){404!==e.status&&this.handleErrorResponse(e,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044f")}),this)})},handleErrorResponse:function(e,s){var t=this._parseResponse(e.responseText);if(t.errorMessages){var o=a.error({msg:s,errors:t.errorMessages});r.showErrorMsg(o,{closeable:!0})}this.trigger("errorOccurred")},_parseResponse:function(e){try{return JSON.parse(e)}catch(e){this._showFatalErrorMessage();return null}},_showFatalErrorMessage:function(){var e="<p>"+"\u0420\u0430\u0437\u0440\u044b\u0432 \u0441\u0432\u044f\u0437\u0438"+"</p><p>"+"\u0417\u0430\u043a\u0440\u043e\u0439\u0442\u0435 \u044d\u0442\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435"+"</p>";r.showErrorMsg(e,{closeable:!0})}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/voters-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/voters-user-collection",["jira/viewissue/watchers-voters/entities/user-collection"],(function(e){"use strict";return e.extend({initialize:function(t){var i={issueKey:t,endpoint:"votes",modelKey:"voters"};e.prototype.initialize.apply(this,[i])},vote:function(){return this.ajax({type:"POST"})},unvote:function(){return this.ajax({type:"DELETE"})}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/entities/watchers-user-collection.js' */
define("jira/viewissue/watchers-voters/entities/watchers-user-collection",["jira/viewissue/watchers-voters/entities/user-collection","jira/util/data/meta"],(function(e,t){"use strict";return e.extend({initialize:function(i){this.canBrowseUsers=t.get("can-search-users");this.isReadOnly=!t.get("can-edit-watchers");var s={issueKey:i,endpoint:"watchers",modelKey:"watchers"};e.prototype.initialize.apply(this,[s])},addWatcher:function(e){return this.ajax({type:"POST",data:'"'+e+'"'})},removeWatcher:function(e){return this.ajax({type:"DELETE",url:this.url()+"?username="+e})}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/voters-view.js' */
define("jira/viewissue/watchers-voters/views/voters-view",["require"],(function(e){"use strict";var t=e("aui/message"),i=e("jira/backbone-1.3.3"),s=e("underscore"),r=e("jira/jquery/deferred"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return i.View.extend({$empty:void 0,initialize:function(e){this.collection=e.collection},renderNoWatchers:function(){if(0===this.$(".recipients li").length){this.$empty=t.info({closeable:!1,body:"\u041d\u0435\u0442 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0432\u0448\u0438\u0445 \u0437\u0430 \u0434\u0430\u043d\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"});this.$("fieldset").append(this.$empty)}else this.$empty&&this.$empty.remove()},render:function(){var e=r();this.collection.fetch().done(s.bind((function(){this.$el.html(o.usersListReadOnly({users:this.collection.toJSON()}));this.renderNoWatchers();e.resolve(this.$el)}),this));return e.promise()}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/abstract-watchers-view.js' */
define("jira/viewissue/watchers-voters/views/abstract-watchers-view",["require"],(function(e){"use strict";var t=e("aui/message"),i=e("jira/backbone-1.3.3"),r=e("underscore"),n=e("jquery"),s=e("jira/jquery/deferred"),a=e("jira/util/formatter");return i.View.extend({$empty:void 0,renderNoWatchers:function(){if(0===this.$(".recipients li").length){this.$empty=t.info({closeable:!1,body:"\u041d\u0435\u0442 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u0435\u0439."});this.$("fieldset").append(this.$empty)}else this.$empty&&this.$empty.remove()},render:function(){var e=s();this.collection.fetch().done(r.bind((function(){this._render();this.renderNoWatchers();e.resolve(this.$el);setTimeout(r.bind((function(){this.focus()}),this),0)}),this));return e.promise()},watch:function(){n("#watching-toggle").text("\u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0437\u0430 \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435\u0439")},unwatch:function(){n("#watching-toggle").text("\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0437\u0430 \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435\u0439")},focus:n.noop,_incrementWatcherCount:function(){var e=n("#watcher-data"),t=parseInt(e.text(),10);e.text(t+1);this.renderNoWatchers()},_decrementWatcherCount:function(){var e=n("#watcher-data"),t=parseInt(e.text(),10);e.text(t-1);this.renderNoWatchers()}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-view",["require","wrm/context-path"],(function(e,t){"use strict";var r=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),i=e("jira/util/data/meta"),s=e("underscore"),a=e("jira/util/logger"),c=e("jira/field/multi-user-list-picker"),n=JIRA.Templates.Issue;return r.extend({events:{selected:"addWatcherToModel",unselect:"removeWatcherFromModel"},_render:function(){this.$el.html(n.watchersWithBrowse({watchers:this.collection.toJSON()}));var e=JIRA.Issues.Api.getSelectedIssueKey(),r=new c({element:this.$el.find(".watchers-user-picker"),width:220,ajaxOptions:{url:t()+"/rest/api/1.0/users/picker/filter",data:{issueKey:e}}});this.$el.find(".js-add-watchers-label").attr("for",r.$field.attr("id"))},focus:function(){this.$el.find("#watchers-textarea").focus()},addWatcherToModel:function(e,t){e.preventDefault();this.collection.addWatcher(t.value()).done(s.bind((function(){this._incrementWatcherCount();t.value()===i.get("remote-user")&&this.watch()}),this))},removeWatcherFromModel:function(e,t){this.collection.removeWatcher(t.value()).done(s.bind((function(){this._decrementWatcherCount();if(t.value()===i.get("remote-user")){this.unwatch();a.trace("jira.issue.watcher.deleted")}}),this))}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-no-browse-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-no-browse-view",["require"],(function(e){"use strict";var t=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),r=e("jira/util/data/meta"),i=e("underscore"),a=e("jquery"),s=e("jira/util/logger"),n=e("jira/util/formatter"),o=JIRA.Templates.Issue;return t.extend({events:{"click .remove-recipient":"removeWatcher",submit:"addWatcher"},addWatcher:function(e){e.preventDefault();this.removeInlineError();var t=a("#watchers-nosearch"),s=a.trim(t.val());t.attr("disabled","disabled");if(this.hasUsername(s)){t.removeAttr("disabled");this.showInlineError(n.format("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c {0} \u0443\u0436\u0435 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u0442 \u0437\u0430 \u044d\u0442\u0438\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c",s));t.val("")}else this.collection.getUser(s).done(i.bind((function(e){var i=JIRA.Templates.Fields.recipientUsername({icon:e.avatarUrls["16x16"],username:e.name,displayName:e.displayName});s===r.get("remote-user")&&this.watch();t.val("");this.$(".watchers").append(i);this.collection.addWatcher(e.name);this._incrementWatcherCount()}),this)).fail(i.bind((function(e){404===e.status&&this.showInlineError("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442")}),this)).always((function(){t.removeAttr("disabled").focus()}))},hasUsername:function(e){var t=!1;this.$(".watchers li").each((function(){if(a(this).attr("data-username")===e){t=!0;return!1}}));return t},removeInlineError:function(){this.$(".error").remove()},showInlineError:function(e){a("<div />").addClass("error").text(e).insertAfter(this.$(".description"))},focus:function(){a("#watchers-nosearch").focus()},removeWatcher:function(e){e.preventDefault();var t=a(e.target).closest("li"),i=t.attr("data-username");if(i){t.remove();this.collection.removeWatcher(i);this._decrementWatcherCount();i===r.get("remote-user")&&this.unwatch()}s.trace("jira.issue.watcher.deleted")},_render:function(){this.$el.html(o.watchersNoBrowse({watchers:this.collection.toJSON()}))}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-read-only-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-read-only-view",["require"],(function(e){"use strict";var s=e("jira/viewissue/watchers-voters/views/abstract-watchers-view"),t=JIRA.Templates.Issue;return s.extend({_render:function(){this.$el.html(t.usersListReadOnly({users:this.collection.toJSON()}))}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/views/watchers-inline-dialog-view.js' */
define("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view",["require"],(function(e){"use strict";var t=e("jira/backbone-1.3.3"),i=e("jira/skate"),n=t.View.prototype.setElement;return t.View.extend({id:"inline-dialog-watchers",events:{"click .cancel":function(e){e.preventDefault();this.hide()}},setElement:function(e){var s=e instanceof t.$?e.get(0):e;if(s){this.el&&this.el.parentNode&&this.el!==s&&this.el.parentNode.removeChild(this.el);n.call(this,s);i.init(this.el);return this}},contents:function(e){this.$el.find(".aui-inline-dialog-contents").html(e)},show:function(){this.el.setAttribute("open","")},hide:function(){this.el.removeAttribute("open")},isVisible:function(){return!!this.el.hasAttribute("open")}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/watchers.js' */
define("jira/viewissue/watchers-voters/watchers",["require"],(function(e){"use strict";var i=e("jira/viewissue/watchers-voters/views/watchers-read-only-view"),s=e("jira/viewissue/watchers-voters/views/watchers-no-browse-view"),n=e("jira/viewissue/watchers-voters/views/watchers-view"),t=e("jira/viewissue/watchers-voters/entities/watchers-user-collection"),r=e("jira/viewissue/watchers-voters/views/watchers-inline-dialog-view"),o=e("jira/util/events"),a=e("jira/util/events/types"),c=e("jira/util/events/reasons"),l=e("jira/issue"),w=e("aui/inline-dialog"),u=e("jira/util/key-code"),d=e("jquery"),v=null;function h(){v||(v=new r({el:d("#inline-dialog-watchers").get(0)}));return v}d(document).on("click","#view-watcher-list",(function(e){e.preventDefault();var r=h(),o=d("#watching-toggle").next(".icon"),a=new t(l.getIssueKey());o.addClass("loading");var c=function(e){return e.isReadOnly?i:e.canBrowseUsers?n:s}(a);new c({collection:a}).render().done((function(e){o.removeClass("loading");r.contents(e);r.show()}));a.on("errorOccurred",(function(){r.hide()}))}));d(document).on("keydown",(function(e){if(v&&e.keyCode===u.ESCAPE&&w.current!==v.el&&v.isVisible()){w.current&&w.current.hide();v.hide()}}));d(document).on("click",(function(e){if(v){0===d(e.target).closest("#inline-dialog-watchers, #watchers-suggestions").length&&v.isVisible()&&v.hide()}}));o.bind(a.NEW_CONTENT_ADDED,(function(e,i,s){s===c.panelRefreshed&&i.is("#peoplemodule")&&h().setElement(i.find("#inline-dialog-watchers").get(0))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/voters.js' */
define("jira/viewissue/watchers-voters/voters",["require"],(function(e){"use strict";var i=e("jira/viewissue/watchers-voters/entities/voters-user-collection"),t=e("jira/viewissue/watchers-voters/views/voters-view"),n=e("jira/issue"),r=e("jira/ajs/layer/inline-layer"),o=e("aui/inline-dialog"),s=e("jira/util/key-code"),a=e("jquery"),c=o("#view-voter-list","voters",(function(e,r,o){var s=a("#vote-toggle").next(".icon"),l=new i(n.getIssueKey());e.parent(".aui-inline-dialog").attr({"aria-labelledby":"voters-modal-label","aria-modal":!1,role:"dialog"});s.addClass("loading");new t({collection:l}).render().done((function(i){e.html(i);e.find(".cancel").click((function(e){c.hide();r.focus();e.preventDefault()}));s.removeClass("loading");o();setTimeout((function(){var i=e.find(":focusable");i.focus();e.on("keydown",(function(e){if("Tab"===e.key&&(e.shiftKey&&document.activeElement===i[0]||document.activeElement===i[i.length-1])){e.preventDefault();return!1}if("Escape"===e.key){e.preventDefault();r.focus();c.hide();return!1}}))}),100)}));l.on("errorOccurred",(function(){c.hide();a("#view-voter-list").focus()}))}),{width:240,useLiveEvents:!0,items:"#view-voters-list",preHideCallback:function(){return!r.current}});a(document).bind("keydown",(function(e){if(e.keyCode===s.ESCAPE&&o.current!==c&&c.is(":visible")){o.current&&o.current.hide();c.hide();a("#view-voter-list").focus()}}));a(document).click((function(e){var i=o.current;if(i&&"voters"===i.id&&!a(e.target).closest("#inline-dialog-voters").length){i.hide();a("#view-voter-list").focus()}}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/watchers-voters/toggler.js' */
define("jira/viewissue/watchers-voters/toggler",["require"],(function(t){"use strict";var e=t("jira/ajs/ajax/smart-ajax"),a=t("jira/flag"),o=t("jquery"),n=t("wrm/context-path"),i=t("jira/util/formatter"),s=function(t,i,s,r,l){var c,u=i+"-on",g=i+"-off",f="/voters",d=t.next(".icon"),x="POST";t.hasClass(u)&&(x="DELETE");-1!==i.indexOf("watch")&&(f="/watchers");t.removeClass(u).removeClass(g);"POST"===x&&(c={dummy:!0});o(e.makeRequest({url:n()+"/rest/api/1.0/issues/"+t.attr("rel")+f,type:x,dataType:"json",data:c,contentType:"application/json",complete:function(o,n,i){var c="POST"===x;if(i.successful){if(c){t.addClass(u);t.text(l.titleOn);r.attr("title",l.titleOn).text(l.textOn)}else{t.addClass(g);t.text(l.titleOff);r.attr("title",l.titleOff).text(l.textOff)}s.text(i.data.count);s.toggleClass("jira-badge__primary",c)}else{i.aborted||function(t){var o=e.buildSimpleErrorContent(t,{alert:!0});if(t.hasData){var n=JSON.parse(t.data);n.errorMessages&&(o=n.errorMessages[0])}a.showErrorMsg(o,{closeable:!0})}(i);if(c){t.addClass(g);t.text(l.titleOff);r.attr("title",l.titleOff).text(l.textOff)}else{t.addClass(u);t.text(l.titleOn);r.attr("title",l.titleOn).text(l.textOn)}}}})).throbber({target:d})};o(document).delegate("#toggle-vote-issue","click",(function(t){t.preventDefault();o("#vote-toggle").click()}));o(document).delegate("#toggle-watch-issue","click",(function(t){t.preventDefault();o("#watching-toggle").click()}));var r=function(t){o("input[type=hidden][id|=error]").each((function(e,a){var o=a.id.replace("error-","");t[o]=a.value}))};o(document).delegate("#vote-toggle","click",(function(t){t.preventDefault();var e={titleOn:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u043e\u043b\u043e\u0441 \u0437\u0430 \u044d\u0442\u043e\u0442 \u0437\u0430\u043f\u0440\u043e\u0441",titleOff:"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u0437\u0430 \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443",textOn:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u043e\u043b\u043e\u0441",textOff:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043e\u043b\u043e\u0441",actionTextOff:"\u041f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c",actionTextOn:"\u0417\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b\u0438"},a=o(this),n=o(document.querySelectorAll("#vote-data")),l=o(document.querySelectorAll("#toggle-vote-issue .trigger-label"));r(e);s(a,"vote-state",n,l,e)}));o(document).delegate("#watching-toggle","click",(function(t){t.preventDefault();var e={titleOn:"\u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0437\u0430 \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435\u0439",titleOff:"\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435 \u0437\u0430 \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435\u0439",textOn:"\u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435",textOff:"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0437\u0430 \u0437\u0430\u0434\u0430\u0447\u0435\u0439",actionTextOff:"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435",actionTextOn:"\u041d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0435"},a=o(this),n=o(document.querySelectorAll("#watcher-data")),l=o(document.querySelectorAll("#toggle-watch-issue .trigger-label"));r(e);s(a,"watch-state",n,l,e)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-watchers-and-voters', location = '/includes/jira/viewissue/initWatchersAndVoters.js' */
AJS.namespace("JIRA.VotersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/voters-user-collection"));AJS.namespace("JIRA.WatchersUsersCollection",null,require("jira/viewissue/watchers-voters/entities/watchers-user-collection"));AJS.namespace("JIRA.VotersView",null,require("jira/viewissue/watchers-voters/views/voters-view"));AJS.namespace("JIRA.WatchersView",null,require("jira/viewissue/watchers-voters/views/watchers-view"));AJS.namespace("JIRA.WatchersNoBrowseView",null,require("jira/viewissue/watchers-voters/views/watchers-no-browse-view"));AJS.namespace("JIRA.WatchersReadOnly",null,require("jira/viewissue/watchers-voters/views/watchers-read-only-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = '/file-service.js' */
define("jira/fileviewer/file-service",["jira/featureflags/feature-manager","jquery"],function(featureManager,$){var selectors={image:["a[file-preview-type=image]"],document:[]};if(!featureManager.isFeatureEnabled("jira.fileviewer.disable.pdf")){selectors.document.push("a[file-preview-type=document]")}function getPreviewableFileSelector(){return Object.keys(selectors).map(function(k){return selectors[k].join(", ")}).filter(Boolean).join(", ")}function trim(value){return String(value).trim()}function pushSingleOrArray(target,toPush){if(Array.isArray(toPush)){target.push.apply(target,toPush.map(trim).filter(Boolean))}else{var sel=trim(toPush);if(sel){target.push(sel)}}}return{findFiles:function findPreviewableFiles(context){return $(context||document.body).find(getPreviewableFileSelector())},getFileSelector:getPreviewableFileSelector,getImageSelector:function getPreviewableImageSelector(){return selectors.image.join(", ")},addImageSelector:function addImageSelector(sel){pushSingleOrArray(selectors.image,sel)},getDocumentSelector:function getPreviewableDocumentSelector(){return selectors.document.join(", ")},addDocumentSelector:function addDocumentSelector(sel){pushSingleOrArray(selectors.document,sel)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-fileviewer-plugin:fileviewer', location = '/fileviewer.js' */
define("jira/fileviewer",["wrm/require","jira/fileviewer/file-service","jira/loading/loading","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery","atlassian/libs/underscore-1.8.3"],function(wrmRequire,fileService,Loading,KeyboardShortcuts,$,_){var viewerReady;var viewer;function getDownloadUrl($fileElement){return $fileElement.data("download-url")||$fileElement.attr("href")}function hideSpinner(){$(".cp-spinner-layer .cp-spinner").spinStop()}function initViewer(){if(!viewerReady){viewerReady=wrmRequire(["wr!com.atlassian.jira.jira-fileviewer-plugin:atlassian-fileviewer"]);viewerReady.done(function(){viewer=new FileViewer({enableMiniMode:true,viewers:["image","document"],moduleBackend:require("jira/fileviewer/module-backend/asynchronous"),analyticsBackend:require("jira/fileviewer/module-backend/analytics")});viewer.on("fv.open",KeyboardShortcuts.disable);viewer.on("fv.close",KeyboardShortcuts.enable);viewer.on("fv.showFile",hideSpinner);viewer.on("fv.showFileError",hideSpinner)})}return viewerReady}function closeViewer(){if(viewer){viewer.close()}}function updateFiles(){var files=[];var imageSelector=fileService.getImageSelector();var documentSelector=fileService.getDocumentSelector();var $files=$(fileService.getFileSelector());$files.each(function(){var $el=$(this).closest("a");if($el.is(imageSelector)){files.push({type:"image/png",id:$el.attr("file-preview-id"),src:getDownloadUrl($el),title:$el.attr("file-preview-title"),thumbnail:$el.attr("file-preview-url")||$el.attr("data-download-url")||$el.find("img").attr("src")})}if($el.is(documentSelector)){files.push({type:"application/pdf",id:$el.attr("file-preview-id"),src:getDownloadUrl($el),title:$el.attr("file-preview-title")})}});var uniqFiles=_.uniq(files,false,function(el){return el.id});viewer.setFiles(uniqFiles);$files.off("simpleClick.fvOpen").on("simpleClick.fvOpen",function(e){e.preventDefault();viewer.open({id:$(this).attr("file-preview-id")})})}function initializePreviews(searchContext){if(!viewer){var $files=fileService.findFiles(searchContext);$files.off("simpleClick.fvInit").on("simpleClick.fvInit",function(e){e.preventDefault();var $file=$(this);Loading.showLoadingIndicator();AJS.dim();initViewer().done(function(){updateFiles();viewer.open({id:$file.attr("file-preview-id")})}).fail(function(){window.location=getDownloadUrl($file)}).always(function(){$files.off("simpleClick.fvInit");AJS.undim();Loading.hideLoadingIndicator()})})}else{updateFiles()}}return{attachToElements:initializePreviews,closeViewer:closeViewer,addImageSelector:function(sel){fileService.addImageSelector(sel)},addDocumentSelector:function(sel){fileService.addDocumentSelector(sel)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/AnalyticsUtils.js' */
define("jira/viewissue/analytics-utils",["jira/util/data/meta","jira/issuenavigator/issue-navigator","jira/util/strings","wrm/context-path","jquery","exports"],(function(e,t,s,i,n,a){"use strict";function r(){return n(document.body).hasClass("navigator-issue-only")}a.context=function(){return r()&&s.contains(location.search,"jql=")?"fullscreen-issuenav":r()?"fullscreen":e.get("is-servicedesk-rendered")?"sd-queue":t.isNavigator()?"issuenav":s.startsWith(location.pathname,i()+"/projects/")?"project":"unknown"}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/ViewIssueTabs.soy' */
// This file was automatically generated from ViewIssueTabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.Tabs.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }
if (typeof JIRA.Templates.Issue.Tabs == 'undefined') { JIRA.Templates.Issue.Tabs = {}; }


JIRA.Templates.Issue.Tabs.label = function(opt_data, opt_ignored) {
  return '<a role="tab" aria-selected="true" tabindex="0">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.Tabs.label.soyTemplateName = 'JIRA.Templates.Issue.Tabs.label';
}


JIRA.Templates.Issue.Tabs.tab = function(opt_data, opt_ignored) {
  return '<a role="tab" aria-selected="false" id="' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" class="' + soy.$$escapeHtml(opt_data.linkClass) + '">' + soy.$$escapeHtml(opt_data.text) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.Tabs.tab.soyTemplateName = 'JIRA.Templates.Issue.Tabs.tab';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/ViewIssueTabsAnalytics.js' */
define("jira/viewissue/tabs/analytics",["jira/analytics","jira/util/strings","jira/viewissue/analytics-utils","underscore"],(function(a,t,e,i){"use strict";var s=["com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel","com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel","com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab"];function n(a){return{tab:(e=a.attr("data-key"),s.indexOf(e)>-1?e:t.hashCode(e)),tabPosition:a.index()};var e}function r(a,t){return{inNewWindow:a,keyboard:t,context:e.context()}}return{tabClicked:function(t,e,s){var l=t.parent(),o=i.extend({},r(e,s),n(l));a.send({name:"jira.viewissue.tab.clicked",properties:o})},buttonClicked:function(t,e,s){if(t.is("[data-tab-sort]")){var l=t.data("order"),o=t.parents(".tabwrap").find("li.active");a.send({name:"jira.viewissue.tabsort.clicked",properties:i.extend({},r(e,s),n(o),{order:l})})}}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/ViewIssueTabs.js' */
define("jira/viewissue/tabs",["wrm/require","jira/util/logger","jquery","jira/jquery/deferred","jira/util/data/meta","jira/dialog/form-dialog","jira/ajs/ajax/smart-ajax","jira/userhover/userhover","jira/viewissue/tabs/analytics"],(function(t,e,a,i,n,s,r,o,u){"use strict";var c,l,d,f=JIRA.Templates.Issue.Tabs,h=!1!==n.get("viewissue-use-history-api"),v="ajax-activity-content",m="#activitymodule div.mod-content",p="."+v,g=[];function b(t){t=t||document;a.each(g,(function(e,a){a(t)}))}function y(t){a("#issue-tabs li").each((function(){var e=a(this),i=e.data("key"),n=e.data("label");if(i===t){e.addClass("active");e.html(f.label({text:n}))}else{e.removeClass("active");var s=e.data("id"),r=e.data("href");e.html(f.tab({id:s,href:r,linkClass:v,text:n}))}}));j(a("#issue-tabs"))}function j(e){var i=a(e).find("li.active").data("key");a(e).find(p).click((function(e){document.getElementById("activitymodule").classList.add("updating");var n=a(this),s=n.hasClass("issue-activity-sort-link"),r=a("#issue-tabs .active-tab").data("id");s?t("wr!com.atlassian.jira.jira-frontend-plugin:entrypoint-activityTabs").then((function(){require("jira/activity-tabs/items-lazy-loader").then((function(t){t.getRegisteredTabsIds().includes(r)?document.getElementById("activitymodule").classList.remove("updating"):w(n,i,e)}))})):w(n,i,e)}))}function w(t,n,o){var f=function(t,e){var a=t.pageX,i=t.pageY,n=e.offset(),s=e.outerWidth(),r=e.outerHeight();return 0===a&&0===i||!(a>=n.left&&a<=n.left+s&&i>=n.top&&i<=n.top+r)}(o,t),v=t.parent().data("key"),p=o.metaKey;v?u.tabClicked(t,p,f):u.buttonClicked(t,p,f);if(!p){o.preventDefault();v&&function(t){y(t)}(v);(function(t,n){var o=i();d&&d.abort();var u=r.makeRequest({jqueryAjaxFn:h?a.pjax:a.ajax,headers:{"X-PJAX":!0},container:m,url:n,timeout:null,complete:function(i,n,u){if("abort"!==n){d=null;if(!u.successful){(u.status<300||u.status>=400)&&function(t,e){var a=new s({id:"issue-tab-error-dialog",widthClass:"small",content:r.buildDialogErrorContent(t,!1)});y(e);l.show();a.show()}(u,t);return}var c=a(this.container),f=document.createElement("div");f.innerHTML=u.data;var v=document.createDocumentFragment().appendChild(f);h||function(t,e){l=q();var i=e.querySelectorAll(".tabwrap"),n=t.find(".tabwrap"),s=a(e.querySelectorAll("#issue_actions_container")).contents(),r=l.contents();if(i.length&&n.length&&s.length&&r.length){n.replaceWith(i);l.stop(!0,!0);var o=l.height();l.append(s);var u=l.height()-o,c=o-u;if(c>0){l.css("height",u+c);r.remove();!function(t,e){var a=150,i=800,n=Math.min(e/i*1e3,1e3);setTimeout((function(){l.animate({height:t+1},n,"easeOutQuart",(function(){l.css("height","auto")}))}),a)}(u,c)}else l.empty().append(s);a(e.querySelectorAll("script")).each((function(){a.globalEval(this.text||this.textContent||this.innerHTML||"")}))}else t.empty().append(e)}(c,v);e.trace("jira.issue.tab.loaded");o.resolve(c)}}});a(u).throbber({target:c});d=u;return o})(n,t.data("ajax")||t.attr("href")).done((function(e){document.getElementById("activitymodule").classList.remove("updating");f&&(v?e.find("#"+t.attr("id")+" > :first-child").focus():e.find(".sortwrap  > :first-child").focus())})).done(b)}}function x(t){a.inArray(t,g)<0&&g.push(t)}function q(){return a(m).find("#issue_actions_container")}x((function(t){var e=a(t).find(".issuePanelWrapper"),i=q();l=i.length?i:l;c=e.length?e:c}));x((function(t){!h||a.support.pjax?j(t):function(t){a(t).find(p).each((function(){var t=a(this);t.attr("href",t.attr("href")+"#issue-tabs")}))}(t)}));x((function(t){a(t).bind("moveToFinished",(function(t,e){a("a.twixi:visible",e).focus()}))}));x(o);x((function(t){t.find("time.livestamp").livestamp()}));return{onTabReady:x,domReady:b}}));AJS.namespace("JIRA.ViewIssueTabs",null,require("jira/viewissue/tabs"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/initViewIssueTab.js' */
define("jira/viewissue/tabs/initTab",["wrm/context-path","jira/featureflags/feature-manager","jira/util/data/meta"],(function(t,e,a){"use strict";var i=!e.isFeatureEnabled("com.atlassian.jira.lazyload.activity.tabs");return function(e,r){i&&r.data("is-ready",!0);if(!i&&r.find("#activity-panel-placeholder").length>0&&!r.data("is-ready")){r.data("is-ready",!0);var n=t()+"/browse/"+a.get("issue-key")+window.location.search;return fetch(n,{headers:{"X-PJAX":"true","X-Requested-With":"XMLHttpRequest"}}).then((function(t){return t.text()})).then((function(t){r.find(".mod-content").html(t);if(window.location.hash.match(/(comment|worklog)-/)){var e=document.querySelector(window.location.hash);e&&e.scrollIntoView()}return r}))}return Promise.resolve(r)}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue-tabs', location = '/includes/jira/viewissue/initViewIssueTabs.js' */
define("jira/viewissue/init-view-issue-tabs",["jquery","wrm/require","jira/util/events","jira/util/events/types","jira/viewissue/tabs","jira/viewissue/tabs/initTab"],(function(e,i,r,t,a,s){"use strict";e((function(){var i=e("#activitymodule");1===i.length&&n(null,i);t.PANEL_REFRESHED&&r.bind(t.PANEL_REFRESHED,(function(e,i,r,t){if("activitymodule"===i){var a=t.find("#issue_actions_container > .issue-data-block.focused");1===a.length&&r.find("#"+a.attr("id")).addClass("focused")}}))}));r.bind(t.NEW_CONTENT_ADDED,(function(e,i){i.is("#activitymodule")&&!i.data("is-ready")&&n(e,i)}));function n(e,r){s(e,r).then((function(e){performance.mark("activityTabFullyLoaded");a.domReady(e)})).catch((function(){i(["wr!jira.webresources:jira-formatter","wr!jira.webresources:messages","wr!jira.webresources:jira-analytics-amd","wr!jira.webresources:jira-issuenavigator"],(function(){var e=require("jira/util/formatter"),i=require("jira/flag"),r=require("jira/analytics"),t=require("jira/issue");r.send({name:"jira.viewissue.tab.error",properties:{entityId:t.getIssueId()}});var a=document.createElement("a");a.setAttribute("href",window.location.href);a.textContent="\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443";i.showWarningMsg("",e.format("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0432\u0441\u0435 \u0432\u043a\u043b\u0430\u0434\u043a\u0438 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c\u044e. {0}, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443.",a.outerHTML)+"<br />"+"\u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0438\u0441\u0447\u0435\u0437\u043d\u0435\u0442, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 Jira.")})).catch((function(){console.error("Failed to display tab error message due to error when loading WRM dependencies.")}))}))}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/slideshow/slideshow-configuration.js' */
define("jira/viewissue/slideshow/slideshow-configuration",["jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery"],(function(e,t){"use strict";var i={type:"image",centerOnScroll:!0,onStart:e.disable,onClosed:e.enable},n="elastic";return t.extend({},i,{transitionIn:n,transitionOut:n})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/element/image-wrap.js' */
define("jira/viewissue/element/image-wrap",["jira/fileviewer","jira/skate","jira/featureflags/feature-manager","underscore"],(function(e,i,a,t){"use strict";a.isFeatureEnabled("jira.fileviewer.disabled")||i("file-preview-type",{type:i.type.ATTRIBUTE,attached:t.debounce((function(){e.attachToElements()}),0),detached:function(){e.closeViewer()}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initToggleBlock.js' */
define("jira/viewissue/init-toggle-block",["jira/util/events","jira/util/events/types","jira/toggleblock/toggle-block"],(function(e,t,i){"use strict";new i({blockSelector:".toggle-wrap",triggerSelector:"#issue-content .mod-header .toggle-title, #ghx-detail-contents .mod-header .toggle-title",storageCollectionName:"block-states"});t.ISSUE_REFRESHED&&e.bind(t.ISSUE_REFRESHED,(function(){t.REFRESH_TOGGLE_BLOCKS&&e.trigger(t.REFRESH_TOGGLE_BLOCKS)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/comment/CommentForm.js' */
define("jira/viewissue/comment/comment-form",["jira/util/formatter","jira/util/events","jira/util/events/types","jquery"],(function(t,e,i,n){"use strict";var o={setCaretAtEndOfCommentField:function(){var t,e=this.getField(),i=e[0];if(e.length){t=e.val().length;e.scrollTop(e.attr("scrollHeight"));i.setSelectionRange&&t>0&&i.setSelectionRange(t,t)}},isDirty:function(){var t=this.getField();return!!t.length&&t[0].value!==t[0].defaultValue},handleBrowseAway:function(){if(o.isDirty()){var e=o.getForm();return e.length&&e.is(":visible")?"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435. \u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0439\u0434\u0435\u0442\u0435 \u0441 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f, \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d.":void 0}},setSubmitState:function(){n.trim(this.getField().val()).length>0&&this.isVisibilityAvailble()?this.getForm().find("#issue-comment-add-submit").removeAttr("disabled"):this.getForm().find("#issue-comment-add-submit").attr("disabled","disabled")},getForm:function(){var t=n("form#issue-comment-add");1===t.length&&(this.$form=t);return this.$form||n()},getField:function(){return this.getForm().find("#comment")},getSubmitButton:function(){return this.getForm().find("#issue-comment-add-submit")},show:function(){this.focus();i.LOCK_PANEL_REFRESHING&&e.trigger(i.LOCK_PANEL_REFRESHING,["addcommentmodule"])},focus:function(){this.focusField();this.setCaretAtEndOfCommentField()},focusField:function(){this.getField().focus().trigger("keyup");this.getSubmitButton().scrollIntoView({marginBottom:200})}};return o}));define("jira/viewissue/comment/footer-comment",["jira/viewissue/comment/comment-form","jquery"],(function(t,e){"use strict";return{getModule:function(){return e("#addcomment")},isActive:function(){return this.getModule().hasClass("active")},show:function(){if(this.isActive())t.focusField();else{this.getModule().addClass("active");this.appendForm();t.show()}},appendForm:function(){this.getModule().find(".mod-content").append(t.getForm())}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initJiraFooterComment.js' */
define("jira/viewissue/invoke-comment-trigger",["jquery"],(function(e){"use strict";return function(){var t=e(".add-issue-comment");if(0!==t.length){var r=t.filter(".toolbar-trigger").get(0)||t.get(0);r.hasAttribute("data-queued-click")?function(e,t){var r=new MutationObserver((function(e,r){var n=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;if("attributes"===c.type&&!c.target.hasAttribute("data-queued-click")){t();r.disconnect()}}}catch(e){i=!0;o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}}));function n(){r.disconnect();["mouseover","scroll","keydown"].forEach((function(e){document.body.removeEventListener(e,n)}))}["mouseover","scroll","keydown"].forEach((function(e){document.body.addEventListener(e,n)}));r.observe(e,{attributes:!0})}(r,(function(){return r.click()})):r.click()}}}));!function(){"use strict";var e=require("jira/viewissue/comment/comment-form");AJS.namespace("JIRA.Issue.CommentForm",null,e);AJS.namespace("JIRA.Issue.getDirtyCommentWarning",null,e.handleBrowseAway);AJS.namespace("JIRA.Issue.invokeCommentTrigger",null,require("jira/viewissue/invoke-comment-trigger"))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initCustomFieldTabs.js' */
define("jira/viewissue/init-custom-field-tabs",["jira/util/logger","jira/util/events","jira/util/events/types","aui/tabs","jquery"],(function(t,i,e,n,a){"use strict";var r="#customfieldmodule",u=function(i){var e;if(!("string"!=typeof i&&i.length>0)){"#"!==i[0]&&(i="#"+i);t.log("activating tab",i);(e=a("a[href='"+i+"']",r)).length&&n.change(e)}},f=function(t){var i=a(t.target).closest(".tabs-pane");i.length>0&&u(i.attr("id"))};a((function(){e.NEW_CONTENT_ADDED&&i.bind(e.NEW_CONTENT_ADDED,(function(t,i){var e=i.find(r);e.unbind("reveal");e.bind("reveal",f);n.setup()}));e.PANEL_REFRESHED&&i.bind(e.PANEL_REFRESHED,(function(t,i,e,n){if("details-module"===i){var a=n.find(r).find(".active-tab");1===a.length&&u(a.find("a").attr("href"))}}));a(r).bind("reveal",f)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initSubtaskTimeLogging.js' */
define("jira/viewissue/init-subtask-time-logging",["jquery"],(function(i){"use strict";i(document).delegate("#tt_include_subtasks input","click",(function(){if(i(this).is(":checked")){i("#tt_info_single").hide();i("#tt_info_aggregate").show()}else{i("#tt_info_aggregate").hide();i("#tt_info_single").show()}}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:viewissue', location = '/includes/jira/viewissue/initViewissue.js' */
require(["jira/viewissue/element/shorten","jira/viewissue/element/image-wrap","jira/viewissue/watchers-voters/watchers","jira/viewissue/watchers-voters/voters","jira/viewissue/watchers-voters/toggler","jira/viewissue/init-subtask-time-logging","jira/viewissue/init-toggle-block","jira/viewissue/init-custom-field-tabs","jira/viewissue/init-view-issue-tabs"],(function(){}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:marionette-1.4.1-factory', location = 'factories/marionette/1.4.1/marionette-1.4.1-factory.js' */
/*
 Includes BabySitter
 https://github.com/marionettejs/backbone.babysitter/

 Includes Wreqr
 https://github.com/marionettejs/backbone.wreqr/
*/
'use strict';(function(n){define("atlassian/libs/factories/marionette-1.4.1",function(){return function(h,l){var p=l.Marionette;n.call({_:h,Backbone:l});h=l.Marionette;h.VERSION="1.4.1";l.Marionette=p;return h}})})(function(){var n=this.Backbone,h=this._,l=function(h,e){var d=function(d){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();e.each(d,this.add,this)};e.extend(d.prototype,{add:function(d,b){var g=d.cid;this._views[g]=d;d.model&&(this._indexByModel[d.model.cid]=
g);b&&(this._indexByCustom[b]=g);this._updateLength()},findByModel:function(d){return this.findByModelCid(d.cid)},findByModelCid:function(d){return this.findByCid(this._indexByModel[d])},findByCustom:function(d){return this.findByCid(this._indexByCustom[d])},findByIndex:function(d){return e.values(this._views)[d]},findByCid:function(d){return this._views[d]},remove:function(d){var b=d.cid;d.model&&delete this._indexByModel[d.model.cid];e.any(this._indexByCustom,function(d,a){if(d===b)return delete this._indexByCustom[a],
!0},this);delete this._views[b];this._updateLength()},call:function(d){this.apply(d,e.tail(arguments))},apply:function(d,b){e.each(this._views,function(g){e.isFunction(g[d])&&g[d].apply(g,b||[])})},_updateLength:function(){this.length=e.size(this._views)}});e.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(k){d.prototype[k]=function(){var b=[e.values(this._views)].concat(e.toArray(arguments));
return e[k].apply(e,b)}});return d}(n,h),p=function(h,e,d){e={};e.Handlers=function(d,b){var g=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&this.initialize(a)};g.extend=d.Model.extend;b.extend(g.prototype,d.Events,{setHandlers:function(a){b.each(a,function(a,f){var c=null;b.isObject(a)&&!b.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(f,a,c)},this)},setHandler:function(a,c,b){this._wreqrHandlers[a]={callback:c,context:b};this.trigger("handler:add",a,
c,b)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var c=this._wreqrHandlers[a];if(!c)throw Error("Handler not found for '"+a+"'");return function(){var a=Array.prototype.slice.apply(arguments);return c.callback.apply(c.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return g}(h,d);e.CommandStorage=function(){var e=function(b){this.options=b;this._commands={};d.isFunction(this.initialize)&&
this.initialize(b)};d.extend(e.prototype,h.Events,{getCommands:function(b){var d=this._commands[b];d||(d={command:b,instances:[]},this._commands[b]=d);return d},addCommand:function(b,d){this.getCommands(b).instances.push(d)},clearCommands:function(b){this.getCommands(b).instances=[]}});return e}();e.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,
this);var d=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,d)},execute:function(b,d){b=arguments[0];d=Array.prototype.slice.call(arguments,1);this.hasHandler(b)?this.getHandler(b).apply(this,d):this.storage.addCommand(b,d)},_executeCommands:function(b,e,a){var c=this.storage.getCommands(b);d.each(c.instances,function(c){e.apply(a,c)});this.storage.clearCommands(b)},_initializeStorage:function(b){b=b.storageType||this.storageType;this.storage=d.isFunction(b)?new b:
b}})}(e);e.RequestResponse=function(d){return d.Handlers.extend({request:function(){var b=arguments[0],d=Array.prototype.slice.call(arguments,1);return this.getHandler(b).apply(this,d)}})}(e);e.EventAggregator=function(d,b){var e=function(){};e.extend=d.Model.extend;b.extend(e.prototype,d.Events);return e}(h,d);return e}(n,n.Marionette,h);(function(h,e,d){function k(a,c){a=Error(a);a.name=c||"Error";throw a;}var b={};e.Marionette=b;b.$=e.$;var g=Array.prototype.slice;b.extend=e.Model.extend;b.getOption=
function(a,c){if(a&&c)return a.options&&c in a.options&&void 0!==a.options[c]?a.options[c]:a[c]};b.triggerMethod=function(){function a(a,c,b){return b.toUpperCase()}var c=/(^|:)(\w)/gi;return function(b){var f=this["on"+b.replace(c,a)];d.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(d.isFunction(f))return f.apply(this,d.tail(arguments))}}();b.MonitorDOMRefresh=function(){function a(a){a._isShown&&a._isRendered&&d.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}return function(c){c.listenTo(c,
"show",function(){c._isShown=!0;a(c)});c.listenTo(c,"render",function(){c._isRendered=!0;a(c)})}}();(function(a){function c(a,c,b,f){f=f.split(/\s+/);d.each(f,function(d){var f=a[d];f||k("Method '"+d+"' was configured as an event handler, but does not exist.");a.listenTo(c,b,f,a)})}function b(a,c,b,d){a.listenTo(c,b,d,a)}function m(a,c,b,f){f=f.split(/\s+/);d.each(f,function(d){a.stopListening(c,b,a[d],a)})}function e(a,c,b,d){a.stopListening(c,b,d,a)}function q(a,c,b,f,m){c&&b&&(d.isFunction(b)&&
(b=b.call(a)),d.each(b,function(b,e){d.isFunction(b)?f(a,c,e,b):m(a,c,e,b)}))}a.bindEntityEvents=function(a,d,f){q(a,d,f,b,c)};a.unbindEntityEvents=function(a,c,b){q(a,c,b,e,m)}})(b);b.Callbacks=function(){this._deferred=b.$.Deferred();this._callbacks=[]};d.extend(b.Callbacks.prototype,{add:function(a,c){this._callbacks.push({cb:a,ctx:c});this._deferred.done(function(b,d){c&&(b=c);a.call(b,d)})},run:function(a,c){this._deferred.resolve(c,a)},reset:function(){var a=this._callbacks;this._deferred=b.$.Deferred();
this._callbacks=[];d.each(a,function(a){this.add(a.cb,a.ctx)},this)}});b.Controller=function(a){this.triggerMethod=b.triggerMethod;this.options=a||{};d.isFunction(this.initialize)&&this.initialize(this.options)};b.Controller.extend=b.extend;d.extend(b.Controller.prototype,e.Events,{close:function(){this.stopListening();this.triggerMethod("close");this.unbind()}});b.Region=function(a){this.options=a||{};this.el=b.getOption(this,"el");if(!this.el){var c=Error("An 'el' must be specified for a region.");
c.name="NoElError";throw c;}this.initialize&&(c=Array.prototype.slice.apply(arguments),this.initialize.apply(this,c))};d.extend(b.Region,{buildRegion:function(a,c){var b="string"===typeof a,e="string"===typeof a.selector,g="undefined"===typeof a.regionType,q="function"===typeof a;if(!q&&!b&&!e)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var r,h;b&&(r=a);a.selector&&(r=a.selector);q&&(h=a);!q&&g&&(h=c);a.regionType&&(h=a.regionType);
c=new h({el:r});a.parentEl&&(c.getEl=function(c){var b=a.parentEl;d.isFunction(b)&&(b=b());return b.find(c)});return c}});d.extend(b.Region.prototype,e.Events,{show:function(a){this.ensureEl();var c=a.isClosed||d.isUndefined(a.$el),f=a!==this.currentView;f&&this.close();a.render();(f||c)&&this.open(a);this.currentView=a;b.triggerMethod.call(this,"show",a);b.triggerMethod.call(a,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return b.$(a)},
open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),b.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close();delete this.$el}});b.Region.extend=b.extend;b.RegionManager=function(a){var c=a.Controller.extend({constructor:function(c){this._regions={};a.Controller.prototype.constructor.call(this,c)},addRegions:function(a,c){var b={};
d.each(a,function(a,f){"string"===typeof a&&(a={selector:a});a.selector&&(a=d.defaults({},a,c));a=this.addRegion(f,a);b[f]=a},this);return b},addRegion:function(c,b){var f=d.isObject(b),e=d.isString(b),m=!!b.selector;b=e||f&&m?a.Region.buildRegion(b,a.Region):d.isFunction(b)?a.Region.buildRegion(b,a.Region):b;this._store(c,b);this.triggerMethod("region:add",c,b);return b},get:function(a){return this._regions[a]},removeRegion:function(a){this._remove(a,this._regions[a])},removeRegions:function(){d.each(this._regions,
function(a,c){this._remove(c,a)},this)},closeRegions:function(){d.each(this._regions,function(a,c){a.close()},this)},close:function(){this.removeRegions();var c=Array.prototype.slice.call(arguments);a.Controller.prototype.close.apply(this,c)},_store:function(a,c){this._regions[a]=c;this._setLength()},_remove:function(a,c){c.close();delete this._regions[a];this._setLength();this.triggerMethod("region:remove",a,c)},_setLength:function(){this.length=d.size(this._regions)}});d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){c.prototype[a]=function(){var c=[d.values(this._regions)].concat(d.toArray(arguments));return d[a].apply(d,c)}});return c}(b);b.TemplateCache=function(a){this.templateId=a};d.extend(b.TemplateCache,{templateCaches:{},get:function(a){var c=this.templateCaches[a];c||(c=new b.TemplateCache(a),this.templateCaches[a]=c);return c.load()},clear:function(){var a,c=g.call(arguments),b=c.length;if(0<b)for(a=0;a<b;a++)delete this.templateCaches[c[a]];else this.templateCaches={}}});d.extend(b.TemplateCache.prototype,
{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var c=b.$(a).html();c&&0!==c.length||k("Could not find template: '"+a+"'","NoTemplateError");return c},compileTemplate:function(a){return d.template(a)}});b.Renderer={render:function(a,c){if(!a)throw a=Error("Cannot render the template since it's false, null or undefined."),a.name="TemplateNotFoundError",a;return("function"===
typeof a?a:b.TemplateCache.get(a))(c)}};b.View=e.View.extend({constructor:function(a){d.bindAll(this,"render");var c=Array.prototype.slice.apply(arguments);this.options=d.extend({},this.options,a);this.events=this.normalizeUIKeys(d.result(this,"events"));e.View.prototype.constructor.apply(this,c);b.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:b.triggerMethod,getTemplate:function(){return b.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||
{};var c=b.getOption(this,"templateHelpers");d.isFunction(c)&&(c=c.call(this));return d.extend(a,c)},normalizeUIKeys:function(a){if("undefined"!==typeof a)return d.each(d.keys(a),function(c){var b=c.split("@ui.");2===b.length&&(a[b[0]+this.ui[b[1]]]=a[c],delete a[c])},this),a},configureTriggers:function(){if(this.triggers){var a={},c=this.normalizeUIKeys(d.result(this,"triggers"));d.each(c,function(c,b){var f=d.isObject(c),e=f?c.event:c;a[b]=function(a){if(a){var b=a.preventDefault,d=a.stopPropagation,
m=f?c.stopPropagation:d;(f?c.preventDefault:b)&&b&&b.apply(a);m&&d&&d.apply(a)}this.triggerMethod(e,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);b.bindEntityEvents(this,this.model,b.getOption(this,"modelEvents"));b.bindEntityEvents(this,this.collection,b.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events;d.isFunction(a)&&(a=a.call(this));var c={},b=this.configureTriggers();d.extend(c,
a,b);e.View.prototype.delegateEvents.call(this,c)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);e.View.prototype.undelegateEvents.apply(this,a);b.unbindEntityEvents(this,this.model,b.getOption(this,"modelEvents"));b.unbindEntityEvents(this,this.collection,b.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1===this.triggerMethod("before:close")||(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},
bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(d.keys(a),function(c){this.ui[c]=this.$(a[c])},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,c){delete this.ui[c]},this),this.ui=this._uiBindings,delete this._uiBindings)}});b.ItemView=b.View.extend({constructor:function(){b.View.prototype.constructor.apply(this,g.call(arguments))},serializeData:function(){var a={};this.model?
a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()});return a},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var a=this.serializeData();a=this.mixinTemplateHelpers(a);var c=this.getTemplate();a=b.Renderer.render(c,a);this.$el.html(a);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),
b.View.prototype.close.apply(this,g.call(arguments)),this.triggerMethod("item:closed"))}});b.CollectionView=b.View.extend({itemViewEventPrefix:"itemview",constructor:function(a){this._initChildViewStorage();b.View.prototype.constructor.apply(this,g.call(arguments));this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment()},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.appendBuffer(this,
this.elBuffer);this.initRenderBuffer();this.isBuffering=!1},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(a,c,b){this.closeEmptyView();c=this.getItemView(a);b=this.collection.indexOf(a);this.addItemView(a,c,b)},onShowCalled:function(){this.children.each(function(a){b.triggerMethod.call(a,"show")})},
triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=!1;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.startBuffering();this.closeEmptyView();this.closeChildren();this.collection&&0<this.collection.length?this.showCollection():
this.showEmptyView();this.endBuffering()},showCollection:function(){var a;this.collection.each(function(c,b){a=this.getItemView(c);this.addItemView(c,a,b)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var b=new e.Model;this.addItemView(b,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return b.getOption(this,"emptyView")},getItemView:function(a){(a=
b.getOption(this,"itemView"))||k("An `itemView` must be specified","NoItemViewError");return a},addItemView:function(a,c,f){var e=b.getOption(this,"itemViewOptions");d.isFunction(e)&&(e=e.call(this,a,f));a=this.buildItemView(a,c,e);this.addChildViewEventForwarding(a);this.triggerMethod("before:item:added",a);this.children.add(a);this.renderItemView(a,f);this._isShown&&b.triggerMethod.call(a,"show");this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(a){var c=b.getOption(this,
"itemViewEventPrefix");this.listenTo(a,"all",function(){var d=g.call(arguments);d[0]=c+":"+d[0];d.splice(1,0,a);b.triggerMethod.apply(this,d)},this)},renderItemView:function(a,b){a.render();this.appendHtml(this,a,b)},buildItemView:function(a,b,f){a=d.extend({model:a},f);return new b(a)},removeItemView:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},removeChildView:function(a){a&&(this.stopListening(a),a.close?a.close():a.remove&&a.remove(),this.children.remove(a));
this.triggerMethod("item:removed",a)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,b,d){a.isBuffering?a.elBuffer.appendChild(b.el):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new l},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),b.View.prototype.close.apply(this,g.call(arguments)))},
closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this);this.checkEmpty()}});b.CompositeView=b.CollectionView.extend({constructor:function(){b.CollectionView.prototype.constructor.apply(this,g.call(arguments))},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))})},
getItemView:function(a){(a=b.getOption(this,"itemView")||this.constructor)||k("An `itemView` must be specified","NoItemViewError");return a},serializeData:function(){var a={};this.model&&(a=this.model.toJSON());return a},render:function(){this.isRendered=!0;this.isClosed=!1;this.resetItemViewContainer();this.triggerBeforeRender();var a=this.renderModel();this.$el.html(a);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");
this.triggerRendered();return this},_renderChildren:function(){this.isRendered&&(b.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a=this.serializeData();a=this.mixinTemplateHelpers(a);var c=this.getTemplate();return b.Renderer.render(c,a)},appendBuffer:function(a,b){this.getItemViewContainer(a).append(b)},appendHtml:function(a,b,d){a.isBuffering?a.elBuffer.appendChild(b.el):this.getItemViewContainer(a).append(b.el)},
getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var c;(c=b.getOption(a,"itemViewContainer"))?(c=d.isFunction(c)?c():c,c=a.$(c),0>=c.length&&k("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")):c=a.$el;return a.$itemViewContainer=c},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}});b.Layout=b.ItemView.extend({regionType:b.Region,constructor:function(a){a=a||{};
this._firstRender=!0;this._initializeRegions(a);b.ItemView.prototype.constructor.call(this,a)},render:function(){this.isClosed&&this._initializeRegions();this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var a=Array.prototype.slice.apply(arguments);return b.ItemView.prototype.render.apply(this,a)},close:function(){if(!this.isClosed){this.regionManager.close();var a=Array.prototype.slice.apply(arguments);b.ItemView.prototype.close.apply(this,a)}},addRegion:function(a,
b){var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){delete this.regions[a];return this.regionManager.removeRegion(a)},_buildRegions:function(a){var c=this,d={regionType:b.getOption(this,"regionType"),parentEl:function(){return c.$el}};return this.regionManager.addRegions(a,d)},_initializeRegions:function(a){this._initRegionManager();a=d.isFunction(this.regions)?this.regions(a):this.regions||
{};this.addRegions(a)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new b.RegionManager;this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b;this.trigger("region:add",a,b)});this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a];this.trigger("region:remove",a,b)})}});b.AppRouter=e.Router.extend({constructor:function(a){e.Router.prototype.constructor.apply(this,
g.call(arguments));this.options=a||{};var c=b.getOption(this,"appRoutes"),d=this._getController();this.processAppRoutes(d,c)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},processAppRoutes:function(a,b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return b.getOption(this,"controller")},_addAppRoute:function(a,b,e){var c=a[e];if(!c)throw Error("Method '"+e+"' was not found on the controller");this.route(b,
e,d.bind(c,a))}});b.Application=function(a){this._initRegionManager();this._initCallbacks=new b.Callbacks;this.vent=new p.EventAggregator;this.commands=new p.Commands;this.reqres=new p.RequestResponse;this.submodules={};d.extend(this,a);this.triggerMethod=b.triggerMethod};d.extend(b.Application.prototype,e.Events,{execute:function(){var a=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,a)},request:function(){var a=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,
a)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a);this._initCallbacks.run(a,this);this.triggerMethod("initialize:after",a);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},module:function(a,c){var d=g.call(arguments);
d.unshift(this);return b.Module.create.apply(b.Module,d)},_initRegionManager:function(){this._regionManager=new b.RegionManager;this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b});this.listenTo(this._regionManager,"region:remove",function(a,b){delete this[a]})}});b.Application.extend=b.extend;b.Module=function(a,c){this.moduleName=a;this.submodules={};this._setupInitializersAndFinalizers();this.app=c;this.startWithParent=!0;this.triggerMethod=b.triggerMethod};d.extend(b.Module.prototype,
e.Events,{addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,b.triggerMethod.call(this,"before:stop"),d.each(this.submodules,function(a){a.stop()}),
this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),b.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,c){a&&(c=d.flatten([this,this.app,e,b,b.$,d,c]),a.apply(this,c))},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new b.Callbacks;this._finalizerCallbacks=new b.Callbacks}});d.extend(b.Module,{create:function(a,b,e){var c=a,f=g.call(arguments);
f.splice(0,3);b=b.split(".");var h=[];h[b.length-1]=e;d.each(b,function(b,d){var e=c;c=this._getModule(e,b,a);this._addModuleDefinition(e,c,h[d],f)},this);return c},_getModule:function(a,c,d,e,g){e=a[c];e||(e=new b.Module(c,d),a[c]=e,a.submodules[c]=e);return e},_addModuleDefinition:function(a,b,e,g){if(d.isFunction(e)){var c=e;e=!0}else d.isObject(e)?(c=e.define,e=e.startWithParent):e=!0;c&&b.addDefinition(c,g);b.startWithParent=b.startWithParent&&e;b.startWithParent&&!b.startWithParentIsConfigured&&
(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});b.Wreqr=p;b.ChildViewContainer=l;return b})(this,n,h)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:underscore', location = 'libs/underscore.js' */
define("jira/components/libs/underscore",["underscore"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:backbone-1.0.0-factory', location = 'factories/backbone/1.0.0/backbone-1.0.0-factory.js' */
'use strict';(function(k){define("atlassian/libs/factories/backbone-1.0.0",function(){return function(t,m){t={_:t,$:m};k.call(t);return"undefined"!==typeof exports?exports.noConflict():t.Backbone.noConflict()}})})(function(){(function(){var k=this,t=k.Backbone,m=[],F=m.push,z=m.slice,G=m.splice;var g="undefined"!==typeof exports?exports:k.Backbone={};g.VERSION="1.0.0";var e=k._;e||"undefined"===typeof require||(e=require("underscore"));g.$=k.jQuery||k.Zepto||k.ender||k.$;g.noConflict=function(){k.Backbone=
t;return this};g.emulateHTTP=!1;g.emulateJSON=!1;var h=g.Events={on:function(a,b,c){if(!w(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!w(this,"once",a,[b,c])||!b)return this;var d=this,f=e.once(function(){d.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,c)},off:function(a,b,c){var d,f,n,g;if(!this._events||!w(this,"off",a,[b,c]))return this;
if(!a&&!b&&!c)return this._events={},this;var u=a?[a]:e.keys(this._events);var r=0;for(n=u.length;r<n;r++)if(a=u[r],f=this._events[a]){this._events[a]=d=[];if(b||c){var l=0;for(g=f.length;l<g;l++){var h=f[l];(b&&b!==h.callback&&b!==h.callback._callback||c&&c!==h.context)&&d.push(h)}}d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=z.call(arguments,1);if(!w(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&A(c,b);d&&A(d,
arguments);return this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"===typeof b&&(c=this);a&&((d={})[a._listenerId]=a);for(var n in d)d[n].off(b,c,this),e&&delete this._listeners[n];return this}},B=/\s+/,w=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(B.test(c)){c=c.split(B);e=0;for(var n=c.length;e<n;e++)a[b].apply(a,[c[e]].concat(d));return!1}return!0},A=function(a,b){var c,d=-1,
e=a.length,n=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,n);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,n,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,n,g,h);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};e.each({listenTo:"on",listenToOnce:"once"},function(a,b){h[b]=function(b,d,f){var c=this._listeners||(this._listeners={}),g=b._listenerId||(b._listenerId=e.uniqueId("l"));
c[g]=b;"object"===typeof d&&(f=this);b[a](d,f,this);return this}});h.bind=h.on;h.unbind=h.off;e.extend(g,h);var v=g.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=e.uniqueId("c");this.attributes={};e.extend(this,e.pick(b,H));b.parse&&(d=this.parse(d,b)||{});if(c=e.result(this,"defaults"))d=e.defaults({},d,c);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},H=["url","urlRoot","collection"];e.extend(v.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},
toJSON:function(a){return e.clone(this.attributes)},sync:function(){return g.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return e.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d;if(null==a)return this;if("object"===typeof a){var f=a;c=b}else(f={})[a]=b;c||(c={});if(!this._validate(f,c))return!1;var g=c.unset;var h=c.silent;a=[];var u=this._changing;this._changing=!0;u||(this._previousAttributes=e.clone(this.attributes),
this.changed={});var r=this.attributes;var l=this._previousAttributes;this.idAttribute in f&&(this.id=f[this.idAttribute]);for(d in f)b=f[d],e.isEqual(r[d],b)||a.push(d),e.isEqual(l[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete r[d]:r[d]=b;if(!h)for(a.length&&(this._pending=!0),b=0,d=a.length;b<d;b++)this.trigger("change:"+a[b],this,r[a[b]],c);if(u)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,
b){return this.set(a,void 0,e.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,e.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!e.isEmpty(this.changed):e.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?e.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes,f;for(f in a)e.isEqual(d[f],b=a[f])||((c||(c={}))[f]=b);return c},previous:function(a){return null!=
a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return e.clone(this._previousAttributes)},fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};x(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d=this.attributes;if(null==a||"object"===typeof a){var f=a;c=b}else(f={})[a]=b;if(!(!f||c&&c.wait||this.set(f,c)))return!1;
c=e.extend({validate:!0},c);if(!this._validate(f,c))return!1;f&&c.wait&&(this.attributes=e.extend({},d,f));void 0===c.parse&&(c.parse=!0);var g=this,h=c.success;c.success=function(a){g.attributes=d;var b=g.parse(a,c);c.wait&&(b=e.extend(f||{},b));if(e.isObject(b)&&!g.set(b,c))return!1;h&&h(g,a,c);g.trigger("sync",g,a,c)};x(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===a&&(c.attrs=f);a=this.sync(a,this,c);f&&c.wait&&(this.attributes=d);return a},destroy:function(a){a=a?e.clone(a):
{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&c(b,e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;x(this,a);var f=this.sync("delete",this,a);a.wait||d();return f},url:function(){var a=e.result(this,"urlRoot")||e.result(this.collection,"url")||C();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},
isNew:function(){return null==this.id},isValid:function(a){return this._validate({},e.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=e.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;this.trigger("invalid",this,a,e.extend(b||{},{validationError:a}));return!1}});e.each("keys values pairs invert pick omit".split(" "),function(a){v.prototype[a]=function(){var b=z.call(arguments);b.unshift(this.attributes);return e[a].apply(e,
b)}});var y=g.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,e.extend({silent:!0},b))},I={add:!0,remove:!0,merge:!0},J={add:!0,merge:!1,remove:!1};e.extend(y.prototype,h,{model:v,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return g.sync.apply(this,arguments)},add:function(a,
b){return this.set(a,e.defaults(b||{},J))},remove:function(a,b){a=e.isArray(a)?a.slice():[a];b||(b={});var c,d;var f=0;for(c=a.length;f<c;f++)if(d=this.get(a[f])){delete this._byId[d.id];delete this._byId[d.cid];var g=this.indexOf(d);this.models.splice(g,1);this.length--;b.silent||(b.index=g,d.trigger("remove",d,this,b));this._removeReference(d)}return this},set:function(a,b){b=e.defaults(b||{},I);b.parse&&(a=this.parse(a,b));e.isArray(a)||(a=a?[a]:[]);var c,d,f,g,h=b.at,k=this.comparator&&null==
h&&!1!==b.sort,r=e.isString(this.comparator)?this.comparator:null,l=[],m=[],q={};var p=0;for(c=a.length;p<c;p++)if(d=this._prepareModel(a[p],b))(f=this.get(d))?(b.remove&&(q[f.cid]=!0),b.merge&&(f.set(d.attributes,b),k&&!g&&f.hasChanged(r)&&(g=!0))):b.add&&(l.push(d),d.on("all",this._onModelEvent,this),this._byId[d.cid]=d,null!=d.id&&(this._byId[d.id]=d));if(b.remove){p=0;for(c=this.length;p<c;++p)q[(d=this.models[p]).cid]||m.push(d);m.length&&this.remove(m,b)}l.length&&(k&&(g=!0),this.length+=l.length,
null!=h?G.apply(this.models,[h,0].concat(l)):F.apply(this.models,l));g&&this.sort({silent:!0});if(b.silent)return this;p=0;for(c=l.length;p<c;p++)(d=l[p]).trigger("add",d,this,b);g&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,e.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,
b);this.add(a,e.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,e.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){if(null!=a)return this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return e.isEmpty(a)?b?void 0:[]:this[b?"find":
"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});e.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(e.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=e.isFunction(b)?b:function(a){return a.get(b)};
return e.sortedIndex(this.models,a,d,c)},pluck:function(a){return e.invoke(this.models,"get",a)},fetch:function(a){a=a?e.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};x(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?e.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(a,b,e){e.wait&&c.add(a,e);d&&d(a,b,e)};
a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof v)return a.collection||(a.collection=this),a;b||(b={});b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:(this.trigger("invalid",this,a,b),!1)},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,
b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});e.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(a){y.prototype[a]=
function(){var b=z.call(arguments);b.unshift(this.models);return e[a].apply(e,b)}});e.each(["groupBy","countBy","sortBy"],function(a){y.prototype[a]=function(b,c){var d=e.isFunction(b)?b:function(a){return a.get(b)};return e[a](this.models,d,c)}});m=g.View=function(a){this.cid=e.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var K=/^(\S+)\s*(.*)$/,L="model collection el id attributes className tagName events".split(" ");e.extend(m.prototype,
h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof g.$?a:g.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=e.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];e.isFunction(c)||(c=this[a[b]]);if(c){var d=
b.match(K),f=d[1];d=d[2];c=e.bind(c,this);f+=".delegateEvents"+this.cid;if(""===d)this.$el.on(f,c);else this.$el.on(f,d,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=e.extend({},e.result(this,"options"),a));e.extend(this,e.pick(a,L));this.options=a},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"),!1);else{var a=e.extend({},e.result(this,"attributes"));this.id&&(a.id=e.result(this,
"id"));this.className&&(a["class"]=e.result(this,"className"));a=g.$("\x3c"+e.result(this,"tagName")+"\x3e").attr(a);this.setElement(a,!1)}}});g.sync=function(a,b,c){var d=M[a];e.defaults(c||(c={}),{emulateHTTP:g.emulateHTTP,emulateJSON:g.emulateJSON});var f={type:d,dataType:"json"};c.url||(f.url=e.result(b,"url")||C());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",
f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){f.type="POST";c.emulateJSON&&(f.data._method=d);var h=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(h)return h.apply(this,arguments)}}"GET"===f.type||c.emulateJSON||(f.processData=!1);"PATCH"!==f.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=c.xhr=g.ajax(e.extend(f,
c));b.trigger("request",b,a,c);return a};var M={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};g.ajax=function(){return g.$.ajax.apply(g.$,arguments)};var D=g.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},N=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,P=/\*\w+/g,Q=/[\-{}\[\]+?.,\\\^$|#\s]/g;e.extend(D.prototype,h,{initialize:function(){},route:function(a,b,c){e.isRegExp(a)||(a=this._routeToRegExp(a));e.isFunction(b)&&
(c=b,b="");c||(c=this[b]);var d=this;g.history.route(a,function(e){e=d._extractParameters(a,e);c&&c.apply(d,e);d.trigger.apply(d,["route:"+b].concat(e));d.trigger("route",b,e);g.history.trigger("route",d,b,e)});return this},navigate:function(a,b){g.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var a,b=e.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(Q,"\\$\x26").replace(N,
"(?:$1)?").replace(O,function(a,c){return c?a:"([^/]+)"}).replace(P,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(a,b){a=a.exec(b).slice(1);return e.map(a,function(a){return a?decodeURIComponent(a):null})}});var q=g.History=function(){this.handlers=[];e.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,S=/msie [\w.]+/,T=/\/$/;q.started=!1;e.extend(q.prototype,h,{interval:50,getHash:function(a){return(a=
(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){null==a&&(this._hasPushState||!this._wantsHashChange||b?(a=this.location.pathname,b=this.root.replace(T,""),a.indexOf(b)||(a=a.substr(b.length))):a=this.getHash());return a.replace(E,"")},start:function(a){if(q.started)throw Error("Backbone.history has already been started");q.started=!0;this.options=e.extend({},{root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=
!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode;b=S.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(R,"/");b&&this._wantsHashChange&&(this.iframe=g.$('\x3ciframe src\x3d"javascript:0" tabindex\x3d"-1" /\x3e').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)g.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&
"onhashchange"in window&&!b)g.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;b=a.pathname.replace(/[^\/]$/,"$\x26/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&b&&a.hash&&(this.fragment=
this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search));if(!this.options.silent)return this.loadUrl()},stop:function(){g.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);q.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return e.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!q.started)return!1;b&&!0!==b||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,
a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});g.history=new q;v.extend=y.extend=D.extend=m.extend=q.extend=function(a,b){var c=this;var d=a&&e.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};e.extend(d,c,b);b=function(){this.constructor=d};b.prototype=c.prototype;d.prototype=new b;a&&e.extend(d.prototype,a);d.__super__=c.prototype;return d};var C=function(){throw Error('A "url" property or function must be specified');},x=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}}}).call(this)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:backbone-queryparams-lib', location = '/static/lib/backbone/backbone.queryparams.js' */
/*! THIS FILE HAS BEEN MODIFIED BY ATLASSIAN, SEE https://github.com/jhudson8/backbone-query-parameters/pull/63/files */
define("jira/backbone-queryparams",["underscore"],(function(t){return function(e){var r=/^\?(.*)/,n=/\((.*?)\)/g,a=/(\(\?)?:\w+/g,i=/\*\w+/g,o=/[\-{}\[\]+?.,\\\^$|#\s]/g,s=/^([^\?]*)/,c=/[\:\*]([^\:\?\/]+)/g,u=/^[#\/]|\s+$/g,l=/\/$/;e.Router.arrayValueSplit="|";var h=function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var r=this.root.replace(l,""),n=this.location.search;t.indexOf(r)||(t=t.substr(r.length));n&&(t+=n)}else t=this.getHash();return t.replace(u,"")};function p(e,r,n){t.each(Array.prototype.slice.call(arguments,2),(function(t){Object.defineProperty(r,t,{get:function(){return e[t]},set:function(r){e[t]=r}})}))}p.isSupported=function(){try{Object.defineProperty({},"x",{});return!0}catch(t){return!1}}();var f=e.History.prototype.start,m=e.History.prototype.loadUrl;t.extend(e.History.prototype,{getFragment:h,getQueryParameters:function(e,n){var a=(e=h.apply(this,arguments)).replace(s,""),i=a.match(r);if(i){a=i[1];var o={};g(a,(function(e,r){r=r.replace(/\+/g,"%20");r=decodeURIComponent(r);o[e]?t.isString(o[e])?o[e]=[o[e],r]:o[e].push(r):o[e]=r}));return o}return{}},start:function(){if(p.isSupported){!function(t){var e=t.location,r={};p(e,r,"assign","ancestorOrigins","origin","hash","search","pathname","port","hostname","host","protocol","href","reload");r.replace=function(){e.replace(t.root+"#"+t.fragment)};r.unPatch=function(){return t.location=e};t.location=r}(this);!function(t){var e=t.history,r={};p(e,r,"length","state","back","forward","go","pushState");r.replaceState=function(r,n,a){a=t.root+t.fragment;return e.replaceState(r,n,a)};r.unPatch=function(){t.history=e};t.history=r}(this)}try{return f.apply(this,arguments)}finally{this.location.unPatch&&this.location.unPatch();this.history.unPatch&&this.history.unPatch()}},loadUrl:function(){this.location&&this.location.unPatch&&this.location.unPatch();this.history&&this.history.unPatch&&this.history.unPatch();return m.apply(this,arguments)}});t.extend(e.Router.prototype,{initialize:function(t){this.encodedSplatParts=t&&t.encodedSplatParts},getFragment:h,_routeToRegExp:function(e){var r=i.exec(e)||{index:-1},s=a.exec(e)||{index:-1},u=e.match(c)||[];e=e.replace(o,"\\$&").replace(n,"(?:$1)?").replace(a,(function(t,e){return e?t:"([^\\/\\?]+)"})).replace(i,"([^??]*?)");e+="(\\?.*)?";var l=new RegExp("^"+e+"$");r.index>=0&&(l.splatMatch=s>=0?r.index-s.index:-1);l.paramNames=t.map(u,(function(t){return t.substring(1)}));l.namedParameters=this.namedParameters;return l},_extractParameters:function(n,a){var i=n.exec(a).slice(1),o={};i.length>0&&t.isUndefined(i[i.length-1])&&i.splice(i.length-1,1);var s=i.length&&i[i.length-1]&&i[i.length-1].match(r);if(s){var c=s[1],u=Object.create(null);if(c){var l=this;g(c,(function(t,e){l._setParamValue(t,e,u)}))}i[i.length-1]=u;t.extend(o,u)}var h=i.length;if(n.splatMatch&&this.encodedSplatParts){if(n.splatMatch<0)return i;h-=1}for(var p=0;p<h;p++)if(t.isString(i[p])){i[p]=decodeURIComponent(i[p]);n.paramNames&&n.paramNames.length>=p-1&&(o[n.paramNames[p]]=i[p])}return e.Router.namedParameters||n.namedParameters?[o]:i},_setParamValue:function(t,e,r){for(var n=(t=t.replace("[]","")).split("."),a=r,i=0;i<n.length;i++){var o=n[i];i===n.length-1?a[o]=this._decodeParamValue(e,a[o]):a=a[o]=a[o]||Object.create(null)}},_decodeParamValue:function(r,n){r=r.replace(/\+/g,"%20");var a=e.Router.arrayValueSplit;if(a&&r.indexOf(a)>=0){for(var i=r.split(a),o=i.length-1;o>=0;o--)i[o]?i[o]=decodeURIComponent(i[o]):i.splice(o,1);return i}r=decodeURIComponent(r);if(n){if(t.isArray(n)){n.push(r);return n}return[n,r]}return r},toFragment:function(e,r){if(r){t.isString(r)||(r=this._toQueryString(r));r&&(e+="?"+r)}return e},_toQueryString:function(r,n){var a=e.Router.arrayValueSplit;function i(t){return String(t).replace(a,encodeURIComponent(a))}if(!r)return"";n=n||"";var o="";for(var s in r){var c=r[s];if(t.isString(c)||t.isNumber(c)||t.isBoolean(c)||t.isDate(c)){c=this._toQueryParam(c);(t.isBoolean(c)||t.isNumber(c)||t.isString(c)||c)&&(o+=(o?"&":"")+this._toQueryParamName(s,n)+"="+i(encodeURIComponent(c)))}else if(t.isArray(c)){for(var u="",l=0;l<c.length;l++){var h=this._toQueryParam(c[l]);(t.isBoolean(h)||null!==h)&&(u+=a+i(h))}u&&(o+=(o?"&":"")+this._toQueryParamName(s,n)+"="+u)}else{var p=this._toQueryString(c,this._toQueryParamName(s,n,!0));p&&(o+=(o?"&":"")+p)}}return o},_toQueryParamName:function(t,e,r){return e+t+(r?".":"")},_toQueryParam:function(e){return t.isNull(e)||t.isUndefined(e)?null:e}});function g(e,r){var n=e.split("&");t.each(n,(function(t){var e=t.split("=");r(e.shift(),e.join("="))}))}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone', location = 'libs/backbone.js' */
define("jira/components/libs/backbone",["jquery","jira/components/libs/underscore","atlassian/libs/factories/backbone-1.0.0","jira/backbone-queryparams"],function(a,b,c,d){a=c(b,a);d(a);return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:ajs-helper', location = 'util/ajshelper.js' */
define("jira/components/utils/ajshelper",["jira/ajs/keyboardshortcut/init-keyboard-shortcut"],function(b){var a=window.AJS;return{escapeHtml:a.escapeHtml.bind(a),LEFT:a.LEFT,Templates:a.Templates,HIDE_REASON:a.HIDE_REASON,trigger:a.trigger.bind(a),log:a.log.bind(a),extractBodyFromResponse:a.extractBodyFromResponse,whenIType:function(){return a.whenIType},activeShortcuts:function(){return b.keyboardShortcuts}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/marionette-1.4.1.js' */
define("jira/components/libs/marionette-1.4.1",["require"],function(a){var b=a("atlassian/libs/factories/marionette-1.4.1"),c=a("jira/components/libs/backbone");a=a("jira/components/libs/underscore");return b(a,c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Mixins.js' */
define("jira/components/libs/marionette-1.4.1/mixins",["require"],function(d){var b=d("jira/components/libs/underscore");return{listenAndRethrow:function(c,a){a=[].concat(a);b.each(a,function(a){this.listenTo(c,a,function(){this.trigger.apply(this,[a].concat(b.toArray(arguments)))},this)},this)},triggerPreventable:function(c,a){a=b.defaults({},a||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});this.trigger(c,a);return a}}});
AJS.namespace("JIRA.Marionette.Mixins",null,require("jira/components/libs/marionette-1.4.1/mixins"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/LinkRegion.js' */
define("jira/components/libs/marionette-1.4.1/linkregion",["require"],function(b){return b("jira/components/libs/marionette-1.4.1").Region.extend({open:function(a){this.$el.append(a.$el.children());a.setElement(this.$el)}})});AJS.namespace("JIRA.Marionette.LinkRegion",null,require("jira/components/libs/marionette-1.4.1/linkregion"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/ReplaceRegion.js' */
define("jira/components/libs/marionette-1.4.1/replaceregion",["require"],function(a){return a("jira/components/libs/marionette-1.4.1").Region.extend({open:function(a){this.$el.replaceWith(a.el)}})});AJS.namespace("JIRA.Marionette.ReplaceRegion",null,require("jira/components/libs/marionette-1.4.1/replaceregion"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Controller.js' */
define("jira/components/libs/marionette-1.4.1/controller",["require"],function(a){var c=a("jira/components/libs/underscore"),b=a("jira/components/libs/marionette-1.4.1");a=a("jira/components/libs/marionette-1.4.1/mixins");b=b.Controller.extend({});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.Controller",null,require("jira/components/libs/marionette-1.4.1/controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/ItemView.js' */
define("jira/components/libs/marionette-1.4.1/itemview",["require"],function(b){var c=b("jira/components/libs/marionette-1.4.1");return c.ItemView.extend({renderTemplate:function(){var a=this.serializeData();a=this.mixinTemplateHelpers(a);var b=this.getTemplate();a=c.Renderer.render(b,a);return c.$(a)},applyToDom:function(){this.delegateEvents();this.bindUIElements();this.triggerMethod("applyToDom")},unwrapTemplate:function(){if(this.$el.parent().length){var a=this.$el.children();this.$el.replaceWith(a);
this.setElement(a)}else this.setElement(this.$el.children())}})});AJS.namespace("JIRA.Marionette.ItemView",null,require("jira/components/libs/marionette-1.4.1/itemview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/CollectionView.js' */
define("jira/components/libs/marionette-1.4.1/collectionview",["require"],function(a){var f=a("jira/components/libs/marionette-1.4.1"),g=a("jira/components/libs/marionette-1.4.1/itemview");return f.CollectionView.extend({_appendHtmlWithIndex:function(d,b,c){var a=d.children(),e=a.length;0>=c?d.prepend(b.$el):!e||c>=e?d.append(b.$el):b.$el.insertBefore(a.eq(c))},appendHtml:function(a,b,c){this._appendHtmlWithIndex(a.$el,b,c)},unwrapTemplate:function(){g.prototype.unwrapTemplate.call(this)}})});
AJS.namespace("JIRA.Marionette.CollectionView",null,require("jira/components/libs/marionette-1.4.1/collectionview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/CompositeView.js' */
define("jira/components/libs/marionette-1.4.1/compositeview",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1"),d=a("jira/components/libs/marionette-1.4.1/collectionview"),c=a("jira/components/libs/marionette-1.4.1/itemview");return b.CompositeView.extend({appendHtml:function(a,b,c){d.prototype._appendHtmlWithIndex(this.getItemViewContainer(a),b,c)},unwrapTemplate:function(){c.prototype.unwrapTemplate.call(this)}})});AJS.namespace("JIRA.Marionette.CompositeView",null,require("jira/components/libs/marionette-1.4.1/compositeview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Layout.js' */
define("jira/components/libs/marionette-1.4.1/layout",["require"],function(a){var c=a("jira/components/libs/underscore"),b=a("jira/components/libs/marionette-1.4.1");a=a("jira/components/libs/marionette-1.4.1/mixins");b=b.Layout.extend({applyToDom:function(){this.delegateEvents();this.bindUIElements();this._reInitializeRegions();this.triggerMethod("applyToDom")}});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.Layout",null,require("jira/components/libs/marionette-1.4.1/layout"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/Application.js' */
define("jira/components/libs/marionette-1.4.1/application",["require"],function(c){var d=c("jira/components/libs/underscore"),b=c("jira/components/libs/marionette-1.4.1");return b.Application.extend({constructor:function(a){b.Application.call(this,a)},start:function(a){a&&!1===a.forceStop||this.stop();b.Application.prototype.start.call(this,a)},stop:function(){d.invoke(this.submodules,"stop")}})});AJS.namespace("JIRA.Marionette.Application",null,require("jira/components/libs/marionette-1.4.1/application"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/AppModule.js' */
define("jira/components/libs/marionette-1.4.1/appmodule",["require"],function(a){var c=a("jira/components/libs/underscore"),h=a("jira/components/libs/marionette-1.4.1");a=a("jira/components/libs/marionette-1.4.1/mixins");var b=function(){this.definition=c.bind(this.definition,this)};b.extend=h.extend;c.extend(b.prototype,{create:function(){throw Error("create() must be implemented by AppModules");},generateMasterRequest:!1,name:"",commands:{},requests:{},events:[],definition:function(a,b){var g=this.name,
e=this;if(!g)throw Error("'name' must be defined by AppModules");a.addInitializer(function(){function a(a){c.isFunction(a)&&(a=a(f));var b={};c.each(a,function(a,d){!0===a&&(a=c.bind(f[d],f));d=d&&g?g+":"+d:g;b[d]=a});return b}var f=e.create.apply(e,c.toArray(arguments)),h=a(e.commands),k=a(e.requests);e.generateMasterRequest&&c.extend(k,a({"":function(){return f}}));b.commands.setHandlers(h);b.reqres.setHandlers(k);(function(a,b){c.isFunction(b)&&(b=b(f));c.each(b,function(b){var d=g+":"+b;a.listenTo(f,
b,function(){this.trigger.apply(this,[d].concat(c.toArray(arguments)))})})})(b,e.events)})}});c.extend(b.prototype,a);return b});AJS.namespace("JIRA.Marionette.AppModule",null,require("jira/components/libs/marionette-1.4.1/appmodule"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/DialogView.js' */
define("jira/components/libs/marionette-1.4.1/dialogview",["require"],function(d){var e=d("jira/components/libs/underscore"),h=d("jira/components/libs/marionette-1.4.1"),n=d("jira/components/libs/marionette-1.4.1/itemview"),p=d("aui/message"),q=d("jira/dialog/form-dialog"),g=d("jquery"),k=d("jira/ajs/ajax/smart-ajax"),l=d("jira/dialog/dialog"),m=d("jira/components/utils/ajshelper");return n.extend({dialog:null,template:g.noop,_generateDialog:function(){var a=this.serializeData(),c=this.getTemplate(),
b={id:this.id,content:function(b){b(c(a))},submitHandler:e.bind(this._generateSubmissionXHR,this)},f=h.getOption(this,"dialogOptions");e.isFunction(f)&&(f=f.apply(this));return new q(e.extend(b,f))},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.dialog=this._generateDialog();this.dialog.show();this.$el=this.dialog.get$popup();g(this.dialog).on("Dialog.hide",e.bind(function(a,c,b){b!==l.HIDE_REASON.cancel&&b!==l.HIDE_REASON.escape||this.close()},this));this.triggerMethod("render",
this);return this},close:function(){this.isClosed||!1===this.triggerMethod("before:close")||(g(this.dialog).off("Dialog.hide"),this.dialog.hide(!0),this.dialog.destroy(),this.isClosed=!0,this.triggerMethod("close"),this.remove())},_generateSubmissionXHR:function(a,c){a.preventDefault();a=this.dialog.$form;var b=h.getOption(this,"formToRequestData");e.isFunction(b)&&(b=b.call(this,a));return k.makeRequest({type:a.attr("method"),url:a.attr("action"),contentType:"application/json",dataType:"json",processData:!1,
data:JSON.stringify(b)}).done(c).done(e.bind(this._onSubmitSuccess,this)).fail(e.bind(this._onSubmitError,this))},_onSubmitSuccess:function(a){this.triggerMethod("submit:success",a);this.close()},_onSubmitError:function(a){this.dialog.getButtonsContainer().find("input").removeAttr("disabled");this.dialog.hideFooterLoadingIndicator();this.dialog.$form.removeClass("submitting");this._showErrorFromXHR(a);this.triggerMethod("submit:error")},_displayFieldErrors:function(a){var c=this.dialog.$popup;e.each(a,
function(a,f){c.find("#"+f).after("\x3cdiv class\x3d'error'\x3e"+m.escapeHtml(a)+"\x3c/div\x3e")})},_displayGenericErrors:function(a){var c=this.dialog.$popup.find(".aui-messages");e.each(a,function(a){var b={closeable:!0,timeout:5};b.body=m.escapeHtml(a);b.shadowed=!1;p.error(c,b)})},_displayXHRErrors:function(a){this.dialog.$popup.find(".aui-messages").append(k.buildDialogErrorContent(a,!0))},_showErrorFromXHR:function(a){this._removeErrorMessages();try{var c=JSON.parse(a.responseText)}catch(b){c=
null}c?(this._displayFieldErrors(c.errors),this._displayGenericErrors(c.errorMessages)):this._displayXHRErrors(a)},_removeErrorMessages:function(){this.dialog.$popup.find(".error").remove();this.dialog.$popup.find(".aui-messages").empty()}})});AJS.namespace("JIRA.Marionette.DialogView",null,require("jira/components/libs/marionette-1.4.1/dialogview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-1.4.1', location = 'libs/mariontte-1.4.1-mixins/InlineDialogView.js' */
define("jira/components/libs/marionette-1.4.1/inlinedialogview",["require"],function(c){var b=c("jira/components/libs/underscore"),d=c("jira/components/libs/marionette-1.4.1"),e=c("jira/components/libs/marionette-1.4.1/itemview"),f=c("jquery"),g=c("aui/inline-dialog");return e.extend({dialog:null,template:f.noop,_getDialogOptions:function(){var a=d.getOption(this,"dialogOptions")||{};b.isFunction(a)&&(a=a.apply(this));a=b.extend({},{noBind:!0},a);a.hideCallback=b.bind(function(){this.close()},this);
return a},_getTrigger:function(){var a=d.getOption(this,"trigger");b.isFunction(a)&&(a=a.apply(this));return a},_generateDialog:function(){var a=this.serializeData(),c=this.getTemplate(),b=this._getDialogOptions(),d=this._getTrigger();return new g(d,this.id,function(b,d,e){b.html(c(a));e()},b)},render:function(){this.isClosed=!1;this.triggerMethod("before:render",this);this.$el=this.dialog=this._generateDialog();this.id=this.dialog.id;this.dialog.show();this.triggerMethod("render",this);return this},
close:function(){this.isClosed||!1===this.triggerMethod("before:close")||(this.dialog.hide(),this.isClosed=!0,this.triggerMethod("close"),this.remove())}})});AJS.namespace("JIRA.Marionette.InlineDialogView",null,require("jira/components/libs/marionette-1.4.1/inlinedialogview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:lib', location = 'namespaces.js' */
JIRA.Components=JIRA.Components||{};JIRA.Issues=JIRA.Issues||{};JIRA.Events=JIRA.Events||{};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:brace-2014.09.03-factory', location = 'factories/brace/2014.09.03/brace-2104.09.03-factory.js' */
/*
 Backbone Brace - 2014-06-27
  Copyright 2014 Atlassian Software Systems Pty Ltd
  Licensed under the Apache License, Version 2.0
*/
'use strict';(function(c){define("atlassian/libs/factories/brace-2014.09.03",function(){return function(e,l){e={_:e,Backbone:l};c.call(e);e=e.Brace.noConflict();e.VERSION="2014.09.03";return e}})})(function(){(function(c,e){var l=c.Brace;e=e(c._,c.Backbone);e.noConflict=function(){c.Brace=l;return this};c.Brace=e})(this,function(c,e){function l(a){return c.isArray(a)?c.reduce(a,function(b,a){b[a]=null;return b},{}):a}function n(a,b){if(!a||null==b||a===String&&c.isString(b)||a===Number&&c.isNumber(b)||
a===Boolean&&c.isBoolean(b))return b;if("string"===typeof a||a instanceof String){if(typeof b!==""+a)throw"The typeof "+b+" is "+typeof b+" but expected it to be "+a;return b}if(c.isArray(a)||a===Array){if(!c.has(b,"length")||b instanceof String||c.has({string:1,"function":1},typeof b)||b instanceof e.Collection)throw"Array type expected, but nonnull, non-Array value provided.";return a!==Array&&a[0]?c.map(b,c.bind(n,null,a[0])):b}if("function"!==typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";
return b instanceof a?b:p(a)?new a(n([a.model],b)):new a(b)}function p(a,b){return a&&(a.__super__ instanceof(b||e.Collection)||a.__super__===(b||e.Collection).prototype||a===(b||e.Collection))}function t(a,b){var d={};c.each(a,function(a,c){if(!b[c]||q(a,b[c]))d[c]=a;else if(a&&!q(b[c],a))throw c+" has conflicted type descriptors.";});return d}function q(a,b){return b&&b!==a?a&&"string"!==typeof a?a instanceof Array?b===Array||b instanceof Array&&q(a[0],b[0]):"function"!==typeof b?!1:p(b)?p(a,b):
a.prototype instanceof b:!1:!0}function v(a){return c.isObject(a)?c.reduce(a,function(a,d,g){d&&c.isFunction(d.toJSON)?a[g]=d.toJSON():c.isArray(d)&&(a[g]=c.map(d,function(a){return a&&c.isFunction(a.toJSON)?a.toJSON():a}));return a},a):a}function w(a){return function(){var b=a.call(this);return v(b)}}function x(a){return function u(d,g){var e=c.extend({},d);if(d&&d.mixins){var k=d.mixins;delete e.mixins}var h=a.call(this,e,g);this.prototype.namedEvents&&f.Mixins.applyMixin(h,{namedEvents:this.prototype.namedEvents});
this.prototype.namedAttributes&&f.Mixins.applyMixin(h,{namedAttributes:this.prototype.namedAttributes});k&&c.each(d.mixins,function(a){f.Mixins.applyMixin(h,a)});h.prototype.namedEvents&&f.Mixins.applyMixin(h,f.EventsMixinCreator.create(h.prototype.namedEvents));h.prototype.namedAttributes&&(h.prototype.namedAttributes=l(h.prototype.namedAttributes),f.Mixins.applyMixin(h,f.AttributesMixinCreator.create(h.prototype.namedAttributes,h.prototype.idAttribute)));h.prototype.toJSON&&(h.prototype.toJSON=
w(h.prototype.toJSON));h.extend=u;return h}}function y(a,b){a=a.prototype;b=b.prototype;var d=a.set;b.set=function(a,b,g){var e=this.namedAttributes;if(!e||null==a)return d.apply(this,arguments);if(c.isObject(a)){var f=c.clone(a);g=b}else f={},f[a]=b;for(var k in f)if(c.has(f,k)){if(!c.has(e,k))throw"Attribute '"+k+"' does not exist";f[k]=n(e[k],f[k])}return d.call(this,f,g)};var g=a.get;b.get=function(a){if(this.namedAttributes&&!c.has(this.namedAttributes,a))throw"Attribute '"+a+"' does not exist";
return g.apply(this,arguments)}}function z(a,b){var d=a.prototype.parse;b.prototype.parse=function(a,b){return c.pick(d(a,b),c.keys(this.namedAttributes))}}function m(a){var b=a.extend();b.extend=x(a.extend);return b}var f={Mixins:{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(a,b){c.forEach(c.keys(b),function(d){var g=a.prototype;if("initialize"===d){var e=g.initialize;g.initialize=function(){e&&e.apply(this,arguments);b.initialize.apply(this,
arguments)}}else if("validate"===d){var f=g.validate;g.validate=function(){if(f){var a=f.apply(this,arguments);if(a)return a}return b.validate.apply(this,arguments)}}else if("defaults"===d){g=g.defaults||(g.defaults={});d=b[d];for(var k in d){if(g.hasOwnProperty(k))throw"Mixin error: class already has default '"+k+"' defined";g[k]=d[k]}}else if("namedAttributes"===d)k=l(g.namedAttributes)||{},d=l(b[d]),g.namedAttributes=c.extend(k,t(d,k));else if("namedEvents"===d){if(!c.isArray(b[d]))throw"Expects events member on mixin to be an array";
g.namedEvents||(g.namedEvents=[]);g.namedEvents=c.uniq(g.namedEvents.concat(b[d]))}else{if(g.hasOwnProperty(d))throw"Mixin error: class already has property '"+d+"' defined";g[d]=b[d]}},this)}}};f.AttributesMixinCreator={create:function(a,b){var d={};a||(a={});c.has(a,"id")||(a.id=null);c.each(a,function(a,b){a=f.Mixins.createMethodName("set",b);d[a]=function(a,c){return this.set(b,a,c)};a=f.Mixins.createMethodName("get",b);d[a]=function(){return this.get(b)}});if("string"===typeof b&&"undefined"!==
typeof a[b]&&"id"!==b){a.id=a[b];var e=f.Mixins.createMethodName("get",b),l=f.Mixins.createMethodName("set",b);d.getId=function(){return this[e]()};d.setId=function(a,b){return this[l](a,b)}}return d},ensureType:n};f.EventsMixinCreator={create:function(a){var b={};c.each(a,c.bind(function(a){var d=f.Mixins.createMethodName("on",a);b[d]=function(){return this.on.apply(this,[a].concat(c.toArray(arguments)))};d=f.Mixins.createMethodName("trigger",a);b[d]=function(){return this.trigger.apply(this,[a].concat(c.toArray(arguments)))}},
this));return b}};f.Model=function(a){var b=m(a);y(a,b);z(a,b);return b}(e.Model);f.Collection=m(e.Collection);f.View=m(e.View);f.Router=m(e.Router);var r=function(){this.initialize.apply(this,arguments)};c.extend(r.prototype,e.Events,{initialize:function(){}});r.extend=e.Model.extend;f.Evented=m(r);return f})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:brace', location = 'libs/brace.js' */
define("jira/components/libs/brace",["require"],function(a){var b=a("atlassian/libs/factories/brace-2014.09.03"),c=a("jira/components/libs/backbone");a=a("jira/components/libs/underscore");return b(a,c)});AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'libs/jquery.hoverIntent.min.js' */
// jshint ignore: start
/*eslint-disable*/
/**
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:tipsy', location = 'util/TipsyView.js' */
define("jira/issues/tipsy",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/brace"),a=b("jquery");a.fn.tooltip||(a.fn.tooltip=a.noop,a.fn.tipsy=a.noop);b=d.View.extend({events:{click:"hide"},initialize:function(a){if(this.$el.attr("title")||a.tipsy&&a.tipsy.title)c.isFunction(a.showCondition)?this.shouldShow=a.showCondition:this.shouldShow=a.showCondition?c.bind(function(){return 0<this.$el.filter(a.showCondition).length},this):function(){return!0},this.tipsy=
this.$el.tooltip(c.extend({trigger:"manual"},a.tipsy))},show:function(){this.shouldShow()&&this.tipsy&&this.$el.tipsy("show")},hide:function(){this.tipsy&&this.$el.tipsy("hide")},remove:function(){this.hide();this.$el.removeData("tipsy")},destroy:function(){this.$el.tooltip("destroy")}});b.revalidate=function(){return a.fn.tipsy("destroy")};b.autoBounds=function(){return a.fn.tipsy.autoBounds.apply(a.fn.tipsy,arguments)};return b});AJS.namespace("JIRA.Issues.Tipsy",null,require("jira/issues/tipsy"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/CatchExceptions.js' */
(function(a){var b=function(a){return function(){try{a.apply(this,arguments)}catch(c){}return this}};a.fn.htmlCatchExceptions=b(a.fn.html);a.fn.appendCatchExceptions=b(a.fn.append);a.fn.prependCatchExceptions=b(a.fn.prepend);a.catchExceptions=function(b){return a("\x3cdiv\x3e").htmlCatchExceptions(b).children()}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/RecurringPromise.js' */
(function(){var c=require("underscore");jQuery.RecurringPromise=function(a){if(!(this instanceof jQuery.RecurringPromise))return new jQuery.RecurringPromise;this._parent=a;this._doneCallbacks=new jQuery.Callbacks;this._failCallbacks=new jQuery.Callbacks;this._alwaysCallbacks=new jQuery.Callbacks};jQuery.RecurringPromise.prototype={add:function(a){var b=new jQuery.Deferred;b.original=a;var d=this._getPending();this._abortIfPending(d);this._setPending(b);a.done(c.bind(function(){b===this._getPending()&&
(b.resolveWith(this,arguments),this._doneCallbacks.fireWith(this,arguments))},this));a.fail(c.bind(function(){b===this._getPending()&&(b.rejectWith(this,arguments),this._failCallbacks.fireWith(this,arguments))},this));a.always(c.bind(function(){b===this._getPending()&&this._alwaysCallbacks.fireWith(this,arguments)},this));return b.promise()},done:function(a){this._doneCallbacks.add(a);return this},fail:function(a){this._failCallbacks.add(a);return this},always:function(a){this._alwaysCallbacks.add(a);
return this},reset:function(){this._abortIfPending(this._getPending());this._setPending(null)},sub:function(){return new jQuery.RecurringPromise(this)},_getPending:function(){return this._parent?this._parent._getPending():this._pending},_setPending:function(a){this._parent?this._parent._setPending(a):this._pending=a},_abortIfPending:function(a){a&&"pending"===a.state()&&(a.reject("abort"),jQuery.isFunction(a.original.abort)&&a.original.abort())}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/ConcurrentDeferred.js' */
jQuery.ConcurrentDeferred=function(e){var a=new jQuery.Deferred,c,d=function(b){c=b;b.done(function(){c===b&&a.resolve.apply(a,arguments)}).fail(function(){c===b&&a.reject.apply(a,arguments)})};d(e);jQuery.extend(a,{update:function(a){if(!this.isPending())throw"Cannot update non-pending ConcurrentDeferred";var b=c;d(a);jQuery.isFunction(b.abort)&&b.abort();return this},isPending:function(){return"pending"===this.state()}});return a};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:jqueryutils', location = 'util/jquery/ScrollLock.js' */
(function(d){d.fn.scrollLock=function(a,c){"string"!==typeof a&&(c=a,a=null);c||(c=30);this.on("DOMMouseScroll mousewheel",a,function(b){b.preventDefault();var a;b.originalEvent.wheelDelta&&(a=b.originalEvent.wheelDelta/120);b.originalEvent.detail&&(a=-b.originalEvent.detail/3);d.isNumeric(a)&&(this.scrollTop-=a*c)})}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:uri-1.14.1', location = 'libs/uri/1.14.1/uri-1.14.1.js' */
/*
 URI.js - Mutating URLs

 Version: 1.14.1

 Author: Rodney Rehm
 Web: http://medialize.github.io/URI.js/

 Licensed under
   MIT License http://www.opensource.org/licenses/mit-license
   GPL v3 http://opensource.org/licenses/GPL-3.0

*/
'use strict';(function(k){define("atlassian/libs/uri-1.14.1",function(){var r={};k.call(r);return r.URI.noConflict()})})(function(){(function(k,r){k.URI=r(k.punycode,k.IPv6,k.SecondLevelDomains,k)})(this,function(k,r,t,n){function d(a,b){if(!(this instanceof d))return new d(a,b);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==b?this.absoluteTo(b):this}function q(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function w(a){return void 0===a?
"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===w(a)}function v(a,b){var c;if(h(b)){var d=0;for(c=b.length;d<c;d++)if(!v(a,b[d]))return!1;return!0}var f=w(b);d=0;for(c=a.length;d<c;d++)if("RegExp"===f){if("string"===typeof a[d]&&a[d].match(b))return!0}else if(a[d]===b)return!0;return!1}function z(a,b){if(!h(a)||!h(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function D(a){return escape(a)}
function x(a){return encodeURIComponent(a).replace(/[!'()*]/g,D).replace(/\*/g,"%2A")}function u(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}}function A(a,b){return function(c,d){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!d);return this}}var E=n&&n.URI;d.version="1.14.1";var e=d.prototype,p=Object.prototype.hasOwnProperty;d._parts=function(){return{protocol:null,
username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:d.duplicateQueryParameters,escapeQuerySpace:d.escapeQuerySpace}};d.duplicateQueryParameters=!1;d.escapeQuerySpace=!0;d.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;d.idn_expression=/[^a-z0-9\.-]/i;d.punycode_expression=/(xn--)/i;d.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;d.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
d.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;d.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};d.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};d.invalid_hostname_characters=
/[^a-zA-Z0-9\.-]/;d.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};d.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return d.domAttributes[b]}};d.encode=x;d.decode=decodeURIComponent;d.iso8859=function(){d.encode=escape;d.decode=unescape};d.unicode=function(){d.encode=x;d.decode=decodeURIComponent};
d.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"\x26","%2B":"+","%2C":",","%3B":";","%3D":"\x3d","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"\x26","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";",
"%3D":"\x3d"}}}};d.encodeQuery=function(a,b){a=d.encode(a+"");void 0===b&&(b=d.escapeQuerySpace);return b?a.replace(/%20/g,"+"):a};d.decodeQuery=function(a,b){a+="";void 0===b&&(b=d.escapeQuerySpace);try{return d.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}};d.recodePath=function(a){a=(a+"").split("/");for(var b=0,c=a.length;b<c;b++)a[b]=d.encodePathSegment(d.decode(a[b]));return a.join("/")};d.decodePath=function(a){a=(a+"").split("/");for(var b=0,c=a.length;b<c;b++)a[b]=d.decodePathSegment(a[b]);
return a.join("/")};var B={encode:"encode",decode:"decode"},y,C=function(a,b){return function(c){try{return d[b](c+"").replace(d.characters[a][b].expression,function(c){return d.characters[a][b].map[c]})}catch(g){return c}}};for(y in B)d[y+"PathSegment"]=C("pathname",B[y]);d.encodeReserved=C("reserved","encode");d.parse=function(a,b){b||(b={});var c=a.indexOf("#");-1<c&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c));c=a.indexOf("?");-1<c&&(b.query=a.substring(c+1)||null,a=a.substring(0,c));
"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=d.parseAuthority(a,b)):(c=a.indexOf(":"),-1<c&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(d.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=d.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)));b.path=a;return b};d.parseHost=function(a,b){var c=a.indexOf("/");-1===c&&(c=a.length);if("["===a.charAt(0)){var d=a.indexOf("]");b.hostname=a.substring(1,d)||null;b.port=a.substring(d+
2,c)||null;"/"===b.port&&(b.port=null)}else a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(d=a.substring(0,c).split(":"),b.hostname=d[0]||null,b.port=d[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,a="/"+a);return a.substring(c)||"/"};d.parseAuthority=function(a,b){a=d.parseUserinfo(a,b);return d.parseHost(a,b)};d.parseUserinfo=function(a,b){var c=a.indexOf("/"),g=a.lastIndexOf("@",-1<c?c:a.length-1);-1<g&&(-1===c||g<c)?(c=a.substring(0,g).split(":"),
b.username=c[0]?d.decode(c[0]):null,c.shift(),b.password=c[0]?d.decode(c.join(":")):null,a=a.substring(g+1)):(b.username=null,b.password=null);return a};d.parseQuery=function(a,b){if(!a)return{};a=a.replace(/&+/g,"\x26").replace(/^\?*&*|&+$/g,"");if(!a)return{};var c={};a=a.split("\x26");for(var g=a.length,f,e,l=0;l<g;l++)f=a[l].split("\x3d"),e=d.decodeQuery(f.shift(),b),f=f.length?d.decodeQuery(f.join("\x3d"),b):null,p.call(c,e)?("string"===typeof c[e]&&(c[e]=[c[e]]),c[e].push(f)):c[e]=f;return c};
d.build=function(a){var b="";a.protocol&&(b+=a.protocol+":");a.urn||!b&&!a.hostname||(b+="//");b+=d.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(b+="/"),b+=a.path);"string"===typeof a.query&&a.query&&(b+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(b+="#"+a.fragment);return b};d.buildHost=function(a){var b="";if(a.hostname)b=d.ip6_expression.test(a.hostname)?b+("["+a.hostname+"]"):b+a.hostname;else return"";a.port&&(b+=":"+a.port);
return b};d.buildAuthority=function(a){return d.buildUserinfo(a)+d.buildHost(a)};d.buildUserinfo=function(a){var b="";a.username&&(b+=d.encode(a.username),a.password&&(b+=":"+d.encode(a.password)),b+="@");return b};d.buildQuery=function(a,b,c){var g="",f,e;for(f in a)if(p.call(a,f)&&f)if(h(a[f])){var l={};var m=0;for(e=a[f].length;m<e;m++)void 0!==a[f][m]&&void 0===l[a[f][m]+""]&&(g+="\x26"+d.buildQueryParameter(f,a[f][m],c),!0!==b&&(l[a[f][m]+""]=!0))}else void 0!==a[f]&&(g+="\x26"+d.buildQueryParameter(f,
a[f],c));return g.substring(1)};d.buildQueryParameter=function(a,b,c){return d.encodeQuery(a,c)+(null!==b?"\x3d"+d.encodeQuery(b,c):"")};d.addQuery=function(a,b,c){if("object"===typeof b)for(var g in b)p.call(b,g)&&d.addQuery(a,g,b[g]);else if("string"===typeof b)void 0===a[b]?a[b]=c:("string"===typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=(a[b]||[]).concat(c));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};d.removeQuery=function(a,b,c){var g;if(h(b))for(c=
0,g=b.length;c<g;c++)a[b[c]]=void 0;else if("object"===typeof b)for(g in b)p.call(b,g)&&d.removeQuery(a,g,b[g]);else if("string"===typeof b)if(void 0!==c)if(a[b]===c)a[b]=void 0;else{if(h(a[b])){g=a[b];var f={},e;if(h(c)){var l=0;for(e=c.length;l<e;l++)f[c[l]]=!0}else f[c]=!0;l=0;for(e=g.length;l<e;l++)void 0!==f[g[l]]&&(g.splice(l,1),e--,l--);a[b]=g}}else a[b]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};d.hasQuery=function(a,b,c,g){if("object"===
typeof b){for(var f in b)if(p.call(b,f)&&!d.hasQuery(a,f,b[f]))return!1;return!0}if("string"!==typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(w(c)){case "Undefined":return b in a;case "Boolean":return a=!(h(a[b])?!a[b].length:!a[b]),c===a;case "Function":return!!c(a[b],b,a);case "Array":return h(a[b])?(g?v:z)(a[b],c):!1;case "RegExp":return h(a[b])?g?v(a[b],c):!1:!(!a[b]||!a[b].match(c));case "Number":c=String(c);case "String":return h(a[b])?
g?v(a[b],c):!1:a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};d.commonPath=function(a,b){var c=Math.min(a.length,b.length),d;for(d=0;d<c;d++)if(a.charAt(d)!==b.charAt(d)){d--;break}if(1>d)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(d)||"/"!==b.charAt(d))d=a.substring(0,d).lastIndexOf("/");return a.substring(0,d+1)};d.withinString=function(a,b,c){c||(c={});var g=c.start||
d.findUri.start,f=c.end||d.findUri.end,e=c.trim||d.findUri.trim,l=/[a-z0-9-]=["']?$/i;for(g.lastIndex=0;;){var m=g.exec(a);if(!m)break;m=m.index;if(c.ignoreHtml){var h=a.slice(Math.max(m-3,0),m);if(h&&l.test(h))continue}h=m+a.slice(m).search(f);var k=a.slice(m,h).replace(e,"");c.ignore&&c.ignore.test(k)||(h=m+k.length,k=b(k,m,h,a),a=a.slice(0,m)+k+a.slice(h),g.lastIndex=m+k.length)}g.lastIndex=0;return a};d.ensureValidHostname=function(a){if(a.match(d.invalid_hostname_characters)){if(!k)throw new TypeError('Hostname "'+
a+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(k.toASCII(a).match(d.invalid_hostname_characters))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');}};d.noConflict=function(a){if(a)return a={URI:this.noConflict()},n.URITemplate&&"function"===typeof n.URITemplate.noConflict&&(a.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"===typeof n.IPv6.noConflict&&(a.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"===typeof n.SecondLevelDomains.noConflict&&
(a.SecondLevelDomains=n.SecondLevelDomains.noConflict()),a;n.URI===this&&(n.URI=E);return this};e.build=function(a){if(!0===a)this._deferred_build=!0;else if(void 0===a||this._deferred_build)this._string=d.build(this._parts),this._deferred_build=!1;return this};e.clone=function(){return new d(this)};e.valueOf=e.toString=function(){return this.build(!1)._string};e.protocol=u("protocol");e.username=u("username");e.password=u("password");e.hostname=u("hostname");e.port=u("port");e.query=A("query","?");
e.fragment=A("fragment","#");e.search=function(a,b){a=this.query(a,b);return"string"===typeof a&&a.length?"?"+a:a};e.hash=function(a,b){a=this.fragment(a,b);return"string"===typeof a&&a.length?"#"+a:a};e.pathname=function(a,b){if(void 0===a||!0===a)return b=this._parts.path||(this._parts.hostname?"/":""),a?d.decodePath(b):b;this._parts.path=a?d.recodePath(a):"/";this.build(!b);return this};e.path=e.pathname;e.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="";this._parts=
d._parts();var g=a instanceof d,f="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(f=d.getDomAttribute(a),a=a[f]||"",f=!1);!g&&f&&void 0!==a.pathname&&(a=a.toString());if("string"===typeof a||a instanceof String)this._parts=d.parse(String(a),this._parts);else if(g||f)for(c in a=g?a._parts:a,a)p.call(this._parts,c)&&(this._parts[c]=a[c]);else throw new TypeError("invalid input");this.build(!b);return this};e.is=function(a){var b=!1,c=!1,g=!1,f=!1,e=!1,l=!1,h=!1,k=!this._parts.urn;
this._parts.hostname&&(k=!1,c=d.ip4_expression.test(this._parts.hostname),g=d.ip6_expression.test(this._parts.hostname),b=c||g,e=(f=!b)&&t&&t.has(this._parts.hostname),l=f&&d.idn_expression.test(this._parts.hostname),h=f&&d.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return k;case "absolute":return!k;case "domain":case "name":return f;case "sld":return e;case "ip":return b;case "ip4":case "ipv4":case "inet4":return c;case "ip6":case "ipv6":case "inet6":return g;
case "idn":return l;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return h}return null};var F=e.protocol,G=e.port,H=e.hostname;e.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(d.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return F.call(this,a,b)};e.scheme=e.protocol;e.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==
a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return G.call(this,a,b)};e.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};d.parseHost(a,c);a=c.hostname}return H.call(this,a,b)};e.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?d.buildHost(this._parts):"";d.parseHost(a,this._parts);this.build(!b);
return this};e.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?d.buildAuthority(this._parts):"";d.parseAuthority(a,this._parts);this.build(!b);return this};e.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";a=d.buildUserinfo(this._parts);return a.substring(0,a.length-1)}"@"!==a[a.length-1]&&(a+="@");d.parseUserinfo(a,this._parts);this.build(!b);return this};e.resource=
function(a,b){if(void 0===a)return this.path()+this.search()+this.hash();a=d.parse(a);this._parts.path=a.path;this._parts.query=a.query;this._parts.fragment=a.fragment;this.build(!b);return this};e.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";a=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,a)||""}var c=this._parts.hostname.length-this.domain().length;c=this._parts.hostname.substring(0,
c);c=new RegExp("^"+q(c));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&d.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(c,a);this.build(!b);return this};e.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";if((a=this._parts.hostname.match(/\./g))&&2>a.length)return this._parts.hostname;b=this._parts.hostname.length-this.tld(b).length-1;b=this._parts.hostname.lastIndexOf(".",
b-1)+1;return this._parts.hostname.substring(b)||""}if(!a)throw new TypeError("cannot set domain empty");d.ensureValidHostname(a);if(!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var c=new RegExp(q(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}this.build(!b);return this};e.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";a=this._parts.hostname.lastIndexOf(".");
a=this._parts.hostname.substring(a+1);return!0!==b&&t&&t.list[a.toLowerCase()]?t.get(this._parts.hostname)||a:a}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(t&&t.is(a)){var c=new RegExp(q(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,a)}else throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");c=new RegExp(q(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(c,
a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};e.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";b=this._parts.path.length-this.filename().length-1;b=this._parts.path.substring(0,b)||(this._parts.hostname?"/":"");return a?d.decodePath(b):b}var c=this._parts.path.length-this.filename().length;c=this._parts.path.substring(0,c);c=new RegExp("^"+
q(c));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=d.recodePath(a);this._parts.path=this._parts.path.replace(c,a);this.build(!b);return this};e.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";b=this._parts.path.lastIndexOf("/");b=this._parts.path.substring(b+1);return a?d.decodePathSegment(b):b}var c=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&
(c=!0);var g=new RegExp(q(this.filename())+"$");a=d.recodePath(a);this._parts.path=this._parts.path.replace(g,a);c?this.normalizePath(b):this.build(!b);return this};e.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";b=this.filename();var c=b.lastIndexOf(".");if(-1===c)return"";b=b.substring(c+1);b=/^[a-z0-9%]+$/i.test(b)?b:"";return a?d.decodePathSegment(b):b}"."===a.charAt(0)&&(a=a.substring(1));c=this.suffix();
if(c)var g=a?new RegExp(q(c)+"$"):new RegExp(q("."+c)+"$");else{if(!a)return this;this._parts.path+="."+d.recodePath(a)}g&&(a=d.recodePath(a),this._parts.path=this._parts.path.replace(g,a));this.build(!b);return this};e.segment=function(a,b,c){var d=this._parts.urn?":":"/",f=this.path(),e="/"===f.substring(0,1);f=f.split(d);void 0!==a&&"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error('Bad segment "'+a+'", must be 0-based integer');e&&f.shift();0>a&&(a=Math.max(f.length+
a,0));if(void 0===b)return void 0===a?f:f[a];if(null===a||void 0===f[a])if(h(b)){f=[];a=0;for(var l=b.length;a<l;a++)if(b[a].length||f.length&&f[f.length-1].length)f.length&&!f[f.length-1].length&&f.pop(),f.push(b[a])}else{if(b||"string"===typeof b)""===f[f.length-1]?f[f.length-1]=b:f.push(b)}else b?f[a]=b:f.splice(a,1);e&&f.unshift("");return this.path(f.join(d),c)};e.segmentCoded=function(a,b,c){var e;"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0===b){a=this.segment(a,b,c);if(h(a)){var f=0;
for(e=a.length;f<e;f++)a[f]=d.decode(a[f])}else a=void 0!==a?d.decode(a):void 0;return a}if(h(b))for(f=0,e=b.length;f<e;f++)b[f]=d.decode(b[f]);else b="string"===typeof b||b instanceof String?d.encode(b):b;return this.segment(a,b,c)};var I=e.query;e.query=function(a,b){if(!0===a)return d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var c=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);a=a.call(this,c);this._parts.query=d.buildQuery(a||c,this._parts.duplicateQueryParameters,
this._parts.escapeQuerySpace);this.build(!b);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=d.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):I.call(this,a,b)};e.setQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof a||a instanceof String)e[a]=void 0!==b?b:null;else if("object"===typeof a)for(var f in a)p.call(a,f)&&(e[f]=a[f]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");
this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};e.addQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);d.addQuery(e,a,void 0===b?null:b);this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};e.removeQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,
this._parts.escapeQuerySpace);d.removeQuery(e,a,b);this._parts.query=d.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(c=b);this.build(!c);return this};e.hasQuery=function(a,b,c){var e=d.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return d.hasQuery(e,a,b,c)};e.setSearch=e.setQuery;e.addSearch=e.addQuery;e.removeSearch=e.removeQuery;e.hasSearch=e.hasQuery;e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():
this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};e.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};e.normalizeHostname=function(a){this._parts.hostname&&(this.is("IDN")&&k?this._parts.hostname=k.toASCII(this._parts.hostname):this.is("IPv6")&&r&&(this._parts.hostname=r.best(this._parts.hostname)),this._parts.hostname=
this._parts.hostname.toLowerCase(),this.build(!a));return this};e.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===d.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};e.normalizePath=function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var b=this._parts.path,c="";if("/"!==b.charAt(0)){var e=!0;b="/"+b}b=b.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");e&&(c=b.substring(1).match(/^(\.\.\/)+/)||
"")&&(c=c[0]);for(;;){var f=b.indexOf("/..");if(-1===f)break;else if(0===f){b=b.substring(3);continue}var h=b.substring(0,f).lastIndexOf("/");-1===h&&(h=f);b=b.substring(0,h)+b.substring(f+3)}e&&this.is("relative")&&(b=c+b.substring(1));b=d.recodePath(b);this._parts.path=b;this.build(!a);return this};e.normalizePathname=e.normalizePath;e.normalizeQuery=function(a){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(d.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):
this._parts.query=null,this.build(!a));return this};e.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};e.normalizeSearch=e.normalizeQuery;e.normalizeHash=e.normalizeFragment;e.iso8859=function(){var a=d.encode,b=d.decode;d.encode=escape;d.decode=decodeURIComponent;this.normalize();d.encode=a;d.decode=b;return this};e.unicode=function(){var a=d.encode,b=d.decode;d.encode=x;d.decode=unescape;this.normalize();d.encode=a;d.decode=b;return this};
e.readable=function(){var a=this.clone();a.username("").password("").normalize();var b="";a._parts.protocol&&(b+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&k?(b+=k.toUnicode(a._parts.hostname),a._parts.port&&(b+=":"+a._parts.port)):b+=a.host());a._parts.hostname&&a._parts.path&&"/"!==a._parts.path.charAt(0)&&(b+="/");b+=a.path(!0);if(a._parts.query){for(var c="",e=0,f=a._parts.query.split("\x26"),h=f.length;e<h;e++){var l=(f[e]||"").split("\x3d");c+="\x26"+d.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,
"%26");void 0!==l[1]&&(c+="\x3d"+d.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}b+="?"+c.substring(1)}return b+=d.decodeQuery(a.hash(),!0)};e.absoluteTo=function(a){var b=this.clone(),c=["protocol","username","password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof d||(a=new d(a));b._parts.protocol||(b._parts.protocol=a._parts.protocol);if(this._parts.hostname)return b;for(e=0;f=c[e];e++)b._parts[f]=
a._parts[f];b._parts.path?".."===b._parts.path.substring(-2)&&(b._parts.path+="/"):(b._parts.path=a._parts.path,b._parts.query||(b._parts.query=a._parts.query));"/"!==b.path().charAt(0)&&(a=a.directory(),b._parts.path=(a?a+"/":"")+b._parts.path,b.normalizePath());b.build();return b};e.relativeTo=function(a){var b=this.clone().normalize();if(b._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a=(new d(a)).normalize();var c=b._parts;var e=a._parts;var f=b.path();
var h=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==h.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");c.protocol===e.protocol&&(c.protocol=null);if(c.username===e.username&&c.password===e.password&&null===c.protocol&&null===c.username&&null===c.password&&c.hostname===e.hostname&&c.port===e.port)c.hostname=null,c.port=null;else return b.build();if(f===h)return c.path="",b.build();a=d.commonPath(b.path(),a.path());if(!a)return b.build();
e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");c.path=e+c.path.substring(a.length);return b.build()};e.equals=function(a){var b=this.clone(),c=new d(a);a={};var e;b.normalize();c.normalize();if(b.toString()===c.toString())return!0;var f=b.query();var k=c.query();b.query("");c.query("");if(b.toString()!==c.toString()||f.length!==k.length)return!1;b=d.parseQuery(f,this._parts.escapeQuerySpace);k=d.parseQuery(k,this._parts.escapeQuerySpace);for(e in b)if(p.call(b,e)){if(!h(b[e])){if(b[e]!==
k[e])return!1}else if(!z(b[e],k[e]))return!1;a[e]=!0}for(e in k)if(p.call(k,e)&&!a[e])return!1;return!0};e.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};e.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};return d})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:uri', location = 'libs/uri.js' */
define("jira/components/libs/uri",["require"],function(a){return a("atlassian/libs/uri-1.14.1")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:scrollintoview', location = 'libs/scrollintoview-1.8.js' */
/*
 jQuery scrollintoview() plugin and :scrollable selector filter

 Version 1.8 (14 Jul 2011)
 Requires jQuery 1.4 or newer

 Copyright (c) 2011 Robert Koritnik
 Licensed under the terms of the MIT license
 http://www.opensource.org/licenses/mit-license.php
*/
(function(e){var m={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:0,direction:"y"},n=/^(?:html)$/i,p=function(a){var b=e(window),c=n.test(a[0].nodeName);if(c)var f={top:0,left:0,bottom:0,right:0};else{var d=a[0];var k=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(d,null):d.currentStyle;var g=document.defaultView&&document.defaultView.getComputedStyle?!0:!1;f=parseFloat(g?k.borderTopWidth:e.css(d,
"borderTopWidth"))||0;var h=parseFloat(g?k.borderLeftWidth:e.css(d,"borderLeftWidth"))||0,l=parseFloat(g?k.borderBottomWidth:e.css(d,"borderBottomWidth"))||0;d=parseFloat(g?k.borderRightWidth:e.css(d,"borderRightWidth"))||0;f={top:f,left:h,bottom:l,right:d,vertical:f+l,horizontal:h+d}}b={top:(c?b:a).scrollTop(),left:(c?b:a).scrollLeft()};h={right:c?0:a.innerWidth()-a[0].clientWidth,bottom:c?0:a.innerHeight()-a[0].clientHeight};l=a[0].getBoundingClientRect();return{border:f,scroll:b,scrollbar:h,rect:{top:c?
0:l.top,left:c?0:l.left,bottom:c?a[0].clientHeight:l.bottom,right:c?a[0].clientWidth:l.right}}};e.fn.extend({scrollIntoViewForAuto:function(a){a=e.extend({},r,a);a.direction=m["string"===typeof a.direction&&a.direction.toLowerCase()]||m.both;var b="";!0===a.direction.x&&(b="horizontal");!0===a.direction.y&&(b=b?"both":"vertical");var c=this.eq(0),f=c.closest(":scrollable("+b+")");if(0<f.length){f=f.eq(0);var d=p(c);b=p(f);c=d.rect.top-(b.rect.top+b.border.top);var k=b.rect.bottom-b.border.bottom-
b.scrollbar.bottom-d.rect.bottom,g=d.rect.left-(b.rect.left+b.border.left);d=b.rect.right-b.border.right-b.scrollbar.right-d.rect.right;var h={};!0===a.direction.y&&(0>c?h.scrollTop=b.scroll.top+c-30:0<c&&0>k&&(h.scrollTop=b.scroll.top+Math.min(c,-k)+30));!0===a.direction.x&&(0>g?h.scrollLeft=b.scroll.left+g:0<g&&0>d&&(h.scrollLeft=b.scroll.left+Math.min(g,-d)));e.isEmptyObject(h)?e.isFunction(a.complete)&&a.complete.call(f[0]):(n.test(f[0].nodeName)&&(f=e("html,body")),f.animate(h,a.duration).eq(0).queue(function(b){e.isFunction(a.complete)&&
a.complete.call(f[0]);b()}))}return this}});var q={auto:!0,scroll:!0,visible:!1,hidden:!1};e.extend(e.expr[":"],{scrollable:function(a,b,c,f){b=m["string"===typeof c[3]&&c[3].toLowerCase()]||m.both;c=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,null):a.currentStyle;var d=q[c.overflowX.toLowerCase()]||!1,e=q[c.overflowY.toLowerCase()]||!1,g=n.test(a.nodeName);if(!d&&!e&&!g)return!1;a={height:{scroll:a.scrollHeight,client:a.clientHeight},width:{scroll:a.scrollWidth,
client:a.clientWidth},scrollableX:function(){return(d||g)&&this.width.scroll>this.width.client},scrollableY:function(){return(e||g)&&this.height.scroll>this.height.client}};return b.y&&a.scrollableY()||b.x&&a.scrollableX()}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:browser', location = 'util/Browser.js' */
define("jira/components/util/browser",function(){return{locationReload:function(a){window.location.reload(a)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:events-issueactions', location = 'util/IssueActionsEvents.js' */
define("jira/components/util/events/issue-actions",function(){return{DELETE:"delete",ARCHIVE:"archive",UPDATE:"update",INLINE_EDIT:"inlineEdit",ROW_UPDATE:"rowUpdate"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelModel.js' */
define("jira/components/issueviewer/entities/panel",["require"],function(a){var c=a("jira/components/libs/underscore"),f=a("jira/components/libs/brace"),d=a("jira/util/events"),e=a("jira/components/issueviewer/eventtypes");return f.Model.extend({namedAttributes:["entity","updateLocked"],initialize:function(){d.bind(e.LOCK_PANEL_REFRESHING,c.bind(function(a,b){b===this.getEntity().id&&this.set("updateLocked",!0)},this));d.bind(e.UNLOCK_PANEL_REFRESHING,c.bind(function(a,b){b===this.getEntity().id&&
this.set("updateLocked",!1)},this))},update:function(a,b,c){this.getUpdateLocked()||(this.set("entity",a),this.trigger("updated",b,c))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelsCollection.js' */
define("jira/components/issueviewer/entities/panels",["require"],function(a){var b=a("jira/components/libs/underscore"),f=a("jira/components/libs/brace");a=a("jira/components/issueviewer/entities/panel");return f.Collection.extend({model:a,update:function(a,d){this.each(function(e){var c=e.id;b.any(a,function(a){return a.id===c})||this.remove(e)},this);b.each(a,function(a,c){var b=this.get(a.id);b?b.update(a,d.fieldsInProgress,d.fieldsSaved):this.add({id:a.id,entity:a},{at:c})},this)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/PanelsGroupModel.js' */
define("jira/components/issueviewer/entities/panelsgroup",["require"],function(c){var d=c("jira/components/libs/brace"),a=c("jira/components/issueviewer/entities/panels");return d.Model.extend({namedAttributes:["leftPanels","rightPanels","infoPanels"],defaults:function(){return{leftPanels:new a([]),rightPanels:new a([]),infoPanels:new a([])}},update:function(a,b){this.get("leftPanels").update(a.leftPanels,b);this.get("rightPanels").update(a.rightPanels,b);this.get("infoPanels").update(a.infoPanels,
b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/entities/IssueModel.js' */
define("jira/components/issueviewer/entities/issue",["require"],function(b){var d=b("jira/components/libs/brace"),e=b("jira/components/issueviewer/entities/panelsgroup");return d.Model.extend({namedEvents:["updated"],namedAttributes:"entity id key panels projectKey projectType projectId".split(" "),defaults:function(){return{entity:{},panels:new e}},update:function(a,b){var c=!1;a.issue&&(this.updateFromEntity(a.issue),c=!0);a.panels&&(this.getPanels().update(a.panels,b),c=!0);c&&this.trigger("updated",
b)},resetToDefault:function(){this.clear();this.set(this.defaults())},updateFromEntity:function(a){this.set({id:a.id,key:a.key,entity:a,projectKey:a.project?a.project.key:null,projectType:a.project?a.project.projectType:null,projectId:a.project?a.project.id:null})},isCurrentIssue:function(a){return this.get("id")===a},hasIssue:function(){return this.has("id")},updateIssueQuery:function(a){this.hasIssue()&&(this.getEntity().viewIssueQuery=a)},getIssueInfo:function(){return{issueId:this.getId(),issueKey:this.getKey(),
projectId:this.getProjectId(),projectKey:this.getProjectKey(),projectType:this.getProjectType()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssuePanelView.js' */
define("jira/components/issueviewer/views/issuepanel",["require"],function(a){var f=a("jira/components/libs/underscore"),g=a("jira/components/issueviewer/legacy/issuefieldutil"),l=a("jquery"),h=a("jira/components/libs/marionette-1.4.1/itemview"),q=a("jira/components/issueviewer/templates"),m=a("internal/util/navigator");return h.extend({template:q.Body.issuePanel,modelEvents:{updated:"update"},update:function(a,h){function k(){var b=0<c.find(document.activeElement).length;if(m.isIE()&&8>=m.majorVersion()){var a=
c[0].nextSibling,k=c[0].parentNode;c.remove();a?l(a).before(e):l(k).append(e)}else c.replaceWith(e);b&&d.trigger("replacedFocusedPanel");d.setElement(e)}function n(b){d.trigger("panelRendered",d.model.id,d.$el,c);f.each(b,function(b){d.trigger("individualPanelRendered",b)})}var e=this.renderTemplate(),c=this.$el,d=this;if(e.html()!==c.html()){if(function(){return f.any(a,function(b){return 1===c.find(g.getFieldSelector(b)).length})}()){var p=[];f.each(h,function(b){var a=c.find(g.getFieldSelector(b));
1===a.length&&(b=e.find(g.getFieldSelector(b)),1===b.length?(a.replaceWith(b),p.push(b)):a.closest("li, dl").remove())});n(p)}else k(),n([d.$el]);this.bindUIElements()}},onRender:function(){this.setElement(this.$el.children());var a=this.model.getEntity().styleClass;a&&this.$el.addClass(a);this.trigger("individualPanelRendered",this.$el)},applyToDom:function(){this.trigger("individualPanelRendered",this.$el)},serializeData:function(){return this.model.getEntity()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssuePanelsView.js' */
define("jira/components/issueviewer/views/issuepanels",["require"],function(c){var d=c("jira/components/libs/marionette-1.4.1/collectionview"),f=c("jira/components/issueviewer/views/issuepanel"),g=c("jira/components/issueviewer/entities/panel");return d.extend({itemView:f,_updatingFromDom:!1,appendHtml:function(b,a,c){var d=b.$el.children(),e=d.length;0>=c?b.$el.prepend(a.$el):!e||c>=e?b.$el.append(a.$el):a.$el.insertBefore(d.eq(c))},applyToDom:function(){var b=this;this._updatingFromDom=!0;this.$el.children().filter(".module").each(function(){var a=
this.id;"addcomment"===a&&(a="addcommentmodule");b.collection.add(new g({id:a,entity:{id:a}}))});this._updatingFromDom=!1},renderItemView:function(b){this._updatingFromDom?b.applyToDom():d.prototype.renderItemView.apply(this,arguments)},buildItemView:function(b){var a=d.prototype.buildItemView.apply(this,arguments);this._updatingFromDom&&a.setElement(document.getElementById(b.id));return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueBodyView.js' */
define("jira/components/issueviewer/views/issuebody",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/layout"),b=a("jira/components/libs/marionette-1.4.1/linkregion");a=a("jira/components/issueviewer/templates");return c.extend({tagName:"div",className:"issue-body-content",regions:{leftPanels:{selector:".issue-main-column",regionType:b},rightPanels:{selector:".issue-side-column",regionType:b},infoPanels:{selector:".issue-body",regionType:b}},template:a.Body.issueBody})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueOpsbarView.js' */
define("jira/components/issueviewer/views/issueopsbar",["require"],function(a){var d=a("jira/util/events"),e=a("jira/util/events/types"),f=a("jquery"),g=a("jira/components/libs/underscore"),h=a("jira/components/libs/marionette-1.4.1/itemview"),k=a("jira/components/issueviewer/templates"),c=a("jira/issues/tipsy"),l=a("jira/components/issueviewer/analytics/issueopsbar");return h.extend({template:k.Header.opsbar,ui:{shareButton:".viewissue-share",exportButton:"#viewissue-export",loginButton:"#ops-login-lnk",
commentButton:"#comment-issue"},initialize:function(){this.onMoreActionsOpen=this.onMoreActionsOpen.bind(this)},serializeData:function(){return{issue:this.model.getEntity()}},onApplyToDom:function(){this.onRender()},onRender:function(){new l(this);this.ui.loginButton.hide();this.ui.commentButton.addClass("inline-comment");new c({el:this.ui.shareButton,showCondition:":not(.active)"});new c({el:this.ui.exportButton,showCondition:":not(.active)",tipsy:{gravity:"ne"}});this.listenToMoreDropdownEvents();
this.handleContentUpdates()},onMoreActionsOpen:function(){setTimeout(this.handleTooLongDropdownMenu.bind(this),0)},listenToMoreDropdownEvents:function(){var b=f("#opsbar-operations_more_drop");b.off("aui-dropdown2-show",this.onMoreActionsOpen);b.on("aui-dropdown2-show",this.onMoreActionsOpen)},handleContentUpdates:g.once(function(){d.bind(e.NEW_CONTENT_ADDED,function(){this.listenToMoreDropdownEvents()}.bind(this))}),handleTooLongDropdownMenu:function(){var b=document.getElementById("opsbar-operations_more_drop");
if(null==b)return!1;this.removeCustomStyles(b,["height","overflow"]);this.setCustomStyles(b)},setCustomStyles:function(b){var a=document.querySelector("#opsbar-operations_more");a=a.getBoundingClientRect().top+a.getBoundingClientRect().height;a+b.getBoundingClientRect().height+30>window.innerHeight&&(b.style.minHeight="50px",b.style.height=window.innerHeight-a-30+"px",b.style.overflow="auto")},removeCustomStyles:function(a,c){if(!Array.isArray(c))return!1;c.forEach(function(b){a.style.removeProperty(b)})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueHeaderView.js' */
define("jira/components/issueviewer/views/issueheader",["require"],function(b){const q=b("jira/components/libs/marionette-1.4.1/layout"),r=b("jira/components/issueviewer/templates"),t=b("jira/components/libs/underscore"),l=b("jira/components/issueviewer/views/issueopsbar"),m=b("jira/components/issueviewer/analytics/issueheader"),u=b("jira/util/data/meta"),c=b("jquery"),n=b("wrm/data"),f=b("jira/util/formatter"),v=b("jira/ajs/ajax/smart-ajax"),p=b("wrm/context-path"),w=b("jira/util/urls"),x=b("jira/flag"),
y=n.claim("archivingIssueHelpUrl"),z=n.claim("archivingProjectHelpUrl");var A="\u0417\u0410\u041f\u0420\u041e\u0421 \u041d\u0415 \u0421\u0423\u0429\u0415\u0421\u0422\u0412\u0423\u0415\u0422";let g=0,h=0,k=!1;return q.extend({className:"issue-header js-stalker",id:"stalker",tagName:"header",template:r.Header.issueHeader,transitionDropdownTriggerSelector:"#opsbar-transitions_more",transitionDropdownSelector:"#opsbar-transitions_more_drop",dropdownSkeletonSelector:".dropdown-skeleton-wrapper",lazyTransitionItemSelector:"#transition-links-lazy",errorMessageDisplayed:!1,
hasViewWorkflowPermission:null,templateHelpers:function(){return{archivingIssueHelpUrl:y,archivingProjectHelpUrl:z}},modelEvents:{updated:"update"},regions:{opsbar:".command-bar",pager:"#issue-header-pager"},ui:{transitionsDropdownMenu:"#opsbar-transitions_more_drop"},events:{"aui-show @ui.transitionsDropdownMenu":"initTransitionDropdown"},serializeData:function(){return{issue:this.model.getEntity()}},update:function(a){a.initialize?this._updateWindowTitle():t.include(a.fieldsInProgress,"summary")?
this.renderOpsBar():this.render();this.trigger("updated")},onApplyToDom:function(){var a=new l({model:this.model});a.setElement(this.opsbar.el);this.opsbar.attachView(a);this.opsbar.currentView.applyToDom();this._updateWindowTitle();this._attachTooltipToDropdownTrigger()},onBeforeRender:function(){this.previousElement=this.$el},onRender:function(){this.renderOpsBar();this._updateWindowTitle();this.trigger("panelRendered","header",this.$el,this.previousElement||c(""));setTimeout(()=>{this._attachTooltipToDropdownTrigger()},
0)},renderOpsBar:function(){this.opsbar.show(new l({model:this.model}));this.trigger("individualPanelRendered",this.$el)},_updateWindowTitle:function(){var a=this.model.getEntity(),e=a.key;a=a.summary;var d=u.get("app-title");d&&a&&e&&(document.title="["+e+"] "+a+" - "+d)},focus:function(){this.$el.find("a").eq(0).focus()},initTransitionDropdown:function(){this.isLoadingTransitions||this.errorMessageDisplayed||0<c(this.transitionDropdownSelector).has(".core-transition-list").length||(this.isLoadingTransitions=
!0,m.triggerWorkflowDropdownTriggerClick(),this.scheduleShowLoader(),this.loadTransitionsToDropdown())},scheduleShowLoader:function(){k=!1;setTimeout(()=>{const a=c(this.dropdownSkeletonSelector);a.length&&this.isLoadingTransitions&&(a.removeAttr("hidden"),k=!0)},200)},loadTransitionsToDropdown:function(){this._saveViewWorkflowPermission();const a=this.serializeData().issue.id;g=window.performance.now();v.makeRequest({url:`${p()}/rest/api/2/issue/${a}/transitions`,type:"GET"}).done(e=>this.renderTransitionDropdown(e,
a)).fail(a=>{if(a&&"undefined"!==typeof a.status&&0===a.status)this.showLoadingErrorFlag(),this.hideDropdownMenu(),this.isLoadingTransitions=!1;else{try{var d=JSON.parse(a.responseText)}catch(B){d=null}a=d&&d.errorMessages.includes(A)?"\u042d\u0442\u0430 \u0437\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u0438 \u0435\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c.":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438";this.isLoadingTransitions=!1;this.showErrorMessage(a)}})},showErrorMessage:function(a){a=this._createAuiItemLinkWithSection(a,!0);document.querySelector(this.dropdownSkeletonSelector).replaceWith(a);
this.hasViewWorkflowPermission||document.querySelector(this.lazyTransitionItemSelector).closest("aui-section").remove();this.errorMessageDisplayed=!0},showLoadingErrorFlag:function(){x.showMsg("","\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0435\u0442\u044c\u044e. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435.",{type:"warning"})},renderTransitionDropdown:function(a,e){if(a.transitions&&0!==a.transitions.length){const d=w.atl_token(),b=c("\x3caui-section\x3e\x3c/aui-section\x3e",{class:"core-transition-list"});for(let c of a.transitions)b.append(this.renderTransition(c,
e,d));a=window.performance.now()-g;h=k&&400>a?400-a:0;setTimeout(()=>this.renderFetchedTransitions(b,e),h)}else this.showErrorMessage(this.hasViewWorkflowPermission?"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430"),this.finishDropdownLoading(e)},renderFetchedTransitions:function(a,b){c(this.dropdownSkeletonSelector).replaceWith(a);this._hideEmptyAuiItemLinks();a=document.querySelector(this.transitionDropdownSelector);
if(!this.hasViewWorkflowPermission&&a){const d=this._createAuiItemLinkWithSection("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438",!0);a.appendChild(d)}a=c(this.lazyTransitionItemSelector).closest("aui-section");this._removeLazyTransitionItem();0===a.find("aui-item-link").length&&a.remove();c("aui-item-link [data-jira-tooltip]").each(function(){const a=c(this);a.tooltip({gravity:"w",html:"html"===a.data("jira-tooltip")})});this.finishDropdownLoading(b)},finishDropdownLoading:function(a){this.$el.find(`${this.transitionDropdownSelector} aui-section`).each((a,
b)=>{b.hidden=!1});m.triggerTransitionsLoaded(window.performance.now()-g-h,a);this.isLoadingTransitions=!1;this.hasViewWorkflowPermission&&this._hideEmptyAuiItemLinks()},renderTransition:function(a,b,d){return JIRA.Components.IssueViewer.Templates.Header.transitionItem({id:`action_id_${a.id}`,href:`${p()}/secure/WorkflowUIDispatcher.jspa?id=${b}&action=${a.id}&atl_token=${d}`,labelTransition:a.name,description:a.to.description,labelStatus:a.to.name,lozengeClass:a.to.statusCategory.colorName})},hideDropdownMenu:function(){this.$el.find(`${this.transitionDropdownSelector}`).hide()},
_attachTooltipToDropdownTrigger:function(){c(this.transitionDropdownTriggerSelector).tooltip({gravity:"s",html:!0})},_saveViewWorkflowPermission:function(){this.hasViewWorkflowPermission=!!document.getElementById("view-workflow-button")},_hideEmptyAuiItemLinks:function(){document.querySelectorAll(`${this.transitionDropdownSelector} aui-item-link a:empty`).forEach(a=>{a.hidden=!0})},_removeLazyTransitionItem:function(){c(this.lazyTransitionItemSelector).remove()},_createAuiItemLinkWithSection:function(a,
b=!1){const d=document.createElement("aui-section"),c=document.createElement("aui-item-link");c.innerText=a;b&&c.setAttribute("disabled","true");d.append(c);return d}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/issue/IssueView.js' */
define("jira/components/issueviewer/views/issue",["require"],function(b){var d=b("jira/components/libs/marionette-1.4.1/layout"),e=b("jira/components/issueviewer/templates"),c=b("jira/components/libs/marionette-1.4.1/replaceregion"),f=b("jira/components/issueviewer/actions"),g=b("jquery");return d.extend({template:e.layout,className:"issue-container",regions:{header:{selector:".issue-header-container",regionType:c},body:{selector:".issue-body-container",regionType:c}},modelEvents:{updated:"update"},
showLoading:function(){this.$el.addClass("loading")},hideLoading:function(){this.$el.removeClass("loading")},focusComment:function(a){this.$("#activitymodule .focused").removeClass("focused");this.$("#comment-"+a).addClass("focused");this.$(".js-stalker").trigger("refresh")},update:function(a){this._closeDropdowns();a.initialize&&this.render();a.reason&&a.reason.action===f.EDIT_COMMENT&&this.focusComment(a.reason.meta.commentId);this._bringViewIssueElementIntoView()},remove:function(){this.stopListening();
this.$el.empty();return this},onRender:function(){this.$el.addClass(this.className);this.$el.attr("tabindex","-1");this._bringViewIssueElementIntoView()},onApplyToDom:function(){this._bringViewIssueElementIntoView();this.trigger("render")},_bringViewIssueElementIntoView:function(){var a=this.model.get("entity").viewIssueQuery;if(a){if(a.focusedCommentId)var b="#comment-"+a.focusedCommentId;else if(a.attachmentSortBy||a.attachmentOrder||a.attachmentViewMode)b="#attachmentmodule";b&&g(b).scrollIntoView({marginBottom:200,
marginTop:200})}},_closeDropdowns:function(){this.$el.find(".aui-dropdown2-trigger.active").trigger("aui-button-invoke")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorView.js' */
define("jira/components/issueviewer/views/error",["require"],function(a){return a("jira/components/libs/marionette-1.4.1/layout").extend({className:"issue-container",regions:{pager:"#issue-header-pager"},remove:function(){this.stopListening();this.$el.empty();return this},onRender:function(){this.$el.addClass(this.className);this.$el.attr("tabindex","-1")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorGenericView.js' */
define("jira/components/issueviewer/views/errorgeneric",["require"],function(a){var b=a("jira/components/issueviewer/views/error"),c=a("jira/components/issueviewer/templates"),d=a("jira/components/util/browser");return b.extend({template:c.Error.Generic,events:{"click #issue-error-reload-button":function(){d.locationReload()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/views/error/ErrorNotFoundView.js' */
define("jira/components/issueviewer/views/errornotfound",["require"],function(b){var c=b("jira/components/issueviewer/views/error"),d=b("jira/components/issueviewer/templates"),e=b("jira/components/libs/underscore");return c.extend({template:d.Error.DoesNotExist,initialize:function(a){a=a||{};this.showReturnToSearchOnError=a.showReturnToSearchOnError},triggers:{"click #return-to-search":"returnToSearch"},serializeData:function(){var a=this.showReturnToSearchOnError;e.isFunction(a)&&(a=a());return{hideReturnToSearch:!a}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/controllers/IssueController.js' */
define("jira/components/issueviewer/controllers/issue",["require"],function(b){var e=b("jira/issue"),f=b("jira/components/issueviewer/views/issuebody"),g=b("jira/components/issueviewer/views/issueheader"),h=b("jira/components/issueviewer/views/issuepanels"),k=b("jira/components/issueviewer/views/issue"),l=b("jira/components/libs/marionette-1.4.1/controller"),d=b("jira/components/libs/underscore"),c=e.CommentForm;return l.extend({initialize:function(a){this.model=a.model},_createViews:function(){this.view=
this._createMainView();this.bodyView=this._createBodyView();this.headerView=this._createHeaderView();this.leftPanelsView=this._createPanelsView(this.model.getPanels().getLeftPanels());this.rightPanelsView=this._createPanelsView(this.model.getPanels().getRightPanels());this.infoPanelsView=this._createPanelsView(this.model.getPanels().getInfoPanels())},_createMainView:function(){var a=new k({model:this.model,el:this.$el});this.listenTo(a,{render:function(){this.trigger("renderMainView",a.$el)}});return a},
_createBodyView:function(){return new f({model:this.model})},_createHeaderView:function(){var a=new g({model:this.model});this.listenAndRethrow(a,"panelRendered");this.listenTo(a,{updated:function(){this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},this.model.getIssueInfo())},individualPanelRendered:function(a){this.trigger("individualPanelRendered",a)}});return a},_createPanelsView:function(a){a=new h({collection:a});this.listenTo(a,{"itemview:replacedFocusedPanel":function(){this.trigger("replacedFocusedPanel")},
"itemview:panelRendered":function(a,b,c,d){this.trigger("panelRendered",b,c,d)},"itemview:individualPanelRendered":function(a,b){this.trigger("individualPanelRendered",b)}});return a},createView:function(){this._createViews();this.listenTo(this.view,"render",function(){this.view.header.show(this.headerView);this.view.body.show(this.bodyView);this.bodyView.leftPanels.show(this.leftPanelsView);this.bodyView.rightPanels.show(this.rightPanelsView);this.bodyView.infoPanels.show(this.infoPanelsView);this.trigger("render",
{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1}))})},createViewFromDom:function(){this._createViews();this.listenTo(this.view,"applyToDom",function(){function a(a,b,c){b.setElement(c);b.applyToDom();a.attachView(b)}a(this.view.body,this.bodyView,this.view.$el.find(".issue-body-content"));a(this.view.body,this.headerView,this.view.$el.find("#stalker"));a(this.bodyView.leftPanels,this.leftPanelsView,this.bodyView.$el.find(this.bodyView.leftPanels.el));
a(this.bodyView.rightPanels,this.rightPanelsView,this.bodyView.$el.find(this.bodyView.rightPanels.el));a(this.bodyView.infoPanels,this.infoPanelsView,this.bodyView.$el.find(this.bodyView.infoPanels.el));this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!0}))})},setElement:function(a){this.$el=a;this.view&&this.view.setElement(a)},applyToDom:function(a){a.id=+a.id;this.model.updateFromEntity(a);this.createViewFromDom();this.view.applyToDom()},
show:function(){this.view?this.trigger("render",{pager:this.view.$(this.headerView.pager.el)},d.extend(this.model.getIssueInfo(),{loadedFromDom:!1})):(this.createView(),this.view.render());this.view.hideLoading()},close:function(){this.view&&this.view.close();this.hideLoading();delete this.view},hideLoading:function(){this.view&&this.view.hideLoading()},showLoading:function(){this.view&&this.view.showLoading()},canDismissComment:function(){var a;if(!c.getForm().data("dismissed")&&(a=c.handleBrowseAway()))if(confirm(a))c.getForm().data("dismissed",
!0);else return c.focus(),!1;return!0},applyResponsiveDesign:function(){if(this.$el){var a=this.$el.width();this.$el.toggleClass("skinny",900>a);this.$el.toggleClass("very-skinny",600>a)}},focus:function(){this.view&&this.headerView.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/controllers/ErrorController.js' */
define("jira/components/issueviewer/controllers/error",["require"],function(b){var c=b("jira/components/issueviewer/views/errorgeneric"),d=b("jira/components/issueviewer/views/errornotfound"),f=b("jira/components/libs/marionette-1.4.1/controller"),e=b("jira/components/issueviewer/utils");return f.extend({initialize:function(a){this.contextPath=a.contextPath;this.showReturnToSearchOnError=a.showReturnToSearchOnError},render:function(a,b){switch(a){case "auth":this._renderErrorAuth(b);break;case "forbidden":case "notfound":this._renderErrorView(new d({showReturnToSearchOnError:this.showReturnToSearchOnError}));
break;default:this._renderErrorView(new c)}},applyToDom:function(a,b){switch(a){case "auth":this._renderErrorAuth(b);break;case "forbidden":case "notfound":this._renderErrorViewFromDom(new d({showReturnToSearchOnError:this.showReturnToSearchOnError}));break;default:this._renderErrorViewFromDom(new c)}},close:function(){this.view&&(this.view.close(),delete this.view)},setElement:function(a){this._$el=a;this.view&&this.view.setElement(a)},_renderErrorAuth:function(a){a=this.contextPath+"/login.jsp?os_destination\x3d"+
encodeURIComponent("/browse/"+a);window.location.replace(a)},_renderErrorView:function(a){this.trigger("before:render");e.hideDropdown();this.view=a;this.view.setElement(this._$el);this.view.render();this.listenAndRethrow(this.view,"returnToSearch");this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!1,issueId:null})},_renderErrorViewFromDom:function(a){this.trigger("before:render");e.hideDropdown();this.view=a;this.view.setElement(this._$el);this.view.applyToDom();
this.listenAndRethrow(this.view,"returnToSearch");this.trigger("render",{pager:this.view.$(this.view.pager.el),isError:!0},{loadedFromDom:!0,issueId:null})},isRendered:function(){return!!this.view}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/IssueLoaderService.js' */
define("jira/components/issueviewer/services/issueloader",["require"],function(e){var g=e("jira/components/libs/marionette-1.4.1/controller"),b=e("jira/components/libs/underscore"),f=e("jquery"),h=e("jira/components/issueviewer/legacy/issuefieldutil");return g.extend({initialize:function(){this._promiseManager=new f.RecurringPromise;this._updatingPromise=this._promiseManager.sub();this._updatingPromise.done(b.bind(this._onUpdatingDone,this)).fail(b.bind(this._onUpdatingError,this));this._loadingPromise=
this._promiseManager.sub();this._loadingPromise.done(b.bind(this._onLoadingDone,this)).fail(b.bind(this._onLoadingError,this))},cancel:function(){this._promiseManager.reset()},update:function(a){function c(a){return function(){return{taskKey:a,data:arguments,startIssueLoad:new Date}}}var d=a.issueEntity,k=a.mergeIntoCurrent,e=a.viewIssueData;a=!!a.detailView;var b=new f.Deferred;this._updatingPromise.add(e.get(d.key,!0,{issueEntity:d,loadingDeferred:b,mergeIntoCurrent:k,startIssueLoad:new Date,detailView:a}).pipe(c("issue"),
c("issue"))).fail(function(){b.reject.apply(b,arguments)});return b.promise()},load:function(a){var c=a.issueEntity;a=a.viewIssueData;var d=!!c.detailView;this._currentlyLoading=!0;var b=new f.Deferred;this._loadingPromise.add(a.get(c.key,!1,{issueEntity:c,loadFields:!1,loadingDeferred:b,startIssueLoad:new Date,detailView:d}));return b.promise()},isLoading:function(){return this._currentlyLoading},_onLoadingDone:function(a,c,d){var b=d.issueEntity;b.id=a.issue.id;b.key=a.issue.key;a.pager||(a.pager=
b.pager);h.transformFieldHtml(a);this._currentlyLoading=!1;c.loadDuration=new Date-d.startIssueLoad;this.trigger("issueLoaded",a,c,d);d.loadingDeferred.resolve(a,c,d)},_onUpdatingDone:function(a){var c=a.data[1];c&&(c.isUpdate=!0);this._onLoadingDone.apply(this,a.data)},_onLoadingError:function(a,c,b){c=b.issueEntity;c={issueId:c.id,issueKey:c.key,response:a};this._currentlyLoading=!1;switch(a.status){case 401:a="auth";break;case 403:a="forbidden";break;case 404:a="notfound";break;default:a="generic"}this.trigger("error",
a,c);b.loadingDeferred.reject()},_onUpdatingError:function(a){this._onLoadingError.apply(this,a.data)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/MetadataService.js' */
define("jira/components/issueviewer/services/metadataservice",["require"],function(d){var b=d("jira/util/data/meta"),e=d("jira/components/libs/underscore");return{removeIssueMetadata:function(a){a=a.getEntity();a.metadata?e.each(a.metadata,function(a,c){b.set(c,null)}):b.get("issue-key")&&b.set("issue-key",null)},addIssueMetadata:function(a){a=a.getEntity();e.each(a.metadata,function(a,c){b.set(c,a)})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/DarkFeatures.js' */
define("jira/components/issueviewer/services/darkfeatures",["require"],function(a){var d=a("jira/lib/class"),c=a("jira/ajs/dark-features"),e=a("wrm/data").claim("com.atlassian.jira.jira-issue-nav-components:issueviewer.features");return function(){var b=d.extend({init:function(a,b){this.featureKey=a;this.featureOffKey=b},enabled:function(){return(!this.featureKey||c.isEnabled(this.featureKey))&&!(this.featureOffKey&&c.isEnabled(this.featureOffKey))}}),a=b.extend({enabled:function(){return e[this.featureKey]}});
return{NO_PREFETCH:new b("ka.NO_PREFETCH"),REDIRECT_FROM_GLOBAL_TO_PROJECT:new b(null,"ka.REDIRECT_FROM_GLOBAL_TO_PROJECT_OFF"),HTTP_SESSIONS_DISABLED:new b("ka.HTTP_SESSIONS_DISABLED"),RTE_ENABLED:new a("rteEnabled")}}()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/services/LinksCapturer.js' */
define("jira/components/issueviewer/linkscapturer",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/util/events"),g=c("jira/ajs/layer/inline-layer"),d=c("jquery"),h=c("jira/components/libs/marionette-1.4.1/controller"),k=c("jira/message"),l=c("jira/ajs/ajax/smart-ajax"),m=c("jira/components/libs/uri");return h.extend({initialize:function(){e.bindAll(this,"_onRefineViewEvents","_offRefineViewEvents","_handleReviewViewEvents")},capture:function(a){a!==this.el&&(this.el=a,
this.linksToOtherIssues(),this.linksToReorderSubtasks(),this.viewOptionsForCurrentIssue())},linksToOtherIssues:function(){d(this.el).on("simpleClick","a.issue-link[data-issue-key]",e.bind(function(a){a.preventDefault();a=d(a.target).closest("a").data("issue-key");this.trigger("linkToIssue",{issueKey:a})},this))},linksToReorderSubtasks:function(){d(this.el).on("simpleClick",".subtask-reorder a",e.bind(function(a){a.target.href&&(a.preventDefault(),d.ajax({type:"GET",data:{disableRedirect:!0},url:a.target.href}).done(e.bind(function(){this.trigger("reorderSubtasks")},
this)).fail(function(a){k.showErrorMsg(l.buildSimpleErrorContent(a),{closeable:!0})}))},this))},_handleReviewViewEvents:function(a){var b=a.currentTarget;d(b).parents("ul").find("a.aui-checked").removeClass("aui-checked");d(b).addClass("aui-checked");b=(new m(b.href)).query(!0);this.triggerPreventable("refineViewer",{query:b}).isPrevented&&a.preventDefault()},_onRefineViewEvents:function(a,b){d(b).on("simpleClick","#attachment-sorting-options a,#attachment-sorting-order-options a,#attachment-view-mode-options a,#subtasks-show-all,#subtasks-show-open",
this._handleReviewViewEvents)},_offRefineViewEvents:function(a,b){d(b).off("simpleClick","#attachment-sorting-options a,#attachment-sorting-order-options a,#attachment-view-mode-options a,#subtasks-show-all,#subtasks-show-open",this._handleReviewViewEvents)},viewOptionsForCurrentIssue:function(){f.bind(g.EVENTS.show,this._onRefineViewEvents);f.bind(g.EVENTS.hide,this._offRefineViewEvents)},destroy:function(){f.unbind(g.EVENTS.show,this._onRefineViewEvents);f.unbind(g.EVENTS.hide,this._offRefineViewEvents)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/IssueEventBus.js' */
define("jira/components/issueviewer/legacy/issueeventbus",["require"],function(a){return a("jira/components/libs/brace").Model.extend({namedAttributes:["issueId"],namedEvents:"save saveSuccess savingStarted saveError panelRendered replacedFocusedPanel fieldSubmitted dismiss refreshIssue issueRefreshed updateFromDom updateStatusColor quickEditKeyPressed openFocusShifter".split(" ")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/AsyncData.js' */
define("jira/components/issueviewer/legacy/asyncdata",["require"],function(h){var k=h("jira/components/libs/brace"),f=h("jira/components/libs/underscore"),l=h("jquery");return k.Evented.extend({namedEvents:["change"],initialize:function(a){this.data={};this.pendings={};this.accessIndex=0;a&&(this.disableCache=a.disableCache,this.maxCacheSize=a.maxCacheSize)},get:function(a,b,c){var g=new l.Deferred,d=this.disableCache?{}:this.data,e=f.bind(function(b,e){b=this._set(d,a,f.defaults(b,{accessIndex:this.accessIndex++}),
!0,c);e=f.defaults({changed:b},e,d[a]);c&&c.mergeIntoCurrent&&(e.mergeIntoCurrent=!0);d[a]&&!d[a].error?g.resolve(d[a].value,e,c):g.reject(d[a]&&d[a].value,e,c)},this),h=f.bind(function(b){var d=this.fetch(a,c);this.setPending(a,d,function(a){e({value:a,error:!1,updated:new Date},{initialLoad:b})},function(a){var c={error:!0,updated:new Date};void 0!==a&&(c.value=a);e(c,{initialLoad:b,error:!0})})},this),k=f.bind(function(){this.pendings[a].always(f.bind(e,this,{},{initialLoad:!0}))},this);b||this.disableCache?
h(!1):this.hasCached(a)?e({},{fromCache:!0}):this.hasPending(a)?k():h(!0);return g.promise()},setPending:function(a,b,c,g){this.hasPending(a)?this.pendings[a].update(b):this.pendings[a]=new l.ConcurrentDeferred(b);return this.pendings[a].done(function(a){c(a)}).fail(function(a){g(a)})},getIdByValue:function(a){for(var b in this.data)if(this.data[b].value===a)return b;return null},getMeta:function(a){return this.data[a]||{}},getAllCached:function(){var a={};f.each(this.data,function(b,c){a[c]=b.value});
return a},hasCached:function(a){a=this.getMeta(a);return void 0!==a.value||!0===a.error},hasError:function(a){return!0===this.getMeta(a).error},hasPending:function(a){return(a=this.pendings[a])?a.isPending():!1},set:function(a,b){return this._set(this.data,a,{value:b,updated:new Date},!0)},remove:function(a){return this.data[a]?(delete this.data[a],this.triggerChange(),!0):!1},setError:function(a,b){var c={error:!0,updated:new Date};void 0!==b&&(c.value=b);return this._set(this.data,a,c,!0)},setMultiple:function(a){var b=
new Date,c=!1;f.each(a,f.bind(function(a,d){a=f.pick(a,"value","error");a.updated=b;this._set(this.data,d,a,!1)&&(c=!0)},this));c&&this.triggerChange();return c},reset:function(a){this.data={};this.pendings={};this.accessIndex=0;a?this.setMultiple(a):this.triggerChange()},_set:function(a,b,c,g,d){this.disableCache&&a===this.data&&(a={});var e=a[b]?f.clone(a[b]):{};d=this.mergeFetchedAndCached(e,c,d?d:{},a[b]);!g||a[b]&&!d&&a[b].error===e.error||a!==this.data||this.triggerChange();!a[b]&&this.maxCacheSize&&
f.keys(a).length===this.maxCacheSize?c.accessIndex&&(this._dropItem(a),a[b]=e):a[b]=e;return d},_dropItem:function(a){var b=null,c;for(c in a)if(!a[c].accessIndex){b=c;break}else if(null===b||a[c].accessIndex<a[b].accessIndex)b=c;null!==b&&delete a[b]},fetch:function(a){var b=this.getMeta(a),c=new l.Deferred;!this.hasCached(a)||b.error?c.reject(b.value):c.resolve(b.value);return c.promise()},mergeFetchedAndCached:function(a,b,c,g){f.extend(a,b);return!g||g.value!==a.value||g.error!==a.error}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/ViewIssueData.js' */
define("jira/components/issueviewer/legacy/viewissuedata",["require"],function(q){var d=q("jira/components/libs/underscore"),u=q("jira/components/issueviewer/legacy/asyncdata"),w=q("jira/components/issueviewer/services/darkfeatures"),x=q("jira/util/data/meta"),y=q("jquery"),z=window.AJS.contextPath();return u.extend({initialize:function(a){u.prototype.initialize.call(this,d.defaults(a||{},{disableCache:w.NO_PREFETCH.enabled(),maxCacheSize:x.get("viewissue-max-cache-size")}))},fetch:function(a,c){var b=
{issueKey:a,decorator:"none",prefetch:!!c.prefetch};b.shouldUpdateCurrentProject=!c.detailView;if(c.mergeIntoCurrent&&this.data&&this.data[a]&&this.data[a].value&&this.data[a].value.issue){b.lastReadTime=this.data[a].value.readTime;b.fields=[];d.each(this.data[a].value.fields,function(a){b.fields.push(a.id+":"+a.contentId)});b.issue=["summary:"+this.data[a].value.issue.summaryContentId];b.headers=[];b.links=[];var f=function(a){d.each(a.links,function(a){b.links.push(`${a.id}:${a.contentId}`)});d.each(a.groups,
function(a){f(a)});a.header&&b.headers.push(`${a.header.id}:${a.header.contentId}`)};d.each(this.data[a].value.issue.operations.linkGroups,function(a){f(a)});b.panels=[];var k=this,g=function(c){d.each(k.data[a].value.panels[c],function(a){b.panels.push(a.completeKey+":"+a.contentId)})};g("leftPanels");g("rightPanels");g("infoPanels")}"loadFields"in c&&(b.loadFields=c.loadFields);c.issueEntity&&d.defaults(b,c.issueEntity.viewIssueQuery);var e=y.ajax({url:z+"/secure/AjaxIssueAction!default.jspa",headers:{"X-SITEMESH-OFF":!0},
data:b,type:c.mergeIntoCurrent?"POST":"GET"});c=e.pipe(function(a){return a},function(a){return d.pick(a,"status","responseText","statusText")});c.abort=function(){e.abort.apply(e,arguments)};return c},mergeFetchedAndCached:function(a,c,b){if(this._skipMerging(a,c,b))return d.extend(a,c),null;d.each(d.pairs(c),function(l){"value"!==l[0]&&(a[l[0]]=l[1])});c=c.value;var f=[],k=[],g=[];d.each(c.removedContentIds,function(a,l){var b;"fields"===l?b=f:"panels"===l?b=k:"links"===l&&(b=g);b&&d.each(a,function(a){b.push(a)})});
b=c.fields;var e=c.issue.operations.linkGroups,h=c.panels,n=c.issue.summary,p=c.issue.status;if(this._nothingChanged(f,k,g,b,h,e,n))return null;var m={updated:{},added:{},deleted:{}},l=a.value,v=this._comparator;p&&p.id!==l.issue.status.id&&this._mergeStatus(c,l,m,p);(0<f.length||0<b.length)&&this._mergeFields(b,l,m,f);(0<k.length||0<h.leftPanels.length||0<h.rightPanels.length||0<h.infoPanels.length)&&this._mergePanels(h,l,m,k,v);(0<g.length||0<e.length)&&this._mergeLinks(e,l,m,g,v);n&&this._mergeSummary(c,
l,m);return m},_skipMerging:function(a,c,b){return d.isEmpty(a)||!b.mergeIntoCurrent||!a.value||!a.value.issue||!0===c.error},_nothingChanged:function(a,c,b,d,k,g,e){return 0===a.length&&0===c.length&&0===b.length&&0===d.length&&0===g.length&&0===k.leftPanels.length&&0===k.rightPanels.length&&0===k.infoPanels.length&&!e},_mergeStatus:function(a,d,b,f){a=b.updated.issue||[];a.push("status");b.updated.issue=a;d.issue.status=f},_mergeFields:function(a,c,b,f){b.added.fields=[];b.updated.fields=[];b.deleted.fields=
[];d.each(a,function(a){d.find(c.fields,function(b){return b.id===a.id})?b.updated.fields.push(a.id):b.added.fields.push(a.id)});d.each(c.fields,function(c){d.contains(f,c.id)?b.deleted.fields.push(c.id):d.contains(b.updated.fields,c.id)||a.push(c)});c.fields=a},_mergeSummary:function(a,c,b){const d=b.updated.issue||[];d.push("summary");b.updated.issue=d;c.issue.summary=a.issue.summary;c.issue.summaryContentId=a.issue.summaryContentId},_mergePanels:function(a,c,b,f,k){b.added.panels={};b.updated.panels=
{};b.deleted.panels={};var g=function(e){b.added.panels[e]=[];b.updated.panels[e]=[];b.deleted.panels[e]=[];d.each(a[e],function(a){d.find(c.panels[e],function(b){return b.id===a.id})?b.updated.panels[e].push(a.id):b.added.panels[e].push(a.id)});var g=a[e];d.each(c.panels[e],function(a){d.contains(f,a.completeKey)?b.deleted.panels[e].push(a.id):d.contains(b.updated.panels[e],a.id)||g.push(a)});g.sort(k);c.panels[e]=g};g("leftPanels");g("rightPanels");g("infoPanels")},_mergeLinks:function(a,d,b,f,
k){b.added.groups={};b.updated.groups={};b.deleted.groups={};var c=[];this._mergeOperationsLinks(a,d,c,b,f,k);this._mergeToolsLinks(a,d,c,b,f,k);d.issue.operations.linkGroups=c},_mergeOperationsLinks:function(a,c,b,f,k,g){f.added.groups["view.issue.opsbar"]=[];f.updated.groups["view.issue.opsbar"]=[];f.deleted.groups["view.issue.opsbar"]=[];var e=d.find(c.issue.operations.linkGroups,function(a){return"view.issue.opsbar"===a.id}),h=d.find(a,function(a){return"view.issue.opsbar"===a.id}),n={},p={};
h&&d.each(h.groups,function(a){d.find(e.groups,function(b){return a.id===b.id})?f.updated.groups["view.issue.opsbar"].push(a.id):f.added.groups["view.issue.opsbar"].push(a.id);d.each(a.links,function(b){n[b.id]=b;p[b.id]=a.id});a.groups&&0<a.groups.length&&d.each(a.groups[0].groups,function(a){d.each(a.links,function(b){n[b.id]=b;p[b.id]=a.id})})});if(e){var m=[];h&&d.each(h.groups,function(a){d.contains(f.added.groups["view.issue.opsbar"],a.id)&&m.push(a)});d.each(e.groups,function(a){var b=[],c=
null;h&&(c=d.find(h.groups,function(b){return a.id===b.id}))&&d.each(c.links,function(c){d.find(a.links,function(a){return c.id===a.id})||b.push(c)});var e=!1,l=function(a,b){d.each(a.links,function(c){var l=p[c.id];l&&l!==a.id?e=!0:n[c.id]?b.push(n[c.id]):d.contains(k,c.id)?e=!0:b.push(c)})};l(a,b);b.sort(g);a.links=b;var t=null;c&&c.groups&&0<c.groups.length&&(t=c.groups[0]);var r=null;if(a.groups&&0<a.groups.length){r=a.groups[0];var q=[];t&&d.each(t.groups,function(a){d.find(r.groups,function(b){return a.id===
b.id})||q.push(a)});d.each(r.groups,function(a){var b=[];if(t){var c=d.find(t.groups,function(b){return b.id===a.id});c&&d.each(c.links,function(c){d.find(a.links,function(a){return c.id===a.id})||b.push(c)})}l(a,b);0<b.length&&(b.sort(g),a.links=b,q.push(a))});t&&(t.header?r.header=t.header:delete r.header);0<q.length?(q.sort(g),r.groups=q):(r=null,e=!0)}else t&&(r=c.groups[0]);a.groups=[];r&&(a.groups[0]=r);0<b.length||r?(m.push(a),e&&!d.contains(f.updated.groups["view.issue.opsbar"],a.id)&&f.updated.groups["view.issue.opsbar"].push(a.id)):
f.deleted.groups["view.issue.opsbar"].push(a.id)});0<m.length&&(m.sort(g),e.groups=m,b.push(e))}else h&&b.push(h);f.added.groups["view.issue.opsbar"].sort();f.deleted.groups["view.issue.opsbar"].sort();f.updated.groups["view.issue.opsbar"].sort()},_mergeToolsLinks:function(a,c,b,f,k,g){f.updated.groups["jira.issue.tools"]=!1;var e=d.find(c.issue.operations.linkGroups,function(a){return"jira.issue.tools"===a.id});a=d.find(a,function(a){return"jira.issue.tools"===a.id});var h={};a&&(f.updated.groups["jira.issue.tools"]=
!0,d.each(a.links,function(a){h[a.id]=a}),a.groups&&0<a.groups.length&&d.each(a.groups[0].links,function(a){h[a.id]=a}));if(e){var n=[];a&&d.each(a.links,function(a){d.find(e.links,function(b){return a.id===b.id})||n.push(a)});d.each(e.links,function(a){h[a.id]?n.push(h[a.id]):d.contains(k,a.id)||n.push(a)});n.sort(g);e.links=n;f=null;a&&a.groups&&0<a.groups.length&&(f=a.groups[0]);if(e.groups&&0<e.groups.length){var p=e.groups[0],m=[];f&&d.each(f.links,function(a){d.find(p.links,function(b){return a.id===
b.id})||m.push(a)});d.each(p.links,function(a){h[a.id]?m.push(h[a.id]):d.contains(k,a.id)||m.push(a)});e.groups=[];0<m.length&&(m.sort(g),p.links=m,e.groups[0]=p)}else f&&(e.groups=[f]);b.push(e)}else a&&b.push(a)},_comparator:function(a,c){return a.weight&&c.weight?a.weight>c.weight?1:a.weight<c.weight?-1:0:a.weight&&!c.weight?1:!a.weight&&c.weight?-1:0},updateIssue:function(a,c){(a=this.getMeta(a))&&a.value&&(a.value.fields=c.fields||{})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/legacy/IssueFieldUtil.js' */
define("jira/components/issueviewer/legacy/issuefieldutil",["require"],function(c){var f=c("jira/components/libs/underscore"),d=c("jquery"),g=c("jira/util/data/meta"),e={getFieldSelector:function(a){return"issuetype"===a?"#type-val":"fixVersions"===a?"#fixfor-val":"summary"===a?"#summary-val":"labels"===a?"#wrap-labels .value":"duedate"===a?"#due-date":"#"+a+"-val"},matchesFieldSelector:function(a){return 1===d(e.getFieldSelector(a)).length},transformFieldHtml:function(a){a.fields=f.map(a.fields,
function(a){var b=d("\x3cdiv /\x3e").htmlCatchExceptions(a.editHtml);0!==b.find("input.radio,input.checkbox").length?b.find("legend").eq(0).remove():b.find("label").eq(0).remove();return{id:a.id,label:a.label,editHtml:b.html(),required:a.required,contentId:a.contentId}});return a},getAccessKeyModifier:function(){return g.get("keyboard-accesskey-modifier")},isWikifield:function(a){try{return(new DOMParser).parseFromString(a,"text/html").body.querySelector(".jira-wikifield")}catch(h){return!1}}};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/Utils.js' */
define("jira/components/issueviewer/utils",["require"],function(a){var b=a("aui/inline-dialog"),c=a("jira/ajs/layer/inline-layer"),d=a("jquery");return{hideLightbox:function(){d.fancybox.close()},hideDropdown:function(){b.current&&"column-picker-dialog"!==b.current.id&&b.current.hide();if(c.current){var a=c.current.options.offsetTarget();a instanceof d&&(a.is(":visible")||c.current.hide())}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/actions.js' */
define("jira/components/issueviewer/actions",["require"],function(a){var b=a("jira/components/libs/underscore");a=a("jira/components/util/events/issue-actions");return b.extend({},a,{EDIT_COMMENT:"editComment"})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/eventtypes.js' */
define("jira/components/issueviewer/eventtypes",["require"],function(a){a=a("jira/util/events/types");a.ISSUE_REFRESHED="issueRefreshed";a.PANEL_REFRESHED="panelRefreshed";return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/analytics/IssueOpsbar.js' */
define("jira/components/issueviewer/analytics/issueopsbar",["require"],function(a){var f=a("jira/components/libs/underscore"),g=a("jquery"),h=a("jira/viewissue/analytics-utils"),k=a("jira/components/utils/ajshelper");a=function(c){this.issueId=c.model.get("id");this.$el=c.$el;this.bindEventsToOpsbar()};a.prototype.triggerEvent=function(c){k.trigger("analyticsEvent",{name:"kickass.opsbar.operation",data:c})};a.prototype._getParamsButtonMain=function(c,a,d){return f.extend(this._getParamsCommon(c),
{issueId:this.issueId,id:a.attr("id"),idx:d})};a.prototype._getParamsButtonSubmenu=function(a,b,d,l,e){return f.extend(this._getParamsCommon(a),{issueId:this.issueId,id:b.attr("id"),idx:d,parentId:l.attr("id"),parentIdx:e})};a.prototype._getParamsCommon=function(){return{context:h.context()}};a.prototype.bindEventsToOpsbar=function(){this.$el.find("div.ops-menus .aui-button").each(function(a,b){b=g(b);if(b.hasClass("toolbar-dropdown")){var d=b.find("a.toolbar-trigger");d.click(function(c){this.triggerEvent(this._getParamsButtonMain(c,
d,a))}.bind(this));b.find(".aui-list a").each(function(c,b){var e=g(b);e.click(function(b){this.triggerEvent(this._getParamsButtonSubmenu(b,e,c,d,a))}.bind(this))}.bind(this))}else{var c=b.find("a");c.click(function(b){this.triggerEvent(this._getParamsButtonMain(b,c,a))}.bind(this))}}.bind(this))};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/analytics/IssueHeader.js' */
define("jira/components/issueviewer/analytics/issueheader",["jira/components/utils/ajshelper"],function(a){return{triggerWorkflowDropdownTriggerClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.issueheader.workflow-dropdown.click"})},triggerTransitionsLoaded:function(b,c){a.trigger("analyticsEvent",{name:"jira.viewissue.issueheader.workflow-dropdown.transitions-loaded",data:{elapsedTimeMs:b,issueId:c}})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/IssueViewer.js' */
define("jira/components/issueviewer",["require"],function(b){var h=b("jira/components/libs/underscore"),u=b("jira/components/issueviewer/actions"),v=b("jira/components/issueviewer/services/darkfeatures"),w=b("jira/components/issueviewer/controllers/error"),d=b("jira/util/events"),x=b("jira/components/issueviewer/controllers/issue"),y=b("jira/components/issueviewer/legacy/issueeventbus"),z=b("jira/components/issueviewer/services/issueloader"),A=b("jira/components/issueviewer/entities/issue"),f=b("jquery"),
B=b("jira/components/issueviewer/linkscapturer"),p=b("jira/components/libs/marionette-1.4.1/controller"),q=b("jira/util/data/meta"),m=b("jira/components/issueviewer/services/metadataservice"),r=b("jira/util/events/reasons"),t=window.JIRA,g=b("jira/components/issueviewer/eventtypes"),k=b("jira/components/issueviewer/utils"),C=b("jira/components/issueviewer/legacy/viewissuedata"),n=b("wrm/data"),D=window.AJS.contextPath(),l=function(){t.trace.apply(t,arguments)};return p.extend({namedEvents:["loadComplete",
"loadError","close","replacedFocusedPanel","linkToIssue"],initialize:function(a){a=a||{};a.useJIRAEvents=!1!==a.useJIRAEvents;this.model=new A;this.eventBus=new y;this.viewIssueData=new C;this._buildIssueLoader();this._buildLinksCapturer();this._buildErrorController({showReturnToSearchOnError:a.showReturnToSearchOnError});this._buildIssueController();d.bind(g.REFRESH_ISSUE_PAGE,h.bind(function(a,b,d){this.model.isCurrentIssue(b)&&this.refreshIssue(d)},this))},_buildIssueLoader:function(){this.issueLoader=
new z;this.listenTo(this.issueLoader,"error",function(a,c){this.trigger("loadError",c);this.errorController.render(a,c.issueKey);this.removeIssueMetadata();l("jira.issue.refreshed",{id:c.issueId});this.options.useJIRAEvents&&d.trigger(g.ISSUE_REFRESHED,[c.issueId])});this.listenTo(this.issueLoader,"issueLoaded",this._onIssueLoaded)},_buildLinksCapturer:function(){this.linksCapturer=new B;this.listenTo(this.linksCapturer,{linkToIssue:function(a){this.trigger("linkToIssue",a)},refineViewer:function(a){this.trigger("refineViewer",
a)},reorderSubtasks:function(){this.issueController.showLoading();this.refreshIssue({reason:u.UPDATE}).always(h.bind(function(){this.issueController.hideLoading()},this))}})},_buildErrorController:function(a){a=a||{};this.errorController=new w({contextPath:D,showReturnToSearchOnError:a.showReturnToSearchOnError});this.listenTo(this.errorController,"before:render",function(){this.issueController.close()});this.listenTo(this.errorController,"returnToSearch",function(){this.trigger("close")});this.listenAndRethrow(this.errorController,
"render")},_buildIssueController:function(){this.issueController=new x({model:this.model});this.listenAndRethrow(this.issueController,"replacedFocusedPanel");this.listenTo(this.issueController,{render:function(a,c){k.hideDropdown();this.errorController.close();this.trigger("render",a,c);l("jira.psycho.issue.refreshed",{id:this.model.getId()})},renderMainView:function(a){this.options.useJIRAEvents&&(d.trigger(g.NEW_CONTENT_ADDED,[a,r.pageLoad]),d.trigger(g.REFRESH_TOGGLE_BLOCKS,[this.model.getId()]));
this.trigger("renderMainView",a,this.model.getId())},panelRendered:function(a,c,b){this.eventBus.triggerPanelRendered(a,c);this.options.useJIRAEvents&&d.trigger(g.PANEL_REFRESHED,[a,c,b]);this.trigger("panelRendered",a,c,b)},close:function(){k.hideDropdown()},individualPanelRendered:function(a){this.options.useJIRAEvents&&d.trigger(g.NEW_CONTENT_ADDED,[a,r.panelRefreshed]);this.trigger("individualPanelRendered",a)}})},_updateModel:function(a,c){this.model.update(a,c)},_onIssueLoaded:function(a,c,
b){var f=!v.NO_PREFETCH.enabled(),e=b.issueEntity;b=!c.mergeIntoCurrent&&!1!==b.initialize;var h=!this.model.isCurrentIssue(e.id),k=!!e.detailView;if(!c.isUpdate||b)this.model.resetToDefault(),this.errorController.close();this._updateModel(a,{initialize:b,changed:c.changed,mergeIntoCurrent:c.mergeIntoCurrent});c.isUpdate&&!b||this.issueController.close();this.issueController.show();f&&c.fromCache&&this.refreshIssue(e,{fromCache:!0,mergeIntoCurrent:!c.error,detailView:k});m.addIssueMetadata(this.model);
e.bringToFocus&&e.bringToFocus();this._triggerLoadComplete(h,c,e);a={id:e.id};c.fromCache?l("jira.issue.loadFromCache",a):l("jira.issue.loadFromServer",a);l("jira.issue.refreshed",a);this.options.useJIRAEvents&&d.trigger(g.ISSUE_REFRESHED,[e.id])},_triggerLoadComplete:function(a,c,b){this.trigger("loadComplete",this.model,{isNewIssue:a,issueId:b.id,issueKey:b.key,duration:c.loadDuration,loadReason:c.fromCache?"issues-cache-refresh":void 0,fromCache:c.fromCache,issueRefreshedEvent:!!this.options.useJIRAEvents})},
abortPending:function(){this.issueLoader.cancel()},canDismissComment:function(){return this.issueController.canDismissComment()},beforeHide:function(){k.hideLightbox();k.hideDropdown();this.abortPending();this.removeIssueMetadata()},beforeShow:function(){m.addIssueMetadata(this.model)},getIssueId:function(){return this.model.getEntity().id||null},getIssueKey:function(){return this.model.getEntity().key||null},getProjectKey:function(){return this.model.get("projectKey")||null},getProjectType:function(){return this.model.get("projectType")||
null},getProjectId:function(){return this.model.get("projectId")||null},_loadIssueFromDom:function(a){a.id&&-1!==a.id?this.issueController.applyToDom(h.extend({id:-1},a)):(this.errorController.applyToDom("notfound",a.key),this.trigger("loadError"));q.set("serverRenderedViewIssue",null);a={id:this.getIssueId()};l("jira.issue.refreshed",a)},loadIssue:function(a){if(q.get("serverRenderedViewIssue"))return a.project={id:n.claim("projectId"),key:n.claim("projectKey"),projectType:n.claim("projectType")},
this.loadIssueRenderedByTheServer(a);if(!this.canDismissComment()||!a.key)return(new f.Deferred).reject();this.issueController.showLoading();return this.issueLoader.load({issueEntity:a,viewIssueData:this.viewIssueData})},loadIssueRenderedByTheServer:function(a){var b=f("#key-val"),d=f("#summary-val");a.id=b.attr("rel")||-1;a.summary=d.text();this._loadIssueFromDom(a);this.trigger("loadComplete",this.model,{isNewIssue:!1,issueId:a.id,issueKey:a.key,duration:0,loadReason:void 0,fromCache:!1});return(new f.Deferred).resolve().promise()},
refreshIssue:function(a){a=h.defaults({},a,{mergeIntoCurrent:!0});if(this.model.hasIssue()){var b=this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:a.mergeIntoCurrent,detailView:a.detailView});a.complete&&(b=b.done(a.complete).fail(a.complete));this.issueController.showLoading()}else b=(new f.Deferred).resolve().promise();return b},removeIssueMetadata:function(){m.removeIssueMetadata(this.model)},setContainer:function(a){this.linksCapturer.capture(a);
this.errorController.setElement(a);this.issueController.setElement(a)},isCurrentlyLoading:function(){return this.issueLoader.isLoading()},updateIssueWithQuery:function(a){this.issueController.showLoading();this.model.updateIssueQuery(a);this.issueLoader.update({viewIssueData:this.viewIssueData,issueEntity:this.model.getEntity(),mergeIntoCurrent:!0})},dismiss:function(){this.model.resetToDefault();this.errorController.close();this.issueController.close();this.linksCapturer.destroy()},close:function(){this.canDismissComment()&&
(this.dismiss(),this.trigger("close"))},destroy:function(){this.dismiss();p.prototype.close.call(this)},applyResponsiveDesign:function(){this.issueController.applyResponsiveDesign()},isShowingError:function(){return this.errorController.isRendered()},focus:function(){this.issueController.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/IssueViewerAppModule.js' */
define("jira/components/issueviewer/appmodule",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/components/issueviewer");return a("jira/components/libs/marionette-1.4.1/appmodule").extend({name:"issueViewer",generateMasterRequest:!0,create:function(a){a=b.defaults({},a,{showReturnToSearchOnError:function(){return!1}});return new c({showReturnToSearchOnError:a.showReturnToSearchOnError})},commands:function(){return{abortPending:!0,beforeHide:!0,beforeShow:!0,removeIssueMetadata:!0,
updateIssueWithQuery:!0,close:!0,setContainer:!0,dismiss:!0}},requests:function(){return{loadIssue:!0,canDismissComment:!0,getIssueId:!0,getIssueKey:!0,refreshIssue:!0,isCurrentlyLoading:!0}},events:function(){return"loadComplete loadError close render replacedFocusedPanel linkToIssue refineViewer".split(" ")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/Issue.soy' */
// This file was automatically generated from Issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }


JIRA.Components.IssueViewer.Templates.layout = function(opt_data, opt_ignored) {
  return '<div id="issue-content" class="issue-edit-form">' + ((opt_data.serverRenderedViewIssue) ? '<header id="stalker" class="issue-header js-stalker">' + JIRA.Components.IssueViewer.Templates.Header.issueHeader(opt_data) + '</header><div class="issue-body-content">' + JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels(opt_data) + '</div>' : '<div class="issue-header-container"></div><div class="issue-body-container"></div>') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.layout.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.layout';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueHeader.soy' */
// This file was automatically generated from IssueHeader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Header == 'undefined') { JIRA.Components.IssueViewer.Templates.Header = {}; }


JIRA.Components.IssueViewer.Templates.Header.opsbar = function(opt_data, opt_ignored) {
  var output = '<div class="ops-cont"><div class="ops-menus aui-toolbar2"><div class="aui-toolbar2-inner">';
  if (opt_data.issue.operations) {
    var linkGroupList6 = opt_data.issue.operations.linkGroups;
    var linkGroupListLen6 = linkGroupList6.length;
    for (var linkGroupIndex6 = 0; linkGroupIndex6 < linkGroupListLen6; linkGroupIndex6++) {
      var linkGroupData6 = linkGroupList6[linkGroupIndex6];
      if (linkGroupData6.id && linkGroupData6.id == 'view.issue.opsbar') {
        output += '<div class="aui-toolbar2-primary">';
        var subGroupList10 = linkGroupData6.groups;
        var subGroupListLen10 = subGroupList10.length;
        for (var subGroupIndex10 = 0; subGroupIndex10 < subGroupListLen10; subGroupIndex10++) {
          var subGroupData10 = subGroupList10[subGroupIndex10];
          output += JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: subGroupData10, workflowStatus: opt_data.issue.status});
        }
        output += '</div>';
      } else if (linkGroupData6.id && linkGroupData6.id == 'jira.issue.tools') {
        output += '<div class="aui-toolbar2-secondary">' + JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: linkGroupData6, workflowStatus: opt_data.issue.status}) + '</div>';
      }
    }
  }
  output += '</div></div>';
  if (opt_data.issue.operations) {
    var linkGroupList26 = opt_data.issue.operations.linkGroups;
    var linkGroupListLen26 = linkGroupList26.length;
    for (var linkGroupIndex26 = 0; linkGroupIndex26 < linkGroupListLen26; linkGroupIndex26++) {
      var linkGroupData26 = linkGroupList26[linkGroupIndex26];
      if (linkGroupData26.id && linkGroupData26.id == 'view.issue.opsbar') {
        var subGroupList29 = linkGroupData26.groups;
        var subGroupListLen29 = subGroupList29.length;
        for (var subGroupIndex29 = 0; subGroupIndex29 < subGroupListLen29; subGroupIndex29++) {
          var subGroupData29 = subGroupList29[subGroupIndex29];
          output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: subGroupData29});
        }
      } else if (linkGroupData26.id && linkGroupData26.id == 'jira.issue.tools') {
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: linkGroupData26});
      }
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.opsbar.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.opsbar';
}


JIRA.Components.IssueViewer.Templates.Header.issueHeader = function(opt_data, opt_ignored) {
  return '<div class="issue-header-content">' + aui.page.pageHeader({content: '' + ((opt_data.issue.project) ? aui.page.pageHeaderImage({content: '' + JIRA.Templates.Headers.projectAvatar({id: '' + soy.$$escapeHtml(opt_data.issue.project.id), projectKey: '' + soy.$$escapeHtml(opt_data.issue.project.key), projectName: '' + soy.$$escapeHtml(opt_data.issue.project.name), avatarUrl: '' + soy.$$escapeHtml(opt_data.issue.project.avatarUrls['48x48']), avatarAlt: '' + soy.$$escapeHtml(opt_data.issue.project.name), isSystemAvatar: opt_data.issue.project.systemAvatar})}) + aui.page.pageHeaderMain({content: '<ol class="aui-nav aui-nav-breadcrumbs">' + ((opt_data.issue.project.archived) ? '<li><span id="project-name-val">' + soy.$$escapeHtml(opt_data.issue.project.name) + '</span></li>' : '<li><a id="project-name-val" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.project.key) + '">' + soy.$$escapeHtml(opt_data.issue.project.name) + '</a></li>') + ((opt_data.issue.parent && opt_data.issue.parent.id) ? '<li><a class="issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.parent.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.parent.key) + '" id="parent_issue_summary" title="' + soy.$$escapeHtml(opt_data.issue.parent.summary) + '">' + soy.$$escapeHtml(opt_data.issue.parent.key) + ' ' + soy.$$escapeHtml(opt_data.issue.parent.summary) + '</a></li>' : '') + '<li><a class="issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" id="key-val" rel="' + soy.$$escapeHtml(opt_data.issue.id) + '">' + soy.$$escapeHtml(opt_data.issue.key) + '</a></li></ol><h2 id="summary-val">' + soy.$$escapeHtml(opt_data.issue.summary) + '</h2>'}) : '') + aui.page.pageHeaderActions({content: '<div id="issue-header-pager">' + ((opt_data.pager) ? JIRA.Components.IssueViewer.Templates.Header.pager(opt_data.pager) : '') + '</div>'})}) + ((opt_data.issue.archived) ? aui.message.info({content: '' + (((opt_data.issue.project == null) ? null : opt_data.issue.project.archived) ? '<p><b>' + soy.$$escapeHtml('\u042d\u0442\u043e \u0437\u0430\u0434\u0430\u0447\u0430 \u0438\u0437 \u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + '</b> ' + soy.$$escapeHtml('\u0415\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c, \u043d\u043e \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c.') + ' <a target=\'_blank\' href=\'' + soy.$$escapeHtml(opt_data.archivingHelpUrl) + '\' data-track-click="issue.archived.project.learn.more.click">' + soy.$$escapeHtml('\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435') + '</a>' : '<p><b>' + soy.$$escapeHtml('\u042d\u0442\u0430 \u0437\u0430\u0434\u0430\u0447\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0430\u0440\u0445\u0438\u0432') + '</b> ' + soy.$$escapeHtml('\u0415\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c, \u043d\u043e \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c.') + ' <a target=\'_blank\' href=\'' + soy.$$escapeHtml(opt_data.archivingIssueHelpUrl) + '\' data-track-click="issue.archived.learn.more.click">' + soy.$$escapeHtml('\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435') + '</a>'), id: 'issue-header-archived'}) : '') + '<div class="command-bar">' + ((opt_data.serverRenderedViewIssue) ? JIRA.Components.IssueViewer.Templates.Header.opsbar(opt_data) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.issueHeader.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.issueHeader';
}


JIRA.Components.IssueViewer.Templates.Header.linkGroup = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.group.header && opt_data.group.header.label) {
    output += (opt_data.group.links.length > 0 || opt_data.group.groups.length > 0) ? JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger({header: opt_data.group.header, groups: opt_data.group.groups, links: opt_data.group.links, workflowStatus: opt_data.workflowStatus}) : '';
  } else {
    output += '<div' + ((opt_data.group.id) ? ' id="opsbar-' + soy.$$escapeHtml(opt_data.group.id) + '" ' : '') + 'class="aui-buttons pluggable-ops">';
    var linkList159 = opt_data.group.links;
    var linkListLen159 = linkList159.length;
    for (var linkIndex159 = 0; linkIndex159 < linkListLen159; linkIndex159++) {
      var linkData159 = linkList159[linkIndex159];
      output += JIRA.Components.IssueViewer.Templates.Header.toolbarItem({link: linkData159});
    }
    if (opt_data.group.id != 'opsbar-transitions' && opt_data.group.groups.length == 1 && opt_data.group.groups[0].links.length == 0 && opt_data.group.groups[0].groups.length == 1 && opt_data.group.groups[0].groups[0].links.length == 1) {
      output += JIRA.Components.IssueViewer.Templates.Header.toolbarItem({link: opt_data.group.groups[0].groups[0].links[0]});
    } else {
      var subGroupList168 = opt_data.group.groups;
      var subGroupListLen168 = subGroupList168.length;
      for (var subGroupIndex168 = 0; subGroupIndex168 < subGroupListLen168; subGroupIndex168++) {
        var subGroupData168 = subGroupList168[subGroupIndex168];
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroup({group: subGroupData168, workflowStatus: opt_data.workflowStatus});
      }
    }
    output += '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.linkGroup.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.linkGroup';
}


JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.group.header && opt_data.group.header.label) {
    output += (opt_data.group.links.length > 0 || opt_data.group.groups.length > 0) ? JIRA.Components.IssueViewer.Templates.Header.dropdownMenu(opt_data.group) : '';
  } else {
    if (! (opt_data.group.id != 'opsbar-transitions' && opt_data.group.groups.length == 1 && opt_data.group.groups[0].links.length == 0 && opt_data.group.groups[0].groups.length == 1 && opt_data.group.groups[0].groups[0].links.length == 1)) {
      var subGroupList183 = opt_data.group.groups;
      var subGroupListLen183 = subGroupList183.length;
      for (var subGroupIndex183 = 0; subGroupIndex183 < subGroupListLen183; subGroupIndex183++) {
        var subGroupData183 = subGroupList183[subGroupIndex183];
        output += JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown({group: subGroupData183});
      }
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.linkGroupDropdown';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger = function(opt_data, opt_ignored) {
  return '<a href="#"' + ((opt_data.header.id) ? 'id="' + soy.$$escapeHtml(opt_data.header.id) + '"' : '') + ((opt_data.header.id) ? 'aria-owns="' + soy.$$escapeHtml(opt_data.header.id) + '_drop"' : '') + 'aria-haspopup="true" role="button"' + JIRA.Components.IssueViewer.Templates.Header.titleAttr({title: opt_data.header.title, label: opt_data.header.label}) + 'class="aui-button ' + ((opt_data.links.length > 0 || opt_data.groups.length > 0) ? ' aui-dropdown2-trigger' : '') + ((opt_data.header.styleClass) ? ' ' + soy.$$escapeHtml(opt_data.header.styleClass) : '') + '" data-aui-alignment-container=".command-bar"' + ((opt_data.header.id == 'opsbar-transitions_more') ? 'title="' + JIRA.Components.IssueViewer.Templates.Header.workflowStatusTooltipMessage({statusName: opt_data.workflowStatus.name, statusDescription: opt_data.workflowStatus.description}) + '"' : '') + '>' + ((opt_data.header.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.header.iconClass) + '"></span> ' : '') + '<span class="dropdown-text">' + soy.$$truncate(soy.$$escapeHtml(opt_data.header.label), 25, true) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownTrigger';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownMenu = function(opt_data, opt_ignored) {
  var output = '<aui-dropdown-menu' + ((opt_data.header.id) ? ' id="' + soy.$$escapeHtml(opt_data.header.id) + '_drop" ' : '') + '>' + ((opt_data.header.id == 'opsbar-transitions_more') ? JIRA.Components.IssueViewer.Templates.Header.skeleton(null) : '');
  if (opt_data.links.length > 0) {
    output += '<aui-section>';
    var linkList243 = opt_data.links;
    var linkListLen243 = linkList243.length;
    for (var linkIndex243 = 0; linkIndex243 < linkListLen243; linkIndex243++) {
      var linkData243 = linkList243[linkIndex243];
      output += JIRA.Components.IssueViewer.Templates.Header.dropdownItem(linkData243);
    }
    output += '</aui-section>';
  }
  var groupList247 = opt_data.groups;
  var groupListLen247 = groupList247.length;
  for (var groupIndex247 = 0; groupIndex247 < groupListLen247; groupIndex247++) {
    var groupData247 = groupList247[groupIndex247];
    output += '<aui-section ' + ((opt_data.header.id == 'opsbar-transitions_more') ? 'hidden' : '') + '>';
    var linkList253 = groupData247.links;
    var linkListLen253 = linkList253.length;
    for (var linkIndex253 = 0; linkIndex253 < linkListLen253; linkIndex253++) {
      var linkData253 = linkList253[linkIndex253];
      output += JIRA.Components.IssueViewer.Templates.Header.dropdownItem(linkData253);
    }
    output += '</aui-section>';
  }
  output += '</aui-dropdown-menu>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownMenu.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownMenu';
}


JIRA.Components.IssueViewer.Templates.Header.dropdownItem = function(opt_data, opt_ignored) {
  return '<aui-item-link href="' + ((opt_data.href) ? soy.$$escapeHtml(opt_data.href) : '#') + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '" ' : '') + ((opt_data.styleClass) ? 'class="' + soy.$$escapeHtml(opt_data.styleClass) + '"' : '') + ((opt_data.styleClass == 'issueaction-lazy-loaded') ? ' hidden' : '') + JIRA.Components.IssueViewer.Templates.Header.titleAttr(opt_data) + '><span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.label), 25, true) + '</span></aui-item-link>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.dropdownItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.dropdownItem';
}


JIRA.Components.IssueViewer.Templates.Header.transitionItem = function(opt_data, opt_ignored) {
  return '<aui-item-link href="' + ((opt_data.href) ? soy.$$escapeHtml(opt_data.href) : '#') + '" ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="issueaction-workflow-transition"><div class="transition-label"><div class="workflow-cell"><span data-jira-tooltip title="' + soy.$$escapeHtml(opt_data.labelTransition) + '">' + soy.$$escapeHtml(opt_data.labelTransition) + '</span></div><div class="workflow-cell arrow-icon"><span class="aui-icon aui-icon-small aui-iconfont-arrow-right">' + soy.$$escapeHtml('\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043d\u0430') + '</span></div><div class="workflow-cell"><span class="aui-lozenge jira-issue-status-lozenge jira-issue-status-lozenge-max-width-medium jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.lozengeClass) + '" data-jira-tooltip="html" title="' + JIRA.Components.IssueViewer.Templates.Header.workflowStatusTooltipMessage({statusName: opt_data.labelStatus, statusDescription: opt_data.description}) + '">' + soy.$$escapeHtml(opt_data.labelStatus) + '</span></div>' + ((opt_data.description) ? '<span class="assistive">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</div></aui-item-link>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.transitionItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.transitionItem';
}


JIRA.Components.IssueViewer.Templates.Header.toolbarItem = function(opt_data, opt_ignored) {
  return '<a id="' + soy.$$escapeHtml(opt_data.link.id) + '" role="button"' + ((opt_data.link.id == 'jira-share-trigger') ? 'aria-expanded="false" aria-haspopup="dialog"' : '') + JIRA.Components.IssueViewer.Templates.Header.titleAttr({title: opt_data.link.title, label: opt_data.link.label}) + 'class="aui-button toolbar-trigger' + ((opt_data.link.styleClass) ? ' ' + soy.$$escapeHtml(opt_data.link.styleClass) : '') + '" href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.id == 'comment-issue') ? 'data-queued-click' : '') + '>' + ((opt_data.link.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.link.iconClass) + '"></span> <span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.link.label), 25, true) + '</span>' : '<span class="trigger-label">' + soy.$$truncate(soy.$$escapeHtml(opt_data.link.label), 25, true) + '</span>') + ((opt_data.link.id == 'jira-share-trigger') ? '<p class="assistive">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0435\u0439') + '</p>' : '') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.toolbarItem.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.toolbarItem';
}


JIRA.Components.IssueViewer.Templates.Header.titleAttr = function(opt_data, opt_ignored) {
  return '' + ((opt_data.title) ? 'title="' + soy.$$escapeHtml(opt_data.title) + '"' : (opt_data.label && opt_data.label.length && opt_data.label.length > 25) ? 'title="' + soy.$$escapeHtml(opt_data.label) + '"' : '');
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.titleAttr.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.titleAttr';
}


JIRA.Components.IssueViewer.Templates.Header.skeleton = function(opt_data, opt_ignored) {
  return '<div class="dropdown-skeleton-wrapper" hidden></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.skeleton.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.skeleton';
}


JIRA.Components.IssueViewer.Templates.Header.workflowStatusTooltipMessage = function(opt_data, opt_ignored) {
  return '<span class=&quot;jira-issue-status-tooltip-title&quot;>' + soy.$$escapeHtml(opt_data.statusName) + '</span>' + ((opt_data.statusDescription) ? '<br><span class=&quot;jira-issue-status-tooltip-desc&quot;>' + soy.$$escapeHtml(opt_data.statusDescription) + '</span>' : '');
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Header.workflowStatusTooltipMessage.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Header.workflowStatusTooltipMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueBody.soy' */
// This file was automatically generated from IssueBody.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Body.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Body == 'undefined') { JIRA.Components.IssueViewer.Templates.Body = {}; }


JIRA.Components.IssueViewer.Templates.Body.issueBody = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels({panels: false, serverRenderedViewIssue: false});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issueBody.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issueBody';
}


JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels = function(opt_data, opt_ignored) {
  var output = '<div class="aui-group issue-body"><div class="aui-item issue-main-column">';
  if (opt_data.serverRenderedViewIssue) {
    var panelList10 = opt_data.panels.leftPanels;
    var panelListLen10 = panelList10.length;
    for (var panelIndex10 = 0; panelIndex10 < panelListLen10; panelIndex10++) {
      var panelData10 = panelList10[panelIndex10];
      output += JIRA.Components.IssueViewer.Templates.Body.issuePanel(panelData10);
    }
  }
  output += '</div><div id="viewissuesidebar" class="aui-item issue-side-column">';
  if (opt_data.serverRenderedViewIssue) {
    var panelList16 = opt_data.panels.rightPanels;
    var panelListLen16 = panelList16.length;
    for (var panelIndex16 = 0; panelIndex16 < panelListLen16; panelIndex16++) {
      var panelData16 = panelList16[panelIndex16];
      output += JIRA.Components.IssueViewer.Templates.Body.issuePanel(panelData16);
    }
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issueBodyWithPanels';
}


JIRA.Components.IssueViewer.Templates.Body.issuePanel = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.renderHeader) {
    output += '<div id=' + soy.$$escapeHtml(opt_data.id) + ' class="module toggle-wrap ' + ((opt_data.id == 'linkingmodule') ? 'm-link-module' : '') + '"><div id="' + soy.$$escapeHtml(opt_data.id) + '_heading" class="mod-header"><h3 class="toggle-header" id="' + soy.$$escapeHtml(opt_data.id) + '-label"><button class="aui-button toggle-title" aria-label="' + soy.$$escapeHtml(opt_data.label) + '" aria-controls="' + soy.$$escapeHtml(opt_data.id) + '" aria-expanded="true"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"><g fill="none" fill-rule="evenodd"><path d="M3.29175 4.793c-.389.392-.389 1.027 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955c.388-.392.388-1.027 0-1.419-.389-.392-1.018-.392-1.406 0l-2.298 2.317-2.307-2.327c-.194-.195-.449-.293-.703-.293-.255 0-.51.098-.703.293z" fill="#344563"/></g></svg><span class="aui-toggle-header-button-label">' + soy.$$escapeHtml(opt_data.label) + '</span></button></h3>';
    if (opt_data.id != 'linkingmodule') {
      output += '<ul class="ops">';
      var linkList43 = opt_data.headerLinks.links;
      var linkListLen43 = linkList43.length;
      for (var linkIndex43 = 0; linkIndex43 < linkListLen43; linkIndex43++) {
        var linkData43 = linkList43[linkIndex43];
        output += '<li>' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData43, noRole: true}) + '</li>';
      }
      if (opt_data.headerLinks.groups.length > 0) {
        output += '<li class="drop"><div class="aui-dd-parent"><button class="aui-button aui-button-compact aui-button-subtle js-default-dropdown" title="' + soy.$$escapeHtml('\u041e\u043f\u0446\u0438\u0438') + '" aria-label="' + soy.$$escapeHtml(opt_data.label) + ' ' + soy.$$escapeHtml('\u041e\u043f\u0446\u0438\u0438') + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml('\u041e\u043f\u0446\u0438\u0438') + '</span></button><div class="aui-dropdown-content aui-list">';
        var groupList61 = opt_data.headerLinks.groups;
        var groupListLen61 = groupList61.length;
        for (var groupIndex61 = 0; groupIndex61 < groupListLen61; groupIndex61++) {
          var groupData61 = groupList61[groupIndex61];
          output += ((groupData61.header && groupData61.header.label) ? '<h5>' + soy.$$escapeHtml(groupData61.header.label) + '</h5>' : '') + '<ul ';
          if (groupData61.header && groupData61.header.id) {
            switch (groupData61.header.id) {
              case 'attachment-sorting-options':
                output += 'role="menu"><li role="presentation"><ul role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439') + '"';
                break;
              case 'attachment-sorting-order-options':
                output += 'role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439') + '"';
                break;
              case 'attachment-view-mode-options':
                output += 'role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0440\u0435\u0436\u0438\u043c\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439') + '"';
                break;
              case 'attachment-manage-options':
                output += 'role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438') + '"';
                break;
              default:
                output += 'role="menu"';
            }
            output += ' id="' + soy.$$escapeHtml(groupData61.header.id) + '"';
          }
          output += ' class="aui-list-section' + ((groupData61.header && groupData61.header.styleClass) ? ' ' + soy.$$escapeHtml(groupData61.header.styleClass) : '') + ((groupIndex61 == 0) ? ' aui-first' : '') + ((groupIndex61 == groupListLen61 - 1) ? ' aui-last' : '') + '">';
          var linkList104 = groupData61.links;
          var linkListLen104 = linkList104.length;
          for (var linkIndex104 = 0; linkIndex104 < linkListLen104; linkIndex104++) {
            var linkData104 = linkList104[linkIndex104];
            output += '<li role="presentation" class="aui-list-item">' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData104, additionalStyleClass: 'aui-list-item-link'}) + '</li>';
          }
          output += ((groupData61.header && groupData61.header.id == 'attachment-manage-options') ? '</ul></li>' : '') + '</ul>';
        }
        output += '</div></div></li>';
      }
      output += '</ul>';
    }
    if (opt_data.subpanelHtmls.length > 0) {
      output += '<div class="mod-header-panels">';
      var subPanelList121 = opt_data.subpanelHtmls;
      var subPanelListLen121 = subPanelList121.length;
      for (var subPanelIndex121 = 0; subPanelIndex121 < subPanelListLen121; subPanelIndex121++) {
        var subPanelData121 = subPanelList121[subPanelIndex121];
        output += '<div class="mod-header-panel">' + soy.$$filterNoAutoescape(subPanelData121) + '</div>';
      }
      output += '</div>';
    }
    output += '</div><div class="mod-content">' + soy.$$filterNoAutoescape(opt_data.html) + '</div>';
    if (opt_data.id == 'linkingmodule') {
      output += '<ul class="ops m-link-options">';
      var linkList135 = opt_data.headerLinks.links;
      var linkListLen135 = linkList135.length;
      for (var linkIndex135 = 0; linkIndex135 < linkListLen135; linkIndex135++) {
        var linkData135 = linkList135[linkIndex135];
        output += '<li>' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData135, noRole: true}) + '</li>';
      }
      if (opt_data.headerLinks.groups.length > 0) {
        output += '<li class="drop"><div class="aui-dd-parent"><button class="aui-button aui-button-compact aui-button-subtle js-default-dropdown" title="' + soy.$$escapeHtml('\u041e\u043f\u0446\u0438\u0438') + '" aria-label="' + soy.$$escapeHtml(opt_data.label) + ' ' + soy.$$escapeHtml('\u041e\u043f\u0446\u0438\u0438') + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml('\u041e\u043f\u0446\u0438\u0438') + '</span></button><div class="aui-dropdown-content aui-list">';
        var groupList153 = opt_data.headerLinks.groups;
        var groupListLen153 = groupList153.length;
        for (var groupIndex153 = 0; groupIndex153 < groupListLen153; groupIndex153++) {
          var groupData153 = groupList153[groupIndex153];
          output += ((groupData153.header && groupData153.header.label) ? '<h5>' + soy.$$escapeHtml(groupData153.header.label) + '</h5>' : '') + '<ul ';
          if (groupData153.header && groupData153.header.id) {
            switch (groupData153.header.id) {
              case 'attachment-sorting-options':
                output += 'role="menu"><li role="presentation"><ul role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439') + '"';
                break;
              case 'attachment-sorting-order-options':
                output += 'role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439') + '"';
                break;
              case 'attachment-view-mode-options':
                output += 'role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0440\u0435\u0436\u0438\u043c\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439') + '"';
                break;
              case 'attachment-manage-options':
                output += 'role="group" aria-label="' + soy.$$escapeHtml('\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438') + '"';
                break;
              default:
                output += 'role="menu"';
            }
            output += ' id="' + soy.$$escapeHtml(groupData153.header.id) + '"';
          }
          output += ' class="aui-list-section' + ((groupData153.header && groupData153.header.styleClass) ? ' ' + soy.$$escapeHtml(groupData153.header.styleClass) : '') + ((groupIndex153 == 0) ? ' aui-first' : '') + ((groupIndex153 == groupListLen153 - 1) ? ' aui-last' : '') + '">';
          var linkList196 = groupData153.links;
          var linkListLen196 = linkList196.length;
          for (var linkIndex196 = 0; linkIndex196 < linkListLen196; linkIndex196++) {
            var linkData196 = linkList196[linkIndex196];
            output += '<li role="presentation" class="aui-list-item">' + JIRA.Components.IssueViewer.Templates.Body.simpleLink({link: linkData196, additionalStyleClass: 'aui-list-item-link'}) + '</li>';
          }
          output += ((groupData153.header && groupData153.header.id == 'attachment-manage-options') ? '</ul></li>' : '') + '</ul>';
        }
        output += '</div></div></li>';
      }
      output += '</ul>';
    }
    output += '</div>';
  } else {
    output += soy.$$filterNoAutoescape(opt_data.html);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.issuePanel.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.issuePanel';
}


JIRA.Components.IssueViewer.Templates.Body.errorsLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '' + ((opt_data.isTimeout) ? soy.$$escapeHtml('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c Jira. \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.') : soy.$$escapeHtml('\u0411\u044b\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.'));
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList223 = opt_data.errorMessages;
    var msgListLen223 = msgList223.length;
    for (var msgIndex223 = 0; msgIndex223 < msgListLen223; msgIndex223++) {
      var msgData223 = msgList223[msgIndex223];
      output += '<li>' + soy.$$escapeHtml(msgData223) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.errorsLoading.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.errorsLoading';
}


JIRA.Components.IssueViewer.Templates.Body.focusShifter = function(opt_data, opt_ignored) {
  return '<div class="aui-message closeable" id="focus-shifter"><label><span>' + soy.$$escapeHtml('viewissue.focusshifter') + '</span><div id="focus-shifter-content"></div></label><button type="button" class="aui-close-button" aria-label="$' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c') + '"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.focusShifter.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.focusShifter';
}


JIRA.Components.IssueViewer.Templates.Body.simpleLink = function(opt_data, opt_ignored) {
  return '<a ' + ((opt_data.link.params && opt_data.link.params.ariaChecked) ? 'aria-checked="' + soy.$$escapeHtml(opt_data.link.params.ariaChecked) + '" role="menuitemradio" ' : (! opt_data.noRole) ? 'role="menuitem" ' : '') + ((opt_data.link.id) ? 'id="' + soy.$$escapeHtml(opt_data.link.id) + '" ' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '" ' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '" ' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Body.simpleLink.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Body.simpleLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/IssueError.soy' */
// This file was automatically generated from IssueError.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.IssueViewer.Templates.Error.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.IssueViewer == 'undefined') { JIRA.Components.IssueViewer = {}; }
if (typeof JIRA.Components.IssueViewer.Templates == 'undefined') { JIRA.Components.IssueViewer.Templates = {}; }
if (typeof JIRA.Components.IssueViewer.Templates.Error == 'undefined') { JIRA.Components.IssueViewer.Templates.Error = {}; }


JIRA.Components.IssueViewer.Templates.Error.NoPermission = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.Generic(null);
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.NoPermission.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.NoPermission';
}


JIRA.Components.IssueViewer.Templates.Error.DoesNotExistFullPage = function(opt_data, opt_ignored) {
  return '<main id="main" role="main">' + JIRA.Components.IssueViewer.Templates.Error.DoesNotExist(null) + '</main>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.DoesNotExistFullPage.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.DoesNotExistFullPage';
}


JIRA.Components.IssueViewer.Templates.Error.DoesNotExist = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title: '\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u044d\u0442\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u0435\u043d.', body: '\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043e\u043d\u0430 \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430, \u0438\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0435\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440.', error: 'canNotBeViewed', showReloadButton: false});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.DoesNotExist.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.DoesNotExist';
}


JIRA.Components.IssueViewer.Templates.Error.Generic = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError({title: '\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u044d\u0442\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0430', body: '\u041f\u0440\u0438\u0447\u0438\u043d\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u043c\u0438: \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.', bodyAfter: '\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.', error: 'genericError', showReloadButton: true});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.Generic.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.Generic';
}


JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header: '<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>', body: '<div class="issue-error"><span class="error-image error-image-' + soy.$$escapeHtml(opt_data.error) + '"></span><h1>' + soy.$$escapeHtml(opt_data.title) + '</h1><p>' + soy.$$escapeHtml(opt_data.body) + ' ' + ((opt_data.bodyAfter) ? ' <br/>' + soy.$$escapeHtml(opt_data.bodyAfter) : '') + '</p>' + ((opt_data.showReloadButton) ? '<p><button id="issue-error-reload-button" class="aui-button aui-button-primary">Reload</button></p>' : '') + '</div>'});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.fancyViewIssueError';
}


JIRA.Components.IssueViewer.Templates.Error.viewIssueError = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError({header: '<header class="aui-page-header"><div class="aui-page-header-inner"><div class="aui-page-header-main"><h1>' + soy.$$escapeHtml(opt_data.title) + '</h1></div><div class="aui-page-header-actions"><div id="issue-header-pager"></div></div></div></header>', body: '<div class="aui-message ' + ((opt_data.error) ? 'aui-message-' + soy.$$escapeHtml(opt_data.error) : '') + '"><span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.error) + '"></span><p>' + soy.$$escapeHtml(opt_data.body) + '</p><p>' + soy.$$escapeHtml('\u0415\u0441\u043b\u0438 \u0412\u044b \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u0447\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0412\u0430\u0448\u0438\u043c') + ' <a href="' + soy.$$escapeHtml("") + '/secure/ContactAdministrators!default.jspa">' + soy.$$escapeHtml('\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b Jira') + '</a>.</p>' + ((opt_data.returnToSearch) ? '<p><a id="return-to-search" class="push-state" href="' + soy.$$escapeHtml("") + '/issues/" title="' + soy.$$escapeHtml('\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443') + '">' + soy.$$escapeHtml('\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443') + '</a></p>' : '') + '</div>'});
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.viewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.viewIssueError';
}


JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError = function(opt_data, opt_ignored) {
  return '<div id="issue-content"><header class="issue-header issue-error-header"><div class="issue-header-content">' + soy.$$filterNoAutoescape(opt_data.header) + '</div></header><div class="issue-body-content issue-error-content">' + soy.$$filterNoAutoescape(opt_data.body) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError.soyTemplateName = 'JIRA.Components.IssueViewer.Templates.Error.baseViewIssueError';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/templates/amd-wrapper.js' */
define("jira/components/issueviewer/templates",function(){return JIRA.Components.IssueViewer.Templates});AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueviewer', location = 'issueviewer/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueViewer",null,require("jira/components/issueviewer"));AJS.namespace("JIRA.Components.IssueViewer.AppModule",null,require("jira/components/issueviewer/appmodule"));AJS.namespace("JIRA.Components.IssueViewer.Utils",null,require("jira/components/issueviewer/utils"));AJS.namespace("JIRA.Components.IssueViewer.Controllers.Error",null,require("jira/components/issueviewer/controllers/error"));AJS.namespace("JIRA.Components.IssueViewer.Controllers.Issue",null,require("jira/components/issueviewer/controllers/issue"));
AJS.namespace("JIRA.Components.IssueViewer.Models.Issue",null,require("jira/components/issueviewer/entities/issue"));AJS.namespace("JIRA.Components.IssueViewer.Models.Panel",null,require("jira/components/issueviewer/entities/panel"));AJS.namespace("JIRA.Components.IssueViewer.Collections.Panels",null,require("jira/components/issueviewer/entities/panels"));AJS.namespace("JIRA.Components.IssueViewer.Models.PanelsGroup",null,require("jira/components/issueviewer/entities/panelsgroup"));
AJS.namespace("JIRA.Components.IssueViewer.Legacy.AsyncData",null,require("jira/components/issueviewer/legacy/asyncdata"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueEventBus",null,require("jira/components/issueviewer/legacy/issueeventbus"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.IssueFieldUtil",null,require("jira/components/issueviewer/legacy/issuefieldutil"));AJS.namespace("JIRA.Components.IssueViewer.Legacy.ViewIssueData",null,require("jira/components/issueviewer/legacy/viewissuedata"));
AJS.namespace("JIRA.Components.IssueViewer.Services.DarkFeatures",null,require("jira/components/issueviewer/services/darkfeatures"));AJS.namespace("JIRA.Components.IssueViewer.Services.IssueLoader",null,require("jira/components/issueviewer/services/issueloader"));AJS.namespace("JIRA.Components.IssueViewer.Services.Metadata",null,require("jira/components/issueviewer/services/metadataservice"));AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorGeneric",null,require("jira/components/issueviewer/views/errorgeneric"));
AJS.namespace("JIRA.Components.IssueViewer.Views.ErrorNotFound",null,require("jira/components/issueviewer/views/errornotfound"));AJS.namespace("JIRA.Components.IssueViewer.Views.Error",null,require("jira/components/issueviewer/views/error"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueBody",null,require("jira/components/issueviewer/views/issuebody"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssueHeader",null,require("jira/components/issueviewer/views/issueheader"));
AJS.namespace("JIRA.Components.IssueViewer.Views.IssueOpsbar",null,require("jira/components/issueviewer/views/issueopsbar"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanels",null,require("jira/components/issueviewer/views/issuepanels"));AJS.namespace("JIRA.Components.IssueViewer.Views.IssuePanel",null,require("jira/components/issueviewer/views/issuepanel"));AJS.namespace("JIRA.Components.IssueViewer.Views.Issue",null,require("jira/components/issueviewer/views/issue"));
AJS.namespace("JIRA.Components.IssueViewer.Templates",null,require("jira/components/issueviewer/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/IssueEditor.js' */
define("jira/components/issueeditor",["require"],function(c){var f=c("jira/components/libs/underscore"),m=c("jira/components/issueviewer/services/darkfeatures"),n=c("jira/components/issueeditor/controllers/editissue"),p=c("jira/util/events"),q=c("jira/components/issueeditor/eventtypes"),r=c("jira/components/issueeditor/controllers/fields"),t=c("jira/components/issueeditor/services/fieldsloader"),u=c("jira/components/issueeditor/services/issuesaver"),d=c("jira/components/issueviewer"),k=c("jira/util/data/meta"),
v=c("jira/components/issueeditor/views/modalfield"),w=c("jira/components/issueeditor/views/saveerror"),x=c("jira/components/issueeditor/services/saveinprogressmanager"),l=window.JIRA,y=c("jira/components/issueeditor/services/unloadinterceptor"),z=window.AJS.contextPath(),g=function(){l.trace.apply(l,arguments)};return d.extend({namedEvents:"loadComplete loadError returnToSearch saveSuccess saveError editField editFieldCancel fieldSubmitted replacedFocusedPanel fieldsLoaded".split(" "),initialize:function(a){d.prototype.initialize.call(this,
a);this._buildFieldsLoader();this._buildIssueSaver();this._buildEditIssueController();this._buildFieldsController();this._handleUnload();this.listenAndRethrow(this.eventBus,"fieldSubmitted")},_buildFieldsLoader:function(){this.fieldsLoader=new t({contextPath:z});this.listenTo(this.fieldsLoader,"fieldsLoaded",function(a){this.viewIssueData.updateIssue(a.issueKey,a);a.issueId=Number(a.issueId);a.fields&&a.fields.length?this.editIssueController.update(a):this.editIssueController.reset();this.trigger("fieldsLoaded");
g("jira.issue.fields.loaded",{id:a.issueId})});this.listenTo(this.fieldsLoader,"fieldsError",function(a){this.fieldsController.showError(a.errorCollection,a.isTimeout);g("jira.issue.fields.loaded",{id:a.issueId})})},_buildIssueSaver:function(){this.saveInProgressManager=new x;this.issueSaver=new u({saveInProgressManager:this.saveInProgressManager,model:this.model});this.listenTo(this.issueSaver,"error",function(a){var b=a.issueId,h=a.attemptedSavedIds,e=a.response,c=a.duration;this.model.isCurrentIssue(b)?
(this.eventBus.triggerSaveError(b,h,e),e&&e.fields&&e.fields.length||!e||(this.editIssueController.reset(),this.model.update(e,{fieldsSaved:[],fieldsInProgress:[]})),this.trigger("saveError",{issueId:b,duration:c,deferred:!1}),g("jira.issue.refreshed",{id:b})):this._showSaveError({issueId:b,issueKey:a.issueKey,response:e})});this.listenTo(this.issueSaver,"saveStarted",function(a,b){this.eventBus.triggerSavingStarted(b)});this.listenTo(this.issueSaver,"save",function(a){var b=a.issueId,h=a.issueKey,
e=a.savedFieldIds,c=a.savedFieldTypes,d=a.response,f=a.shouldSkipSaveIssueSuccessHandler;a=a.duration;this.model.isCurrentIssue(b)&&!f&&(this.eventBus.triggerSaveSuccess(b,h,e,d),this.viewIssueData.set(h,d),this.model.update(d,{fieldsSaved:e,fieldsInProgress:this.editIssueController.getEditsInProgress()}),g("jira.psycho.issue.refreshed",{id:b}),d.fields&&d.fields.length&&this.editIssueController.update({fields:d.fields,issueId:b,issueKey:h},{editable:!0,editIssueController:this.editIssueController,
issueModel:this.model,issueId:b,fieldsSaved:e,initialize:!1,fieldsInProgress:this.editIssueController.getEditsInProgress()}),g("jira.issue.refreshed",{id:b}));this.trigger("saveSuccess",{issueId:b,issueKey:h,savedFieldIds:e,savedFieldTypes:c,duration:a})})},_buildEditIssueController:function(){this.editIssueController=new n({issueEventBus:this.eventBus});this.listenTo(this.editIssueController,"save",function(a,b,c,e,d,f){this.issueSaver.setSkipSaveIssueSuccessHandler(!1);this.issueSaver.save(a,b,
c,e,d,f)});this.listenAndRethrow(this.editIssueController,"editField");this.listenAndRethrow(this.editIssueController,"editFieldCancel")},_buildFieldsController:function(){this.fieldsController=new r},_onIssueLoaded:function(a,b,c){a.issue.isEditable&&(m.NO_PREFETCH.enabled()||b.error||b.fromCache||this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:c.issueEntity}));var e=!b.mergeIntoCurrent&&!1!==c.initialize;b.isUpdate&&!e||this.editIssueController.reset();d.prototype._onIssueLoaded.call(this,
a,b,c);a.fields&&(this.editIssueController.update({fields:a.fields,issueId:a.issue.id,issueKey:a.issue.key}),g("jira.issue.fields.loaded",{id:a.issue.id}))},_handleUnload:function(){var a=f.bind(function(){var a;0<this.editIssueController.getDirtyEditsInProgress().length&&(a="\u0412\u044b \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. \u0425\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438 \u0431\u0435\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f?");return a},this);this.unloadInterceptor=new y;this.unloadInterceptor.addAfterEvent(a);this.on("destroy",function(){this.unloadInterceptor.removeAfterEvent(a)})},_updateModel:function(a,
b){a.fields&&a.fields.length&&this.editIssueController.update(a.fields,{fieldsInProgress:this.editIssueController.getEditsInProgress(),changed:b.changed});b=f.extend({},b,{fieldsInProgress:this.editIssueController.getEditsInProgress()});d.prototype._updateModel.call(this,a,b)},_loadIssueFromDom:function(a){k.get("server-view-issue-is-editable")&&(this.editIssueController.setIssueId(a.id),this.editIssueController.setIssueKey(a.key),this.fieldsLoader.load({viewIssueData:this.viewIssueData,issueEntity:a}),
k.set("server-view-issue-is-editable",null));d.prototype._loadIssueFromDom.call(this,a)},editField:function(a){if(a.isEditable()){var b=this.model.getEntity(),c=f.bind(function(){a.matchesFieldSelector()?a.edit():(new v({issueEventBus:this.eventBus,model:a,issue:b})).show()},this);if(a.getSaving())p.one(q.ISSUE_REFRESHED,function(){c()});else c()}},abortPending:function(){this.fieldsLoader.cancel();d.prototype.abortPending.call(this)},beforeHide:function(){this.issueSaver.setSkipSaveIssueSuccessHandler(!0);
d.prototype.beforeHide.call(this)},setContainer:function(a){this.editIssueController.setIssueViewContext(a);d.prototype.setContainer.call(this,a)},dismiss:function(){this.editIssueController.reset();d.prototype.dismiss.call(this)},getFields:function(){return this.editIssueController.getFields()},hasSavesInProgress:function(){return this.saveInProgressManager.hasSavesInProgress()},_showSaveError:function(a){a=(new w(a)).render();var b=f.partial(this.stopListening,a);this.listenTo(a,{close:b,issueLinkClick:function(a){var b=
{isPrevented:!1,preventDefault:function(){this.isPrevented=!0},isDefaultPrevented:function(){return!0===this.isPrevented},issueData:a};this.trigger("linkInErrorMessage",b);b.isDefaultPrevented()||this.loadIssue(a)}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/IssueEditorAppModule.js' */
define("jira/components/issueeditor/appmodule",["require"],function(b){var d=b("jira/components/libs/underscore"),e=b("jira/components/issueeditor"),c=b("jira/components/issueviewer/appmodule");return c.extend({name:"issueEditor",generateMasterRequest:!0,create:function(a){a=d.defaults({},a,{showReturnToSearchOnError:function(){return!1}});return new e({showReturnToSearchOnError:a.showReturnToSearchOnError})},commands:function(a){a=c.prototype.commands.call(this,a);return d.extend(a,{editField:!0})},
requests:function(a){var b=c.prototype.requests.call(this,a);return d.extend(b,{fields:function(){return a.getFields()},hasSavesInProgress:!0})},events:function(a){return c.prototype.events.call(this,a).concat("saveSuccess saveError editField editFieldCancel fieldSubmitted fieldsLoaded".split(" "))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/NoInlineAppModule.js' */
define("jira/components/issueeditor/noinlineappmodule",["require"],function(b){var d=b("jira/components/libs/underscore"),c=b("jira/components/issueviewer/appmodule");return c.extend({name:"issueEditor",requests:function(a){a=c.prototype.requests.call(this,a);return d.extend(a,{fields:function(){return[]},hasSavesInProgress:function(){return!1}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/templates/Fields.soy' */
// This file was automatically generated from Fields.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueEditor.Fields.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueEditor == 'undefined') { JIRA.Templates.IssueEditor = {}; }
if (typeof JIRA.Templates.IssueEditor.Fields == 'undefined') { JIRA.Templates.IssueEditor.Fields = {}; }


JIRA.Templates.IssueEditor.Fields.saveErrorMessage = function(opt_data, opt_ignored) {
  var output = '';
  var issueLink__soy3 = '<a class="issue" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '">' + soy.$$escapeHtml(opt_data.issueKey) + '</a>';
  output += soy.$$filterNoAutoescape(AJS.format('\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \x3cstrong\x3e{0}\x3c/strong\x3e \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c!',issueLink__soy3));
  if (opt_data.errors.length > 0) {
    output += '<ul>';
    var messageList16 = opt_data.errors;
    var messageListLen16 = messageList16.length;
    for (var messageIndex16 = 0; messageIndex16 < messageListLen16; messageIndex16++) {
      var messageData16 = messageList16[messageIndex16];
      output += '<li>' + soy.$$escapeHtml(messageData16) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveErrorMessage.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveErrorMessage';
}


JIRA.Templates.IssueEditor.Fields.field = function(opt_data, opt_ignored) {
  return '<form id="' + soy.$$escapeHtml(opt_data.issue.id) + '-form" class="ajs-dirty-warning-exempt aui" action= "#"><div class="inline-edit-fields ' + ((opt_data.showButtonBar) ? 'show-button-bar' : '') + '">' + soy.$$filterNoAutoescape(opt_data.issue.editHtml) + '</div><span class="overlay-icon throbber"></span>' + ((opt_data.showButtonBar) ? JIRA.Templates.IssueEditor.Fields.saveButtons(opt_data) : JIRA.Templates.IssueEditor.Fields.saveOptions(opt_data)) + '</form>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.field.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.field';
}


JIRA.Templates.IssueEditor.Fields.saveOptions = function(opt_data, opt_ignored) {
  return '<div class="save-options"><button type="submit" class="aui-button submit" accessKey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.accessKey)) + '"><span class="aui-icon aui-icon-small aui-iconfont-success">' + soy.$$escapeHtml('\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c') + '</span></button><button type="cancel" class="aui-button cancel" accessKey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.accessKey)) + '"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</span></button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveOptions.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveOptions';
}


JIRA.Templates.IssueEditor.Fields.saveButtons = function(opt_data, opt_ignored) {
  return '<div class="save-options show-button-bar"><button type="submit" class="aui-button aui-button-primary submit" accessKey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.accessKey)) + '">' + soy.$$escapeHtml('\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c') + '</button><button type="cancel" class="aui-button aui-button-link cancel" accessKey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.accessKey)) + '">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</button></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.saveButtons.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.saveButtons';
}


JIRA.Templates.IssueEditor.Fields.modalField = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><h2 class="dialog-title">' + soy.$$escapeHtml(AJS.format('\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c {0} \u0434\u043b\u044f {1}',opt_data.field.label,opt_data.issue.key)) + '</h2><form action="" class="aui" method="post"><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.field.editHtml) + '</div><div class="buttons-container form-footer"><div class="buttons"><input class="button" type="submit" value="' + soy.$$escapeHtml('\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c') + '"/><a class="cancel" href="#">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0430') + '</a></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.modalField.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.modalField';
}


JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors = function(opt_data, opt_ignored) {
  var output = '<div class="error">';
  if (opt_data.messages.length == 1) {
    output += soy.$$escapeHtml(opt_data.messages[0]);
  } else if (opt_data.messages.length > 0) {
    output += '<ul>';
    var messageList85 = opt_data.messages;
    var messageListLen85 = messageList85.length;
    for (var messageIndex85 = 0; messageIndex85 < messageListLen85; messageIndex85++) {
      var messageData85 = messageList85[messageIndex85];
      output += '<li>' + soy.$$escapeHtml(messageData85) + '</li>';
    }
    output += '</ul>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.modalFieldGeneralErrors';
}


JIRA.Templates.IssueEditor.Fields.errorsLoading = function(opt_data, opt_ignored) {
  var output = '' + ((opt_data.isTimeout) ? soy.$$escapeHtml('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c Jira. \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.') : soy.$$escapeHtml('\u0411\u044b\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.'));
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList101 = opt_data.errorMessages;
    var msgListLen101 = msgList101.length;
    for (var msgIndex101 = 0; msgIndex101 < msgListLen101; msgIndex101++) {
      var msgData101 = msgList101[msgIndex101];
      output += '<li>' + soy.$$escapeHtml(msgData101) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueEditor.Fields.errorsLoading.soyTemplateName = 'JIRA.Templates.IssueEditor.Fields.errorsLoading';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/templates/amd-wrapper.js' */
define("jira/components/issueeditor/templates",function(){return JIRA.Templates.IssueEditor.Fields});AJS.namespace("JIRA.Templates.IssueEditor.Fields",null,require("jira/components/issueeditor/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/entities/FieldModel.js' */
define("jira/components/issueeditor/entities/field",["require"],function(c){var f=c("jira/components/libs/underscore"),g=c("jira/components/libs/brace"),h=c("jira/util/events"),e=c("jira/components/issueviewer/legacy/issuefieldutil"),d=c("jquery"),k=c("jira/skate"),l=c("jira/components/issueeditor/templates"),m=c("jira/components/issueeditor/eventtypes"),n=c("jira/components/issueviewer/services/darkfeatures");return g.Model.extend({namedEvents:"editingStarted focusRequested editingCancelled save saveError savingStarted saveComplete saveSuccess updateRequired validationError modelDestroyed".split(" "),
namedAttributes:"id initParams params editHtml viewHtml required fieldType editing saving error label contentId".split(" "),initialize:function(){if(this.collection){var a=this;this.collection.on("reset",function(){a.triggerModelDestroyed()})}this.on("change:viewHtml",function(){var a=this.previous("viewHtml");a&&d.cleanData(a)});this.onModelDestroyed(function(){var a=this.getViewHtml();a&&d.cleanData(a)})},blurEdit:function(){this.getEditing()&&(this.isDirty()||this.hasValidationError()?this.save():
this.cancelEdit())},setValidationError:function(a,b,c){this.setSaving(!1);this.setError(b);this.edit({ignoreBlur:!0});this.triggerSaveError();this.triggerValidationError(a,c)},handleSaveError:function(){this.setSaving(!1);this.triggerSaveError()},cancelEdit:function(a){if(!this.cancelLocked){var b=new d.Event(m.BEFORE_INLINE_EDIT_CANCEL);h.trigger(b,[this.getId(),this.getFieldType(),a]);if(!b.isDefaultPrevented()){this.cancelLocked=!0;if(this.getEditing()||this.getSaving())this.setEditing(!1),this.setSaving(!1),
this.unset("params"),this.unset("initParams"),this.triggerEditingCancelled(),this.unset("viewHtml");delete this.cancelLocked}}},edit:function(a){this.getEditing()?a&&a.ignoreBlur||this.triggerFocusRequested(this,a):(this.setEditing(!0),this.triggerEditingStarted(this,a))},getCurrentParams:function(){this.triggerUpdateRequired();var a={};this.getParams()?a=this.getParams():(this.getInitParams()||(a=d("\x3cdiv /\x3e").html(this.getEditHtml()),this.setInitParams(this._serializeObject(a))),a=this.getInitParams());
var b={};f.each(a,function(a,c){b[c]=a});return b},isEditable:function(){return this.getEditHtml()?0!==d(this.getEditHtml()).find("textarea, :text,:radio,:checkbox, select").length:!1},hasValidationError:function(){return!!this.getError()},switchElToEdit:function(a){this.getViewHtml()||this.setViewHtml(a.contents());a.contents().detach();a.html(l.field({issue:this.toJSON(),accessKey:e.getAccessKeyModifier(),showButtonBar:n.RTE_ENABLED.enabled()&&e.isWikifield(this.getEditHtml())}));a.each(function(){k.init(this)});
this.getInitParams()||this.setInitParams(this._serializeObject(a));this.setEditing(!0)},update:function(a){this.getEditing()&&this.setParams(this._serializeObject(a))},handleSaveSuccess:function(){this.setSaving(!1);this.setEditing(!1);this.unset("viewHtml");this.unset("initParams");this.setError(null);this.triggerSaveSuccess()},handleSaveStarted:function(){this.setSaving(!0);this.triggerSavingStarted()},save:function(){this.getSaving()||(this.triggerUpdateRequired(),this.triggerSave(this))},isDirty:function(){this.triggerUpdateRequired();
return this._isDirty(this.getCurrentParams())},_isDirty:function(a){return JSON.stringify(a)!==JSON.stringify(this.getInitParams())},matchesFieldSelector:function(){return e.matchesFieldSelector(this.id)},_serializeObject:function(a){var b={};a=d(a).find(":input").serializeArray();d.each(a,function(){b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""});return b}},{IS_EDITABLE:function(a){return a.isEditable()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/entities/FieldCollection.js' */
define("jira/components/issueeditor/entities/fields",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/components/libs/brace");c=c("jira/components/issueeditor/entities/field");return f.Collection.extend({model:c,initialize:function(){this.on("editingStarted",this._handleEditingStarted,this)},_handleEditingStarted:function(b,a){a=a||{};a.ignoreBlur||this.each(function(a){b!==a&&a.getEditing()&&a.blurEdit()})},update:function(b,a){var d=this;if(a&&a.changed){a=a.changed;
var c=a.updated?a.updated.fields:[],f=a.added?a.added.fields:[];e.each(b,function(a){if(e.contains(c,a.id)){var b=d.get(a.id);b?(b.hasValidationError()&&delete a.editHtml,b.set(a,{silent:!0}),d.trigger("updated",b)):d.add(a)}else e.contains(f,a.id)&&d.add(a)})}else e.each(b,function(a){var b=d.get(a.id);b?(b.hasValidationError()&&delete a.editHtml,b.set(a,{silent:!0}),d.trigger("updated",b)):d.add(a)})},cancelEdit:function(){this.each(function(b){b.cancelEdit()})},isDirty:function(){return this.any(function(b){return b.isDirty()})},
getDirtyFields:function(){return this.filter(function(b){return b.isDirty()})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/FieldView.js' */
define("jira/components/issueeditor/views/field",["require"],function(d){var m=d("jira/util/assistive"),n=d("jira/components/issueeditor/cancelreasons"),f=d("jira/util/events"),g=d("jira/components/issueviewer/legacy/issuefieldutil"),c=d("jquery"),p=d("jira/components/libs/marionette-1.4.1/itemview"),q=d("jira/util/events/reasons"),r=d("jira/components/issueeditor/templates"),h=d("jira/components/issueeditor/eventtypes"),l=d("jira/components/issueeditor/analytics/viewissue"),t=d("jira/components/issueviewer/services/darkfeatures"),
e;return p.extend({events:{"click .cancel":"onClickCancel",keyup:"onKeyCancel",keydown:"onKeyEscape","click .submit":"onSubmit",click:"onEdit","keydown .overlay-icon.aui-iconfont-edit":m.handleSpaceEnter,mousedown:"saveSelectedText","submit form":"onSubmit",'keydown select[multiple\x3d"multiple"]':"_enterToSubmitMultiSelect","keypress select":"_enterToSubmitSelect","beforeBlurInput *":"_preventBlurByEsc"},initialize:function(a){this.model.on("validationError",this.handleValidationError,this);this.model.on("editingStarted",
this.switchToEdit,this);this.model.on("focusRequested",this.focus,this);this.model.on("editingCancelled",this.switchToRead,this);this.model.on("saveError",this.handleSaveError,this);this.model.on("updateRequired",this.updateModel,this);this.model.on("savingStarted",this.handleSavingStarted,this);this.model.on("modelDestroyed",this.destroy,this);this.decorate();this.issueEventBus=a.issueEventBus;this.issueEventBus.on("panelRendered",this.handlePanelRendered,this);this.model.setFieldType(this.$el.data("fieldtypecompletekey"));
this._editDelay=0;var b=this;f.bind(h.INLINE_EDIT_BLURRED,function(a,c){c===b.model.getId()&&b._onPossibleBlur()});f.bind(h.INLINE_EDIT_REQUESTED,function(a,c){c!==b.model.getId()&&0!==b._editDelay&&(clearTimeout(b._editDelay),b._editDelay=0)})},destroy:function(){this.issueEventBus.off("panelRendered",this.handlePanelRendered)},decorate:function(){if(this.model.isEditable()&&!this.model.getEditing()&&(this.$el.addClass("editable-field inactive"),c('\x3cspan role\x3d"button" tabindex\x3d"0" class\x3d"overlay-icon aui-icon aui-icon-small aui-iconfont-edit" /\x3e').attr("aria-label",
this._getAriaLabel()).appendTo(this.$el),this._addToolTip(),this.$el.find("img").tooltip(),e&&this.$el.selector===e)){var a=this.$el;a.is(":focusable")?a.focus():(a=a.find(":focusable"),a.length&&a.first().focus())}},getEditElements:function(){return this.$el.find(".inline-edit-fields")},_addToolTip:function(){this.$el.attr("title","\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c");c("a:not([title])",this.$el).attr("title","\u041f\u0440\u043e\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435")},_getAriaLabel:function(){const a=
AJS.format("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c {0}",this.model.getLabel()),b=this.$el.data("fieldtype");return"labels"===b||"textarea"===b||"summary-val"===this.$el.attr("id")||this.$el.find(".user-content-block").length||this.$el.find(".labels").length?a:this.$el.text().trim()+": "+a},_removeToolTip:function(){this.$el.removeAttr("title")},_stealAccessKeys:function(){c("[accessKey\x3d'"+"S"+"']").attr("accessKey","_s");c("[accessKey\x3d'"+
"`"+"']").attr("accessKey","_x")},_returnAccessKeys:function(){c("[accessKey\x3d_s]").attr("accessKey","S");c("[accessKey\x3d_x]").attr("accessKey","`")},_handleEditingStarted:function(a){var b=this.$el.find(".field-tools");f.trigger(h.NEW_CONTENT_ADDED,[this.$el,q.inlineEditStarted]);f.trigger(h.INLINE_EDIT_STARTED,[this.model.getId(),this.model.getFieldType(),
this.getEditElements(),this.$el]);this.$el.find(".textarea").css("height",Math.max(this._originalHeight,60)).expandOnInput(window.innerHeight-c("#stalker").height()-100);a&&this.$el.find(":input:visible:first").focus();this.$el.find(".error").length||this.$el.find("select.aui-ss-select").each(function(){var a=c(this);a.data("static-suggestions")&&a.trigger("showSuggestions")});this.$el.find(".save-options").attr("tabindex",1).prepend(b)},handleValidationError:function(a,b){this.$el.html(r.field({issue:{id:this.model.id,
editHtml:a},accessKey:g.getAccessKeyModifier(),showButtonBar:t.RTE_ENABLED.enabled()&&g.isWikifield(a)}));this.$el.find(".error").addClass("inline-edit-error").attr("data-field",this.model.id);this._handleEditingStarted(b)},handlePanelRendered:function(a,b){a=c(g.getFieldSelector(this.model.id),b);1===a.length&&(this.$el=a,this.el=this.$el[0],this.decorate(),this.delegateEvents())},handleSaveError:function(){this.$el.find(":input").removeAttr("disabled").trigger("enable");this.$el.removeClass("saving saving-"+
this.model.id)},handleSavingStarted:function(){this.$el.find(":input").attr("disabled","disabled").trigger("disable");this.$el.addClass("saving saving-"+this.model.id)},updateModel:function(){this.model.update(this.$el)},reveal:function(){this.$el.scrollIntoView({direction:"y",marginBottom:40,marginTop:c("#stalker").outerHeight(!0)+40});this.$el.trigger("reveal")},focus:function(){this.reveal();this.$el.find(":input").removeAttr("disabled");if(0===c(".aui-blanket:not([hidden])").length){var a=this.$el.find(":input:visible:first");
a.focus();this.$el.hasClass("field-ignore-highlight")||a.select()}},switchToEdit:function(){this.trigger("editField",{fieldId:this.model.getId()});this._stealAccessKeys();this._removeToolTip();this.$el.removeClass("inactive saving").addClass("active");this._originalHeight=this.$el.height();this.model.switchElToEdit(this.$el);this._handleEditingStarted();this.focus();e=this.$el.selector},switchToRead:function(){this.trigger("editFieldCancel",{fieldId:this.model.getId()});this._addToolTip();this.$el.addClass("inactive").removeClass("active");
this.$el.html(this.model.getViewHtml());this.$el.closest("form").unbind("submit",this.onSubmit);this._returnAccessKeys()},_isNonCancelableFieldBeingEdited:function(){return c("textarea",this.$el).not("[role]").length},onKeyCancel:function(a){27!==a.keyCode||this._isNonCancelableFieldBeingEdited()||(this.model.cancelEdit(n.escPressed),a.preventDefault(),e="")},onKeyEscape:function(a){"Escape"===a.key?(a.preventDefault(),this.$el.find("img").tooltip("disable")):this.$el.find("img").tooltip("enable")},
onClickCancel:function(a){this.model.cancelEdit();a.preventDefault()},onSubmit:function(a){var b=new c.Event("before-submit");this.$el.find("form").trigger(b);b.isDefaultPrevented()||(this.$el.find(":focus").blur(),this.issueEventBus.triggerFieldSubmitted(),this.model.save(),this._returnAccessKeys());a.preventDefault()},onEdit:function(a){var b=c(a.target),d=b.is(".user-hover-trigger-icon"),e=b.is(".overlay-icon.aui-iconfont-edit");b=0===b.closest("a, .uneditable").length&&this.$el.hasClass("inactive");
var g=""===this._getCurrentlySelectedText()&&!this._previouslySelectedText;d=b&&(e||g)&&!d;if(0!==this._editDelay)l.triggerEditableFieldDoubleClick(),clearTimeout(this._editDelay),this._editDelay=0;else if(d){f.trigger(h.INLINE_EDIT_REQUESTED,[this.model.getId()]);var k=this;e?(l.triggerEditableFieldClickPencilIcon(),c(document).one("click",function(a){a.isDefaultPrevented()||k.model.edit()})):this._editDelay=setTimeout(function(){!a.isDefaultPrevented()&&k.$el.hasClass("inactive")&&""===k._getCurrentlySelectedText()&&
(l.triggerEditableFieldSingleClick(),k.model.edit());k._editDelay=0},250)}},_onPossibleBlur:function(){this.model.getSaving()||0<c(".aui-blanket:not([hidden])").length||this.model.blurEdit()},_preventBlurByEsc:function(a){a.preventDefault()},_getCurrentlySelectedText:function(){return c(document.activeElement).is(":input")?"":document.selection&&document.selection.createRange?document.selection.createRange().text||"":window.getSelection?window.getSelection().toString():""},_enterToSubmitSelect:function(a){a.isDefaultPrevented()||
13!==a.which||(a.preventDefault(),c(a.target).closest("form").submit())},_enterToSubmitMultiSelect:function(a){a.isDefaultPrevented()||13===a.which&&c(a.target).blur()},saveSelectedText:function(){this._previouslySelectedText=this._getCurrentlySelectedText()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/ModalFieldView.js' */
define("jira/components/issueeditor/views/modalfield",["require"],function(b){var d=b("jira/components/libs/underscore"),e=b("jira/util/events"),f=b("jira/dialog/form-dialog"),g=b("jira/components/libs/marionette-1.4.1/itemview");b=b("jira/components/issueeditor/templates");return g.extend({errorsTemplate:b.modalFieldGeneralErrors,template:b.modalField,initialize:function(a){d.bindAll(this,"_onHide","_onSubmit","_remove","_showGeneralError","_showValidationError","_updateModel");e.bind("Dialog.hide",
this._onHide);this.issueEventBus=a.issueEventBus;this.issueEventBus.on("saveError",this._showGeneralError);this.model.onSaveSuccess(this._remove);this.model.onUpdateRequired(this._updateModel);this.model.onValidationError(this._showValidationError)},_enable:function(){var a=this._getDialog();a.hideFooterLoadingIndicator();a=a.$popup;a.find(":input").removeAttr("disabled").trigger("enable");a.find(":input:first").focus().select();a.find(":submit").removeAttr("disabled")},_getDialog:function(){this._dialog||
(this._dialog=new f({id:"modal-field-view",submitHandler:this._onSubmit,content:d.bind(function(a){a(this.template({field:this.model.toJSON(),issue:this.options.issue}))},this)}),this._dialog.get$popup().data("field-id",this.model.getId()));return this._dialog},_onHide:function(a,b){b===this._getDialog().get$popup()&&this._remove()},_onSubmit:function(a,b){a.preventDefault();this.model.save();b();a=this._getDialog();a.showFooterLoadingIndicator();a.$popup.find(":input").attr("disabled","disabled").trigger("disable")},
close:function(){this._remove()},_remove:function(){var a=this._getDialog();a.get$popup().is(":visible")&&a.hide();a.destroy();this.model.cancelEdit();e.unbind("Dialog.hide",this._onHide);this.issueEventBus.off("saveError",this._showGeneralError);this.model.off("saveSuccess",this._remove);this.model.off("updateRequired",this._updateModel);this.model.off("validationError",this._showValidationError)},show:function(){this.model.edit();this._getDialog().show()},_showGeneralError:function(a,b,c){this._enable();
a=this._getDialog().$popup;if(c=c&&c.errorCollection){b=!d.isEmpty(c.errors);var e=!d.isEmpty(c.errorMessages);!b&&e&&a.find(".form-body").append(this.errorsTemplate({messages:c.errorMessages}))}},_showValidationError:function(a){this._enable();this._getDialog().$popup.find(".form-body").html(a)},_updateModel:function(){this.model.update(this._getDialog().$popup)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/LoadingError.js' */
define("jira/components/issueeditor/views/loadingerror",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/itemview"),c=a("jira/message");a=a("jira/components/issueeditor/templates");return b.extend({template:a.errorsLoading,initialize:function(a,b){this.errorMessages=a;this.isTimeout=b},serializeData:function(){return{errorMessages:this.errorMessages,isTimeout:this.isTimeout}},onRender:function(){this.setElement(c.showErrorMsg(this.$el.html(),{closeable:!0,timeout:0}))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/views/SaveError.js' */
define("jira/components/issueeditor/views/saveerror",["require"],function(a){var c=a("jira/components/libs/underscore"),d=a("jira/components/libs/marionette-1.4.1/itemview"),e=a("jira/message");a=a("jira/components/issueeditor/templates");return d.extend({events:{"simpleClick .issue":"onIssueLinkClick"},template:a.saveErrorMessage,getErrorMessages:function(){var a,b=[];(a=this.options.response.errorCollection)&&(b=a.errorMessages.concat(c.values(a.errors)));return b},onIssueLinkClick:function(a){var b=
{id:this.options.issueId,key:this.options.issueKey};a.preventDefault();this.trigger("issueLinkClick",b);this.close()},onRender:function(){this.setElement(e.showErrorMsg(this.$el.html(),{closeable:!0,timeout:0}))},serializeData:function(){return{errors:this.getErrorMessages(),issueKey:this.options.issueKey}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/controllers/EditIssueController.js' */
define("jira/components/issueeditor/controllers/editissue",["require"],function(e){var d=e("jira/components/libs/underscore"),k=e("jira/components/libs/brace"),l=e("jira/components/issueeditor/entities/fields"),m=e("jira/components/issueeditor/views/field"),h=e("jira/components/issueviewer/legacy/issuefieldutil"),g=e("jquery"),n=e("jira/message"),p=e("jira/components/issueeditor/templates");return k.Model.extend({namedAttributes:["issueId","issueKey","issueViewContext","fields","issueEventBus"],namedEvents:["save",
"editField","editFieldCancel"],initialize:function(){d.bindAll(this,"_handleSaveError","_handleSaveSuccess","_handleSavingStarted","cancelUneditedFields","createFieldView","handleFieldUpdate","save");this.set({fields:new l},{silent:!0});this.getFields().bind("add",this.createFieldView).bind("updated",this.handleFieldUpdate).bind("save",this.save);this.getIssueEventBus().onSavingStarted(this._handleSavingStarted);this.getIssueEventBus().onSaveSuccess(this._handleSaveSuccess);this.getIssueEventBus().onSaveError(this._handleSaveError);
this.getIssueEventBus().onSave(this.save);this.getIssueEventBus().onSave(this.cancelUneditedFields)},_saveById:function(a){(a=this.getFields().get(a))&&a.blurEdit()},_handleSaveError:function(a,b,c){var f=this;c&&this.applyErrors(c);d.each(b,function(a){(a=f.getFields().get(a))&&a.handleSaveError()})},_handleSavingStarted:function(a){this.getFields().each(function(b){d.include(a,b.id)&&b.handleSaveStarted()})},handleFieldUpdate:function(a){g(h.getFieldSelector(a.id)).hasClass("editable-field")||this.createFieldView(a)},
applyErrors:function(a,b){var c=a.errorCollection;c&&c.errors&&this.getFields().each(function(f){if(c.errors[f.id]){var e=d.find(a.fields,function(a){return a.id===f.id});e&&(f.setValidationError(e.editHtml,c.errors[f.id],b),b=!1)}});if(c.errorMessages&&c.errorMessages.length){var f=p.saveErrorMessage({errors:c.errorMessages,issueKey:this.getIssueKey()});n.showErrorMsg(f,{closeable:!0})}},reset:function(){this.getFields().reset()},cancelEdit:function(){this.getFields().each(function(a){a.cancelEdit()})},
_handleSaveSuccess:function(a,b,c){a=this.getFields().filter(function(a){return 0<=d.indexOf(c,a.id)});d.each(a,function(a){a.handleSaveSuccess()})},getDirtyEditsInProgress:function(){return d.pluck(this.getFields().filter(function(a){return a.getEditing()&&a.isDirty()}),"id")},getEditsInProgress:function(){return d.pluck(this.getFields().filter(function(a){return a.getEditing()}),"id")},save:function(a,b){var c={},f=[],e=[],g=[a];if(!a)g=this.getFields().filter(function(a){return!a.getSaving()&&
a.getEditing()&&a.isDirty()});else if(!a.getEditing()||a.getSaving())return;d.each(g,function(a){f.push(a.getId());e.push(a.getFieldType()||"");d.extend(c,a.getCurrentParams())});0<f.length&&this.triggerSave(this.getIssueId(),this.getIssueKey(),f,c,b,e)},cancelUneditedFields:function(){this.getFields().each(function(a){!a.getEditing()||a.isDirty()||a.hasValidationError()||a.cancelEdit()})},update:function(a,b){a.fields&&(b&&b.fieldsInProgress&&d.each(a.fields,function(a){d.contains(b.fieldsInProgress,
a.id)&&(a.editing=!0)}),this.getFields().update(a.fields,b));a.issueId&&this.setIssueId(a.issueId);a.issueKey&&this.setIssueKey(a.issueKey)},createFieldView:function(a){var b=g(h.getFieldSelector(a.id),this.getIssueViewContext());if(1===b.length){b=new m({model:a,el:b,issueEventBus:this.getIssueEventBus()});var c=function(b){var c={issueId:this.getIssueId(),issueKey:this.getIssueKey(),fieldId:a.getId(),fieldType:a.attributes.fieldType};return b=d.extend(c,b)}.bind(this);b.on("editField",d.bind(function(a){this.trigger("editField",
c(a))},this));b.on("editFieldCancel",d.bind(function(a){this.trigger("editFieldCancel",c(a))},this))}(b=this.getIssueViewContext())&&b.append(g(a.get("editHtml")).find("script").remove())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/controllers/FieldsController.js' */
define("jira/components/issueeditor/controllers/fields",["require"],function(a){var c=a("jira/components/issueeditor/views/loadingerror");return a("jira/components/libs/marionette-1.4.1/controller").extend({showError:function(a,b){if(a||b)this.close(),this.triggerMethod("before:render"),this.view=new c(a,b),this.view.render(),this.listenTo(this.view,"close",this.close),this.triggerMethod("render")},close:function(){this.view&&(this.view.close(),this.stopListening(this.view),delete this.view)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/FieldsLoaderService.js' */
define("jira/components/issueeditor/services/fieldsloader",["require"],function(c){var f=c("jira/components/libs/underscore"),g=c("jira/components/issueviewer/legacy/issuefieldutil"),e=c("jquery");return c("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(a){this.recurringPromise=(new e.RecurringPromise).sub();this.recurringPromise.done(f.bind(function(a){this.trigger("fieldsLoaded",a)},this)).fail(f.bind(function(a){this.trigger("fieldsError",a)},this));this.contextPath=
a.contextPath},load:function(a){a=this._buildUpdateTask(a);this.recurringPromise.add(a)},cancel:function(){this.recurringPromise.reset()},_getFieldsData:function(a,c){var b=e.ajax({url:this.contextPath+"/secure/AjaxIssueEditAction!default.jspa?decorator\x3dnone",headers:{"X-SITEMESH-OFF":!0},data:{issueId:a}}),d=b.pipe(function(b){b=g.transformFieldHtml(b);return{issueId:a,issueKey:c,fields:b.fields}},function(b){var d={};switch(b.status){case 400:var c=!1;try{d=(JSON.parse(b.responseText)||{}).errorCollection}catch(h){}break;
case 401:c=!1;d=null;break;default:c=!0,d={}}return{issueId:a,fields:null,errorCollection:d,isTimeout:"timeout"===b.statusText,fatalError:c}});d.abort=function(){b.abort.apply(b,arguments)};return d},_buildUpdateTask:function(a){var c=a.viewIssueData;a=a.issueEntity;var b=new e.Deferred;c.setPending(a.id,this._getFieldsData(a.id,a.key),function(a){b.resolve(a)},function(a){a.fatalError?b.reject(a):b.resolve(a)});return b.promise()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/IssueSaverService.js' */
define("jira/components/issueeditor/services/issuesaver",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/components/issueviewer/legacy/issuefieldutil");return c("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(b){this.saveInProgressManager=b.saveInProgressManager;this.model=b.model;this._saveStarted=[];this.saveInProgressManager.onSavingStarted(e.bind(function(g,d){this._saveStarted.push((new Date).getTime());this.trigger("saveStarted",g,
d)},this));this.saveInProgressManager.onSaveSuccess(e.bind(function(g,d,b,a,c){a&&a.fields&&f.transformFieldHtml(a);this.trigger("save",{issueId:g,issueKey:d,savedFieldIds:b,savedFieldTypes:c,response:a,shouldSkipSaveIssueSuccessHandler:this._shouldSkipSaveIssueSuccessHandler,duration:(new Date).getTime()-this._saveStarted.shift()})},this));this.saveInProgressManager.onSaveError(e.bind(function(b,d,c,a){a&&a.fields&&f.transformFieldHtml(a);this.trigger("error",{issueId:b,issueKey:d,attemptedSavedIds:c,
response:a,duration:(new Date).getTime()-this._saveStarted.shift()})},this))},setSkipSaveIssueSuccessHandler:function(b){this._shouldSkipSaveIssueSuccessHandler=b},save:function(b,c,d,e,a,f){this.saveInProgressManager.saveIssue(b,c,d,e,a,f)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/SaveInProgressManager.js' */
define("jira/components/issueeditor/services/saveinprogressmanager",["require"],function(a){var h=a("jira/components/libs/underscore"),p=a("jira/components/libs/brace"),q=window.AJS.contextPath(),r=a("jira/util/events"),k=a("jira/components/issueviewer/legacy/issuefieldutil"),t=a("jira/dialog/form-dialog"),m=a("jquery"),u=a("jira/message"),v=a("jira/ajs/ajax/smart-ajax"),w=a("jira/components/issueeditor/eventtypes"),x=a("jira/components/utils/ajshelper");return p.Model.extend({namedAttributes:["savesInProgress"],
namedEvents:["beforeSaving","savingStarted","saveSuccess","saveError"],initialize:function(){this.setSavesInProgress([])},saveIssue:function(c,e,d,b,a,n){this.triggerBeforeSaving();var g=this;var f=h.extend(b,{issueId:c,atl_token:atl_token(),singleFieldEdit:!0,fieldsToForcePresent:d});a=h.extend({type:"POST",url:q+"/secure/AjaxIssueAction.jspa?decorator\x3dnone",headers:{"X-SITEMESH-OFF":!0},error:function(a){g._handleSaveError(c,e,d,a)},success:function(a,b,l,f){a=f.data;"string"===typeof a?g._handleHtmlResponse(c,
e,d,a,n):(k.transformFieldHtml(a),g.triggerSaveSuccess(c,e,d,a,n))},complete:function(){g.removeSaveInProgress(l);r.trigger(w.INLINE_EDIT_SAVE_COMPLETE)},data:f},a);var l=v.makeRequest(a);this.addSaveInProgress(l);this.triggerSavingStarted(c,d,b)},hasSavesInProgress:function(){return 0<this.getSavesInProgress().length},removeSaveInProgress:function(a){this.setSavesInProgress(h.without(this.getSavesInProgress(),a))},addSaveInProgress:function(a){var c=this.getSavesInProgress();c.push(a);this.setSavesInProgress(c)},
_handleHtmlResponse:function(a,e,d,b,h){var c=this;b=m(x.extractBodyFromResponse(b));var g=b.find("#atl_token").val();g&&m("#atlassian-token").attr("content",g);var f=new t({offsetTarget:"body",content:b});this.triggerSaveError(a,e,d);f._handleServerSuccess=function(b){f.hide();if(b=c._parseResponse(b))k.transformFieldHtml(b),c.triggerSaveSuccess(a,e,d,b,h)};f._handleServerError=function(b){f.hide();if(b=c._parseResponse(b.responseText))k.transformFieldHtml(b),c.triggerSaveError(a,e,d,b)};f.show()},
_handleSaveError:function(a,e,d,b){if(b=this._parseResponse(b.responseText))k.transformFieldHtml(b),this.triggerSaveError(a,e,d,b)},_parseResponse:function(a){try{return JSON.parse(a)}catch(e){return this._showFatalErrorMessage(),null}},_showFatalErrorMessage:function(){var a="\x3cp\x3e"+"\u0420\u0430\u0437\u0440\u044b\u0432 \u0441\u0432\u044f\u0437\u0438"+"\x3c/p\x3e\x3cp\x3e"+"\u0417\u0430\u043a\u0440\u043e\u0439\u0442\u0435 \u044d\u0442\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e \u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435"+"\x3c/p\x3e";u.showErrorMsg(a,{closeable:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/services/UnloadInterceptor.js' */
define("jira/components/issueeditor/services/unloadinterceptor",["require"],function(c){var b=c("jira/components/libs/underscore");return c("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(){this._afterEventHandlers=[];this.originalBeforeUnload=window.onbeforeunload;window.onbeforeunload=b.bind(this.onBeforeUnload,this)},addAfterEvent:function(a){this._afterEventHandlers.push(a)},removeAfterEvent:function(a){this._afterEventHandlers=b.without(this._afterEventHandlers,
a)},onBeforeUnload:function(){var a,c=arguments;b.isFunction(this.originalBeforeUnload)&&(a=this.originalBeforeUnload.apply(window,c));a||(a=b.reduce(this._afterEventHandlers,function(a,b){return a?a:b.apply(window,c)},a));return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/InlineEditUtils.js' */
define("jira/components/issueeditor/inlineeditutils",["require"],function(f){function l(a){const b=document.activeElement;var c=b.classList;c=c.contains("wiki-edit-dropdown")||c.contains("wiki-edit-picker");var d=document.querySelector(".calendar.active");d=d&&d.contains(b);return 0<a.find(b).length||0<a.filter(b).length||c||d}var g=f("jira/util/events"),h=f("jira/components/issueeditor/eventtypes"),a={BLUR_FOCUS_TIMEOUT:50,BlurTriggers:{Default:function(e,b){function c(){l(b)||(k=!1,g.trigger(h.INLINE_EDIT_BLURRED,
[e]))}b=b.nextAll(".save-options").andSelf();var d,k=l(b),f={focus:function(){k||(k=!0,g.trigger(h.INLINE_EDIT_FOCUSED,[e]))},blur:function(){d&&clearTimeout(d);d=setTimeout(c,a.BLUR_FOCUS_TIMEOUT)}};b.attr("tabindex",1).bind(f).delegate(":input, a[href], [tabindex]",f)}}};a.BlurTriggerMapping={system:{summary:a.BlurTriggers.Default,priority:a.BlurTriggers.Default,issuetype:a.BlurTriggers.Default,components:a.BlurTriggers.Default,versions:a.BlurTriggers.Default,fixVersions:a.BlurTriggers.Default,
assignee:a.BlurTriggers.Default,reporter:a.BlurTriggers.Default,environment:a.BlurTriggers.Default,description:a.BlurTriggers.Default,labels:a.BlurTriggers.Default,duedate:a.BlurTriggers.Default},custom:{"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:datetime":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:float":a.BlurTriggers.Default,
"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:labels":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":a.BlurTriggers.Default,
"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:project":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:select":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textarea":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:textfield":a.BlurTriggers.Default,
"com.atlassian.jira.plugin.system.customfieldtypes:url":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":a.BlurTriggers.Default,"com.atlassian.jira.plugin.system.customfieldtypes:version":a.BlurTriggers.Default}};g.bind(h.INLINE_EDIT_STARTED,function(e,b,c,d){c?(e=a.BlurTriggerMapping.custom[c],e||(c=c.replace(/.+:(.+)/,"$1"),e=a.BlurTriggerMapping.custom[c])):e=a.BlurTriggerMapping.system[b];e&&e(b,d)});return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/eventtypes.js' */
define("jira/components/issueeditor/eventtypes",["require"],function(a){a=a("jira/components/issueviewer/eventtypes");a.INLINE_EDIT_SAVE_COMPLETE="inlineEditSaveComplete";a.INLINE_EDIT_STARTED="inlineEditStarted";a.BEFORE_INLINE_EDIT_CANCEL="inlineEditCancelled";a.INLINE_EDIT_BLURRED="inlineEditBlurred";a.INLINE_EDIT_FOCUSED="inlineEditFocused";a.INLINE_EDIT_REQUESTED="inlineEditRequested";a.LOCK_PANEL_REFRESHING="lockPanelRefreshing";a.UNLOCK_PANEL_REFRESHING="unlockPanelRefreshing";a.REFRESH_ISSUE_PAGE=
"refreshIssuePage";return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/cancelreasons.js' */
define("jira/components/issueeditor/cancelreasons",function(){return{escPressed:"escPressed"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/analytics/ViewIssue.js' */
define("jira/components/issueeditor/analytics/viewissue",["require"],function(b){var a=b("jira/components/utils/ajshelper");return{triggerEditableFieldDoubleClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.double-click"})},triggerEditableFieldSingleClick:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.single-click"})},triggerEditableFieldClickPencilIcon:function(){a.trigger("analyticsEvent",{name:"jira.viewissue.editable-field.click.pencil-icon"})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issueeditor', location = 'issueeditor/js/namespace.js' */
AJS.namespace("JIRA.Components.IssueEditor",null,require("jira/components/issueeditor"));AJS.namespace("JIRA.Components.IssueEditor.AppModule",null,require("jira/components/issueeditor/appmodule"));AJS.namespace("JIRA.Components.IssueEditor.NoInlineAppModule",null,require("jira/components/issueeditor/noinlineappmodule"));AJS.namespace("JIRA.Components.IssueEditor.Controllers.EditIssue",null,require("jira/components/issueeditor/controllers/editissue"));
AJS.namespace("JIRA.Components.IssueEditor.Controllers.Fields",null,require("jira/components/issueeditor/controllers/fields"));AJS.namespace("JIRA.Components.IssueEditor.Collections.Fields",null,require("jira/components/issueeditor/entities/fields"));AJS.namespace("JIRA.Components.IssueEditor.Models.Field",null,require("jira/components/issueeditor/entities/field"));AJS.namespace("JIRA.Components.IssueEditor.Services.FieldsLoader",null,require("jira/components/issueeditor/services/fieldsloader"));
AJS.namespace("JIRA.Components.IssueEditor.Services.IssueSaver",null,require("jira/components/issueeditor/services/issuesaver"));AJS.namespace("JIRA.Components.IssueEditor.Services.SaveInProgressManager",null,require("jira/components/issueeditor/services/saveinprogressmanager"));AJS.namespace("JIRA.Components.IssueEditor.Services.UnloadInterceptor",null,require("jira/components/issueeditor/services/unloadinterceptor"));AJS.namespace("JIRA.Components.IssueEditor.Views.FieldView",null,require("jira/components/issueeditor/views/field"));
AJS.namespace("JIRA.Components.IssueEditor.Views.LoadingError",null,require("jira/components/issueeditor/views/loadingerror"));AJS.namespace("JIRA.Components.IssueEditor.Views.ModalFieldView",null,require("jira/components/issueeditor/views/modalfield"));AJS.namespace("JIRA.Components.IssueEditor.Views.SaveError",null,require("jira/components/issueeditor/views/saveerror"));AJS.namespace("JIRA.Components.IssueEditor.InlineEditUtils",null,require("jira/components/issueeditor/inlineeditutils"));
AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggers",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggers);AJS.namespace("JIRA.Issues.InlineEdit.BlurTriggerMapping",null,require("jira/components/issueeditor/inlineeditutils").BlurTriggerMapping);AJS.namespace("JIRA.Issues.CANCEL_REASON",null,require("jira/components/issueeditor/cancelreasons"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inlineeditparams', location = 'util/InlineEditParams.js' */
define("jira/components/util/inlineeditparams",["require"],function(c){var d=c("wrm/data"),a=null;return{isEnabled:function(){if(null===a){var b=d.claim("com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled");a=void 0===b?!0:!!b}return a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:issuecomponentresolver', location = 'issuecomponentresolver/IssueComponentResolver.js' */
define("jira/components/issuecomponentresolver",["require"],function(a){var b=a("jira/components/util/inlineeditparams"),c=a("jira/components/issueviewer"),d=a("jira/components/issueeditor");return{resolve:function(){return b.isEnabled()?d:c}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:marionette-2.1.0-factory', location = 'factories/marionette/2.1.0/marionette-2.1.0-factory.js' */
/*
 Includes BabySitter
 https://github.com/marionettejs/backbone.babysitter/

 Includes Wreqr
 https://github.com/marionettejs/backbone.wreqr/
*/
'use strict';(function(m){define("atlassian/libs/factories/marionette-2.1.0",function(){return function(f,e){f={_:f,Backbone:e};m.call(f);return f.Marionette.noConflict()}})})(function(){(function(m,f){m.Marionette=f(m,m.Backbone,m._)})(this,function(m,f,e){function k(a,b){a=Error(a);a.name=b||"Error";throw a;}(function(a,b){var c=a.ChildViewContainer;a.ChildViewContainer=function(a,b){var c=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();b.each(a,this.add,
this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;this._views[c]=a;a.model&&(this._indexByModel[a.model.cid]=c);b&&(this._indexByCustom[b]=c);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=
a.cid;a.model&&delete this._indexByModel[a.model.cid];b.any(this._indexByCustom,function(a,b){if(a===c)return delete this._indexByCustom[b],!0},this);delete this._views[c];this._updateLength();return this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(e){b.isFunction(e[a])&&e[a].apply(e,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});b.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(a){c.prototype[a]=function(){var c=[b.values(this._views)].concat(b.toArray(arguments));return b[a].apply(b,c)}});return c}(a,b);a.ChildViewContainer.VERSION="0.1.4";a.ChildViewContainer.noConflict=function(){a.ChildViewContainer=c;return this};return a.ChildViewContainer})(f,e);(function(a,b){var c=a.Wreqr,e=a.Wreqr={};a.Wreqr.VERSION="1.3.1";a.Wreqr.noConflict=function(){a.Wreqr=c;return this};e.Handlers=function(a,b){var c=function(a){this.options=a;this._wreqrHandlers={};b.isFunction(this.initialize)&&
this.initialize(a)};c.extend=a.Model.extend;b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var e=null;b.isObject(a)&&!b.isFunction(a)&&(e=a.context,a=a.callback);this.setHandler(c,a,e)},this)},setHandler:function(a,b,c){this._wreqrHandlers[a]={callback:b,context:c};this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);
return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});return c}(a,b);e.CommandStorage=function(){var c=function(a){this.options=a;this._commands={};b.isFunction(this.initialize)&&this.initialize(a)};b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},
clearCommands:function(a){this.getCommands(a).instances=[]}});return c}();e.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,c)},execute:function(a,b){a=arguments[0];b=Array.prototype.slice.call(arguments,1);this.hasHandler(a)?this.getHandler(a).apply(this,
b):this.storage.addCommand(a,b)},_executeCommands:function(a,c,e){var d=this.storage.getCommands(a);b.each(d.instances,function(a){c.apply(e,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=b.isFunction(a)?new a:a}})}(e);e.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);if(this.hasHandler(a))return this.getHandler(a).apply(this,b)}})}(e);e.EventAggregator=
function(a,b){var c=function(){};c.extend=a.Model.extend;b.extend(c.prototype,a.Events);return c}(a,b);e.Channel=function(a){var c=function(b){this.vent=new a.EventAggregator;this.reqres=new a.RequestResponse;this.commands=new a.Commands;this.channelName=b};b.extend(c.prototype,{reset:function(){this.vent.off();this.vent.stopListening();this.reqres.removeAllHandlers();this.commands.removeAllHandlers();return this},connectEvents:function(a,b){this._connect("vent",a,b);return this},connectCommands:function(a,
b){this._connect("commands",a,b);return this},connectRequests:function(a,b){this._connect("reqres",a,b);return this},_connect:function(a,c,e){if(c){e=e||this;var d="vent"===a?"on":"setHandler";b.each(c,function(c,g){this[a][d](g,b.bind(c,e))},this)}}});return c}(e);e.radio=function(a){var c=function(){this._channels={};this.vent={};this.commands={};this.reqres={};this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw Error("Channel must receive a name");return this._getChannel(a)},
_getChannel:function(b){var c=this._channels[b];c||(c=new a.Channel(b),this._channels[b]=c);return c},_proxyMethods:function(){b.each(["vent","commands","reqres"],function(a){b.each(e[a],function(b){this[a][b]=d(this,a,b)},this)},this)}});var e={vent:"on off trigger once stopListening listenTo listenToOnce".split(" "),commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},d=function(a,b,
c){return function(e){var d=a._getChannel(e)[b],g=Array.prototype.slice.call(arguments,1);return d[c].apply(d,g)}};return new c}(e);return a.Wreqr})(f,e);var p=f.ChildViewContainer.noConflict(),q=f.Wreqr.noConflict(),r=m.Marionette,d=f.Marionette={};d.VERSION="2.1.0";d.noConflict=function(){m.Marionette=r;return this};f.Marionette=d;d.Deferred=f.$.Deferred;var l=Array.prototype.slice;d.extend=f.Model.extend;d.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]};
d.proxyGetOption=function(a){return d.getOption(this,a)};d.normalizeMethods=function(a){var b={};e.each(a,function(a,d){e.isFunction(a)||(a=this[a]);a&&(b[d]=a)},this);return b};d.normalizeUIKeys=function(a,b){if("undefined"!==typeof a)return e.each(e.keys(a),function(c){var e=/@ui\.[a-zA-Z_$0-9]*/g;c.match(e)&&(a[c.replace(e,function(a){return b[a.slice(4)]})]=a[c],delete a[c])}),a};d.actAsCollection=function(a,b){e.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),
function(c){a[c]=function(){var a=[e.values(e.result(this,b))].concat(e.toArray(arguments));return e[c].apply(e,a)}})};d.triggerMethod=function(){function a(a,b,e){return e.toUpperCase()}var b=/(^|:)(\w)/gi;return function(c){var d=this["on"+c.replace(b,a)],h;e.isFunction(d)&&(h=d.apply(this,e.tail(arguments)));e.isFunction(this.trigger)&&this.trigger.apply(this,arguments);return h}}();d.MonitorDOMRefresh=function(a){function b(b){b._isShown&&b._isRendered&&f.$.contains(a,b.el)&&e.isFunction(b.triggerMethod)&&
b.triggerMethod("dom:refresh")}return function(a){a.listenTo(a,"show",function(){a._isShown=!0;b(a)});a.listenTo(a,"render",function(){a._isRendered=!0;b(a)})}}(document.documentElement);(function(a){function b(a,b,c,d){d=d.split(/\s+/);e.each(d,function(e){var d=a[e];d||k('Method "'+e+'" was configured as an event handler, but does not exist.');a.listenTo(b,c,d)})}function c(a,b,c,e){a.listenTo(b,c,e)}function d(a,b,c,d){d=d.split(/\s+/);e.each(d,function(e){a.stopListening(b,c,a[e])})}function h(a,
b,c,e){a.stopListening(b,c,e)}function n(a,b,c,d,g){b&&c&&(e.isFunction(c)&&(c=c.call(a)),e.each(c,function(c,h){e.isFunction(c)?d(a,b,h,c):g(a,b,h,c)}))}a.bindEntityEvents=function(a,e,d){n(a,e,d,c,b)};a.unbindEntityEvents=function(a,b,c){n(a,b,c,h,d)};a.proxyBindEntityEvents=function(b,c){return a.bindEntityEvents(this,b,c)};a.proxyUnbindEntityEvents=function(b,c){return a.unbindEntityEvents(this,b,c)}})(d);d.Callbacks=function(){this._deferred=d.Deferred();this._callbacks=[]};e.extend(d.Callbacks.prototype,
{add:function(a,b){var c=e.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b});c.then(function(c){b&&(c.context=b);a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=d.Deferred();this._callbacks=[];e.each(a,function(a){this.add(a.cb,a.ctx)},this)}});d.Controller=function(a){this.options=a||{};e.isFunction(this.initialize)&&this.initialize(this.options)};d.Controller.extend=d.extend;e.extend(d.Controller.prototype,
f.Events,{destroy:function(){var a=l.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.triggerMethod.apply(this,["destroy"].concat(a));this.stopListening();this.off();return this},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption});d.Object=function(a){this.options=e.extend({},e.result(this,"options"),a);this.initialize(this.options)};d.Object.extend=d.extend;e.extend(d.Object.prototype,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy");
this.triggerMethod("destroy");this.stopListening()},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});e.extend(d.Object.prototype,f.Events);d.Region=function(a){this.options=a||{};this.el=this.getOption("el");(this.el=this.el instanceof f.$?this.el[0]:this.el)||k('An "el" must be specified for a region.',"NoElError");this.$el=this.getEl(this.el);if(this.initialize){var b=l.apply(arguments);this.initialize.apply(this,
b)}};e.extend(d.Region,{buildRegion:function(a,b){if(e.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(e.isFunction(a))return this._buildRegionFromRegionClass(a);k("Improper region configuration type. Please refer to http://marionettejs.com/docs/marionette.region.html#region-configuration-types")},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){b=a.regionClass||b;var c=
e.omit(a,"selector","regionClass");a.selector&&!c.el&&(c.el=a.selector);b=new b(c);a.parentEl&&(b.getEl=function(b){if(e.isObject(b))return f.$(b);var c=a.parentEl;e.isFunction(c)&&(c=c());return c.find(b)});return b},_buildRegionFromRegionClass:function(a){return new a}});e.extend(d.Region.prototype,f.Events,{show:function(a,b){this._ensureElement();b=b||{};var c=a!==this.currentView,d=!!b.forceShow,h=!!this.currentView;!b.preventDestroy&&c&&this.empty();if(c||d)a.once("destroy",e.bind(this.empty,
this)),a.render(),h&&this.triggerMethod("before:swap",a),this.triggerMethod("before:show",a),e.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):this.triggerMethod.call(a,"before:show"),this.attachHtml(a),this.currentView=a,h&&this.triggerMethod("swap",a),this.triggerMethod("show",a),e.isFunction(a.triggerMethod)?a.triggerMethod("show"):this.triggerMethod.call(a,"show");return this},_ensureElement:function(){e.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]);this.$el&&
0!==this.$el.length||k('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(a){return f.$(a)},attachHtml:function(a){this.el.innerHTML="";this.el.appendChild(a.el)},empty:function(){var a=this.currentView;if(a)return this.triggerMethod("before:empty",a),this._destroyView(),this.triggerMethod("empty",a),delete this.currentView,this},_destroyView:function(){var a=this.currentView;a.destroy&&!a.isDestroyed?a.destroy():a.remove&&a.remove()},attachView:function(a){this.currentView=a;return this},
hasView:function(){return!!this.currentView},reset:function(){this.empty();this.$el&&(this.el=this.$el.selector);delete this.$el;return this},getOption:d.proxyGetOption,triggerMethod:d.triggerMethod});d.Region.extend=d.extend;d.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={};a.Controller.call(this,b)},addRegions:function(a,b){e.isFunction(a)&&(a=a.apply(this,arguments));var c={};e.each(a,function(a,d){e.isString(a)&&(a={selector:a});a.selector&&(a=e.defaults({},
a,b));a=this.addRegion(d,a);c[d]=a},this);return c},addRegion:function(b,d){var c=e.isObject(d),g=e.isString(d),f=!!d.selector;d=g||c&&f?a.Region.buildRegion(d,a.Region):e.isFunction(d)?a.Region.buildRegion(d,a.Region):d;this.triggerMethod("before:add:region",b,d);this._store(b,d);this.triggerMethod("add:region",b,d);return d},get:function(a){return this._regions[a]},getRegions:function(){return e.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];this._remove(a,b);return b},removeRegions:function(){var a=
this.getRegions();e.each(this._regions,function(a,b){this._remove(b,a)},this);return a},emptyRegions:function(){var a=this.getRegions();e.each(a,function(a){a.empty()},this);return a},destroy:function(){this.removeRegions();return a.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]=b;this._setLength()},_remove:function(a,b){this.triggerMethod("before:remove:region",a,b);b.empty();b.stopListening();delete this._regions[a];this._setLength();this.triggerMethod("remove:region",
a,b)},_setLength:function(){this.length=e.size(this._regions)}});a.actAsCollection(b.prototype,"_regions");return b}(d);d.TemplateCache=function(a){this.templateId=a};e.extend(d.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];b||(b=new d.TemplateCache(a),this.templateCaches[a]=b);return b.load()},clear:function(){var a,b=l.call(arguments),c=b.length;if(0<c)for(a=0;a<c;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});e.extend(d.TemplateCache.prototype,
{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a)},loadTemplate:function(a){var b=f.$(a).html();b&&0!==b.length||k('Could not find template: "'+a+'"',"NoTemplateError");return b},compileTemplate:function(a){return e.template(a)}});d.Renderer={render:function(a,b){a||k("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");return("function"===typeof a?
a:d.TemplateCache.get(a))(b)}};d.View=f.View.extend({constructor:function(a){e.bindAll(this,"render");this.options=e.extend({},e.result(this,"options"),e.isFunction(a)?a.call(this):a);this.events=this.normalizeUIKeys(e.result(this,"events"));e.isObject(this.behaviors)&&new d.Behaviors(this);f.View.apply(this,arguments);d.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,
l.call(arguments,1))},mixinTemplateHelpers:function(a){a=a||{};var b=this.getOption("templateHelpers");e.isFunction(b)&&(b=b.call(this));return e.extend(a,b)},normalizeUIKeys:function(a){var b=e.result(this,"ui"),c=e.result(this,"_uiBindings");return d.normalizeUIKeys(a,c||b)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(e.result(this,"triggers"));e.each(b,function(b,d){var c=e.isObject(b),g=c?b.event:b;a[d]=function(a){if(a){var e=a.preventDefault,d=a.stopPropagation,
h=c?b.stopPropagation:d;(c?b.preventDefault:e)&&e&&e.apply(a);h&&d&&d.apply(a)}this.triggerMethod(g,{view:this,model:this.model,collection:this.collection})}},this);return a}},delegateEvents:function(a){this._delegateDOMEvents(a);this.bindEntityEvents(this.model,this.getOption("modelEvents"));this.bindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},_delegateDOMEvents:function(a){a=a||this.events;e.isFunction(a)&&(a=a.call(this));a=this.normalizeUIKeys(a);var b={},c=e.result(this,
"behaviorEvents")||{},d=this.configureTriggers();e.extend(b,c,a,d);f.View.prototype.delegateEvents.call(this,b)},undelegateEvents:function(){var a=l.call(arguments);f.View.prototype.undelegateEvents.apply(this,a);this.unbindEntityEvents(this.model,this.getOption("modelEvents"));this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"));return this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var a=Error("Cannot use a view thats already been destroyed.");
a.name="ViewDestroyedError";throw a;}},destroy:function(){if(!this.isDestroyed){var a=l.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.isDestroyed=!0;this.triggerMethod.apply(this,["destroy"].concat(a));this.unbindUIElements();this.remove();return this}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=e.result(this,"_uiBindings");this.ui={};e.each(e.keys(a),function(b){this.ui[b]=this.$(a[b])},this)}},unbindUIElements:function(){this.ui&&
this._uiBindings&&(e.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},triggerMethod:d.triggerMethod,normalizeMethods:d.normalizeMethods,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});d.ItemView=d.View.extend({constructor:function(){d.View.apply(this,arguments)},serializeData:function(){var a={};this.model?a=e.partial(this.serializeModel,this.model).apply(this,arguments):this.collection&&
(a={items:e.partial(this.serializeCollection,this.collection).apply(this,arguments)});return a},serializeCollection:function(a){return a.toJSON.apply(a,l.call(arguments,1))},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderTemplate();this.bindUIElements();this.triggerMethod("render",this);return this},_renderTemplate:function(){var a=this.getTemplate();if(!1!==a){a||k("Cannot render the template since it is null or undefined.","UndefinedTemplateError");
var b=this.serializeData();b=this.mixinTemplateHelpers(b);a=d.Renderer.render(a,b,this);this.attachElContent(a);return this}},attachElContent:function(a){this.$el.html(a);return this},destroy:function(){if(!this.isDestroyed)return d.View.prototype.destroy.apply(this,arguments)}});d.CollectionView=d.View.extend({childViewEventPrefix:"childview",constructor:function(a){var b=a||{};this.sort=e.isUndefined(b.sort)?!0:b.sort;this._initChildViewStorage();d.View.apply(this,arguments);this._initialEvents();
this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1;this._triggerBeforeShowBufferedChildren();this.attachBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&e.invoke(this._bufferedChildren,"triggerMethod","before:show")},
_triggerShowBufferedChildren:function(){this._isShown&&(e.each(this._bufferedChildren,function(a){e.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(a){this.destroyEmptyView();
var b=this.getChildView(a),c=this.collection.indexOf(a);this.addChild(a,b,c)},_onCollectionRemove:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},onShowCalled:function(){this.children.each(function(a){e.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show")})},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderChildren();this.triggerMethod("render",this);return this},resortView:function(){this.render()},
_sortViews:function(){this.collection.find(function(a,b){a=this.children.findByModel(a);return!a||a._index!==b},this)&&this.resortView()},_renderChildren:function(){this.destroyEmptyView();this.destroyChildren();this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getChildView(b);
this.addChild(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty");this._showingEmptyView=!0;var b=new f.Model;this.addEmptyView(b,a);this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,b){var c=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");
e.isFunction(c)&&(c=c.call(this));a=this.buildChildView(a,b,c);this._isShown&&this.triggerMethod.call(a,"before:show");this.children.add(a);this.renderChildView(a,-1);this._isShown&&this.triggerMethod.call(a,"show")},getChildView:function(a){(a=this.getOption("childView"))||k('A "childView" must be specified',"NoChildViewError");return a},addChild:function(a,b,c){var d=this.getOption("childViewOptions");e.isFunction(d)&&(d=d.call(this,a,c));a=this.buildChildView(a,b,d);this._updateIndices(a,!0,c);
this._addChildView(a,c);return a},_updateIndices:function(a,b,c){this.sort&&(b?(a._index=c,this.children.each(function(b){b._index>=a._index&&b._index++})):this.children.each(function(b){b._index>=a._index&&b._index--}))},_addChildView:function(a,b){this.proxyChildEvents(a);this.triggerMethod("before:add:child",a);this.children.add(a);this.renderChildView(a,b);this._isShown&&!this.isBuffering&&(e.isFunction(a.triggerMethod)?a.triggerMethod("show"):d.triggerMethod.call(a,"show"));this.triggerMethod("add:child",
a)},renderChildView:function(a,b){a.render();this.attachHtml(this,a,b);return a},buildChildView:function(a,b,c){a=e.extend({model:a},c);return new b(a)},removeChildView:function(a){a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1));return a},isEmpty:function(a){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&
this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},attachHtml:function(a,b,c){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c;this.sort&&b<this.children.length-1&&(c=this.children.find(function(a){return a._index===b+1}));return c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},_initChildViewStorage:function(){this.children=new p},destroy:function(){if(!this.isDestroyed)return this.triggerMethod("before:destroy:collection"),
this.destroyChildren(),this.triggerMethod("destroy:collection"),d.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){var a=this.children.map(e.identity);this.children.each(this.removeChildView,this);this.checkEmpty();return a},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var c=l.call(arguments),d=c[0],h=this.normalizeMethods(e.result(this,"childEvents"));c[0]=b+":"+d;c.splice(1,0,a);"undefined"!==typeof h&&e.isFunction(h[d])&&
h[d].apply(this,c.slice(1));this.triggerMethod.apply(this,c)},this)}});d.CompositeView=d.CollectionView.extend({constructor:function(){d.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},
getChildView:function(a){(a=this.getOption("childView")||this.constructor)||k('A "childView" must be specified',"NoChildViewError");return a},serializeData:function(){var a={};this.model&&(a=e.partial(this.serializeModel,this.model).apply(this,arguments));return a},render:function(){this._ensureViewIsIntact();this.isRendered=!0;this.resetChildViewContainer();this.triggerMethod("before:render",this);this._renderTemplate();this._renderChildren();this.triggerMethod("render",this);return this},_renderChildren:function(){this.isRendered&&
d.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a=this.serializeData();a=this.mixinTemplateHelpers(a);this.triggerMethod("before:render:template");var b=this.getTemplate();a=d.Renderer.render(b,a,this);this.attachElContent(a);this.bindUIElements();this.triggerMethod("render:template")},attachElContent:function(a){this.$el.html(a);return this},attachBuffer:function(a,b){this.getChildViewContainer(a).append(b)},_insertAfter:function(a){this.getChildViewContainer(this).append(a.el)},
getChildViewContainer:function(a){if("$childViewContainer"in a)return a.$childViewContainer;var b;(b=d.getOption(a,"childViewContainer"))?(b=e.isFunction(b)?b.call(a):b,b="@"===b.charAt(0)&&a.ui?a.ui[b.substr(4)]:a.$(b),0>=b.length&&k('The specified "childViewContainer" was not found: '+a.childViewContainer,"ChildViewContainerMissingError")):b=a.$el;return a.$childViewContainer=b},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}});d.LayoutView=d.ItemView.extend({regionClass:d.Region,
constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);d.ItemView.call(this,a)},render:function(){this._ensureViewIsIntact();this._firstRender?this._firstRender=!1:this._reInitializeRegions();return d.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return this;this.regionManager.destroy();return d.ItemView.prototype.destroy.apply(this,arguments)},addRegion:function(a,b){this.triggerMethod("before:region:add",a);var c={};c[a]=b;return this._buildRegions(c)[a]},
addRegions:function(a){this.regions=e.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){this.triggerMethod("before:region:remove",a);delete this.regions[a];return this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b=this,c={regionClass:this.getOption("regionClass"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,
c)},_initializeRegions:function(a){this._initRegionManager();var b=e.isFunction(this.regions)?this.regions(a):this.regions||{};var c=this.getOption.call(a,"regions");e.isFunction(c)&&(c=c.call(this,a));e.extend(b,c);this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.emptyRegions();this.regionManager.each(function(a){a.reset()})},getRegionManager:function(){return new d.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.listenTo(this.regionManager,
"before:add:region",function(a){this.triggerMethod("before:add:region",a)});this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this.regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})}});d.Behavior=function(a,b){function c(b,c){this.view=c;this.defaults=a.result(this,
"defaults")||{};this.options=a.extend({},this.defaults,b);this.$=function(){return this.view.$.apply(this.view,arguments)};this.initialize.apply(this,arguments)}a.extend(c.prototype,b.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption,bindEntityEvents:d.proxyBindEntityEvents,unbindEntityEvents:d.proxyUnbindEntityEvents});c.extend=d.extend;return c}(e,f);d.Behaviors=function(a,b){function c(a,e){e=c.parseBehaviors(a,e||
b.result(a,"behaviors"));c.wrap(a,e,b.keys(d))}var d={setElement:function(a,c){a.apply(this,b.tail(arguments,2));b.each(c,function(a){a.$el=this.$el;a.el=this.el},this);return this},destroy:function(a,c){var d=b.tail(arguments,2);a.apply(this,d);b.invoke(c,"destroy",d);return this},bindUIElements:function(a,c){a.apply(this);b.invoke(c,a)},unbindUIElements:function(a,c){a.apply(this);b.invoke(c,a)},triggerMethod:function(a,c){var d=b.tail(arguments,2);a.apply(this,d);b.each(c,function(b){a.apply(b,
d)})},delegateEvents:function(c,d){var e=b.tail(arguments,2);c.apply(this,e);b.each(d,function(b){a.bindEntityEvents(b,this.model,a.getOption(b,"modelEvents"));a.bindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this);return this},undelegateEvents:function(c,d){var e=b.tail(arguments,2);c.apply(this,e);b.each(d,function(b){a.unbindEntityEvents(b,this.model,a.getOption(b,"modelEvents"));a.unbindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this);return this},
behaviorEvents:function(c,d){var e={},f=b.result(this,"ui");b.each(d,function(c,d){var h={},g=b.clone(b.result(c,"events"))||{},n=b.result(c,"ui");n=b.extend({},f,n);g=a.normalizeUIKeys(g,n);b.each(b.keys(g),function(a){var e=Array(d+2).join(" ");e=a+e;a=b.isFunction(g[a])?g[a]:c[g[a]];h[e]=b.bind(a,c)});e=b.extend(e,h)});return e}};b.extend(c,{behaviorsLookup:function(){throw Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup");
},getBehaviorClass:function(a,d){return a.behaviorClass?a.behaviorClass:b.isFunction(c.behaviorsLookup)?c.behaviorsLookup.apply(this,arguments)[d]:c.behaviorsLookup[d]},parseBehaviors:function(a,d){return b.chain(d).map(function(d,e){d=new (c.getBehaviorClass(d,e))(d,a);e=c.parseBehaviors(a,b.result(d,"behaviors"));return[d].concat(e)}).flatten().value()},wrap:function(a,c,e){b.each(e,function(e){a[e]=b.partial(d[e],a[e],c)})}});return c}(d,e);d.AppRouter=f.Router.extend({constructor:function(a){f.Router.apply(this,
arguments);this.options=a||{};var b=this.getOption("appRoutes"),c=this._getController();this.processAppRoutes(c,b);this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var c=e.invert(this.getOption("appRoutes"))[a];if(e.isFunction(this.onRoute))this.onRoute(a,c,b)},processAppRoutes:function(a,b){if(b){var c=e.keys(b).reverse();e.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},
_addAppRoute:function(a,b,c){var d=a[c];d||k('Method "'+c+'" was not found on the controller');this.route(b,c,e.bind(d,a))},getOption:d.proxyGetOption});d.Application=function(a){this._initializeRegions(a);this._initCallbacks=new d.Callbacks;this.submodules={};e.extend(this,a);this._initChannel()};e.extend(d.Application.prototype,f.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},
start:function(a){this.triggerMethod("before:start",a);this._initCallbacks.run(a,this);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var c=d.Module.getClass(b),e=l.call(arguments);
e.unshift(this);return c.create.apply(c,e)},getRegionManager:function(){return new d.RegionManager},_initializeRegions:function(a){var b=e.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var c=d.getOption(a,"regions");e.isFunction(c)&&(c=c.call(this,a));e.extend(b,c);this.addRegions(b);return this},_initRegionManager:function(){this._regionManager=this.getRegionManager();this.listenTo(this._regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",
a)});this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this._regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this._regionManager,"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})},_initChannel:function(){this.channelName=e.result(this,"channelName")||"global";this.channel=e.result(this,"channel")||q.radio.channel(this.channelName);
this.vent=e.result(this,"vent")||this.channel.vent;this.commands=e.result(this,"commands")||this.channel.commands;this.reqres=e.result(this,"reqres")||this.channel.reqres},triggerMethod:d.triggerMethod,getOption:d.proxyGetOption});d.Application.extend=d.extend;d.Module=function(a,b,c){this.moduleName=a;this.options=e.extend({},this.options,c);this.initialize=c.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;this.startWithParent=!0;e.isFunction(this.initialize)&&
this.initialize(a,b,this.options)};d.Module.extend=d.extend;e.extend(d.Module.prototype,f.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(e.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&
(this._isInitialized=!1,this.triggerMethod("before:stop"),e.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){a&&(b=e.flatten([this,this.app,f,d,f.$,e,b]),a.apply(this,b))},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new d.Callbacks;this._finalizerCallbacks=
new d.Callbacks},triggerMethod:d.triggerMethod});e.extend(d.Module,{create:function(a,b,c){var d=a,f=l.call(arguments);f.splice(0,3);b=b.split(".");var n=[];n[b.length-1]=c;e.each(b,function(b,e){var g=d;d=this._getModule(g,b,a,c);this._addModuleDefinition(g,d,n[e],f)},this);return d},_getModule:function(a,b,c,d,f){f=e.extend({},d);d=this.getClass(d);var g=a[b];g||(g=new d(b,c,f),a[b]=g,a.submodules[b]=g);return g},getClass:function(a){var b=d.Module;return a?a.prototype instanceof b?a:a.moduleClass||
b:b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c);c=this._getStartWithParent(c,b);e&&b.addDefinition(e,d);this._addStartWithParent(a,b,c)},_getStartWithParent:function(a,b){return e.isFunction(a)&&a.prototype instanceof d.Module?(a=b.constructor.prototype.startWithParent,e.isUndefined(a)?!0:a):e.isObject(a)?(a=a.startWithParent,e.isUndefined(a)?!0:a):!0},_getDefine:function(a){return!e.isFunction(a)||a.prototype instanceof d.Module?e.isObject(a)?a.define:null:a},_addStartWithParent:function(a,
b,c){b.startWithParent=b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return d})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:marionette-2.1.0', location = 'libs/marionette-2.1.0.js' */
define("jira/components/libs/marionette-2.1.0",["require"],function(d){function f(a,b){b=e.defaults({},b||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0}});this.trigger(a,b);return b}function g(a,b){this.triggerPreventable(a,b).isPrevented&&b.preventDefault()}var h=d("atlassian/libs/factories/marionette-2.1.0"),k=d("jira/components/libs/backbone"),e=d("jira/components/libs/underscore"),c=h(e,k);e.extend(c.View.prototype,{unwrapTemplate:function(a){if(!a||this.$el.hasClass(a))this.$el.parent().length?
(a=this.$el.children(),this.$el.replaceWith(a),this.setElement(a)):this.setElement(this.$el.children())},triggerPreventable:f,retriggerPreventable:g});e.extend(c.Controller.prototype,{triggerPreventable:f,retriggerPreventable:g});c.ViewManager=c.Object.extend({constructor:function(){this.views={};c.Controller.apply(this,arguments)},hideView:function(a){var b=this.views[a];b&&(this.stopListening(b),b.isDestroyed||b.destroy(),delete this.views[a])},showView:function(a,b){this.buildView(a,b).render()},
buildView:function(a,b){var c=this.views[a];c||(c=b.call(this),this.listenTo(c,"destroy",function(){this.hideView(a)}),this.views[a]=c);return c},getView:function(a){return this.views[a]},onDestroy:function(){e.each(this.views,function(a,b){this.hideView(b)},this)}});return c});define("jira/components/lib/marionette-2.1.0",["require"],function(d){return d("jira/components/libs/marionette-2.1.0")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issue-utils', location = 'content/js/util/Utils.js' */
AJS.namespace("JIRA.Issues.Actions",null,require("jira/components/util/events/issue-actions"));define("jira/issue/utils/xsrf-token-header",[],function(){return{"X-Atlassian-Token":"no-check"}});AJS.namespace("JIRA.Issues.XsrfTokenHeader",null,require("jira/issue/utils/xsrf-token-header"));
define("jira/issue/utils",["require"],function(g){var h=g("jira/dialog/dialog-register"),f=g("jira/components/libs/underscore");return{isIssueDialog:function(a){return!!a.issueId||f.include(h,a)},isDeleteDialog:function(a){return"delete-issue-dialog"===a.options.id},isArchiveDialog:function(a){return"archive-issue-dialog"===a.options.id},isEditCommentDialog:function(a){return"edit-comment"===a.options.id},getEffectiveIssueKeyForDialog:function(a){return(a=a&&a.$activeTrigger&&a.$activeTrigger.data("issuekey"))?
a:JIRA.Issues.Api.getSelectedIssue().getKey()},getEffectiveIssueIdForDialog:function(a){return a.issueId?a.issueId:JIRA.Issues.Api.getSelectedIssue().getId()},getAction:function(a){return this.isDeleteDialog(a)?JIRA.Issues.Actions.DELETE:this.isEditCommentDialog(a)?JIRA.Issues.Actions.EDIT_COMMENT:this.isArchiveDialog(a)?JIRA.Issues.Actions.ARCHIVE:JIRA.Issues.Actions.UPDATE},getMessage:function(a){if(!this.isEditCommentDialog(a))return a.options.issueMsg||"thanks_issue_updated"},getMeta:function(a){return this.isEditCommentDialog(a)?
{commentId:a.$activeTrigger.attr("id").replace("edit_comment_","")}:{}},getUpdateCommandForDialog:function(a){if(this.isIssueDialog(a))return{key:this.getEffectiveIssueKeyForDialog(a),id:this.getEffectiveIssueIdForDialog(a),action:this.getAction(a),message:this.getMessage(a),meta:this.getMeta(a)}},debounce:function(a,b){var c=Array.prototype.slice.call(arguments,2);a||console.error("JIRA.Issues.Utils.debounce: ctx must be defined");clearTimeout(a[b+"DebounceTimeout"]);a[b].apply(a,c);a[b+"DebounceTimeout"]||
(a[b+"Original"]=a[b],a[b]=f.debounce(function(){return a[b+"Original"].apply(a,arguments)},300));a[b+"DebounceTimeout"]=setTimeout(function(){a[b]=a[b+"Original"];a[b+"DebounceTimeout"]=null},500)},waitForDeferreds:function(a,b,c){c=c||window;var d=[],e=new jQuery.Deferred;f.each(a,function(){var a=b.apply(c,arguments);a&&a.promise&&d.push(a)});d.length?jQuery.when.apply(jQuery,d).then(function(){e.resolveWith(c)}):e.resolveWith(c);return e.promise()},resolvedPromise:function(){return(new jQuery.Deferred).resolve().promise()},
patch:function(a,b,c){var d=Object.prototype.hasOwnProperty.call(a,b),e=a[b];a[b]=c;return function(){d?a[b]=e:delete a[b]}},isEmptyOrWhitespace:function(a){return void 0===a||null===a||f.isEmpty(a.trim())}}});AJS.namespace("JIRA.Issues.Utils",null,require("jira/issue/utils"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/AttributesMixinCreator.js' */
define("jira/issues/attributesmixincreator",["require"],function(b){var e=b("jira/components/libs/underscore"),f=b("jira/issues/mixins");return{create:function(a){var c={};-1===e.indexOf(a,"id")&&a.unshift("id");e.each(a,function(d){var a=f.createMethodName("set",d);c[a]=function(a,c){var b={};b[d]=a;this.set(b,c);return this};a=f.createMethodName("get",d);c[a]=function(){return this.get(d)}});return c}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/EventsMixinCreator.js' */
define("jira/issues/eventsmixincreator",["require"],function(c){var e=c("jira/components/libs/underscore"),f=c("jira/issues/mixins");return{create:function(c){var d={};e.each(c,e.bind(function(a){var b=f.createMethodName("bind",a);d[b]=function(){return this.bind.apply(this,[a].concat(e.toArray(arguments)))};b=f.createMethodName("unbind",a);d[b]=function(){return this.unbind.apply(this,[a].concat(e.toArray(arguments)))};b=f.createMethodName("trigger",a);d[b]=function(){return this.trigger.apply(this,
[a].concat(e.toArray(arguments)))};b=f.createMethodName("one",a);d[b]=function(){var b=this,d=arguments[0],c=function(){b.unbind(a,c);d(arguments)},f=e.toArray(arguments).slice(1);return this.bind.apply(this,[a,c].concat(f))}},this));return d}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Extensions.js' */
define("jira/issue/extensions",["require"],function(l){function m(d,b){g.forEach(g.keys(b),function(a){var c=d.prototype;if("initialize"===a){var k=c.initialize;c.initialize=function(){b.initialize.apply(this,arguments);k&&k.apply(this,arguments)}}else if("validate"===a){var h=c.validate;c.validate=function(){var a=b.validate.apply(this,arguments);if(a)return a;if(h)return h.apply(this,arguments)}}else if("defaults"===a){c=c.defaults||(c.defaults={});a=b[a];for(var e in a){if(Object.prototype.hasOwnProperty.call(c,
e))throw"Mixin error: object "+d+" already has default "+e+" defined for mixin "+b;c[e]=a[e]}}else if("properties"===a){if(!g.isArray(b[a]))throw"Expects properties member on mixin to be an array";c.properties||(c.properties=[]);c.properties=c.properties.concat(b[a])}else if("namedEvents"===a){if(!g.isArray(b[a]))throw"Expects events member on mixin to be an array";c.namedEvents||(c.namedEvents=[]);c.namedEvents=c.namedEvents.concat(b[a])}else{if(Object.prototype.hasOwnProperty.call(c,a))throw"Mixin error: object "+
d+" already has property "+a+" for mixin "+b;c[a]=b[a]}},this)}function p(d){return function k(a,c){var h=g.extend({},a);if(a&&a.mixins){var e=a.mixins;delete h.mixins}var f=d.call(this,h,c);e&&g.each(a.mixins,function(a){m(f,a)});f.prototype.namedEvents&&m(f,q.create(f.prototype.namedEvents));f.prototype.properties&&m(f,r.create(f.prototype.properties));f.extend=k;return f}}function t(d,b){var a=d.prototype;d=b.prototype;d.set=function(c,b){var d=this.properties;if(d){if(g.isObject(c)||null==c)var e=
c;else e={},e[c]=b;for(var f in e)if(0>g.indexOf(d,f))throw"Property '"+f+"' does not exist";}return a.set.apply(this,arguments)};d.get=function(c){if(this.properties&&0>g.indexOf(this.properties,c))throw"Property '"+c+"' does not exist";return a.get.apply(this,arguments)}}function u(d,b){d=b.prototype;d.addListener=function(a,c,b,d){if(3>arguments.length)throw"The 'other', 'event', and 'callback' arguments are mandatory";var e=c.charAt(0).toUpperCase()+c.slice(1),f="on"+e,g="off"+e,h="bind"+e;e=
"unbind"+e;if(a[f]){h=f;var k=g||e;if("function"!==typeof a[h])throw"object does not have method "+f+"'";if("function"!==typeof a[k])throw"object does not have method "+g+"'";}else if(k=e,"function"!==typeof a[h])throw"object does not have event ["+c+"] registered'";a[h](b,d);this._cleanerUppers=this._cleanerUppers||[];this._cleanerUppers.push(function(){a[k](b,d)})};d.removeListeners=function(){this._cleanerUppers&&g.each(this._cleanerUppers,function(a){a()})}}function v(d,b){b=b.prototype;var a=
d.prototype.remove;b.remove=function(){this.removeListeners();return a.apply(this,arguments)};b.deactivate=function(){this.undelegateEvents();this.removeListeners()}}function n(d){var b=d.extend();b.extend=p(d.extend);return b}var g=l("jira/components/libs/underscore"),q=l("jira/issues/eventsmixincreator"),r=l("jira/issues/attributesmixincreator");return{applyModelExtensions:function(d){var b=n(d);t(d,b);return b},applyExtensions:n,applyViewExtensions:function(d){var b=n(d);u(d,b);v(d,b);return b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseCollection.js' */
define("jira/issues/basecollection",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyExtensions(b.Collection)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseEvented.js' */
define("jira/issues/baseevented",["require"],function(a){var c=a("jira/components/libs/backbone"),d=a("jira/components/libs/underscore");a=a("jira/issue/extensions");var b=function(){this.initialize.apply(this,arguments)};d.extend(b.prototype,c.Events,{initialize:function(){}});b.extend=c.Model.extend;return a.applyExtensions(b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseModel.js' */
define("jira/issues/basemodel",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyModelExtensions(b.Model)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseRouter.js' */
define("jira/issues/baserouter",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyExtensions(b.Router)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/BaseView.js' */
define("jira/issues/baseview",["require"],function(a){var b=a("jira/components/libs/backbone");return a("jira/issue/extensions").applyViewExtensions(b.View)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/Mixins.js' */
define("jira/issues/mixins",function(){return{createMethodName:function(b,a){return b+a.charAt(0).toUpperCase()+a.substr(1)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/ModelUtils.js' */
define("jira/issues/modelutils",["require"],function(f){function g(){this.modelEvents={}}function l(a){"change"===a||0===a.indexOf("change:")?d.log.captureEvent(this,e.toArray(arguments)):h.Events.trigger.apply(this,arguments)}var e=f("jira/components/libs/underscore"),h=f("jira/components/libs/backbone"),m=f("jira/issue/utils"),d;g.prototype.captureEvent=function(a,c){var b=c[0];this.modelEvents[a.cid]||(this.modelEvents[a.cid]={model:a,events:{}});this.modelEvents[a.cid].events[b]=c};g.prototype.replayEvents=
function(){e.each(this.modelEvents,function(a){e.each(a.events,function(c){h.Events.trigger.apply(a.model,c)})})};var n=function(){if(d)return{commit:function(){}};d={log:new g};var a=m.patch(h.Model.prototype,"trigger",l);return{commit:function(){a();d.log.replayEvents();d=null}}},k={transaction:function(a,c){var b=n();try{return a.apply(c)}finally{b.commit()}},makeTransactional:function(a){var c=function(a){return function(){var c=arguments;return k.transaction(function(){return a.apply(this,c)},
this)}},b=Array.prototype.slice.call(arguments,1);0===b.length&&(b=e.functions(a));e.each(b,function(b){0!==b.indexOf("_")&&(a[b]=c(a[b]))})}};return k});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:backbone-ext', location = 'content/js/base/namespace.js' */
AJS.namespace("JIRA.Issues.AttributesMixinCreator",null,require("jira/issues/attributesmixincreator"));AJS.namespace("JIRA.Issues.BaseCollection",null,require("jira/issues/basecollection"));AJS.namespace("JIRA.Issues.BaseEvented",null,require("jira/issues/baseevented"));AJS.namespace("JIRA.Issues.BaseModel",null,require("jira/issues/basemodel"));AJS.namespace("JIRA.Issues.BaseRouter",null,require("jira/issues/baserouter"));AJS.namespace("JIRA.Issues.BaseView",null,require("jira/issues/baseview"));
AJS.namespace("JIRA.Issues.EventsMixinCreator",null,require("jira/issues/eventsmixincreator"));AJS.namespace("JIRA.Issues.Mixins",null,require("jira/issues/mixins"));AJS.namespace("JIRA.Issues.ModelUtils",null,require("jira/issues/modelutils"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/orderby.soy' */
// This file was automatically generated from orderby.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.OrderBy.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.OrderBy == 'undefined') { JIRA.Templates.OrderBy = {}; }


JIRA.Templates.OrderBy.orderBy = function(opt_data, opt_ignored) {
  return '<div class="order-by-container"><div class="order-by-fields"><a href="#" aria-haspopup="true" class="order-options aui-button aui-style-default jira-aui-dropdown2-trigger" title="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.') + '">' + ((opt_data.sortBy && opt_data.sortBy.fieldId) ? '<span>' + soy.$$escapeHtml(AJS.format('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e {0}',opt_data.sortBy.fieldName)) + '</span>' : '<span>' + soy.$$escapeHtml('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e') + '</span>') + '</a></div><div class="order-by-direction">' + ((opt_data.sortBy) ? '<button aria-haspopup="false" class="order-by aui-button aui-button-subtle" title="' + soy.$$escapeHtml(AJS.format('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e {0}',opt_data.sortBy.fieldName)) + '" data-field-id="' + soy.$$escapeHtml(opt_data.sortBy.fieldId) + '" data-direction="' + soy.$$escapeHtml(opt_data.sortBy.order) + '"' + ((opt_data.sortBy.order == 'ASC') ? 'aria-label="' + soy.$$escapeHtml(AJS.format('{0}: \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 {1}. \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 {2}',AJS.format('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e {0}',opt_data.sortBy.fieldName),'\u043f\u043e \u0432\u043e\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u043c\u0443','\u043f\u043e \u043d\u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u043c\u0443')) + '"><span class="aui-icon aui-icon-small aui-iconfont-new-arrow-up">' + soy.$$escapeHtml(AJS.format('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e {0}',opt_data.sortBy.fieldName)) + '</span>' : 'aria-label="' + soy.$$escapeHtml(AJS.format('{0}: \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 {1}. \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 {2}',AJS.format('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e {0}',opt_data.sortBy.fieldName),'\u043f\u043e \u043d\u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u043c\u0443','\u043f\u043e \u0432\u043e\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u043c\u0443')) + '"><span class="aui-icon aui-icon-small aui-iconfont-new-arrow-down">' + soy.$$escapeHtml(AJS.format('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e {0}',opt_data.sortBy.fieldName)) + '</span>') + '</button>' : '<button aria-haspopup="false" class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e') + '"><span class="aui-icon aui-icon-small aui-iconfont-new-arrow-up">' + soy.$$escapeHtml('\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e') + '</span></button>') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.OrderBy.orderBy.soyTemplateName = 'JIRA.Templates.OrderBy.orderBy';
}


JIRA.Templates.OrderBy.orderByOptions = function(opt_data, opt_ignored) {
  var output = '<div class="field-group"><select id="order-by-options" multiple="multiple" class="hidden" aria-label="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0440\u0430\u0442\u044c') + '"><optgroup data-footer-text="' + soy.$$escapeHtml(opt_data.footer) + '">';
  var optionList52 = opt_data.options;
  var optionListLen52 = optionList52.length;
  for (var optionIndex52 = 0; optionIndex52 < optionListLen52; optionIndex52++) {
    var optionData52 = optionList52[optionIndex52];
    output += '<option title="' + soy.$$escapeHtml(optionData52.fieldName) + '" value="' + soy.$$escapeHtml(optionData52.fieldId) + '" data-meta="' + soy.$$escapeHtml(optionData52.meta) + '">' + soy.$$escapeHtml(optionData52.fieldName) + '</option>';
  }
  output += '</optgroup></select></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.OrderBy.orderByOptions.soyTemplateName = 'JIRA.Templates.OrderBy.orderByOptions';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByModel.js' */
define("jira/components/orderby/orderbymodel",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/components/libs/brace"),d=a("jquery"),e=a("wrm/context-path");return c.Model.extend({namedEvents:["sort"],namedAttributes:["sortBy","jql"],initialize:function(){this.on("change:jql",this.updateSelectedSort,this)},updateSelectedSort:function(){d.ajax({type:"POST",url:e()+"/rest/orderbycomponent/latest/orderByOptions/primary",data:JSON.stringify({jql:this.getJql()}),contentType:"application/json",
success:b.bind(function(a){this.setSortBy(a)},this)})},toggleSort:function(){this.setJql(this.getSortBy().toggleJql);this.triggerSort(this.getJql())},doSort:function(a){this.setJql(a);this.triggerSort(this.getJql())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByView.js' */
define("jira/components/orderby/orderbyview",["require"],function(a){var d=a("jira/components/libs/brace"),b=a("jquery"),e=a("jira/util/events"),f=a("jira/components/orderby/eventtypes"),g=a("jira/components/orderby/templates"),h=a("jira/components/orderby/orderbydropdownview");return d.View.extend({template:g.orderBy,events:{"click button.order-by":"_onClickOrderBy","click a.order-options":"_toggleShowDropDown"},initialize:function(){this.model.on("change:sortBy",this.render,this)},render:function(){this.$el.html(this.template(this.model.toJSON()));
return this},deactivate:function(){this.orderByDropDown&&this.orderByDropDown.deactivate();this.undelegateEvents()},_onClickOrderBy:function(a){var c=new b.Event(f.ISSUE_TABLE_REORDER);e.trigger(c);c.isDefaultPrevented()||b(a.currentTarget).data("field-id")&&this.model.toggleSort();a.preventDefault()},_toggleShowDropDown:function(a){this.orderByDropDown||(this.orderByDropDown=new h({model:this.model,offsetTarget:this.$("a.order-options"),onHideCallback:function(){this.orderByDropDown=null}.bind(this)}));
this.orderByDropDown.toggle();a.preventDefault()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderByDropDownView.js' */
define("jira/components/orderby/orderbydropdownview",["require"],function(d){var e=d("jira/components/libs/underscore"),h=d("jira/components/libs/brace"),g=d("jquery"),k=d("jira/util/events"),l=d("jira/components/orderby/eventtypes"),m=d("jira/components/orderby/templates"),f=d("jira/ajs/layer/inline-layer"),n=d("jira/ajs/select/checkbox-multi-select"),p=d("jira/ajs/select/suggestions/select-suggest-handler"),q=d("jira/ajs/list/group-descriptor"),r=d("jira/ajs/list/item-descriptor"),t=d("jira/issues/baseview"),
u=d("jira/issues/tipsy"),v=d("wrm/context-path");return h.View.extend({initialize:function(a){e.bindAll(this,"_onDropdownHidden","_onDropdownShown");this.offsetTarget=a.offsetTarget;this._onHideCallback=a.onHideCallback;this._inlineLayer=this._pending=null;this.shouldFocusDropdownTrigger=!1},deactivate:function(){this._inlineLayer&&this._inlineLayer.hide();t.prototype.deactivate.apply(this,arguments)},toggle:function(){this._inlineLayer?this._inlineLayer.hide():(this._pending=g.ajax(this._ajaxDefaults()),
this._inlineLayer=this._createInlineLayer(this._pending),this._inlineLayer.bind(f.EVENTS.show,this._onDropdownShown),this._inlineLayer.bind(f.EVENTS.hide,this._onDropdownHidden),this._inlineLayer.show())},_createInlineLayer:function(a){var b=e.bind(function(a){this._deferredAddTipsyToFooter(a);return this._renderInitialContent(a)},this),c=new f({offsetTarget:this.offsetTarget,content:function(){return a.pipe(b)},width:218,appendToTrigger:!0});this._onHideCallback&&c.bind(f.EVENTS.hide,this._onHideCallback);
return c},_initSingleSelect:function(a){var b=a.find("select");b.bind("selected",e.bind(this._onFieldSelected,this));this.selectControl=new n({element:b,itemAttrDisplayed:"label",suggestionsHandler:p,ariaLabel:"\u041f\u043e\u0438\u0441\u043a",ajaxOptions:this._ajaxDefaults({data:e.bind(function(a){return JSON.stringify(this._ajaxOptionsData(a))},this),query:!0,minQueryLength:0,formatResponse:e.bind(function(a){this._removeTipsy();var b=new q;e.each(a.fields,function(a){b.addItem(new r({title:a.fieldName,
value:a.fieldId,label:a.fieldName,meta:{sortJql:a.sortJql}}))});var c=this._getFooterText(a);c&&(b.footerText(c),this._deferredAddTipsyToFooter(a));return[b]},this)})});a.find("#order-by-options-input").focus()},_ajaxDefaults:function(a){var b={url:v()+"/rest/orderbycomponent/latest/orderByOptions",type:"POST",contentType:"application/json",data:JSON.stringify(this._ajaxOptionsData())};return e.extend(b,a)},_ajaxOptionsData:function(a){var b=this.model.getJql(),c=this.model.getSortBy();return{query:a,
jql:b?b:void 0,sortBy:c?c.fieldId:void 0}},_renderInitialContent:function(a){var b=e.map(a.fields,function(a){return e.extend({},a,{meta:JSON.stringify({sortJql:a.sortJql})})});return g("\x3cform\x3e\x3c/form\x3e").addClass("order-dropdown aui top-label").html(m.orderByOptions({options:b,footer:this._getFooterText(a)}))},_onDropdownShown:function(a,b){this._initSingleSelect(b)},_onDropdownHidden:function(){this._removeTipsy();g("div.order-dropdown").remove();this._inlineLayer=null},_onFieldSelected:function(a,
b){var c=this.shouldFocusDropdownTrigger;c=!0;a=new g.Event(l.ISSUE_TABLE_REORDER);k.trigger(a);a.isDefaultPrevented()||e.defer(e.bind(function(){this.selectControl.outstandingRequest&&this.selectControl.outstandingRequest.reject();f.current.hide();var a=b.meta();this.model.doSort(a.sortJql)},this));AJS.$("div.details-layout").on("DOMNodeRemoved","div.loading",function(){c&&(AJS.$(".order-by-fields a").focus(),c=!1)})},_getFooterText:function(a){return"number"===typeof a.matchesCount&&"number"===
typeof a.maxResults&&(a=a.matchesCount-a.maxResults,0<a)?AJS.format("\u0435\u0449\u0435 {0} \u043f\u043e\u043b\u044f(\u0435\u0439)...",a):""},_deferredAddTipsyToFooter:function(a){if(this._inlineLayer){var b=AJS.format("\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u044b {0} \u0438\u0437 {1} \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043f\u043e\u043b\u0435\u0439. \u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0435\u0449\u0435 \u043f\u043e\u043b\u044f, \u043d\u0430\u0431\u0440\u0430\u0432 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430.",Math.min(a.matchesCount,a.maxResults),a.matchesCount),c=this;e.defer(function(){c._tipsyTrigger=new u({el:c._inlineLayer.$layer.find(".aui-list-section-footer"),tipsy:{title:function(){return b},className:"tipsy-front"}})})}},_removeTipsy:function(){this._tipsyTrigger&&
(this._tipsyTrigger.hide(),this._tipsyTrigger=null)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/OrderBy.js' */
define("jira/components/orderby",["require"],function(a){var d=a("jira/components/orderby/orderbyview"),e=a("jira/components/orderby/orderbymodel");return{create:function(c){c=c||{};var b=new e({sortBy:c.sortBy,jql:c.jql});var a=new d({model:b});return{onSort:function(){b.onSort.apply(b,arguments);return this},offSort:function(f){b.off("sort",f);return this},render:function(){a.render();return this},setElement:function(b){a.setElement(b);return this},getJql:function(){return b.getJql()},setJql:function(a){b.setJql(a);
return this},setSortBy:function(a){b.setSortBy(a);return this}}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/eventtypes.js' */
define("jira/components/orderby/eventtypes",[],function(){return{ISSUE_TABLE_REORDER:"issueTableReorder"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/amd-wrapper.js' */
define("jira/components/orderby/templates",function(){return JIRA.Templates.OrderBy});AJS.namespace("JIRA.Templates.OrderBy",null,require("jira/components/orderby/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:orderby', location = 'orderby/namespace.js' */
AJS.namespace("JIRA.Components.OrderBy",null,require("jira/components/orderby"));AJS.namespace("JIRA.Issues.OrderByDropDownView",null,require("jira/components/orderby/orderbydropdownview"));AJS.namespace("JIRA.Issues.OrderByView",null,require("jira/components/orderby/orderbyview"));AJS.namespace("JIRA.Issues.OrderByModel",null,require("jira/components/orderby/orderbymodel"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:backbone.paginator-2.0.2-factory', location = 'factories/backbone.paginator/2.0.2/backbone.paginator-2.0.2-factory.js' */
'use strict';(function(k){define("atlassian/libs/factories/backbone.paginator-2.0.2",function(){return function(l,n){k.call({_:l,Backbone:n});l=n.PageableCollection.noConflict();l.VERSION="2.0.2";return l}})})(function(){(function(k){var l=this.Backbone,n=l.PageableCollection,F=k(this._,l);l.PageableCollection.noConflict=function(){l.PageableCollection=n;return F}}).call(this,function(k,l){function n(a,b){if(!k.isNumber(a)||k.isNaN(a)||!k.isFinite(a)||~~a!==a)throw new TypeError("`"+b+"` must be a finite integer");
return a}function F(a){for(var b,e,c={},d=decodeURIComponent,f=a.split("\x26"),g=0,h=f.length;g<h;g++)b=f[g].split("\x3d"),a=b[0],b=b[1]||!0,a=d(a),b=d(b),e=c[a],A(e)?e.push(b):c[a]=e?[e,b]:b;return c}function G(a,b,e){if((a=a._events[b])&&a.length){var c=a[a.length-1],d=c.callback;c.callback=function(){try{d.apply(this,arguments),e()}catch(f){throw f;}finally{c.callback=d}}}else e()}var p=k.extend,r=k.omit,v=k.clone,q=k.each,K=k.pick,L=k.contains,H=k.isEmpty,I=k.pairs,R=k.invert,A=k.isArray,B=k.isFunction,
M=k.isObject,y=k.keys,z=k.isUndefined,C=Math.ceil,N=Math.floor,J=Math.max,D=l.Collection.prototype,O=/[\s'"]/g,S=/[<>\s'"]/g,Q=l.PageableCollection=l.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(a,b){D.constructor.apply(this,
arguments);b=b||{};var e=this.mode=b.mode||this.mode||x.mode,c=p({},x.queryParams,this.queryParams,b.queryParams||{});c.directions=p({},x.queryParams.directions,this.queryParams.directions,c.directions||{});this.queryParams=c;c=this.state=p({},x.state,this.state,b.state||{});c.currentPage=null==c.currentPage?c.firstPage:c.currentPage;A(a)||(a=a?[a]:[]);a=a.slice();"server"==e||null!=c.totalRecords||H(a)||(c.totalRecords=a.length);this.switchMode(e,p({fetch:!1,resetState:!1,models:a},b));var d=b.comparator;
c.sortKey&&!d&&this.setSorting(c.sortKey,c.order,b);"server"!=e&&(e=this.fullCollection,d&&b.full&&(this.comparator=null,e.comparator=d),b.full&&e.sort(),a&&!H(a)&&(this.reset(a,p({silent:!0},b)),this.getPage(c.currentPage),a.splice.apply(a,[0,a.length].concat(this.models))));this._initState=v(this.state)},_makeFullCollection:function(a,b){var e=["url","model","sync","comparator"],c=this.constructor.prototype,d,f={};var g=0;for(d=e.length;g<d;g++){var h=e[g];z(c[h])||(f[h]=c[h])}a=new (l.Collection.extend(f))(a,
b);g=0;for(d=e.length;g<d;g++)h=e[g],this[h]!==c[h]&&(a[h]=this[h]);return a},_makeCollectionEventHandler:function(a,b){return function(e,c,d,f){var g=a._handlers;q(y(g),function(d){var c=g[d];a.off(d,c);b.off(d,c)});var h=v(a.state),t=h.firstPage,k=h.pageSize,m=(0===t?h.currentPage:h.currentPage-1)*k,l=m+k;if("add"==e){var n;f=f||{};if(d==b){var u=b.indexOf(c);if(u>=m&&u<l){var r=a;var w=n=u-m}}else w=a.indexOf(c),u=m+w,r=b,n=z(f.at)?u:f.at+m;f.onRemove||(++h.totalRecords,delete f.onRemove);a.state=
a._checkState(h);if(r){r.add(c,p({},f||{},{at:n}));var P=w>=k?c:!z(f.at)&&n<l&&a.length>k?a.at(k):null;P&&G(d,e,function(){a.remove(P,{onAdd:!0})})}}if("remove"==e)if(f.onAdd)delete f.onAdd;else{--h.totalRecords?(w=h.totalPages=C(h.totalRecords/k),h.lastPage=0===t?w-1:w||t,h.currentPage>w&&(h.currentPage=h.lastPage)):(h.totalRecords=null,h.totalPages=null);a.state=a._checkState(h);var E;t=f.index;d==a?((E=b.at(l))?G(a,e,function(){a.push(E,{onRemove:!0})}):!a.length&&h.totalRecords&&a.reset(b.models.slice(m-
k,l-k),p({},f,{parse:!1})),b.remove(c)):t>=m&&t<l&&((E=b.at(l-1))&&G(a,e,function(){a.push(E,{onRemove:!0})}),a.remove(c),!a.length&&h.totalRecords&&a.reset(b.models.slice(m-k,l-k),p({},f,{parse:!1})))}"reset"==e&&(f=d,d=c,d==a&&null==f.from&&null==f.to?(h=b.models.slice(0,m),k=b.models.slice(m+a.models.length),b.reset(h.concat(a.models).concat(k),f)):d==b&&((h.totalRecords=b.models.length)||(h.totalRecords=null,h.totalPages=null),"client"==a.mode&&(h.lastPage=h.currentPage=h.firstPage),a.state=a._checkState(h),
a.reset(b.models.slice(m,l),p({},f,{parse:!1}))));"sort"==e&&(f=d,c===b&&a.reset(b.models.slice(m,l),p({},f,{parse:!1})));q(y(g),function(d){var c=g[d];q([a,b],function(a){a.on(d,c);a=a._events[d]||[];a.unshift(a.pop())})})}},_checkState:function(a){var b=this.mode,e=this.links,c=a.totalRecords,d=a.pageSize,f=a.currentPage,g=a.firstPage;if(null!=c&&null!=d&&null!=f&&null!=g&&("infinite"==b?e:1)){c=n(c,"totalRecords");d=n(d,"pageSize");f=n(f,"currentPage");g=n(g,"firstPage");if(1>d)throw new RangeError("`pageSize` must be \x3e\x3d 1");
c=a.totalPages=C(c/d);if(0>g||1<g)throw new RangeError("`firstPage must be 0 or 1`");a.lastPage=0===g?J(0,c-1):c||g;if("infinite"==b){if(!e[f+""])throw new RangeError("No link found for page "+f);}else if(f<g||0<c&&(g?f>c:f>=c))throw new RangeError("`currentPage` must be firstPage \x3c\x3d currentPage "+(g?"\x3e":"\x3e\x3d")+" totalPages if "+g+"-based. Got "+f+".");}return a},setPageSize:function(a,b){a=n(a,"pageSize");b=b||{first:!1};var e=this.state,c=C(e.totalRecords/a),d=c?J(e.firstPage,N(c*
e.currentPage/e.totalPages)):e.firstPage;e=this.state=this._checkState(p({},e,{pageSize:a,currentPage:b.first?e.firstPage:d,totalPages:c}));return this.getPage(e.currentPage,r(b,["first"]))},switchMode:function(a,b){if(!L(["server","client","infinite"],a))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');b=b||{fetch:!0,resetState:!0};var e=this.state=b.resetState?v(this._initState):this._checkState(p({},this.state));this.mode=a;var c=this,d=this.fullCollection,f=this._handlers=
this._handlers||{},g;if("server"==a||d)"server"==a&&d&&(q(y(f),function(a){g=f[a];c.off(a,g);d.off(a,g)}),delete this._handlers,this._fullComparator=d.comparator,delete this.fullCollection);else{d=this._makeFullCollection(b.models||[],b);d.pageableCollection=this;this.fullCollection=d;var h=this._makeCollectionEventHandler(this,d);q(["add","remove","reset","sort"],function(a){f[a]=g=k.bind(h,{},a);c.on(a,g);d.on(a,g)});d.comparator=this._fullComparator}if("infinite"==a){a=this.links={};var t=e.firstPage,
l=C(e.totalRecords/e.pageSize);t=0===t?J(0,l-1):l||t;for(e=e.firstPage;e<=t;e++)a[e]=this.url}else this.links&&delete this.links;return b.fetch?this.fetch(r(b,"fetch","resetState")):this},hasPreviousPage:function(){var a=this.state,b=a.currentPage;return"infinite"!=this.mode?b>a.firstPage:!!this.links[b-1]},hasNextPage:function(){var a=this.state,b=this.state.currentPage;return"infinite"!=this.mode?b<a.lastPage:!!this.links[b+1]},getFirstPage:function(a){return this.getPage("first",a)},getPreviousPage:function(a){return this.getPage("prev",
a)},getNextPage:function(a){return this.getPage("next",a)},getLastPage:function(a){return this.getPage("last",a)},getPage:function(a,b){var e=this.mode,c=this.fullCollection;b=b||{fetch:!1};var d=this.state,f=d.firstPage,g=d.currentPage,h=d.lastPage,k=d.pageSize;switch(a){case "first":a=f;break;case "prev":a=g-1;break;case "next":a=g+1;break;case "last":a=h;break;default:a=n(a,"index")}this.state=this._checkState(p({},d,{currentPage:a}));b.from=g;b.to=a;d=(0===f?a:a-1)*k;c=c&&c.length?c.models.slice(d,
d+k):[];if(("client"==e||"infinite"==e&&!H(c))&&!b.fetch)return this.reset(c,r(b,"fetch")),this;"infinite"==e&&(b.url=this.links[a]);return this.fetch(r(b,"fetch"))},getPageByOffset:function(a,b){if(0>a)throw new RangeError("`offset must be \x3e 0`");a=n(a);a=N(a/this.state.pageSize);0!==this.state.firstPage&&a++;a>this.state.lastPage&&(a=this.state.lastPage);return this.getPage(a,b)},sync:function(a,b,e){var c=this;if("infinite"==c.mode){var d=e.success,f=c.state.currentPage;e.success=function(a,
b,k){var g=c.links,h=c.parseLinks(a,p({xhr:k},e));h.first&&(g[c.state.firstPage]=h.first);h.prev&&(g[f-1]=h.prev);h.next&&(g[f+1]=h.next);d&&d(a,b,k)}}return(D.sync||l.sync).call(c,a,b,e)},parseLinks:function(a,b){var e={};if(a=b.xhr.getResponseHeader("Link")){var c=["first","prev","next"];q(a.split(","),function(a){a=a.split(";");var b=a[0].replace(S,"");a=a.slice(1);q(a,function(a){var d=a.split("\x3d");a=d[0].replace(O,"");d=d[1].replace(O,"");"rel"==a&&L(c,d)&&(e[d]=b)})})}return e},parse:function(a,
b){var e=this.parseState(a,v(this.queryParams),v(this.state),b);e&&(this.state=this._checkState(p({},this.state,e)));return this.parseRecords(a,b)},parseState:function(a,b,e,c){if(a&&2===a.length&&M(a[0])&&A(a[1])){var d=v(e),f=a[0];q(I(r(b,"directions")),function(a){var b=a[0];a=a[1];var c=f[a];z(c)||k.isNull(c)||(d[b]=f[a])});f.order&&(d.order=1*R(b.directions)[f.order]);return d}},parseRecords:function(a,b){return a&&2===a.length&&M(a[0])&&A(a[1])?a[1]:a},fetch:function(a){a=a||{};var b=this._checkState(this.state),
e=this.mode;"infinite"!=e||a.url||(a.url=this.links[b.currentPage]);var c=a.data||{},d=a.url||this.url||"";B(d)&&(d=d.call(this));var f=d.indexOf("?");-1!=f&&(p(c,F(d.slice(f+1))),d=d.slice(0,f));a.url=d;a.data=c;var g="client"==this.mode?K(this.queryParams,"sortKey","order"):r(K(this.queryParams,y(x.queryParams)),"directions"),h=I(g);d=v(this);for(f=0;f<h.length;f++){var k=h[f];var l=k[0];var m=k[1];m=B(m)?m.call(d):m;null!=b[l]&&null!=m&&(c[m]=b[l])}b.sortKey&&b.order?(f=B(g.order)?g.order.call(d):
g.order,c[f]=this.queryParams.directions[b.order+""]):b.sortKey||delete c[g.order];b=I(r(this.queryParams,y(x.queryParams)));for(f=0;f<b.length;f++)k=b[f],m=k[1],m=B(m)?m.call(d):m,null!=m&&(c[k[0]]=m);if("server"!=e){var n=this,q=this.fullCollection,u=a.success;a.success=function(b,d,c){c=c||{};z(a.silent)?delete c.silent:c.silent=a.silent;var f=b.models;"client"==e?q.reset(f,c):(q.add(f,p({at:q.length},p(c,{parse:!1}))),n.trigger("reset",n,c));u&&u(b,d,c)};return D.fetch.call(this,p({},a,{silent:!0}))}return D.fetch.call(this,
a)},_makeComparator:function(a,b,e){var c=this.state;a=a||c.sortKey;b=b||c.order;if(a&&b)return e||(e=function(a,b){return a.get(b)}),function(c,f){c=e(c,a);f=e(f,a);if(1===b){var d=c;c=f;f=d}return c===f?0:c<f?-1:1}},setSorting:function(a,b,e){var c=this.state;c.sortKey=a;c.order=b=b||c.order;c=this.fullCollection;var d=!1,f=!1;a||(d=f=!0);var g=this.mode;e=p({side:"client"==g?g:"server",full:!0},e);a=this._makeComparator(a,b,e.sortValue);b=e.full;e=e.side;"client"==e?b?(c&&(c.comparator=a),d=!0):
(this.comparator=a,f=!0):"server"!=e||b||(this.comparator=a);d&&(this.comparator=null);f&&c&&(c.comparator=null);return this}}),x=Q.prototype;return Q})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:backbone.paginator', location = 'libs/backbone.paginator.js' */
define("jira/components/libs/backbone.paginator",["require"],function(a){var b=a("atlassian/libs/factories/backbone.paginator-2.0.2"),c=a("jira/components/libs/backbone");a=a("jira/components/libs/underscore");return b(a,c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:latest-search-store', location = 'search/LatestSearchStore.js' */
define("jira/components/search/latestStorage",["require"],function(c){var e=c("jquery"),d=c("jira/data/local-storage");return{get:function(){try{var a=d.getItem("jira.issue.navigator.latest.search");if(a){var b=e.parseJSON(a);if(b.jql||b.filter)return b}}catch(f){return{}}},save:function(a){try{d.setItem("jira.issue.navigator.latest.search",JSON.stringify(a))}catch(b){}}}});AJS.namespace("JIRA.Issues.LatestSearch",null,require("jira/components/search/latestStorage"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/Search.js' */
define("jira/components/search",["require"],function(c){var f=c("wrm/context-path"),e=c("jira/components/libs/backbone"),d=c("jira/components/libs/underscore"),g=c("jquery"),h=c("jira/components/search/results"),k=c("jira/components/search/latestStorage");return e.Collection.extend({url:function(){return f()+"/rest/issueNav/1/issueTable"},searchParams:{jql:"",filterId:null,columnConfig:"explicit",columns:[],layoutKey:"split-view",startIndex:0},sync:function(){var a=d.toArray(arguments),b=a[2];b.type=
"POST";b.headers={"X-Atlassian-Token":"no-check"};b.data={};d.each(d.keys(this.searchParams),function(a){null!==this.searchParams[a]&&(b.data[a]=this.searchParams[a])},this);return e.Collection.prototype.sync.apply(this,a)},parse:function(a){var b=a&&a.issueTable;return b&&b.issueIds?d.map(b.issueIds,function(a,c){return{id:a,key:b.issueKeys[c]}}):[]},update:function(a){this.set(this.parse(a))},setPreloadedData:function(a){this.preloadedData=a;this.reset(a.response,{parse:!0});return this.parseResults(a.jql,
a.response)},parseResults:function(a,b){k.save({jql:a});return new h([],{issues:this.toJSON(),pageSize:b.issueTable.pageSize,totalRecordsInDB:b.issueTable.total,totalRecordsInSearch:this.length,jql:a})},search:function(a){this.searchParams.jql=a;var b=new g.Deferred;this.preloadedData&&this.preloadedData.jql===a?(this.reset(this.preloadedData.response,{parse:!0}),b.resolve(this.parseResults(a,this.preloadedData.response)),delete this.preloadedData):this.fetch({reset:!0,success:d.bind(function(a,c){b.resolve(this.parseResults(a.searchParams.jql,
c))},this),error:function(a,c){b.reject(c)}});return b.promise()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/SearchResult.js' */
define("jira/components/search/result",["require"],function(c){var d=c("wrm/context-path");return c("jira/components/libs/backbone").Model.extend({initialize:function(){this.url=function(){return d()+"/rest/api/2/issue/"+this.id+"?fields\x3dsummary,status,issuetype"}},parse:function(a){var b={};a.inaccessible?(b.id=parseInt(a.id,10),b.key=a.key,b.inaccessible=!0):(b.id=parseInt(a.id,10),b.key=a.key,a.fields?(b.summary=a.fields.summary,b.status=a.fields.status.name,b.type={description:a.fields.issuetype.description,
iconUrl:a.fields.issuetype.iconUrl,name:a.fields.issuetype.name}):(b.status=a.status,b.summary=a.summary,b.type=a.type));return b}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:search', location = 'search/SearchResults.js' */
define("jira/components/search/results",["require"],function(e){var p=e("wrm/context-path"),g=e("jira/components/libs/backbone.paginator"),f=e("jira/components/libs/underscore"),h=e("jquery"),m=e("jira/components/search/result");e=e("jira/legacy/deprecator");var n=g.extend({initialize:function(a,b){b=b||{};this.allIssues=b.issues;this.state.pageSize=b.pageSize;this.state.totalRecords=b.totalRecordsInSearch;this.totalRecordsInDB=b.totalRecordsInDB;this.allowNoSelection=b.allowNoSelection;this.jql=
b.jql},model:m,url:function(){return p()+"/rest/issueNav/1/issueTable/stable"},state:{firstPage:0,currentPage:0},queryParams:{currentPage:null,pageSize:null,totalPages:null,totalRecords:null,sortKey:null,directions:null},sync:function(){var a=f.toArray(arguments),b=a[2];b.type="POST";b.headers={"X-Atlassian-Token":"no-check"};b.data.layoutKey="split-view";b.data.id=this._getStableKeys();return g.prototype.sync.apply(this,a)},isAtTheEndOfStableSearch:function(){var a=this.totalRecordsInDB>this.state.totalRecords;
return this.state.currentPage===this.state.lastPage&&a},setPreloadedData:function(a){this.preloadedData=a;this.reset(a.response,{parse:!0})},_getStableKeys:function(a){a="undefined"===typeof a?this._getStartIndex():a;return f.pluck(this.allIssues,"id").slice(a,a+this.state.pageSize)},_getStartIndex:function(){return this.state.pageSize*this.state.currentPage},_loadPageAndSelect:function(a,b){var c=new h.Deferred;this.trigger("before:loadpage",{pageToLoad:a});this.getPage(a,{fetch:!0,reset:!0}).done(f.bind(function(){this.select(b,
!0);c.resolve(this.length)},this)).fail(f.bind(function(a){c.reject(a);this.trigger("error:loadpage",a)},this));return c.promise()},fetch:function(a){this.preloadedData&&f.isEqual(this.preloadedData.ids,this._getStableKeys(this.state.pageSize*a.to))?(this.reset(this.preloadedData.response,{parse:!0}),a=(new h.Deferred).resolve().promise(),delete this.preloadedData):a=g.prototype.fetch.call(this,a);return a},jumpToPage:function(a){var b=new h.Deferred;this._loadPageAndSelect(a,"first").done(b.resolve).fail(b.reject);
return b.promise()},jumpToPageForIssue:function(a){for(var b=new h.Deferred,c="number"===typeof a,d="string"===typeof a,e,l,k=0,g=this.allIssues.length;k<g&&!l;k++)if(c&&this.allIssues[k].id===a||d&&this.allIssues[k].key===a)l=this.allIssues[k],e=Math.floor(k/this.state.pageSize);"number"===typeof e&&isFinite(e)?this._loadPageAndSelect(e,l.id).done(b.resolve):this.allowNoSelection?this._loadPageAndSelect("first",null).done(f.bind(function(){this.trigger("selectIssueNotInList",new m({id:c?a:void 0,
key:d?a:void 0}))},this)).done(b.resolve):this._loadPageAndSelect("first","first").done(b.resolve);return b.promise()},parse:function(a,b){var c=b.data,d=a&&a.issueTable,e=this.allIssues;f.each(d.table,function(a,b){null===a&&(a=f.findWhere(e,{id:c.id[b]}))&&(d.table[b]={id:a.id,key:a.key,inaccessible:!0})});return g.prototype.parse.call(this,d)},parseState:function(){return{}},parseRecords:function(a){return a.table?a.table:[]},select:function(a,b){if("string"===typeof a)switch(a){case "first":a=
this.at(0);break;case "last":a=this.at(this.length-1);break;default:a=this.findWhere({key:a})}else"number"===typeof a&&(a=this.get(a));this.selected!==a&&this.unselect();a&&(this.selected=a,this.selected.trigger("select",this.selected,b))},unselect:function(){this.selected&&this.selected.trigger("unselect",this.selected);this.selected=null},navigate:function(a){var b=this.indexOf(this.selected)+a,c=this.at(b);c?this.select(c):0<a&&this.hasNextPage()?this._loadPageAndSelect("next","first"):0>a&&this.hasPreviousPage()&&
this._loadPageAndSelect("prev","last");return{current:b,total:this.length}},selectNext:function(){return this.navigate(1)},selectPrev:function(){return this.navigate(-1)},_getIssueByNavigation:function(a){var b=this.indexOf(this.selected);b=this.at(b+a);var c=new h.Deferred;b?(this.select(b),c.resolve(b)):0<a&&this.hasNextPage()?this._loadPageAndSelect("next","first").done(function(){c.resolve(this.selected)}.bind(this)):0>a&&this.hasPreviousPage()?this._loadPageAndSelect("prev","last").done(function(){c.resolve(this.selected)}.bind(this)):
c.reject();return c.promise()},getNextIssue:function(){return this._getIssueByNavigation(1)},getPreviousIssue:function(){return this._getIssueByNavigation(-1)},updateSelectedIssue:function(){this.selected&&this.selected.fetch()},updateIssue:function(a){(a=this.get(a))&&a.fetch()},hasIssueInSearch:function(a){return!!f.where(this.allIssues,{key:a}).length},isEmptySearch:function(){return!this.allIssues.length},removeAndUpdateSelectionIfNeeded:function(a){var b=a.get("key");var c=f.chain(this.allIssues).map(function(a){return a.key}).value();
var d=f.indexOf(c,b);c=d+1<c.length?c[d+1]:0<=d-1?c[d-1]:null;for(d=0;d<this.allIssues.length;d++)if(this.allIssues[d].key===b){this.allIssues.splice(d,1);break}--this.state.totalRecords;--this.totalRecordsInDB;this.unselect();this.remove(a);return c?this.jumpToPageForIssue(c).done(f.bind(function(){this.trigger("issueDeleted")},this)):(new h.Deferred).resolve(0).promise().done(f.bind(function(){this.trigger("issueDeleted")},this))},getIssueKeyForIndex:function(a){if(a=this.allIssues[a])return a.key},
getIssueAtGlobalIndex:function(a){return this.allIssues[a]},getPositionOfIssueInSearchResults:function(a){a=f.indexOf(f.pluck(this.allIssues,"id"),a);return-1<a?a:null},getPositionOfIssueInPage:function(a){a=this.get(a);a=this.indexOf(a);return-1<a?a:null},getTotalIssues:function(){return this.getTotalIssuesInSearch()},getTotalIssuesInSearch:function(){return this.allIssues.length},getTotalIssuesInDb:function(){return this.totalRecordsInDB}});e.prop(n.prototype,"getTotalIssues",{removeInVersion:"8.0",
alternativeName:"jira/components/search/results#getTotalIssuesInSearch()",sinceVersion:"7.1",displayName:"Method jira/components/search/results#getTotalIssues()"});return n});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.dropdown2', location = 'aui.chunk.d692a5866c0bfb4b58e9--e067d23f6410b7bc5e80.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[1735],{},u=>{u.O(0,[7224,9378,1356,2582,7035,8196,3469,2276,4271,4678,7981,8877,7201,7501,4544,7991,3136,9030,113,9110,2990,9009,5260,7524,3042,4191,8106,5396,7428,5853,7598,23,2799,3672],(()=>{return e=7743,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--c7d6d1dc80', location = 'aui.chunk.689ecb44dce7d16cf764--dbf0e3c38ca329481d3b.js' */
(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[7051],{3981:(t,i,o)=>{var e,n,l;
/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */!function(f){"use strict";n=[o(7963),o(21)],e=function(t){return function(){var i,o=Math.max,e=Math.abs,n=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function p(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function c(i,o){return parseInt(t.css(i,o),10)||0}function a(t){return null!=t&&t===t.window}function d(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:a(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,n=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),o===(e=l.offsetWidth)&&(e=n[0].clientWidth),n.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=a(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:!e&&!n?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);var h,a,g,u,m,w,W="string"==typeof(i=t.extend({},i)).of?t(document).find(i.of):t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),b={};return w=d(W),W[0].preventDefault&&(i.at="left top"),a=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],(function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat(["center"]):l.test(e[0])?["center"].concat(e):["center","center"]),e[0]=n.test(e[0])?e[0]:"center",e[1]=l.test(e[1])?e[1]:"center",t=f.exec(e[0]),o=f.exec(e[1]),b[this]=[t?t[0]:0,o?o[0]:0],i[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]})),1===H.length&&(H[1]=H[0]),"right"===i.at[0]?m.left+=a:"center"===i.at[0]&&(m.left+=a/2),"bottom"===i.at[1]?m.top+=g:"center"===i.at[1]&&(m.top+=g/2),h=p(b.at,a,g),m.left+=h[0],m.top+=h[1],this.each((function(){var n,l,f=t(this),s=f.outerWidth(),r=f.outerHeight(),d=c(this,"marginLeft"),w=c(this,"marginTop"),x=s+d+c(this,"marginRight")+y.width,T=r+w+c(this,"marginBottom")+y.height,L=t.extend({},m),P=p(b.my,f.outerWidth(),f.outerHeight());"right"===i.my[0]?L.left-=s:"center"===i.my[0]&&(L.left-=s/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],n={marginLeft:d,marginTop:w},t.each(["left","top"],(function(o,e){t.ui.position[H[o]]&&t.ui.position[H[o]][e](L,{targetWidth:a,targetHeight:g,elemWidth:s,elemHeight:r,collisionPosition:n,collisionWidth:x,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:f})})),i.using&&(l=function(t){var n=u.left-L.left,l=n+a-s,h=u.top-L.top,p=h+g-r,c={target:{element:W,left:u.left,top:u.top,width:a,height:g},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:l<0?"left":n>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};a<s&&e(n+l)<a&&(c.horizontal="center"),g<r&&e(h+p)<g&&(c.vertical="middle"),o(e(n),e(l))>o(e(h),e(p))?c.important="horizontal":c.important="vertical",i.using.call(this,t,c)}),f.offset(t.extend(L,{using:l}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,f=n.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var o,n,l=i.within,f=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<e(p))&&(t.left+=a+d+g):c>0&&((n=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(n)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,n,l=i.within,f=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((n=t.top+a+d+g+i.collisionHeight-s-f)<0||n<e(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position},void 0===(l="function"==typeof e?e.apply(i,n):e)||(t.exports=l)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.position', location = 'aui.chunk.f3fbd206b477f77b3507--cfa5ccb3ec9f768c9f24.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[638],{5286:(u,e,s)=>{s.r(e),s.d(e,{default:()=>t});s(3981);const t="jquery"}},u=>{u.O(0,[3043,7051,7035],(()=>{return e=5286,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:underscore-1.8.3', location = '/static/lib/amd-shims/underscore-1.8.3-amd.js' */
define("underscore-1.8.3",["atlassian/libs/underscore-1.8.3"],(function(e){return e}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:brace', location = '/inline-issue-create/lib/backbone.brace/backbone.brace-amd.js' */
define("jira/inline-issue-create/lib/brace",["jira/backbone-1.3.3","underscore-1.8.3","atlassian/libs/factories/brace-2014.09.03"],function(a,b,c){return c(b,a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:marionette', location = '/inline-issue-create/lib/backbone.marionette/backbone.marionette-amd.js' */
define("jira/inline-issue-create/lib/marionette",["jquery","jira/util/logger","jira/backbone-1.3.3","underscore","atlassian/libs/factories/marionette-2.1.0"],function(d,e,a,c,b){a=b(c,a);b={unwrapTemplate:function(){var a=this.$el.children();1<a.length&&e.warn("[IIC] Unwrapping template with more than one child - some content will be lost");a=d(a.get(0));this.$el.parent().length&&this.$el.replaceWith(a);this.setElement(a)}};c.extend(a.ItemView.prototype,b);c.extend(a.CompositeView.prototype,b);c.extend(a.CollectionView.prototype,
b);c.extend(a.LayoutView.prototype,b);return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:util', location = '/inline-issue-create/util/util.js' */
define("jira/inline-issue-create/util",["jira/util/logger","underscore","jquery"],function(c,e,k){var f=(document.body||document.documentElement).style,g=["oAnimationEnd","MSAnimationEnd","mozAnimationEnd","webkitAnimationEnd","animationend"],h;return{cssAnimationsSupport:void 0!==f.transition||void 0!==f.WebkitTransition||void 0!==f.MozTransition||void 0!==f.MsTransition||void 0!==f.OTransition,addClassAndRemoveOnAnimationEnd:function(b,a,l){function c(){for(d=0;d<g.length;d++)b.off(g[d],c);b.removeClass(a)}
var d;b=k(b);if(this.cssAnimationsSupport)for(d=0;d<g.length;d++)b.on(g[d],c);else setTimeout(function(){b.removeClass(a)},l||1E3);b.addClass(a)},scrollElementToView:function(b,a){var c=b[0].getBoundingClientRect();a=a[0].getBoundingClientRect();var e=b.scrollTop(),d=0;a.top<c.top?d=a.top-c.top:c.bottom<a.bottom&&(d=a.bottom-c.bottom);0!==d&&b.scrollTop(e+d)},keyCode:{ENTER:13,ESC:27},after:function(b,a,c){if(!e.isFunction(c))throw"Body is not a function";b[a]=e.wrap(b[a],function(a){var d=Array.prototype.slice.call(arguments,
1),f=a.apply(b,d);c.apply(this,e.union([f],d));return f})},error:function(b){var a=Array.prototype.slice.call(arguments,1);e.isString(a[0])&&(a[0]="[IIC]"+a[0]);c.error.apply(c,a)},debug:function(b){if(this.shouldDisplay(b)){var a=Array.prototype.slice.call(arguments,1);e.isString(a[0])&&(a[0]="[IIC]"+a[0]);c.debug.apply(c,a)}},trace:function(b){if(this.shouldDisplay(b)){var a=Array.prototype.slice.call(arguments,1);e.isString(a[0])&&(a[0]="[IIC]"+a[0]);c.debug.apply(c,a)}},shouldDisplay:function(b){return"all"===
h||b===h?!0:!1},showLogsFor:function(b){h=b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:analytics', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-analytics.js' */
define("jira/inline-issue-create/analytics",["underscore","jira/analytics","jira/inline-issue-create/lib/marionette"],function(e,f,g){return g.Controller.extend({initialize:function(a){this.loadTimestamp=(new Date).getTime();a=a.widget;this.widgetId=a.model.cid.substring(1);this.projects=a.projects;this.listenTo(a,"issueCreated",this.onIssueCreated);this.listenTo(a,"openCreateIssueDialog",this.onOpenCreateIssueDialog);this.listenTo(a,"activated",this.onActivated);this.listenTo(a,"deactivated",this.onDeactivated)},
triggerAnalytics:function(a,c){var d="",b="";this.projects&&0<this.projects.size()&&(b=this.projects.first(),d=b.get("id"),b=b.get("type"));c=e.defaults({},c,{instance:parseInt(this.widgetId,10),timestarted:this.loadTimestamp,projectId:d,projectType:b});f.send({name:"jira.inlinecreate."+a,data:c})},onOpenCreateIssueDialog:function(a){this.triggerAnalytics("openDialog",{reason:a.reason})},onIssueCreated:function(a,c,d,b){"inline"===b.source?this.triggerAnalytics("issueCreatedInline"):this.triggerAnalytics("issueCreatedDialog")},
onDeactivated:function(){this.triggerAnalytics("deactivated")},onActivated:function(){this.triggerAnalytics("activated")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/custom-form-container-factory.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jira/jquery/deferred","jquery","underscore"],function(e,f,b){return{build:function(){return JIRA.Forms.Container.extend({lazyInit:function(){var a=this.options.call(this);this.prefilledValues=a.prefilledValues;this.prefilledValues.fieldsToRetain=b.keys(a.prefilledValues);this.prefilledValues=f.param(a.prefilledValues);this.options=function(){return a};return this._super()},render:function(){var a=this,
c=new e;this.lazyInit();b.isFunction(a.model.markFieldAsDirty)&&Object.keys(this.options().prefilledValues).forEach(function(c){a.model.markFieldAsDirty(c)});a.model.getUseConfigurableForm().done(function(b){!0===b?a.configurableForm.render(a.prefilledValues).done(function(b,d){c.resolveWith(a,[a.$element]);a.$element.append(d)}):a.unconfigurableForm.render(a.prefilledValues).done(function(b,d){c.resolveWith(a,[a.$element,d]);a.$element.append(d)})}).fail(function(){c.resolveWith(a,[a.$element])});
return c.promise()}})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog-init-form.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog/init-form",["jira/util/formatter","jira/util/urls","underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(e,h,d,k){return function(l,c){if(!d.isObject(c))throw Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.");var m=JIRA.Forms.CreateIssueModel,n=JIRA.Forms.ConfigurableCreateIssueForm,p=JIRA.Forms.UnconfigurableCreateIssueForm,
q=JIRA.Forms.CreateIssueError,r=JIRA.applyErrorsToForm,t=JIRA.applyErrorMessageToForm,a;c.done(function(b){a=b;a.prefilledFields=a.prefilledFields||{};a.errors=a.errors||{};a.errorMessages=a.errorMessages||{}}).fail(function(){a={prefilledFields:{},errors:{},errorMessages:{}}});var b=new (k.build())(function(){var b="\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",c=["PrefillableCreateIssueDialog"],f=new m({initialAtlToken:h.atl_token(),projectId:void 0,issueType:void 0}),d=new n({model:f,title:b,
globalEventNamespaces:c});b=new p({model:f,title:b,globalEventNamespaces:c});return{globalEventNamespaces:c,model:f,errorHandler:new q,configurableForm:d,unconfigurableForm:b,prefilledValues:a.prefilledFields}}),g=b.asDialog({windowTitle:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",id:"prefillable-create-issue-dialog"});g.options.delayShowUntil=function(){return c};b.asDialog=function(){return b.dialog};g.onContentReady(function(){d.keys(a.errors).length&&(a.errorMessages.unshift("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u043d\u0438\u0436\u0435."),
r(b.$element,a.errors));a.errorMessages.length&&t(b.$element,a.errorMessages.join("\x3cbr/\x3e"))});l.resolve(b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-preffilable-create-issue-dialog', location = '/inline-issue-create/components/prefillable-create-issue-dialog/prefillable-create-issue-dialog.js' */
define("jira/inline-issue-create/prefillable-create-issue-dialog","jira/util/formatter jira/jquery/deferred wrm/require jira/loading/loading jira/flag jira/inline-issue-create/prefillable-create-issue-dialog/init-form".split(" "),function(d,k,e,f,a,g){var n=AJS.dim,p=AJS.undim;return{createPrefillableCreateIssueForm:function(c,l){var m=new k;l&&(n(),f.showLoadingIndicator());e(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"],g.bind(void 0,m,c)).fail(function(){l&&(p(),f.hideLoadingIndicator());
a.showErrorMsg(null,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c Jira. \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.")});return m.promise()}}});
define("jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory",["jira/jquery/deferred","jquery","underscore"],function(d,k,e){var f=JIRA.Forms.Container;return{build:function(){return f.extend({lazyInit:function(){var a=this.options.call(this);this.prefilledValues=a.prefilledValues;this.prefilledValues.fieldsToRetain=e.keys(a.prefilledValues);this.prefilledValues=k.param(a.prefilledValues);this.options=function(){return a};return this._super()},render:function(){var a=
this,g=new d;this.lazyInit();e.isFunction(a.model.markFieldAsDirty)&&Object.keys(this.options().prefilledValues).forEach(function(g){a.model.markFieldAsDirty(g)});a.model.getUseConfigurableForm().done(function(d){!0===d?a.configurableForm.render(a.prefilledValues).done(function(d,c){g.resolveWith(a,[a.$element]);a.$element.append(c)}):a.unconfigurableForm.render(a.prefilledValues).done(function(d,c){g.resolveWith(a,[a.$element,c]);a.$element.append(c)})}).fail(function(){g.resolveWith(a,[a.$element])});
return g.promise()}})}}});
define("jira/inline-issue-create/prefillable-create-issue-dialog/ondone",["jira/util/formatter","jira/util/urls","underscore","jira/inline-issue-create/prefillable-create-issue-dialog/custom-form-container-factory"],function(d,k,e,f){var a=JIRA.Forms.CreateIssueModel,g=JIRA.Forms.ConfigurableCreateIssueForm,n=JIRA.Forms.UnconfigurableCreateIssueForm,p=JIRA.Forms.CreateIssueError,c=JIRA.applyErrorsToForm,l=JIRA.applyErrorMessageToForm;return function(m,q){if(!e.isObject(q))throw Error("You must provide promise that will resolve with fieldValues to create this form. Use standard create issue form if you have none.");var b;
q.done(function(a){b=a;b.prefilledFields=b.prefilledFields||{};b.errors=b.errors||{};b.errorMessages=b.errorMessages||{}}).fail(function(){b={prefilledFields:{},errors:{},errorMessages:{}}});var h=new (f.build())(function(){var c="\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",e=["PrefillableCreateIssueDialog"],f=new a({initialAtlToken:k.atl_token(),projectId:void 0,issueType:void 0}),h=new g({model:f,title:c,globalEventNamespaces:e});c=new n({model:f,title:c,globalEventNamespaces:e});return{globalEventNamespaces:e,
model:f,errorHandler:new p,configurableForm:h,unconfigurableForm:c,prefilledValues:b.prefilledFields}}),r=h.asDialog({windowTitle:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",id:"prefillable-create-issue-dialog"});r.options.delayShowUntil=function(){return q};h.asDialog=function(){return h.dialog};r.onContentReady(function(){e.keys(b.errors).length&&(b.errorMessages.unshift("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u043d\u0438\u0436\u0435."),c(h.$element,b.errors));b.errorMessages.length&&l(h.$element,b.errorMessages.join("\x3cbr/\x3e"))});
m.resolve(h)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.soy' */
// This file was automatically generated from inline-issue-create-widget.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.InlineIssueCreate.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.InlineIssueCreate == 'undefined') { JIRA.Templates.InlineIssueCreate = {}; }


JIRA.Templates.InlineIssueCreate.trigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="iic' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '"><div class="iic-trigger"><button type="button" class="aui-button aui-button-subtle"><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443') + '</span> ' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443') + '</button></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.trigger.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.trigger';
}


JIRA.Templates.InlineIssueCreate.widget = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="iic-widget' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) : '') + '"><form action="#" method="POST" class="iic-widget__form aui"><div class="iic-widget__issue-type-selector-container"></div><div><label><span class="assistive">' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438') + '</span><textarea name="summary" rows="1" cols="50" maxlength="255" class="iic-widget__summary" aria-label="' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438') + '" placeholder="' + soy.$$escapeHtml('\u0427\u0442\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0434\u0435\u043b\u0430\u043d\u043e?') + '">' + ((opt_data.summary) ? soy.$$escapeHtml(opt_data.summary) : '') + '</textarea></label><div class="iic-widget__footer"><div class="iic-widget__description-container"></div><button type="button" class="aui-button aui-button-text iic-widget__cancel">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</button><button type="button" class="aui-button aui-button-text iic-widget__more" title="' + soy.$$escapeHtml('\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435') + '">' + soy.$$escapeHtml('\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435') + '</button></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.widget.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.widget';
}


JIRA.Templates.InlineIssueCreate.issueTypeSelector = function(opt_data, opt_ignored) {
  return '<div class="iic-widget__issue-type-selector"><button type="button" class="iic-widget__issue-type-selector__trigger aui-button aui-button-subtle aui-button-compact aui-dropdown2-trigger" aria-label="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438') + '" aria-owns="iic-issue-type-dropdown-' + soy.$$escapeHtml(opt_data.widgetId) + '" aria-haspopup="true">' + ((! opt_data.isLocked) ? '<img src="' + soy.$$escapeHtml(opt_data.issueTypeIconUrl) + '" width="16" height="16" alt="' + ((opt_data.issueTypeName) ? soy.$$escapeHtml(opt_data.issueTypeName) : '') + '" loading="lazy"/>' : '<img src="data:image/gif;base64,R0lGODlhEAAQAMQAAP///+7u7t3d3bu7u6qqqpmZmYiIiHd3d2ZmZlVVVURERDMzMyIiIhEREQARAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAQACwAAAAAEAAQAAAFdyAkQgGJJOWoQgIjBM8jkKsoPEzgyMGsCjPDw7ADpkQBxRDmSCRetpRA6Rj4kFBkgLC4IlUGhbNQIwXOYYWCXDufzYPDMaoKGBoKb886OjAKdgZAAgQkfCwzAgsDBAUCgl8jAQkHEAVkAoA1AgczlyIDczUDA2UhACH5BAUHABAALAAAAAAPABAAAAVjICSO0IGIATkqIiMKDaGKC8Q49jPMYsE0hQdrlABCGgvT45FKiRKQhWA0mPKGPAgBcTjsspBCAoH4gl+FmXNEUEBVAYHToJAVZK/XWoQQDAgBZioHaX8igigFKYYQVlkCjiMhACH5BAUHABAALAAAAAAQAA8AAAVgICSOUGGQqIiIChMESyo6CdQGdRqUENESI8FAdFgAFwqDISYwPB4CVSMnEhSej+FogNhtHyfRQFmIol5owmEta/fcKITB6y4choMBmk7yGgSAEAJ8JAVDgQFmKUCCZnwhACH5BAUHABAALAAAAAAQABAAAAViICSOYkGe4hFAiSImAwotB+si6Co2QxvjAYHIgBAqDoWCK2Bq6A40iA4yYMggNZKwGFgVCAQZotFwwJIF4QnxaC9IsZNgLtAJDKbraJCGzPVSIgEDXVNXA0JdgH6ChoCKKCEAIfkEBQcAEAAsAAAAABAADgAABUkgJI7QcZComIjPw6bs2kINLB5uW9Bo0gyQx8LkKgVHiccKVdyRlqjFSAApOKOtR810StVeU9RAmLqOxi0qRG3LptikAVQEh4UAACH5BAUHABAALAAAAAAQABAAAAVxICSO0DCQKBQQonGIh5AGB2sYkMHIqYAIN0EDRxoQZIaC6bAoMRSiwMAwCIwCggRkwRMJWKSAomBVCc5lUiGRUBjO6FSBwWggwijBooDCdiFfIlBRAlYBZQ0PWRANaSkED1oQYHgjDA8nM3kPfCmejiEAIfkEBQcAEAAsAAAAABAAEAAABWAgJI6QIJCoOIhFwabsSbiFAotGMEMKgZoB3cBUQIgURpFgmEI0EqjACYXwiYJBGAGBgGIDWsVicbiNEgSsGbKCIMCwA4IBCRgXt8bDACkvYQF6U1OADg8mDlaACQtwJCEAIfkEBQcAEAAsAAABABAADwAABV4gJEKCOAwiMa4Q2qIDwq4wiriBmItCCREHUsIwCgh2q8MiyEKODK7ZbHCoqqSjWGKI1d2kRp+RAWGyHg+DQUEmKliGx4HBKECIMwG61AgssAQPKA19EAxRKz4QCVIhACH5BAUHABAALAAAAAAQABAAAAVjICSOUBCQqHhCgiAOKyqcLVvEZOC2geGiK5NpQBAZCilgAYFMogo/J0lgqEpHgoO2+GIMUL6p4vFojhQNg8rxWLgYBQJCASkwEKLC17hYFJtRIwwBfRAJDk4ObwsidEkrWkkhACH5BAUHABAALAAAAQAQAA8AAAVcICSOUGAGAqmKpjis6vmuqSrUxQyPhDEEtpUOgmgYETCCcrB4OBWwQsGHEhQatVFhB/mNAojFVsQgBhgKpSHRTRxEhGwhoRg0CCXYAkKHHPZCZRAKUERZMAYGMCEAIfkEBQcAEAAsAAABABAADwAABV0gJI4kFJToGAilwKLCST6PUcrB8A70844CXenwILRkIoYyBRk4BQlHo3FIOQmvAEGBMpYSop/IgPBCFpCqIuEsIESHgkgoJxwQAjSzwb1DClwwgQhgAVVMIgVyKCEAIfkECQcAEAAsAAAAABAAEAAABWQgJI5kSQ6NYK7Dw6xr8hCw+ELC85hCIAq3Am0U6JUKjkHJNzIsFAqDqShQHRhY6bKqgvgGCZOSFDhAUiWCYQwJSxGHKqGAE/5EqIHBjOgyRQELCBB7EAQHfySDhGYQdDWGQyUhADs=" width="16" height="16" alt="' + soy.$$escapeHtml('\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043e') + '" />') + '</button><div id="iic-issue-type-dropdown-' + soy.$$escapeHtml(opt_data.widgetId) + '" data-aui-alignment="top left" class="aui-dropdown2 aui-style-default iic-widget__issue-type-selector__dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"></ul></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.issueTypeSelector.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.issueTypeSelector';
}


JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" class="aui-icon-container" data-id="' + soy.$$escapeHtml(opt_data.id) + '" style="background-image: url(\'' + soy.$$escapeHtml(opt_data.iconUrl) + '\');">' + soy.$$escapeHtml(opt_data.name) + '</a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem';
}


JIRA.Templates.InlineIssueCreate.description = function(opt_data, opt_ignored) {
  return '<div class="iic-widget__description' + ((! opt_data.issueTypeName) ? ' iic-widget__description_invisible' : '') + '">' + soy.$$escapeHtml('\u041d\u043e\u0432\u0430\u044f') + ' <span class="iic-widget__description__selected-issue-type-name">' + ((opt_data.issueTypeName) ? soy.$$escapeHtml(opt_data.issueTypeName) : '') + '</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.InlineIssueCreate.description.soyTemplateName = 'JIRA.Templates.InlineIssueCreate.description';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/possibleValues.js' */
define("jira/inline-issue-create/entities/possible-values",["jira/backbone-1.3.3","underscore-1.8.3","wrm/context-path","jira/inline-issue-create/lib/brace"],function(e,d,f,g){return g.Collection.extend({url:function(){var a=d.map(this.jqls,function(a){return"query\x3d"+encodeURIComponent(a)+"\x26"});return f()+"/rest/inline-create/1.0/context/possibleValues/"+this.getEntityName()+"?".concat.apply("?",a)},getEntityName:void 0,initialize:function(a,b){this._initializeState(a,b)},_initializeState:function(a,
b){this.jqls=b&&b.jqls?b.jqls:void 0;this.initialized=this.fetching=!1},parse:function(a){return a.values},setJQLs:function(a){d.isEqual(this.jqls,a)||(this.jqls=a,this.fetch({reset:!0}))},reset:function(){this.fetching=!1;this.initialized=!0;return e.Collection.prototype.reset.apply(this,arguments)},fetch:function(a){function b(){c.fetching=!1;c.initialized=!0;c.trigger("fetch:finished")}var c=this;a=a||{};a.success=a.success?d.wrap(a.success,function(a){b();return a.apply(c,Array.prototype.slice.call(arguments,
1))}):b;this.trigger("fetch:started");this.fetching=!0;return e.Collection.prototype.fetch.call(this,a)},isInitialized:function(){return this.initialized},isFetching:function(){return this.fetching}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueType.js' */
define("jira/inline-issue-create/entities/issue-type",["jira/inline-issue-create/lib/brace"],function(a){return a.Model.extend({namedAttributes:{id:"string",name:"string",description:"string",iconUrl:"string",subtask:"boolean"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/issueTypes.js' */
define("jira/inline-issue-create/entities/issue-types",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/issue-type"],function(a,b){return a.extend({model:b,getEntityName:function(){return"issuetype"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/project.js' */
define("jira/inline-issue-create/entities/project",["jira/inline-issue-create/lib/brace"],function(a){return a.Model.extend({namedAttributes:{id:"number",type:"string"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/projects.js' */
define("jira/inline-issue-create/entities/projects",["jira/inline-issue-create/entities/possible-values","jira/inline-issue-create/entities/project"],function(a,b){return a.extend({model:b,comparator:function(a){return a.getId()},getEntityName:function(){return"project"}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineIssue.js' */
define("jira/inline-issue-create/entities/inline-issue",["jquery","wrm/context-path","jira/inline-issue-create/lib/brace"],function(b,c,a){return a.Model.extend({initialize:function(){this._isSaving=!1},save:function(){var a=this,d=b.ajax(c()+"/rest/inline-create/1.0/issue",{data:JSON.stringify(this.toJSON()),contentType:"application/json",type:"POST"});this._isSaving=!0;return d.always(function(){a._isSaving=!1})},isSaving:function(){return this._isSaving}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/inlineBootstrap.js' */
define("jira/inline-issue-create/entities/inline-bootstrap","jira/backbone-1.3.3 underscore-1.8.3 wrm/context-path jira/util/logger jira/inline-issue-create/lib/brace jira/inline-issue-create/entities/projects jira/inline-issue-create/entities/issue-types".split(" "),function(f,b,g,e,h,k,l){return h.Model.extend({issueTypesCollectionType:l,projectsCollectionType:k,namedAttributes:{hasCreateIssuePermission:"boolean",hasScheduleIssuePermission:"boolean"},initialize:function(){this.issueTypes=new this.issueTypesCollectionType;
this.projects=new this.projectsCollectionType},url:function(){var a=b.map(this.jqls,function(a){return"query\x3d"+encodeURIComponent(a)+"\x26"});return g()+"/rest/inline-create/1.0/context/bootstrap"+"?".concat.apply("?",a)},_initializeState:function(a,b){this.jqls=b&&b.jqls?b.jqls:void 0;this.initialized=this.fetching=!1},setJQLs:function(a){b.isEqual(this.jqls,a)||(this.jqls=a,this.fetch({reset:!0}))},parse:function(a){var d=this,c=b.map(a.issueTypes.values,function(a){return b.pick(a,b.keys(d.issueTypes.model.prototype.namedAttributes))});
this.issueTypes.reset(c);c=b.map(a.projects.values,function(a){return b.pick(a,b.keys(d.projects.model.prototype.namedAttributes))});this.projects.reset(c);return b.pick(a,"hasCreateIssuePermission","hasScheduleIssuePermission")},fetch:function(a){function d(){c.fetching=!1;c.initialized=!0;e.trace("inline.create.bootstrap.fetched")}var c=this;a=a||{};a.success=a.success?b.wrap(a.success,function(a){d();return a.apply(c,Array.prototype.slice.call(arguments,1))}):d;this.fetching=!0;e.trace("inline.create.bootstrap.fetching");
return f.Model.prototype.fetch.call(this,a)},isInitialized:function(){return this.initialized},isFetching:function(){return this.fetching},fireWhenInitialized:function(a){this.isInitialized()&&!this.isFetching()?a():this.listenToOnce(this,"sync",a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/description.js' */
define("jira/inline-issue-create/views/description",["jira/inline-issue-create/lib/marionette"],function(b){return b.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.description,ui:{selectedIssueTypeName:".iic-widget__description__selected-issue-type-name"},modelEvents:{"change:selectedIssueType":function(){var a=this.model.getSelectedIssueType()&&this.model.getSelectedIssueType().getName()||"";a?(this.$el.removeClass("iic-widget__description_invisible"),this.ui.selectedIssueTypeName.text(a)):
this.$el.addClass("iic-widget__description_invisible")}},serializeData:function(){var a={};this.model.getSelectedIssueType()&&(a=this.model.getSelectedIssueType().toJSON());return{issueTypeName:a.name}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdown.js' */
define("jira/inline-issue-create/views/issue-type-dropdown",["jira/util/formatter","underscore","jquery","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/views/issue-type-dropdown-item"],function(f,g,h,k,l){return k.CompositeView.extend({childView:l,childViewOptions:function(a,b){return{model:a,dropdownModel:this.model}},template:JIRA.Templates.InlineIssueCreate.issueTypeSelector,childViewContainer:".aui-list-truncate",ui:{trigger:".iic-widget__issue-type-selector__trigger",issueTypeIcon:".iic-widget__issue-type-selector__trigger img",
issueTypeDropdown:".iic-widget__issue-type-selector__dropdown"},modelEvents:{"change:selectedIssueType":function(){this.model.getSelectedIssueType()&&(this.ui.issueTypeIcon.attr("src",this.model.getSelectedIssueType().getIconUrl()),this.ui.issueTypeIcon.attr("alt",this.model.getSelectedIssueType().getName()))},"change:lockState":function(a,b){this.render();b===this.model.constants.STATE_LOCK_SENDING?this.ui.trigger.attr("aria-disabled",!0):this.ui.trigger.attr("aria-disabled",!1)}},initialize:function(){this.isDropdownShown=
!1;g.bindAll(this,"onDropdownShow")},serializeData:function(){var a={};this.model.getSelectedIssueType()&&(a=this.model.getSelectedIssueType().toJSON());return{widgetId:this.options.widgetId,isLocked:this.model.getLockState()!==this.model.constants.STATE_LOCK_UNLOCKED,issueTypeIconUrl:a.iconUrl,issueTypeName:a.name||"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043e"}},onRender:function(){this.unwrapTemplate();this.ui.issueTypeDropdown.on("aui-dropdown2-show",this.onDropdownShow)},onDropdownShow:function(){var a=
this.ui.issueTypeDropdown;a.appendTo(this.$el);var b=this.ui.issueTypeIcon.offset(),c=this.ui.issueTypeIcon.position(),d=this.ui.issueTypeIcon.outerHeight(),e=a.height();b=h("body").outerHeight(!0)<b.top+d+e;a.css({left:c.left,top:(b?c.top-e:c.top+d)+"px"})},onChildviewSelected:function(a){this.trigger("issueTypeSelected",a.model)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/issueTypeDropdownItem.js' */
define("jira/inline-issue-create/views/issue-type-dropdown-item",["jira/inline-issue-create/lib/marionette"],function(b){return b.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.issueTypeSelectorItem,initialize:function(a){this.dropdownModel=a.dropdownModel},events:{"click a":function(a){a.preventDefault();this.trigger("selected")}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/defaultTrigger.js' */
define("jira/inline-issue-create/views/default-trigger",["jira/inline-issue-create/lib/marionette"],function(b){return b.ItemView.extend({template:JIRA.Templates.InlineIssueCreate.trigger,ui:{trigger:" .iic-trigger"},events:{"click @ui.trigger":function(a){a.preventDefault();this.trigger("selected")}},initialize:function(a){this.widget=a.widget;this.listenTo(this.widget,"activated",this.hide);this.listenTo(this.widget,"deactivated",this.show)},onRender:function(){this.unwrapTemplate();this.widget.model.getState()===
this.widget.model.constants.STATE_ACTIVE&&this.hide()},hide:function(){this.ui.trigger.addClass("iic-trigger_hidden")},show:function(){this.ui.trigger.removeClass("iic-trigger_hidden")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/entities/widget.js' */
define("jira/inline-issue-create/entities/widget-constants",[],function(){var c={STATE_CLOSED:"STATE_CLOSED",STATE_ACTIVE:"STATE_ACTIVE",STATE_LOCK_TEMP_INACTIVE:"STATE_LOCK_TEMP_INACTIVE",STATE_LOCK_SENDING:"STATE_LOCK_SENDING",STATE_LOCK_PERM_INACTIVE:"STATE_LOCK_PERM_INACTIVE",STATE_LOCK_UNLOCKED:"STATE_LOCK_UNLOCKED"};Object.freeze(c);return c});
define("jira/inline-issue-create/entities/widget",["jira/inline-issue-create/lib/brace","jira/inline-issue-create/entities/issue-types","jira/inline-issue-create/entities/issue-type","jira/inline-issue-create/entities/widget-constants"],function(c,e,f,d){return c.Model.extend({constants:d,defaults:{state:d.STATE_CLOSED,lockState:d.STATE_LOCK_UNLOCKED},namedAttributes:{summary:"",selectedIssueType:f,issueTypes:e,state:"",lastState:"",lockState:""},initialize:function(b){if(!b||!b.selectedIssueType){if(localStorage){var c=
c=JSON.parse(localStorage.getItem("iic.slectedIssueType"))||{};var d=this.getIssueTypes()&&this.getIssueTypes().find(function(a){return a.getId()===c.id})}d?this.setSelectedIssueType(d):this.getIssueTypes()&&this.setSelectedIssueType(this.getIssueTypes().at(0))}this.on("change:selectedIssueType",function(a){(a=this.getSelectedIssueType())&&localStorage.setItem("iic.slectedIssueType",JSON.stringify(a.toJSON()))});this.listenTo(this.getIssueTypes(),"reset",function(){var a=this.getSelectedIssueType()&&
this.getSelectedIssueType().getId();a||(a=c.id);void 0!==a?(a=this.getIssueTypes().get(a))?this.setSelectedIssueType(a):this.setSelectedIssueType(this.getIssueTypes().at(0)):this.setSelectedIssueType(this.getIssueTypes().at(0))})},changeState:function(b){b!==this.getState()&&(this.setLastState(this.getState()),this.setState(b))},setSelectedIssueTypeIfAvailable:function(b){b&&(b=this.getIssueTypes().get(b.getId()))&&this.setSelectedIssueType(b)},toIssueData:function(){return{summary:this.getSummary(),
issueTypeId:this.getSelectedIssueType()&&this.getSelectedIssueType().getId()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/views/widget.js' */
define("jira/inline-issue-create/views/widget",["jquery","underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/util"],function(d,e,f,c){return f.LayoutView.extend({template:JIRA.Templates.InlineIssueCreate.widget,regions:{issueTypeSelector:".iic-widget__issue-type-selector-container",description:".iic-widget__description-container"},ui:{summary:".iic-widget__summary",more:".iic-widget__more",cancel:".iic-widget__cancel",form:".iic-widget__form",withTitle:"[title]"},events:{"input @ui.summary":"onSummaryChange",
"change @ui.summary":"onSummaryChange","keyup @ui.summary":function(a){var b=this.ui.summary.val();255<b.length&&this.ui.summary.val(b.substr(0,255));this.onSummaryChange(a)},"keydown @ui.summary":function(a){var b=this.ui.summary.val();a.keyCode===c.keyCode.ENTER?(a.preventDefault(),""!==b&&255>=b.length?this.model.getLockState()===this.model.constants.STATE_LOCK_UNLOCKED?(this.ui.summary.blur(),this.trigger("createIssue")):c.addClassAndRemoveOnAnimationEnd(this.$(".issue-type-selector"),"iic-error",
500):c.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",500)):a.keyCode===c.keyCode.ESC?this.trigger("deactivate",{reason:"keypress"}):255<b.length&&c.addClassAndRemoveOnAnimationEnd(this.ui.summary,"iic-error",500)},"click @ui.cancel":function(a){a.preventDefault();this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING&&this.trigger("deactivate",{reason:"cancel"})},"click @ui.more":function(a){a.preventDefault();this.model.getLockState()!==this.model.constants.STATE_LOCK_SENDING&&
this.trigger("openFullIssueDialog")}},modelEvents:{"change:summary":function(){this.ui.summary.val(this.model.getSummary());this.adjustSummarySize()},"change:state":function(a,b){b===this.model.constants.STATE_ACTIVE?this.activate():b===this.model.constants.STATE_CLOSED&&this.deactivate()},"change:lockState":function(a,b){this.ui.summary.prop&&(b===this.model.constants.STATE_LOCK_SENDING?this.ui.summary.prop("disabled",!0):this.ui.summary.prop("disabled",!1))}},initialize:function(a){this.cssClass=
a.cssClass||"";this.listenTo(this.issueTypeSelector,"show",function(){this.listenTo(this.issueTypeSelector.currentView,"issueTypeSelected",function(){this.focusSummary()})});e.bindAll(this,"adjustSummarySize","onBodyClick")},onClose:function(){d(document).off("click.iic",this.onBodyClick)},onBodyClick:function(a){this.$el.is(a.target)||0!==this.$el.has(a.target).length||(""===this.ui.summary.val()?this.trigger("deactivate",{reason:"cancel"}):this.ui.summary.is(":focus")&&this.ui.summary.blur())},
serializeData:function(){return{summary:this.model.getSummary(),cssClass:this.cssClass}},onRender:function(){this.unwrapTemplate();this.ui.withTitle.tooltip({aria:!0});var a=this;this.ui.summary.on("change cut paste drop keydown input",function(){e.defer(a.adjustSummarySize)});e.defer(a.adjustSummarySize);this.model.getState()===this.model.constants.STATE_ACTIVE?this.activate():this.deactivate()},adjustSummarySize:function(){this.ui.summary.css("height","auto");var a=this.ui.summary.outerHeight();
(a=Math.max(a+this.ui.summary.prop("scrollHeight")-this.ui.summary.prop("clientHeight"),a))&&this.ui.summary.outerHeight(a)},reset:function(){this.ui.summary.attr("style","")},hide:function(){this.$el.addClass("iic-widget_hidden");d(document).off("click.iic",this.onBodyClick)},show:function(){this.$el.removeClass("iic-widget_hidden");this.adjustSummarySize();var a=this;e.defer(function(){d(document).off("click.iic",a.onBodyClick);d(document).on("click.iic",a.onBodyClick)})},focusSummary:function(){this.ui.summary.focus()},
activate:function(){this.show();this.trigger("activated")},focus:function(){this.focusSummary();this.trigger("focused")},deactivate:function(){this.hide();this.trigger("deactivated")},onSummaryChange:function(a){this.trigger("summaryChanged",this.ui.summary.val())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget.js' */
define("jira/inline-issue-create/widget","jira/util/formatter wrm/context-path jira/jquery/deferred jquery underscore jira/util/logger jira/inline-issue-create/lib/marionette jira/inline-issue-create/util jira/inline-issue-create/entities/widget jira/inline-issue-create/entities/issue-types jira/inline-issue-create/entities/projects jira/inline-issue-create/entities/inline-issue jira/inline-issue-create/views/widget jira/inline-issue-create/views/issue-type-dropdown jira/inline-issue-create/views/description jira/inline-issue-create/prefillable-create-issue-dialog jira/inline-issue-create/analytics".split(" "),
function(k,l,f,g,d,h,m,n,p,q,r,t,u,v,w,x,y){function e(a){d.isFunction(a.parameter)?a.context[a.fieldName]=new a.parameter(a.defaultOptions):d.isObject(a.parameter)?a.context[a.fieldName]=a.parameter:void 0===a.parameter&&(a.context[a.fieldName]=new a.defaultConstructor(a.defaultOptions))}return m.Controller.extend({initialize:function(a){this._initializeComponents(a);a.jqls&&this.setCurrentJQLs(a.jqls);a.container&&this.attach(a.container);this._initializeEvents(a)},_initializeComponents:function(a){d.isFunction(a.issueTypes)?
this.issueTypes=new a.issueTypes(void 0,{jqls:a.jqls}):d.isObject(a.issueTypes)?this.issueTypes=a.issueTypes:this.issueTypes=new q(void 0,{jqls:a.jqls});d.isFunction(a.projects)?this.projects=new a.projects(void 0,{jqls:a.jqls}):d.isObject(a.projects)?this.projects=a.projects:this.projects=new r(void 0,{jqls:a.jqls});e({context:this,fieldName:"model",defaultOptions:{issueTypes:this.issueTypes},parameter:a.model,defaultConstructor:p});e({context:this,fieldName:"dropdownView",defaultOptions:{model:this.model,
collection:this.issueTypes,widgetId:this.model.cid},parameter:a.dropdownView,defaultConstructor:v});e({context:this,fieldName:"descriptionView",defaultOptions:{model:this.model,widgetId:this.model.cid},parameter:a.descriptionView,defaultConstructor:w});this.view=new u({model:this.model,cssClass:a.cssClass});this.analytics=new y({widget:this});this._currentInlineIssue=void 0},_initializeEvents:function(a){this.listenTo(this.view,"summaryChanged",function(a){this.model.setSummary(a)});this.listenTo(this.view,
"createIssue",this.createIssue);this.listenTo(this.view,"deactivate",this.deactivate);this.listenTo(this.view,"openFullIssueDialog",function(){this.trigger("openCreateIssueDialog",{reason:"manual"});this.openCreateIssueDialog()});this.listenTo(this.model,"change:state",this.onStateChange);this.listenTo(this.model,"change:lockState",this.onLockStateChange);this.listenTo(this.issueTypes,"reset",this.checkWidgetLocked);this.listenTo(this.projects,"reset",this.checkWidgetLocked);this.on("issueCreated",
function(){this.model.setSummary("")});this.checkWidgetLocked()},render:function(){this.view.issueTypeSelector.attachView(void 0);this.view.description.attachView(void 0);this.view.render();this.view.issueTypeSelector.show(this.dropdownView);this.view.description.show(this.descriptionView);this.listenTo(this.dropdownView,"issueTypeSelected",function(a){this.model.setSelectedIssueType(a)})},onStateChange:function(a,c){c===this.model.constants.STATE_ACTIVE?this.trigger("activated"):c===this.model.constants.STATE_CLOSED&&
this.trigger("deactivated")},onLockStateChange:function(a,c){c===this.model.constants.STATE_LOCK_PERM_INACTIVE&&this.model.getState()===this.model.constants.STATE_ACTIVE&&this.deactivate()},activate:function(){return this.model.getLockState()!==this.model.constants.STATE_LOCK_PERM_INACTIVE?(this.model.changeState(this.model.constants.STATE_ACTIVE),!0):!1},deactivate:function(){this.model.changeState(this.model.constants.STATE_CLOSED)},checkWidgetLocked:function(){if(this.issueTypes.isFetching()||
!this.issueTypes.isInitialized()||this.projects.isFetching()||!this.projects.isInitialized())return this.model.setLockState(this.model.constants.STATE_LOCK_TEMP_INACTIVE);if(this._currentInlineIssue&&this._currentInlineIssue.isSaving())return this.model.setLockState(this.model.constants.STATE_LOCK_SENDING);if(!this.issueTypes.length||1!==this.projects.length)return this.model.setLockState(this.model.constants.STATE_LOCK_PERM_INACTIVE);this.model.setLockState(this.model.constants.STATE_LOCK_UNLOCKED)},
focus:function(){this.view.focus()},reset:function(){this.model.setSummary("");this.view.reset()},attach:function(a){g(a).append(this.view.el)},setCurrentJQLs:function(a){this.jqls=a},setSummary:function(a){this.model.setSummary(a)},getSummary:function(){return this.model.getSummary()},setSelectedIssueTypeIfAvailable:function(a){this.model.setSelectedIssueTypeIfAvailable(a)},getSelectedIssueType:function(){return this.model.getSelectedIssueType()},setOverrides:function(a){this.overrides=a},createIssue:function(){var a=
this,c={summary:this.model.getSummary(),contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType().getId(),overrides:d.clone(this.overrides)};this.trigger("beforeIssueCreated",a,c);this._currentInlineIssue=new t(c);this._currentInlineIssue.save().done(function(b){a.trigger("issueCreated",b.issue,b.prefilledFields,a,{source:"inline"});h.trace("inline.create.issue.created")}).fail(function(b){var c=new f;a.openCreateIssueDialog(c);try{var d=JSON.parse(b.responseText);c.resolve({errors:d.errors,
errorMessages:d.generalErrors,prefilledFields:d.prefilledFields})}catch(z){n.error(a,"Could not parse response: "+z,b),b="\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438, \u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u043b\u043d\u044b\u043c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u044b\u043c \u043e\u043a\u043d\u043e\u043c \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b. \u0415\u0441\u043b\u0438 \u044d\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043e\u043f\u044f\u0442\u044c, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443.",c.resolve({errors:{},errorMessages:[b],prefilledFields:{}})}a.trigger("openCreateIssueDialog",{reason:"createFailed"})}).always(function(){a.checkWidgetLocked()});this.checkWidgetLocked()},openCreateIssueDialog:function(a){var c=this,b=this.model.toIssueData();1===this.projects.size()&&(b.project=this.projects.at(0).toJSON());
b={summary:b.summary,contexts:this.jqls,issueTypeId:this.model.getSelectedIssueType()?this.model.getSelectedIssueType().getId():void 0,overrides:d.clone(this.overrides)};this.trigger("beforeIssueCreated",c,b);a||(a=this._resolveInlineContext(b,c));return x.createPrefillableCreateIssueForm(a.promise(),!0).pipe(function(a){function b(a,b){c.trigger("issueCreated",b,b.fields,c,{source:"dialog"});h.trace("inline.create.issue.created")}var d=a.asDialog();a.bind("initialized",function(){this.unconfigurableForm.bind("issueCreated",
b);this.configurableForm.bind("issueCreated",b)});d.show();return d})},_resolveInlineContext:function(a,c){var b=new f;g.ajax(l()+"/rest/inline-create/1.0/context/resolve",{data:JSON.stringify(a),contentType:"application/json",type:"POST"}).done(function(a){b.resolve({prefilledFields:a.createIssueInput})}).fail(function(){b.resolve({prefilledFields:{summary:a.summary?a.summary:"",issuetype:c.model.getSelectedIssueType()?c.model.getSelectedIssueType().getId():void 0}})});return b}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.inline-create.jira-inline-issue-create-plugin:component-widget', location = '/inline-issue-create/components/inline-issue-create-widget/inline-issue-create-widget-group.js' */
define("jira/inline-issue-create/widget-group",["underscore","jira/inline-issue-create/lib/marionette","jira/inline-issue-create/widget","jira/inline-issue-create/entities/inline-bootstrap","jira/util/logger"],function(e,f,g,h,k){return f.Controller.extend({initialize:function(a){this.TriggerView=a.TriggerView;this.Widget=g;this.widgets={};this.currentJQLs=void 0;this.createdCallback=a.createdCallback;this.activeWidget=void 0;this.inlineBootstrap=a.inlineBootstrap||new h;this.widgetOptions=e.defaults(a.widgetOptions||
{},{issueTypes:this.inlineBootstrap.issueTypes,projects:this.inlineBootstrap.projects})},getWidget:function(a){this.widgets[a]||(this.widgets[a]=this._createNewWidget(a));return this.widgets[a]},setCurrentJqls:function(a){this.currentJQLs=a;e.each(this.widgets,function(c){c.widget.setCurrentJQLs(a)});this.inlineBootstrap.setJQLs(a)},activateWidget:function(a){if(this.activeWidget===a)a.focus();else{var c=this.activeWidget;this.activeWidget=void 0;e.each(this.widgets,function(b){b!==a&&b.widget.deactivate()});
var b=a.activate();b&&(a.focus(),this.activeWidget=a,this.trigger("widget:activated",a,c),c&&(a.setSummary(c.getSummary()),a.setSelectedIssueTypeIfAvailable(c.getSelectedIssueType()),c.reset()));return b}},_createNewWidget:function(a){var c=this,b=new this.Widget(this.widgetOptions);b.on("deactivated",function(){c.activeWidget===b&&(c.activeWidget=void 0,b.reset())});this.createdCallback&&this.createdCallback(b,a);this.currentJQLs&&b.setCurrentJQLs(this.currentJQLs);var d=new c.TriggerView({widget:b});
d.on("selected",function(){c.activateWidget(b)});return{widget:b,trigger:d,render:function(a){d.render();a.after(d.$el);b.attach(d.$el);b.render();c.trigger("widget:rendered",b,d,a);k.trace("inline.create.widget.rendered")}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:inline-issue-create', location = 'inline-issue-create/InlineIssueCreate.js' */
define("jira/components/inline-issue-create",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/marionette-2.1.0"),e=b("jira/inline-issue-create/widget"),f=b("jira/inline-issue-create/views/default-trigger"),g=b("jira/inline-issue-create/entities/inline-bootstrap");return d.Object.extend({_buildBootstrap:function(){this.bootstrap=new g;this.listenTo(this.bootstrap,{sync:function(){this.widget.setCurrentJQLs(this.bootstrap.jqls)}})},_buildWidget:function(){this.widget=
new e({issueTypes:this.bootstrap.issueTypes,projects:this.bootstrap.projects});this.listenTo(this.widget,{issueCreated:function(a,b){this.trigger("issueCreated",{issue:a,fields:b})},activated:function(){this.trigger("activated")},deactivated:function(){this.trigger("deactivated")}})},_buildTrigger:function(){this.widgetTrigger=new f({widget:this.widget});this.listenTo(this.widgetTrigger,{selected:function(){this.activate();this.trigger("inlineIssueCreateOpened")}})},initialize:function(){this._buildBootstrap();
this._buildWidget();this._buildTrigger();this.render()},setJQL:function(a){this.bootstrap.setJQLs([a])},render:function(){this.widgetTrigger.render();this.widget.render()},show:function(a){this.render();a.append(this.widgetTrigger.$el);this.widget.attach(a)},activate:function(){this.bootstrap.projects.length?this.widget.activate():this.widget.openCreateIssueDialog()},activateWithJQL:function(a){this.bootstrap.jqls=[a];this.bootstrap.fetch({reset:!0}).done(c.bind(function(){this.bootstrap.projects.length&&
this.widget.activate()},this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/SimpleIssueList.js' */
define("jira/components/simpleissuelist",["require"],function(b){var d=b("jira/components/simpleissuelist/controllers/list"),e=b("jira/components/simpleissuelist/services/api"),f=b("jira/components/simpleissuelist/services/inline-issue-create"),g=b("jira/components/libs/marionette-2.1.0"),c=b("jira/components/libs/underscore"),h=b("jquery");return g.Object.extend({initialize:function(){this.options.displayInlineIssueCreate&&(this.inlineIssueCreate=new f,this.listenTo(this.inlineIssueCreate,{issueCreated:function(a){this.trigger("issueCreated",
a)},"activated deactivated":function(){c.defer(c.bind(function(){this.list.adjustSize()},this))}}));this.list=new d({baseURL:this.options.baseURL,inlineIssueCreate:this.inlineIssueCreate});this.listenTo(this.list,{goToPreviousPage:function(){this.trigger("list:pagination");this.searchResults.jumpToPage("prev")},goToNextPage:function(){this.trigger("list:pagination");this.searchResults.jumpToPage("next")},goToPage:function(a){this.trigger("list:pagination");this.searchResults.jumpToPage(a)},refresh:function(){this.trigger("refresh")},
selectIssue:function(a){this.trigger("list:select",{id:a.id,key:a.key,absolutePosition:this.searchResults.getPositionOfIssueInSearchResults(a.id),relativePosition:this.searchResults.getPositionOfIssueInPage(a.id)});this.searchResults.select(a.id)},sort:function(a){this.trigger("sort",a)},update:function(){this.trigger("update")}});var a=c.extend({},AJS.namespace("JIRA.API.Issues"),e.init(this));AJS.namespace("JIRA.API.Issues",null,a)},load:function(a,b){this.searchResults&&(this.stopListening(this.searchResults),
delete this.searchResults);this.searchResults=a;this.options.displayInlineIssueCreate&&this.inlineIssueCreate.setJQL(this.searchResults.jql);this.listenTo(this.searchResults,{"before:loadpage":function(){this.trigger("before:loadpage")},"error:loadpage":function(a){this.trigger("error:loadpage",a)},reset:function(){this.list.update(this.searchResults)},unselect:function(a){this.list.unselectIssue(a.get("id"))},select:function(a,b){var c=a.get("id")||null;c&&this.list.selectIssue(a.get("id"),b);this.trigger("select",
{id:c,key:a.get("key")})},change:function(a){this.list.updateIssue(a)}});b?a.jumpToPageForIssue(b):a.jumpToPage("first")},show:function(a){this.list.render({el:a})},selectNext:function(){if(this.searchResults)return this.searchResults.selectNext()},selectPrevious:function(){if(this.searchResults)return this.searchResults.selectPrev()},selectIssue:function(a){this.searchResults.select(a)},_getIssueById:function(a){if(this.searchResults)return this.searchResults.get(a)},refreshIssue:function(a){(a=
this._getIssueById(a))&&a.fetch()},updateIssue:function(a,b){(a=this._getIssueById(a))&&a.set(b)},adjustSize:function(){this.list.adjustSize()},disableIssue:function(a){(a=this._getIssueById(a))&&a.set("inaccessible",!0)},removeIssue:function(a){return(a=this._getIssueById(a))?this.searchResults.removeAndUpdateSelectionIfNeeded(a):(new h.Deferred).reject().promise()},onDestroy:function(){this.list.destroy()},focus:function(){this.list.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/controllers/List.js' */
define("jira/components/simpleissuelist/controllers/list",["require"],function(b){var e=b("jira/components/simpleissuelist/views/pagination"),f=b("jira/components/simpleissuelist/views/issuelist"),g=b("jira/components/simpleissuelist/views/endstablesearch"),h=b("jira/components/simpleissuelist/views/layout"),k=b("jira/components/simpleissuelist/views/loading"),l=b("jira/components/simpleissuelist/views/refresh"),m=b("jira/components/libs/marionette-2.1.0"),n=b("jira/components/orderby");return m.ViewManager.extend({_buildPagination:function(){return this.buildView("pagination",
function(){var a=new e({baseURL:this.baseURL});this.listenTo(a,{prev:function(){this.trigger("goToPreviousPage")},next:function(){this.trigger("goToNextPage")},"goto":function(a){this.trigger("goToPage",a)}});return a})},_buildList:function(){return this.buildView("list",function(){var a=new f;this.listenTo(a,{"childview:select":function(a){a=a.model;this.trigger("selectIssue",{id:a.get("id"),key:a.get("key")})},update:function(){this.trigger("update")}});return a})},_buildEndStableSearch:function(){return this.buildView("endOfStableSearch",
function(){return new g})},_buildRefresh:function(){return this.buildView("refresh",function(){var a=new l;this.listenTo(a,{refresh:function(){this.trigger("refresh")}});return a})},_buildLayout:function(){return this.buildView("layout",function(){var a=new h;this.listenTo(a,{render:function(){this.getView("layout").getRegion("pagination").show(this.getView("pagination"));this.getView("layout").getRegion("searchResults").show(this.getView("list"));this.getView("layout").getRegion("refresh").show(this.getView("refresh"));
this.getView("layout").getRegion("orderBy")._ensureElement();this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el);this.orderBy.render();this.inlineIssueCreate&&(this.getView("layout").inlineIssueCreateContainer._ensureElement(),this.inlineIssueCreate.show(this.getView("layout").inlineIssueCreateContainer.$el))}});return a})},_buildOrderBy:function(){this.orderBy=n.create();this.orderBy.onSort(function(a){this.trigger("sort",a)},this);return this.orderBy},_buildViews:function(){this._buildLayout();
this._buildPagination();this._buildList();this._buildRefresh();this._buildEndStableSearch();this.getView("layout").render()},initialize:function(a){this._buildOrderBy();this.baseURL=a.baseURL;this.inlineIssueCreate=a.inlineIssueCreate;this._buildViews()},render:function(a){a=a||{};a=a.el;a.append(this.getView("layout").$el);this.getView("layout").setElement(a)},onDestroy:function(){this.hideView("layout")},update:function(a){a.isAtTheEndOfStableSearch()?this.getView("layout").getRegion("endOfStableMessageContainer").show(this.getView("endOfStableSearch")):
this.getView("layout").getRegion("endOfStableMessageContainer").empty();this.getView("list").update(a);this.getView("refresh").render();this.getView("pagination").update(a);this.orderBy.setElement(this.getView("layout").getRegion("orderBy").$el);this.orderBy.render();this.orderBy.setJql(a.jql);this.inlineIssueCreate&&this.inlineIssueCreate.render();this.adjustSize()},hideLoading:function(){this.hideView("loading")},showLoading:function(){this.showView("loading",function(){var a=new k;this.listenTo(a,
{render:function(){this.getView("layout").$el.prepend(a.$el)}});return a})},updateIssue:function(a){this.getView("list").updateIssue(a)},unselectIssue:function(a){this.getView("list").unselectIssue(a)},selectIssue:function(a,b){this.getView("list").selectIssue(a,b)},adjustSize:function(){if(this.getView("layout")&&this.getView("list")){var a=this.getView("layout").ui.listPanel,b=this.getView("list").$el,d=this.getView("layout").getRegion("orderBy").$el,c=this.getView("layout").getRegion("pagination").$el;
c&&(c=c.parent());b=b.offset().top+a.scrollTop();c=c?c.outerHeight():0;var e=window.innerHeight;d=d?d.outerHeight():0;var f=this.getView("endOfStableSearch")?this.getView("endOfStableSearch").$el.outerHeight():0,g=this.getView("layout").inlineIssueCreateContainer.$el.outerHeight()||0;a.css("height",e+d-b-f-c-g);this.getView("list").scrollSelectedIssueIntoView()}},focus:function(){this.getView("list")&&this.getView("list").focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/services/API.js' */
define("jira/components/simpleissuelist/services/api",function(){return{init:function(a){return{nextIssue:function(){a.selectNext()},previousIssue:function(){a.selectPrevious()}}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/services/InlineIssueCreate.js' */
define("jira/components/simpleissuelist/services/inline-issue-create",["require"],function(a){return a("jira/components/inline-issue-create")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/endofstablesearch.soy' */
// This file was automatically generated from endofstablesearch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.endStableSearch = function(opt_data, opt_ignored) {
  return '<div class="end-of-stable-message"><p>' + soy.$$escapeHtml('\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.') + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.endStableSearch.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.endStableSearch';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/issue.soy' */
// This file was automatically generated from issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.issue = function(opt_data, opt_ignored) {
  return '<li title="' + soy.$$escapeHtml(opt_data.summary) + '" data-key="' + soy.$$escapeHtml(opt_data.key) + '"><a class="splitview-issue-link" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '"><div><div><img height="16" width="16" alt="' + soy.$$escapeHtml(opt_data.typeName) + '" title="' + soy.$$escapeHtml(opt_data.typeName) + ' - ' + soy.$$escapeHtml(opt_data.typeDescription) + '" src="' + soy.$$escapeHtml(opt_data.typeIcon) + '" loading="lazy"/></div><div class="issue-content-container"><span class="issue-link-key">' + soy.$$escapeHtml(opt_data.key) + '</span><span class="issue-link-summary">' + soy.$$escapeHtml(opt_data.summary) + '</span></div></div></a></li>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.issue.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.issue';
}


JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue = function(opt_data, opt_ignored) {
  return '<li class="inaccessible-issue" data-key="' + soy.$$escapeHtml(opt_data.key) + '">' + soy.$$escapeHtml('\u042d\u0442\u043e\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.inaccessibleIssue';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/issuelist.soy' */
// This file was automatically generated from issuelist.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.issueList = function(opt_data, opt_ignored) {
  return '<div class="list-content"><ol class="issue-list"></ol></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.issueList.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.issueList';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/layout.soy' */
// This file was automatically generated from layout.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.layout = function(opt_data, opt_ignored) {
  return '<div class="simple-issue-list"><div class="list-panel"><div class="list-ordering"></div><div role="status" aria-live="polite" class="search-results"></div></div><div class="end-of-stable-message-container"></div><div class="inline-issue-create-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item"></div><div class="pagination-container aui-item"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.layout.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.layout';
}


JIRA.Components.SimpleIssueList.Templates.loading = function(opt_data, opt_ignored) {
  return '<div class="loading"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.loading.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.loading';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/pagination.soy' */
// This file was automatically generated from pagination.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.pagination = function(opt_data, opt_ignored) {
  var output = '<nav role="navigation" aria-label="' + soy.$$escapeHtml('\u0420\u0430\u0437\u0431\u0438\u0432\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b') + '">' + ((opt_data.displayableTotal > 0) ? '<span class="assistive" aria-live="polite" aria-atomic="true">' + soy.$$escapeHtml(AJS.format('\u0414\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f ({0}).',opt_data.displayableTotal)) + '</span>' : '') + '<div class="pagination" data-displayable-total="' + soy.$$escapeHtml(opt_data.displayableTotal) + '">';
  var MAX_PAGES_DISPLAYED__soy14 = 5;
  var lastPage__soy15 = Math.floor((opt_data.displayableTotal - 1) / opt_data.pageSize);
  var pageNumber__soy16 = Math.floor(opt_data.startIndex / opt_data.pageSize);
  var urlFragment__soy17 = '' + ((opt_data.hasQueryString) ? soy.$$filterNoAutoescape(opt_data.searchQuery) + '&startIndex=' : soy.$$filterNoAutoescape(opt_data.searchQuery) + '?startIndex=');
  var prevStartIndex__soy27 = opt_data.startIndex - opt_data.pageSize;
  output += ((prevStartIndex__soy27 >= 0) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy17) + soy.$$escapeHtml(prevStartIndex__soy27) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy27) + '" class="nav-previous" aria-label="' + soy.$$escapeHtml(AJS.format('\u041a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ({0} \u0438\u0437 {1})',pageNumber__soy16,lastPage__soy15 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-left">&lt;&lt; ' + soy.$$escapeHtml('\u041d\u0430\u0437\u0430\u0434') + '</span></a>' : '') + JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch({startPage: pageNumber__soy16 - Math.floor(MAX_PAGES_DISPLAYED__soy14 / 2), endPage: pageNumber__soy16 + Math.floor(MAX_PAGES_DISPLAYED__soy14 / 2), lastPage: lastPage__soy15, urlFragment: urlFragment__soy17, currentPage: pageNumber__soy16 + 1, maxPagesDisplayed: MAX_PAGES_DISPLAYED__soy14, pageSize: opt_data.pageSize, displayableTotal: opt_data.displayableTotal});
  var nextStartIndex__soy49 = Math.min(opt_data.startIndex + opt_data.pageSize, opt_data.displayableTotal);
  output += ((nextStartIndex__soy49 < opt_data.displayableTotal) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy17) + soy.$$escapeHtml(nextStartIndex__soy49) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy49) + '" class="nav-next" aria-label="' + soy.$$escapeHtml(AJS.format('\u041a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ({0} \u0438\u0437 {1})',pageNumber__soy16 + 2,lastPage__soy15 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-right">' + soy.$$escapeHtml('\u0414\u0430\u043b\u0435\u0435') + ' &gt;&gt;</span></a>' : '') + '</div></nav>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.pagination.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.pagination';
}


JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastPage < opt_data.maxPagesDisplayed) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.lastPage})) : (opt_data.startPage < 0) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.endPage - opt_data.startPage})) : (opt_data.endPage > opt_data.lastPage) ? JIRA.Components.SimpleIssueList.Templates.numberLinks(soy.$$augmentMap(opt_data, {startPage: opt_data.startPage - (opt_data.endPage - opt_data.lastPage), endPage: opt_data.lastPage})) : JIRA.Components.SimpleIssueList.Templates.numberLinks(opt_data));
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.numberLinksLogicBranch';
}


JIRA.Components.SimpleIssueList.Templates.numberLinks = function(opt_data, opt_ignored) {
  var output = '';
  var size__soy84 = opt_data.endPage - opt_data.startPage + 1;
  if (size__soy84 > 1) {
    var iLimit87 = Math.round(size__soy84);
    for (var i87 = 0; i87 < iLimit87; i87++) {
      var pageIndex__soy88 = i87 + opt_data.startPage;
      var pageNumber__soy89 = pageIndex__soy88 + 1;
      var pageStartIndex__soy90 = pageIndex__soy88 * opt_data.pageSize;
      var pageEndIndex__soy91 = Math.min(pageStartIndex__soy90 + opt_data.pageSize, opt_data.displayableTotal);
      var pageBoundaries__soy92 = '' + soy.$$escapeHtml(AJS.format('\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430\xa0{0}: \u0437\u0430\u0434\u0430\u0447\u0438\xa0{1}\u2013{2}',pageNumber__soy89,pageStartIndex__soy90 + 1,pageEndIndex__soy91));
      output += ' ' + ((pageNumber__soy89 == opt_data.currentPage) ? '<strong title="' + soy.$$escapeHtml(pageBoundaries__soy92) + '">' + soy.$$escapeHtml(pageNumber__soy89) + '</strong>' : '<a href="' + soy.$$escapeHtml(opt_data.urlFragment) + soy.$$escapeHtml(pageStartIndex__soy90) + '" data-page="' + soy.$$escapeHtml(pageNumber__soy89) + '" data-start-index="' + soy.$$escapeHtml(pageStartIndex__soy90) + '" aria-label="' + soy.$$escapeHtml(pageBoundaries__soy92) + '">' + soy.$$escapeHtml(pageNumber__soy89) + '</a>');
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.numberLinks.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.numberLinks';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/refresh.soy' */
// This file was automatically generated from refresh.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.SimpleIssueList.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.SimpleIssueList == 'undefined') { JIRA.Components.SimpleIssueList = {}; }
if (typeof JIRA.Components.SimpleIssueList.Templates == 'undefined') { JIRA.Components.SimpleIssueList.Templates = {}; }


JIRA.Components.SimpleIssueList.Templates.refresh = function(opt_data, opt_ignored) {
  return '<a href="#" class="aui-button aui-button-subtle refresh-table" title="' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b') + '"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b') + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Components.SimpleIssueList.Templates.refresh.soyTemplateName = 'JIRA.Components.SimpleIssueList.Templates.refresh';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/templates/amd-wrapper.js' */
define("jira/components/simpleissuelist/templates",function(){return JIRA.Components.SimpleIssueList.Templates});AJS.namespace("JIRA.Components.SimpleIssueList.Templates",null,require("jira/components/simpleissuelist/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/EndStableSearch.js' */
define("jira/components/simpleissuelist/views/endstablesearch",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.endStableSearch})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Issue.js' */
define("jira/components/simpleissuelist/views/issue",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0");b=b("jira/components/simpleissuelist/templates");return c.ItemView.extend({template:b.issue,ui:{link:"a"},events:{simpleClick:function(a){a.preventDefault();this.trigger("select")}},serializeData:function(){var a=this.model;return{id:a.get("id"),key:a.get("key"),summary:a.get("summary"),typeName:a.get("type").name,typeDescription:a.get("type").description,typeIcon:a.get("type").iconUrl}},
onRender:function(){this.unwrapTemplate()},highlight:function(a){this.$el.addClass("focused");this.$el.find("a").attr("aria-current","true");a||(this.focus(),this.scrollIntoView())},unhighlight:function(){this.$el.removeClass("focused");this.$el.find("a").attr("aria-current","false")},scrollIntoView:function(){this.$el.scrollIntoViewForAuto()},focus:function(){this.ui.link.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/InaccessibleIssue.js' */
define("jira/components/simpleissuelist/views/inaccessibleissue",["require"],function(a){var b=a("jira/components/simpleissuelist/views/issue");a=a("jira/components/simpleissuelist/templates");return b.extend({template:a.inaccessibleIssue,triggers:{click:"select"},serializeData:function(){return{key:this.model.get("key")}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/IssueList.js' */
define("jira/components/simpleissuelist/views/issuelist",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0"),d=b("jira/components/simpleissuelist/views/inaccessibleissue"),e=b("jira/components/simpleissuelist/views/issue");b=b("jira/components/simpleissuelist/templates");return c.CompositeView.extend({template:b.issueList,childViewContainer:"ol",getChildView:function(a){return a.get("inaccessible")?d:e},_initialEvents:function(){},onUpdate:function(){if(this.collection.selected){var a=
this.children.findByModel(this.collection.selected);a&&a.highlight()}},onRender:function(){this.unwrapTemplate()},update:function(a){this.collection=a;this.render();this.triggerMethod("update")},updateIssue:function(a){var b=this.children.findByModel(a);if(b){this.removeChildView(b);b=this.getChildView(a);var c=this.collection.indexOf(a);this.addChild(a,b,c);this.triggerMethod("update")}},unselectIssue:function(a){this.collection&&(a=this.collection.get(a))&&(a=this.children.findByModel(a))&&a.unhighlight()},
selectIssue:function(a,b){this.collection&&(a=this.collection.get(a))&&(a=this.children.findByModel(a))&&this._shouldBeHighlighted()&&a.highlight(b)},scrollSelectedIssueIntoView:function(){if(this.collection){var a=this.collection.selected;a&&(a=this.children.findByModel(a))&&a.scrollIntoView()}},focus:function(){!this.children||1>this.children.length||this.children.findByIndex(0).focus()},_shouldBeHighlighted:function(){var a=document.querySelector(".search-criteria-extended");return a&&a.getAttribute("data-dont-steal-the-focus")?
(a.removeAttribute("data-dont-steal-the-focus"),!1):!0}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Layout.js' */
define("jira/components/simpleissuelist/views/layout",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.LayoutView.extend({template:a.layout,regions:{pagination:".pagination-container",refresh:".refresh-container",searchResults:".search-results",orderBy:".list-ordering",endOfStableMessageContainer:".end-of-stable-message-container",inlineIssueCreateContainer:".inline-issue-create-container"},ui:{listPanel:".list-panel"},
showLoading:function(){this.ui.listPanel.addClass("loading")},hideLoading:function(){this.ui.listPanel.removeClass("loading")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Loading.js' */
define("jira/components/simpleissuelist/views/loading",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.loading,onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Pagination.js' */
define("jira/components/simpleissuelist/views/pagination",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0"),d=a("jira/components/libs/uri");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.pagination,ui:{prev:".nav-previous",next:".nav-next",page:"a[data-page]"},triggers:{"click @ui.prev":"prev","click @ui.next":"next"},onRender:function(){this.unwrapTemplate()},events:{"click @ui.page":function(c){var a=c.target.getAttribute("data-page");
c.preventDefault();this.trigger("goto",parseInt(a,10)-1)}},update:function(a){this.collection=a;this.render()},serializeData:function(){if(this.collection){var a=new d(this.options.baseURL),b=0<a.query().length;return{startIndex:this.collection.state.pageSize*this.collection.state.currentPage,pageSize:this.collection.state.pageSize,searchQuery:a.toString(),hasQueryString:b,displayableTotal:this.collection.state.totalRecords}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:simpleissuelist', location = 'simpleissuelist/views/Refresh.js' */
define("jira/components/simpleissuelist/views/refresh",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/simpleissuelist/templates");return b.ItemView.extend({template:a.refresh,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/templates/pager.soy' */
// This file was automatically generated from pager.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Pager.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Pager == 'undefined') { JIRA.Components.Pager = {}; }
if (typeof JIRA.Components.Pager.Templates == 'undefined') { JIRA.Components.Pager.Templates = {}; }


JIRA.Components.Pager.Templates.Pager = function(opt_data, opt_ignored) {
  return '<div class="pager"><div class="showing">' + ((opt_data.position && opt_data.resultCount) ? '<span>' + soy.$$escapeHtml(AJS.format('{0} \u0438\u0437 {1}',opt_data.position,opt_data.resultCount)) + '</span>' : '') + '</div><div class="previous">' + ((opt_data.previousIssue && opt_data.position != 1) ? '<button data-id="' + soy.$$escapeHtml(opt_data.previousIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml('\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml('\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '\'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '</span></button>' : '') + '</div><div class="next">' + ((opt_data.nextIssue && opt_data.position != opt_data.resultCount) ? '<button id="next-issue" data-id="' + soy.$$escapeHtml(opt_data.nextIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml('\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml('\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '\'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? (opt_data.isAtTheEndOfStableSearch) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml(AJS.format('\u041e\u0433\u043e, \u0434\u0430 \u0442\u0443\u0442 \u043f\u043e\u0440\u044f\u0434\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c. \u041c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0435 {0}, \u043d\u043e \u0434\u043b\u044f \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0447\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430.',opt_data.stableSearchCount)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml(AJS.format('\u041e\u0433\u043e, \u0434\u0430 \u0442\u0443\u0442 \u043f\u043e\u0440\u044f\u0434\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c. \u041c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0435 {0}, \u043d\u043e \u0434\u043b\u044f \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0447\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430.',opt_data.stableSearchCount)) + '</span></button>' : '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '</span></button>' : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Pager.Templates.Pager.soyTemplateName = 'JIRA.Components.Pager.Templates.Pager';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/templates/amd-wrapper.js' */
define("jira/components/pager/templates",function(){return JIRA.Components.Pager.Templates});AJS.namespace("JIRA.Components.Pager.Templates",null,require("jira/components/pager/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/views/PagerView.js' */
define("jira/components/pager/views/pager",["require"],function(b){var d=b("jira/components/libs/marionette-2.1.0"),e=b("jira/components/pager/templates"),f=b("jira/components/utils/ajshelper");return d.ItemView.extend({getTemplate:function(){return this.searchResults&&this.searchResults.selected?e.Pager:!1},ui:{next:".next button",previous:".previous button",nextIcon:".next span.aui-icon"},triggers:{"simpleClick @ui.next":"next","simpleClick @ui.previous":"previous"},update:function(a){this.searchResults=
a;this.undelegateEvents();this.render();this.delegateEvents()},onRender:function(){this.searchResults&&this.searchResults.selected&&this.searchResults.getIssueAtGlobalIndex(this.searchResults.allIssues.length-1).id===this.searchResults.selected.id&&this.searchResults.isAtTheEndOfStableSearch()&&this.ui.nextIcon.tooltip({gravity:"ne"});f.activeShortcuts().then(function(a){a.j&&this.ui.next.length&&a.j._addShortcutTitle(this.ui.next);a.k&&this.ui.previous.length&&a.k._addShortcutTitle(this.ui.previous)}.bind(this))},
serializeData:function(){if(this.searchResults.selected){var a=this.searchResults.getPositionOfIssueInSearchResults(this.searchResults.selected.id),c={position:a+1,resultCount:this.searchResults.getTotalIssuesInDb()},b=this.searchResults.getIssueAtGlobalIndex(a+1);b?c.nextIssue={id:b.id,key:b.key}:this.searchResults.isAtTheEndOfStableSearch()&&(c.isAtTheEndOfStableSearch=!0,c.stableSearchCount=this.searchResults.allIssues.length);if(a=this.searchResults.getIssueAtGlobalIndex(a-1))c.previousIssue=
{id:a.id,key:a.key};return c}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:pager', location = 'pager/Pager.js' */
define("jira/components/pager",["require"],function(b){var c=b("jira/components/pager/views/pager"),d=b("jira/components/libs/marionette-2.1.0");return d.ViewManager.extend({_buildSearchResults:function(a){this._destroySearchResults();this.searchResults=a;this.listenTo(this.searchResults,{"select reset":function(){this.getView("view").update(this.searchResults)}})},_destroySearchResults:function(){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults)},_buildView:function(){this.buildView("view",
function(){var a=new c({el:this.el});this.listenTo(a,{next:function(){this.trigger("next")},previous:function(){this.trigger("previous")}});return a})},initialize:function(a){this.el=a.el;this._buildView()},onDestroy:function(){d.ViewManager.prototype.onDestroy.call(this);this._destroySearchResults()},load:function(a){this._buildSearchResults(a)},update:function(a){this.load(a);this.getView("view").update(a)},show:function(a){this.hideView("view");this.showView("view",function(){var b=new c({el:a});
this.listenTo(b,{next:function(){this.trigger("next");AJS.$(".next button").focus()},previous:function(){this.trigger("previous");AJS.$(".previous button").focus()}});return b})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:login-utils', location = 'content/js/util/LoginUtils.js' */
define("jira/issues/utils/login",["require"],function(b){var d=b("jira/util/data/meta"),c=b("wrm/context-path")();return{isLoggedIn:function(){return!!this.loggedInUserName()},loggedInUserName:function(){return d.get("remote-user")},currentContextRelativePath:function(){var a=this._getWindowLocation(),b=a.protocol+"//"+a.host+(c||"");a=a.href;return 0===a.indexOf(b)?a.substr(b.length):a},redirectUrlToCurrent:function(){var a=this.currentContextRelativePath();return c+"/login.jsp?os_destination\x3d"+
encodeURIComponent(a)},redirectUrl:function(a){return c+"/login.jsp?os_destination\x3d"+encodeURIComponent(a)},_getWindowLocation:function(){return window.location}}});AJS.namespace("JIRA.Issues.LoginUtils",null,require("jira/issues/utils/login"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:empty-results-modifier', location = 'util/EmptyResultsModifier.js' */
define("jira/components/util/empty-results-modifier",["require"],function(b){var d=b("wrm/context-path"),c=b("jira/issues/utils/login");return{modifyLink:function(a){a=a.$(".no-results-hint a");c.isLoggedIn()?a.addClass("create-issue").attr("href",d()+"/secure/CreateIssue!default.jspa"):a.addClass("login-link").attr("href",c.redirectUrlToCurrent())}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--9c8c8c1546', location = 'aui.chunk.3630106d35f4c6de1867--ef63ffbcc31322bdad32.js' */
(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[8291],{2111:(n,e,u)=>{var i,p,t;!function(o){"use strict";p=[u(7963),u(21)],i=function(n){return n.ui.plugin={add:function(e,u,i){var p,t=n.ui[e].prototype;for(p in i)t.plugins[p]=t.plugins[p]||[],t.plugins[p].push([u,i[p]])},call:function(n,e,u,i){var p,t=n.plugins[e];if(t&&(i||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(p=0;p<t.length;p++)n.options[t[p][0]]&&t[p][1].apply(n.element,u)}}},void 0===(t="function"==typeof i?i.apply(e,p):i)||(n.exports=t)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--06bc6ae5d7', location = 'aui.chunk.5fdecad39f7504badc44--f4da9139d966852aa60e.js' */
(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[9089],{3783:(t,e,s)=>{var i,o,n;!function(r){"use strict";o=[s(7963),s(21)],void 0===(n="function"==typeof(i=function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(s){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})?i.apply(e,o):i)||(t.exports=n)}()},1692:(t,e,s)=>{var i,o,n;!function(r){"use strict";o=[s(7963),s(21)],void 0===(n="function"==typeof(i=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})?i.apply(e,o):i)||(t.exports=n)}()},8757:(t,e,s)=>{var i,o,n;
/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */!function(r){"use strict";o=[s(7963),s(5927),s(9736),s(2111),s(3783),s(1692),s(4534),s(21),s(1993)],void 0===(n="function"==typeof(i=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==s._trigger("stop",e)&&s._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i="function"==typeof s.helper,o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))}))},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))}))},drag:function(e,s,i){t.each(i.sortables,(function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o}))),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})}))},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,u=i.options,g=u.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-g||m>h+g||P<p-g||_>c+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==u.snapMode&&(o=Math.abs(p-P)<=g,n=Math.abs(c-_)<=g,r=Math.abs(a-v)<=g,l=Math.abs(h-m)<=g,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==u.snapMode&&(o=Math.abs(p-_)<=g,n=Math.abs(c-P)<=g,r=Math.abs(a-m)<=g,l=Math.abs(h-v)<=g,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort((function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)}));r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable})?i.apply(e,o):i)||(t.exports=n)}()}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_jquery.ui.draggable', location = 'aui.chunk.e6e1fcd59c270b706193--3846acc8cf4f6bcb081b.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[416],{8741:(u,e,s)=>{s.r(e),s.d(e,{default:()=>t});s(8757);const t="jquery"}},u=>{u.O(0,[3043,6097,3916,9862,8291,5058,9089,2375,7035],(()=>{return e=8741,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'libs/jquery.ui.sidebar.js' */
/*
 jQuery UI Sidebar
 http://jqueryui.com

 Depends:
   jquery.ui.widget.js
*/
(function(c){c.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(a){return 50},maxWidth:function(a){return window.innerWidth},resize:c.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition");this.options.easeOff&&(this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff));this.options.id||console.error("ui.sidebar: You must specify an id");this._addHandle();this._restore();c(window).resize(_.debounce(this.updatePosition,
30))},_restore:function(){if(window.localStorage){var a=localStorage.getItem("ui.sidebar."+this.options.id);a&&this._setWidth(a)}},_persist:function(){window.localStorage&&localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())},_setContainment:function(){var a=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth(this);this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this));this.handle.draggable({containment:[this._minLeft,
a,this._maxLeft,a]})},_handleDrag:function(a,b){this._setWidth(b.position.left-this._elementLeft,!0)},_setWidth:function(a,b){if(!b){b=this.options.maxWidth(this);var c=this.options.minWidth(this);a>b?a=b:a<c&&(a=c)}a-=this.element.outerWidth()-this.element.width();this.element.width(a);this.options.resize(a)},_addHandle:function(){var a=document.createElement("div");a.setAttribute("class","ui-sidebar");this.handle=c(a).appendTo(this.element);this.handle.draggable({axis:"x",drag:this._handleDrag,
stop:this._persist});this.handle.mousedown(this._setContainment);_.defer(this._setHandlePosition)},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft)this.handle.hide();else{var a=this.element.offset(),b=a.left+this.element.outerWidth();this.handle.css({top:a.top,left:b,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition();this._setWidth(this.handle.offset().left-this._elementLeft-window.pageXOffset);this._persist()}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/templates/detailslayout.soy' */
// This file was automatically generated from detailslayout.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.DetailsLayout.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.DetailsLayout == 'undefined') { JIRA.Components.DetailsLayout = {}; }
if (typeof JIRA.Components.DetailsLayout.Templates == 'undefined') { JIRA.Components.DetailsLayout.Templates = {}; }


JIRA.Components.DetailsLayout.Templates.container = function(opt_data, opt_ignored) {
  return '<div class="details-layout"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.container.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.container';
}


JIRA.Components.DetailsLayout.Templates.layout = function(opt_data, opt_ignored) {
  return '<div class="aui-group split-view"><div class="aui-item list-results-panel"></div><div class="aui-item detail-panel"><div class="tools-container"></div><div class="issue-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.layout.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.layout';
}


JIRA.Components.DetailsLayout.Templates.empty = function(opt_data, opt_ignored) {
  return '<div><div class="navigator-content empty-results">' + ((opt_data.loggedIn) ? '<div class="no-results no-results-message" role="status" aria-atomic="true" aria-live="polite"><h2>' + soy.$$escapeHtml('\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e') + '</h2><p class="no-results-hint">' + soy.$$filterNoAutoescape(AJS.format('\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 {0}\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443{1}','<a class="create-issue" href="' + "" + '/secure/CreateIssue!default.jspa">','</a>')) + '</p></div>' : '<div class="no-results not-logged-in-message" role="status" aria-atomic="true" aria-live="polite"><h2>' + soy.$$escapeHtml('\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e') + '</h2><p class="no-results-hint">' + soy.$$filterNoAutoescape('\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \x3ca\x3e\u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\x3c/a\x3e \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432') + '</p></div>') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.empty.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.empty';
}


JIRA.Components.DetailsLayout.Templates.loading = function(opt_data, opt_ignored) {
  return '<div class="loading"></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.loading.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.loading';
}


JIRA.Components.DetailsLayout.Templates.tools = function(opt_data, opt_ignored) {
  return '<div class="issue-tools"><div class="pager-container"></div><div class="expand-container"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.tools.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.tools';
}


JIRA.Components.DetailsLayout.Templates.expand = function(opt_data, opt_ignored) {
  return '<button title="' + soy.$$escapeHtml(AJS.format('\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 ( {0} )',opt_data.expandShortcutKey ? opt_data.expandShortcutKey : '')) + '" class="aui-button aui-button-subtle expand"><span class="aui-icon aui-icon-small aui-iconfont-focus">' + soy.$$escapeHtml(AJS.format('\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 ( {0} )',opt_data.expandShortcutKey ? opt_data.expandShortcutKey : '')) + '</span></button>';
};
if (goog.DEBUG) {
  JIRA.Components.DetailsLayout.Templates.expand.soyTemplateName = 'JIRA.Components.DetailsLayout.Templates.expand';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/templates/amd-wrapper.js' */
define("jira/components/detailslayout/templates",function(){return JIRA.Components.DetailsLayout.Templates});AJS.namespace("JIRA.Components.DetailsLayout.Templates",null,require("jira/components/detailslayout/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/controllers/Tools.js' */
define("jira/components/detailslayout/controllers/tools",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0"),d=b("jira/components/pager"),e=b("jira/components/detailslayout/views/tools");return c.ViewManager.extend({initialize:function(a){this.showExpand=a.showExpand;this._buildTools();this._buildPager()},show:function(a){this.toolsView.setElement(a);this.toolsView.render()},load:function(a){this.pager.update(a)},onDestroy:function(){this.pager.destroy();c.ViewManager.prototype.onDestroy.call(this)},
_buildTools:function(){this.toolsView=this.buildView("toolsView",function(){var a=new e({showExpand:this.showExpand});this.listenTo(a,{render:function(){a.pager._ensureElement();this.pager.show(a.pager.$el)},expand:function(){this.trigger("expand")}});return a})},_buildPager:function(){this.pager=new d;this.listenTo(this.pager,{next:function(){this.trigger("pager:next")},previous:function(){this.trigger("pager:previous")}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Container.js' */
define("jira/components/detailslayout/views/container",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0");b=b("jira/components/detailslayout/templates");return c.ItemView.extend({template:b.container,onRender:function(){this.unwrapTemplate()},showView:function(a){this.$el.append(a.$el)},showLoading:function(a){this.$el.prepend(a.$el)},hideLoading:function(a){a.$el.detach()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Empty.js' */
define("jira/components/detailslayout/views/empty",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0"),c=a("jira/components/detailslayout/templates"),d=a("jira/issues/utils/login"),e=a("jira/components/util/empty-results-modifier");return b.ItemView.extend({template:c.empty,serializeData:function(){return{loggedIn:d.isLoggedIn()}},onRender:function(){e.modifyLink(this);this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Tools.js' */
define("jira/components/detailslayout/views/tools",["require"],function(b){var c=b("jira/components/libs/marionette-2.1.0"),d=b("jira/components/detailslayout/templates"),a=b("jira/ajs/keyboardshortcut/keyboard-shortcut"),e=c.ItemView.extend({template:d.expand,triggers:{click:"expand"},serializeData:function(){return{expandShortcutKey:a.getKeyboardShortcutKeys("fullscreen.issue")}},onRender:function(){this.unwrapTemplate();this.$el.tooltip({gravity:"e"})},onDestroy:function(){this.$el.tooltip&&this.$el.tooltip("hide")}});
return c.LayoutView.extend({initialize:function(a){this.showExpand=a.showExpand||!1;this._initSubview()},template:d.tools,regions:{pager:".pager-container",expand:".expand-container"},_initSubview:function(){this._expandSubview=new e;this.listenTo(this._expandSubview,"expand",function(){this.trigger("expand")}.bind(this))},onRender:function(){this.showExpand&&(this.expand.show(this._expandSubview),a.initialised&&"resolved"!==a.initialised.state()&&a.initialised.then(function(){this._expandSubview.render()}.bind(this)))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Layout.js' */
define("jira/components/detailslayout/views/layout",["require"],function(a){var c=a("jira/components/libs/marionette-2.1.0"),b=a("jira/components/libs/underscore");a=a("jira/components/detailslayout/templates");return c.LayoutView.extend({template:a.layout,regions:{issuesList:".list-results-panel",issueComponent:".issue-container",tools:".tools-container"},ui:{detailPanel:".detail-panel"},onRender:function(){this.issuesList._ensureElement()},maximizeDetailPanelHeight:function(){var a=this.ui.detailPanel.offset().top;
this.ui.detailPanel.css("height",window.innerHeight-a)},showDraggable:function(){var a=0;this.issuesList.$el.sidebar({id:"layoutview-draggable",minWidth:function(){return 250},maxWidth:b.bind(function(){return this.$el.width()-500},this),resize:b.bind(function(b){b!==a&&(a=b,this.trigger("resize"))},this)})},updateDraggable:function(){this.issuesList.$el.data("ui-sidebar")&&this.issuesList.$el.sidebar("updatePosition")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/views/Loading.js' */
define("jira/components/detailslayout/views/loading",["require"],function(a){var b=a("jira/components/libs/marionette-2.1.0");a=a("jira/components/detailslayout/templates");return b.ItemView.extend({template:a.loading,onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:detailslayout', location = 'detailslayout/DetailsLayout.js' */
define("jira/components/detailslayout",["require"],function(b){function g(a,e,d){var b,c=e;return function(){var h=arguments;clearTimeout(b);b=setTimeout(function(){a.apply(this,h);c=e},c);c=d}}var c=b("jira/components/libs/underscore"),k=b("jira/components/issuecomponentresolver"),f=b("jira/components/libs/marionette-2.1.0"),l=b("jira/components/simpleissuelist"),m=b("jira/components/detailslayout/views/container"),n=b("jira/components/detailslayout/views/empty"),p=b("jira/components/detailslayout/views/layout"),
q=b("jira/components/detailslayout/views/loading"),r=b("jira/components/detailslayout/controllers/tools");return f.ViewManager.extend({_buildIssueComponent:function(){var a=this.issueComponent=new (k.resolve()),b=this.options;this._loadIssueInViewerComponent=g(c.bind(function(d){a.loadIssue({id:d.id,key:d.key,detailView:!b.shouldUpdateCurrentProject}).always(c.bind(function(){this.hideLoading()},this))},this),100,500);this.listenTo(a,{loadError:function(a){this.simpleIssueList.disableIssue(a.issueId);
this.trigger("editorError")},loadComplete:function(a,b){this.adjustSize();this.simpleIssueList.updateIssue(a.id,{key:a.get("entity").key,summary:a.get("entity").summary,status:a.get("entity").status.name});a={issueKey:a.get("entity").key,issueId:a.id,issueEditorOptions:b,projectId:a.get("projectId"),projectKey:a.get("projectKey"),projectType:a.get("projectType")};b&&"issues-cache-refresh"===b.loadReason?this.trigger("editorLoadedFromCache",a):this.trigger("editorLoaded",a)},fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},
saveSuccess:function(a){this.simpleIssueList.refreshIssue(a.issueId);this.trigger("editor:saveSuccess",{event:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,duration:a.duration})},editField:function(a){this.trigger("editor:editField",a)},editFieldCancel:function(a){this.trigger("editor:editFieldCancel",a)},linkToIssue:function(a){this.trigger("linkToIssue",a)},refineViewer:function(a){a.preventDefault();this.updateIssueComponent(a.query)},linkInErrorMessage:function(a){a.preventDefault();
this.simpleIssueList.selectIssue(a.issueData.id)},individualPanelRendered:function(a){this.trigger("individualPanelRendered",a)}})},_buildSimpleIssueList:function(){this.simpleIssueList=new l({baseURL:this.baseURL,displayInlineIssueCreate:this.options.displayInlineIssueCreate});this.listenTo(this.simpleIssueList,{select:function(a){this.trigger("select",a)},update:function(){this.trigger("list:update")},refresh:function(){this.trigger("list:refresh")},sort:function(a){this.trigger("list:sort",a)},
"list:select":function(a){this.trigger("list:select",{id:a.id,key:a.key,absolutePosition:a.absolutePosition,relativePosition:a.relativePosition})},"list:pagination":function(){this.trigger("list:pagination")},"before:loadpage":function(){this.showLoading()},"error:loadpage":function(a){this.hideLoading();this.trigger("error:loadpage",a)},issueCreated:function(a){this.trigger("issueCreated",a)}})},_buildContainerView:function(){this.containerView=this.buildView("containerView",function(){var a=new m;
this.listenTo(a,{render:function(){this.getView("layoutView").render();this.getView("emptyView").render();this.getView("loadingView").render();a.$el.prepend(this.getView("layoutView").$el)}});return a})},_buildEmptyView:function(){this.emptyView=this.buildView("emptyView",function(){var a="function"===typeof this.options.emptyViewFactory?this.options.emptyViewFactory():new n;this.listenTo(a,{render:function(){this.containerView.$el.append(a.$el);this.adjustSize();this.trigger("empty")}});return a})},
_showEmptyView:function(){this.layoutView.$el.detach();this.containerView.$el.empty();this.containerView.showView(this.emptyView);this.adjustSize();this.trigger("empty")},_buildTools:function(){this.tools=new r({showExpand:this.useExpand});this.listenTo(this.tools,{expand:function(){this.trigger("expand")},"pager:next":function(){var a=this.selectNext();this.trigger("pager:next",a)},"pager:previous":function(){var a=this.selectPrevious();this.trigger("pager:previous",a)}})},_buildLayoutView:function(){this.layoutView=
this.buildView("layoutView",function(){var a=new p;this.listenTo(a,{render:function(){a.issueComponent._ensureElement();this.issueComponent.setContainer(a.issueComponent.$el);a.issuesList._ensureElement();this.simpleIssueList.show(a.issuesList.$el);a.tools._ensureElement();this.tools.show(a.tools.$el)},resize:function(){this.adjustSize()}});return a})},_buildLoadingView:function(){this.loadingView=this.buildView("loadingView",function(){return new q})},_buildComponents:function(){this._buildIssueComponent();
this._buildSimpleIssueList();this._buildTools()},_buildViews:function(){this._buildLayoutView();this._buildEmptyView();this._buildLoadingView();this._buildContainerView();this.containerView.render()},initialize:function(a){this.baseURL=a.baseURL;this.useExpand=a.useExpand||!1;this._buildComponents();this._buildViews()},_showLoadingView:function(){this.containerView.showLoading(this.loadingView)},_hideLoadingView:function(){this.containerView.hideLoading(this.loadingView)},_showLayoutView:function(){this.emptyView.$el.detach();
this.containerView.showView(this.layoutView);this.layoutView.showDraggable();this.adjustSize()},show:function(a){a.replaceWith(this.containerView.$el);return this.containerView.$el},onDestroy:function(){this.tools.destroy();this.issueComponent.close();this.simpleIssueList.destroy();f.ViewManager.prototype.onDestroy.call(this)},showLoading:function(){this._showLoadingView()},hideLoading:function(){this._hideLoadingView()},load:function(a,b){this.searchResults&&(this.stopListening(this.searchResults),
delete this.searchResults);this.searchResults=a;this.listenTo(this.searchResults,{issueDeleted:function(){this.searchResults.length||this._showEmptyView()},"select selectIssueNotInList":function(a){this.showLoading();this._loadIssueInViewerComponent({id:a.id,key:a.get("key")})}});this.searchResults.isEmptySearch()?this._showEmptyView():(this.simpleIssueList.load(this.searchResults,b),this.tools.load(this.searchResults),this._showLayoutView());this.trigger("list:render")},adjustSize:function(){c.defer(c.bind(function(){this.getView("layoutView")&&
(this.simpleIssueList.adjustSize(),this.getView("layoutView").maximizeDetailPanelHeight(),this.issueComponent.applyResponsiveDesign(),this.getView("layoutView").updateDraggable());if(this.getView("emptyView")){var a=this.getView("emptyView").$el,b=a.length&&a.offset().top;a.css("height",window.innerHeight-b)}},this))},refreshIssue:function(a){this.simpleIssueList.refreshIssue(a);return this.issueComponent.refreshIssue()},removeIssue:function(a){this.showLoading();return this.simpleIssueList.removeIssue(a).always(c.bind(function(){this.hideLoading()},
this)).done(c.bind(function(a){0===a&&this._showEmptyView()},this))},getActiveIssueId:function(){return this.issueComponent.getIssueId()},getActiveIssueKey:function(){return this.issueComponent.getIssueKey()},getActiveProjectId:function(){return this.issueComponent.getProjectId()},getActiveProjectKey:function(){return this.issueComponent.getProjectKey()},getActiveProjectType:function(){return this.issueComponent.getProjectType()},selectNext:function(){return this.simpleIssueList.selectNext()},selectPrevious:function(){return this.simpleIssueList.selectPrevious()},
updateIssueComponent:function(a){this.showLoading();this.listenToOnce(this.issueComponent,"loadComplete",function(){this.hideLoading()});this.issueComponent.updateIssueWithQuery(a)},isLoading:function(){return this.issueComponent.isCurrentlyLoading()},hasSavesInProgress:function(){return"hasSavesInProgress"in this.issueComponent?this.issueComponent.hasSavesInProgress():!1},canDismissComment:function(){return this.issueComponent.canDismissComment()},getEditorFields:function(){if("getFields"in this.issueComponent)return this.issueComponent.getFields()},
abortPending:function(){return this.issueComponent.abortPending()},beforeHide:function(){return this.issueComponent.beforeHide()},beforeShow:function(){return this.issueComponent.beforeShow()},removeIssueMetadata:function(){return this.issueComponent.removeIssueMetadata()},editField:function(a){if("editField"in this.issueComponent)return this.issueComponent.editField(a)},focusList:function(){this.simpleIssueList.focus()},focusEditor:function(){this.issueComponent.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:backbone-1.4-factory', location = 'factories/backbone/1.4/backbone-1.4.1-factory.js' */
'use strict';(function(A){define("atlassian/libs/factories/backbone-1.4",function(){return function(h,e){return A({},{},h,e).noConflict()}})})(function(A,h,e,k){var P=A.Backbone,D=Array.prototype.slice;h.VERSION="1.4.1";h.$=k;h.noConflict=function(){A.Backbone=P;return this};h.emulateHTTP=!1;h.emulateJSON=!1;k=h.Events={};var E=/\s+/,q,p=function(a,b,c,d,f){var g=0,l;if(c&&"object"===typeof c)for(void 0!==d&&("context"in f)&&void 0===f.context&&(f.context=d),l=e.keys(c);g<l.length;g++)b=p(a,b,l[g],
c[l[g]],f);else if(c&&E.test(c))for(l=c.split(E);g<l.length;g++)b=a(b,l[g],d,f);else b=a(b,c,d,f);return b};k.on=function(a,b,c){this._events=p(Q,this._events||{},a,b,{context:c,ctx:this,listening:q});q&&((this._listeners||(this._listeners={}))[q.id]=q,q.interop=!1);return this};k.listenTo=function(a,b,c){if(!a)return this;var d=a._listenId||(a._listenId=e.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),g=q=f[d];g||(this._listenId||(this._listenId=e.uniqueId("l")),g=q=f[d]=new B(this,a));
a:{try{a.on(b,c,this)}catch(l){a=l;break a}a=void 0}q=void 0;if(a)throw a;if(g.interop)g.on(b,c);return this};var Q=function(a,b,c,d){if(c){b=a[b]||(a[b]=[]);var f=d.context,e=d.ctx;(d=d.listening)&&d.count++;b.push({callback:c,context:f,ctx:f||e,listening:d})}return a};k.off=function(a,b,c){if(!this._events)return this;this._events=p(F,this._events,a,b,{context:c,listeners:this._listeners});return this};k.stopListening=function(a,b,c){var d=this._listeningTo;if(!d)return this;a=a?[a._listenId]:e.keys(d);
for(var f=0;f<a.length;f++){var g=d[a[f]];if(!g)break;g.obj.off(b,c,this);g.interop&&g.off(b,c)}e.isEmpty(d)&&(this._listeningTo=void 0);return this};var F=function(a,b,c,d){if(a){var f=d.context,g=d.listeners;d=0;var l;if(b||f||c){for(l=b?[b]:e.keys(a);d<l.length;d++){b=l[d];g=a[b];if(!g)break;for(var h=[],r=0;r<g.length;r++){var k=g[r];c&&c!==k.callback&&c!==k.callback._callback||f&&f!==k.context?h.push(k):(k=k.listening)&&k.off(b,c)}h.length?a[b]=h:delete a[b]}return a}for(l=e.keys(g);d<l.length;d++)g[l[d]].cleanup()}};
k.once=function(a,b,c){var d=p(G,{},a,b,this.off.bind(this));"string"===typeof a&&null==c&&(b=void 0);return this.on(d,b,c)};k.listenToOnce=function(a,b,c){b=p(G,{},b,c,this.stopListening.bind(this,a));return this.listenTo(a,b)};var G=function(a,b,c,d){if(c){var f=a[b]=e.once(function(){d(b,f);c.apply(this,arguments)});f._callback=c}return a};k.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;d<b;d++)c[d]=arguments[d+1];p(S,this._events,a,void 0,
c);return this};var S=function(a,b,c,d){if(a){c=a[b];var f=a.all;c&&f&&(f=f.slice());c&&H(c,d);f&&H(f,[b].concat(d))}return a},H=function(a,b){var c,d=-1,f=a.length,e=b[0],l=b[1],h=b[2];switch(b.length){case 0:for(;++d<f;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e);break;case 2:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e,l);break;case 3:for(;++d<f;)(c=a[d]).callback.call(c.ctx,e,l,h);break;default:for(;++d<f;)(c=a[d]).callback.apply(c.ctx,b)}},B=function(a,
b){this.id=a._listenId;this.listener=a;this.obj=b;this.interop=!0;this.count=0;this._events=void 0};B.prototype.on=k.on;B.prototype.off=function(a,b){this.interop?(this._events=p(F,this._events,a,b,{context:void 0,listeners:void 0}),a=!this._events):(this.count--,a=0===this.count);a&&this.cleanup()};B.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId];this.interop||delete this.obj._listeners[this.id]};k.bind=k.on;k.unbind=k.off;e.extend(h,k);var x=h.Model=function(a,
b){var c=a||{};b||(b={});this.preinitialize.apply(this,arguments);this.cid=e.uniqueId(this.cidPrefix);this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});var d=e.result(this,"defaults");c=e.defaults(e.extend({},d,c),d);this.set(c,b);this.changed={};this.initialize.apply(this,arguments)};e.extend(x.prototype,k,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(a){return e.clone(this.attributes)},
sync:function(){return h.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return e.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!e.iteratee(a,this)(this.attributes)},set:function(a,b,c){if(null==a)return this;if("object"===typeof a){var d=a;c=b}else(d={})[a]=b;c||(c={});if(!this._validate(d,c))return!1;var f=c.unset;a=c.silent;var g=[],l=this._changing;this._changing=!0;l||(this._previousAttributes=e.clone(this.attributes),
this.changed={});var h=this.attributes,k=this.changed,R=this._previousAttributes,t;for(t in d)b=d[t],e.isEqual(h[t],b)||g.push(t),e.isEqual(R[t],b)?delete k[t]:k[t]=b,f?delete h[t]:h[t]=b;this.idAttribute in d&&(b=this.id,this.id=this.get(this.idAttribute),this.trigger("changeId",this,b,c));if(!a)for(g.length&&(this._pending=c),b=0;b<g.length;b++)this.trigger("change:"+g[b],this,h[g[b]],c);if(l)return this;if(!a)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=
this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,e.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,e.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!e.isEmpty(this.changed):e.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?e.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,c={},d;for(d in a){var f=a[d];if(!e.isEqual(b[d],f)){c[d]=
f;var g=!0}}return g?c:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return e.clone(this._previousAttributes)},fetch:function(a){a=e.extend({parse:!0},a);var b=this,c=a.success;a.success=function(d){var f=a.parse?b.parse(d,a):d;if(!b.set(f,a))return!1;c&&c.call(a.context,b,d,a);b.trigger("sync",b,d,a)};C(this,a);return this.sync("read",this,a)},save:function(a,b,c){if(null==a||"object"===typeof a){var d=a;c=b}else(d=
{})[a]=b;c=e.extend({validate:!0,parse:!0},c);var f=c.wait;if(d&&!f){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;var g=this,l=c.success,h=this.attributes;c.success=function(a){g.attributes=h;var b=c.parse?g.parse(a,c):a;f&&(b=e.extend({},d,b));if(b&&!g.set(b,c))return!1;l&&l.call(c.context,g,a,c);g.trigger("sync",g,a,c)};C(this,c);d&&f&&(this.attributes=e.extend({},h,d));a=this.isNew()?"create":c.patch?"patch":"update";"patch"!==a||c.attrs||(c.attrs=d);a=this.sync(a,this,c);this.attributes=
h;return a},destroy:function(a){a=a?e.clone(a):{};var b=this,c=a.success,d=a.wait,f=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(e){d&&f();c&&c.call(a.context,b,e,a);b.isNew()||b.trigger("sync",b,e,a)};var g=!1;this.isNew()?e.defer(a.success):(C(this,a),g=this.sync("delete",this,a));d||f();return g},url:function(){var a=e.result(this,"urlRoot")||e.result(this.collection,"url")||I();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,
"$\x26/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},e.extend({},a,{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=e.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;this.trigger("invalid",this,a,e.extend(b,{validationError:a}));return!1}});var y=h.Collection=
function(a,b){b||(b={});this.preinitialize.apply(this,arguments);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,e.extend({silent:!0},b))},T={add:!0,remove:!0,merge:!0},U={add:!0,remove:!1},J=function(a,b,c){c=Math.min(Math.max(c,0),a.length);var d=Array(a.length-c),f=b.length,e;for(e=0;e<d.length;e++)d[e]=a[e+c];for(e=0;e<f;e++)a[e+c]=b[e];for(e=0;e<d.length;e++)a[e+f+c]=d[e]};e.extend(y.prototype,
k,{model:x,preinitialize:function(){},initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return h.sync.apply(this,arguments)},add:function(a,b){return this.set(a,e.extend({merge:!1},b,U))},remove:function(a,b){b=e.extend({},b);var c=!e.isArray(a);a=c?[a]:a.slice();a=this._removeModels(a,b);!b.silent&&a.length&&(b.changes={added:[],merged:[],removed:a},this.trigger("update",this,b));return c?a[0]:a},set:function(a,b){if(null!=a){b=e.extend({},
T,b);b.parse&&!this._isModel(a)&&(a=this.parse(a,b)||[]);var c=!e.isArray(a);a=c?[a]:a.slice();var d=b.at;null!=d&&(d=+d);d>this.length&&(d=this.length);0>d&&(d+=this.length+1);var f=[],g=[],h=[],k=[],r={},q=b.add,t=b.merge,v=b.remove,p=!1,u=this.comparator&&null==d&&!1!==b.sort,x=e.isString(this.comparator)?this.comparator:null,n;for(n=0;n<a.length;n++){var m=a[n];var w=this.get(m);w?(t&&m!==w&&(m=this._isModel(m)?m.attributes:m,b.parse&&(m=w.parse(m,b)),w.set(m,b),h.push(w),u&&!p&&(p=w.hasChanged(x))),
r[w.cid]||(r[w.cid]=!0,f.push(w)),a[n]=w):q&&(m=a[n]=this._prepareModel(m,b))&&(g.push(m),this._addReference(m,b),r[m.cid]=!0,f.push(m))}if(v){for(n=0;n<this.length;n++)m=this.models[n],r[m.cid]||k.push(m);k.length&&this._removeModels(k,b)}r=!1;f.length&&!u&&q&&v?(r=this.length!==f.length||e.some(this.models,function(a,b){return a!==f[b]}),this.models.length=0,J(this.models,f,0),this.length=this.models.length):g.length&&(u&&(p=!0),J(this.models,g,null==d?this.length:d),this.length=this.models.length);
p&&this.sort({silent:!0});if(!b.silent){for(n=0;n<g.length;n++)null!=d&&(b.index=d+n),m=g[n],m.trigger("add",m,this,b);(p||r)&&this.trigger("sort",this,b);if(g.length||k.length||h.length)b.changes={added:g,removed:k,merged:h},this.trigger("update",this,b)}return c?a[0]:a}},reset:function(a,b){b=b?e.clone(b):{};for(var c=0;c<this.models.length;c++)this._removeReference(this.models[c],b);b.previousModels=this.models;this._reset();a=this.add(a,e.extend({silent:!0},b));b.silent||this.trigger("reset",
this,b);return a},push:function(a,b){return this.add(a,e.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,e.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return D.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[this.modelId(this._isModel(a)?a.attributes:a,a.idAttribute)]||a.cid&&this._byId[a.cid]},has:function(a){return null!=
this.get(a)},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw Error("Cannot sort a set without a comparator");a||(a={});var c=b.length;e.isFunction(b)&&(b=b.bind(this));1===c||e.isString(b)?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=
e.extend({parse:!0},a);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b.call(a.context,c,d,a);c.trigger("sync",c,d,a)};C(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?e.clone(b):{};var c=b.wait;a=this._prepareModel(a,b);if(!a)return!1;c||this.add(a,b);var d=this,f=b.success;b.success=function(a,b,e){c&&d.add(a,e);f&&f.call(e.context,a,b,e)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,
{model:this.model,comparator:this.comparator})},modelId:function(a,b){return a[b||this.model.prototype.idAttribute||"id"]},values:function(){return new z(this,K)},keys:function(){return new z(this,L)},entries:function(){return new z(this,V)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?e.clone(b):{};b.collection=this;a=this.model.prototype?new this.model(a,b):this.model(a,b);if(!a.validationError)return a;
this.trigger("invalid",this,a.validationError,b);return!1},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var g=this.indexOf(e);this.models.splice(g,1);this.length--;delete this._byId[e.cid];var h=this.modelId(e.attributes,e.idAttribute);null!=h&&delete this._byId[h];b.silent||(b.index=g,e.trigger("remove",e,this,b));c.push(e);this._removeReference(e,b)}}return c},_isModel:function(a){return a instanceof x},_addReference:function(a,b){this._byId[a.cid]=a;b=
this.modelId(a.attributes,a.idAttribute);null!=b&&(this._byId[b]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];b=this.modelId(a.attributes,a.idAttribute);null!=b&&delete this._byId[b];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(b){if(("add"===a||"remove"===a)&&c!==this)return;"destroy"===a&&this.remove(b,d);if("changeId"===a){var e=this.modelId(b.previousAttributes(),b.idAttribute),
g=this.modelId(b.attributes,b.idAttribute);null!=e&&delete this._byId[e];null!=g&&(this._byId[g]=b)}}this.trigger.apply(this,arguments)}});var u="function"===typeof Symbol&&Symbol.iterator;u&&(y.prototype[u]=y.prototype.values);var z=function(a,b){this._collection=a;this._kind=b;this._index=0},K=1,L=2,V=3;u&&(z.prototype[u]=function(){return this});z.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var a=this._collection.at(this._index);this._index++;if(this._kind!==
K){var b=this._collection.modelId(a.attributes,a.idAttribute);a=this._kind===L?b:[b,a]}return{value:a,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};u=h.View=function(a){this.cid=e.uniqueId("view");this.preinitialize.apply(this,arguments);e.extend(this,e.pick(a,W));this._ensureElement();this.initialize.apply(this,arguments)};var X=/^(\S+)\s*(.*)$/,W="model collection el id attributes className tagName events".split(" ");e.extend(u.prototype,k,{tagName:"div",$:function(a){return this.$el.find(a)},
preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof h.$?a:h.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=e.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var c=
a[b];e.isFunction(c)||(c=this[c]);if(c){var d=b.match(X);this.delegate(d[1],d[2],c.bind(this))}}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"));
else{var a=e.extend({},e.result(this,"attributes"));this.id&&(a.id=e.result(this,"id"));this.className&&(a["class"]=e.result(this,"className"));this.setElement(this._createElement(e.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});var Y=function(a,b,c,d){switch(b){case 1:return function(){return a[c](this[d])};case 2:return function(b){return a[c](this[d],b)};case 3:return function(b,e){return a[c](this[d],M(b,this),e)};case 4:return function(b,e,h){return a[c](this[d],
M(b,this),e,h)};default:return function(){var b=D.call(arguments);b.unshift(this[d]);return a[c].apply(a,b)}}},N=function(a,b,c,d){e.each(c,function(c,e){b[e]&&(a.prototype[e]=Y(b,c,e,d))})},M=function(a,b){return e.isFunction(a)?a:e.isObject(a)&&!b._isModel(a)?Z(a):e.isString(a)?function(b){return b.get(a)}:a},Z=function(a){var b=e.matches(a);return function(a){return b(a.attributes)}};e.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,
select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[x,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(a){var b=a[0],c=a[1],d=a[2];b.mixin=function(a){var c=e.reduce(e.functions(a),
function(a,b){a[b]=0;return a},{});N(b,a,c,d)};N(b,e,c,d)});h.sync=function(a,b,c){var d=aa[a];e.defaults(c||(c={}),{emulateHTTP:h.emulateHTTP,emulateJSON:h.emulateJSON});var f={type:d,dataType:"json"};c.url||(f.url=e.result(b,"url")||I());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(f.contentType="application/json",f.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(c.emulateHTTP&&("PUT"===
d||"DELETE"===d||"PATCH"===d)){f.type="POST";c.emulateJSON&&(f.data._method=d);var g=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(g)return g.apply(this,arguments)}}"GET"===f.type||c.emulateJSON||(f.processData=!1);var k=c.error;c.error=function(a,b,d){c.textStatus=b;c.errorThrown=d;k&&k.call(c.context,a,b,d)};a=c.xhr=h.ajax(e.extend(f,c));b.trigger("request",b,a,c);return a};var aa={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};h.ajax=
function(){return h.$.ajax.apply(h.$,arguments)};var O=h.Router=function(a){a||(a={});this.preinitialize.apply(this,arguments);a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},ba=/\((.*?)\)/g,ca=/(\(\?)?:\w+/g,da=/\*\w+/g,ea=/[\-{}\[\]+?.,\\\^$|#\s]/g;e.extend(O.prototype,k,{preinitialize:function(){},initialize:function(){},route:function(a,b,c){e.isRegExp(a)||(a=this._routeToRegExp(a));e.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;h.history.route(a,
function(e){e=d._extractParameters(a,e);!1!==d.execute(c,e,b)&&(d.trigger.apply(d,["route:"+b].concat(e)),d.trigger("route",b,e),h.history.trigger("route",d,b,e))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){h.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var a,b=e.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(ea,"\\$\x26").replace(ba,
"(?:$1)?").replace(ca,function(a,c){return c?a:"([^/?]+)"}).replace(da,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return e.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var v=h.History=function(){this.handlers=[];this.checkUrl=this.checkUrl.bind(this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},fa=/^[#\/]|\s+$/g,ha=/^\/+|\/+$/g,ia=/#.*$/;v.started=
!1;e.extend(v.prototype,k,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$\x26/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?
a[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(fa,"")},start:function(a){if(v.started)throw Error("Backbone.history has already been started");v.started=!0;this.options=e.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;
this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(ha,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&
this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||
function(a,c){return attachEvent("on"+a,c)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,c){return detachEvent("on"+a,c)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,
!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);v.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return e.some(this.handlers,
function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!v.started)return!1;b&&!0!==b||(b={trigger:!!b});a=this.getFragment(a||"");var c=this.root;if(""===a||"?"===a.charAt(0))c=c.slice(0,-1)||"/";c+=a;a=a.replace(ia,"");var d=this.decodeFragment(a);if(this.fragment!==d){this.fragment=d;if(this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==
this.getHash(this.iframe.contentWindow)&&(c=this.iframe.contentWindow,b.replace||(c.document.open(),c.document.close()),this._updateHash(c.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});h.history=new v;x.extend=y.extend=O.extend=u.extend=v.extend=function(a,b){var c=this;var d=a&&e.has(a,"constructor")?a.constructor:function(){return c.apply(this,
arguments)};e.extend(d,c,b);d.prototype=e.create(c.prototype,a);d.prototype.constructor=d;d.__super__=c.prototype;return d};var I=function(){throw Error('A "url" property or function must be specified');},C=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:underscore-1.13', location = 'libs/underscore/1.13/underscore-1.13.6.js' */
'use strict';(function(m,v){define("atlassian/libs/underscore-1.13",function(){return m._=v()})})(this,function(){function m(a,b){b=null==b?a.length-1:+b;return function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}c=Array(b+1);for(e=0;e<b;e++)c[e]=arguments[e];c[b]=d;return a.apply(this,c)}}function v(a){var b=typeof a;return"function"===
b||"object"===b&&!!a}function ta(a){return void 0===a}function ua(a){return!0===a||!1===a||"[object Boolean]"===G.call(a)}function n(a){var b="[object "+a+"]";return function(a){return G.call(a)===b}}function yb(a){return null!=a&&p(a.getInt8)&&va(a.buffer)}function y(a,b){return null!=a&&zb.call(a,b)}function wa(a){return xa(a)&&Ab(a)}function ya(a){return function(){return a}}function za(a){return function(b){b=a(b);return"number"==typeof b&&0<=b&&b<=Bb}}function Aa(a){return function(b){return null==
b?void 0:b[a]}}function Cb(a){return Ba?Ba(a)&&!N(a):Db(a)&&Eb.test(G.call(a))}function Fb(a){for(var b={},c=a.length,d=0;d<c;++d)b[a[d]]=!0;return{contains:function(a){return!0===b[a]},push:function(c){b[c]=!0;return a.push(c)}}}function Ca(a,b){b=Fb(b);var c=Da.length,d=a.constructor;d=p(d)&&d.prototype||S;var e="constructor";for(y(a,e)&&!b.contains(e)&&b.push(e);c--;)e=Da[c],e in a&&a[e]!==d[e]&&!b.contains(e)&&b.push(e)}function l(a){if(!v(a))return[];if(Ea)return Ea(a);var b=[],c;for(c in a)y(a,
c)&&b.push(c);Fa&&Ca(a,b);return b}function Ga(a,b){var c=l(b),d=c.length;if(null==a)return!d;a=Object(a);for(var e=0;e<d;e++){var f=c[e];if(b[f]!==a[f]||!(f in a))return!1}return!0}function h(a){if(a instanceof h)return a;if(!(this instanceof h))return new h(a);this._wrapped=a}function T(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return!1;if(a!==a)return b!==b;var e=typeof a;return"function"!==e&&"object"!==e&&"object"!=typeof b?!1:Ha(a,b,c,d)}function Ha(a,b,c,d){a instanceof
h&&(a=a._wrapped);b instanceof h&&(b=b._wrapped);var e=G.call(a);if(e!==G.call(b))return!1;if(Ia&&"[object Object]"==e&&N(a)){if(!N(b))return!1;e="[object DataView]"}switch(e){case "[object RegExp]":case "[object String]":return""+a===""+b;case "[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case "[object Date]":case "[object Boolean]":return+a===+b;case "[object Symbol]":return Ja.valueOf.call(a)===Ja.valueOf.call(b);case "[object ArrayBuffer]":case "[object DataView]":return Ha(new Uint8Array(a.buffer||
a,a.byteOffset||0,H(a)),new Uint8Array(b.buffer||b,b.byteOffset||0,H(b)),c,d)}e="[object Array]"===e;if(!e&&Ka(a)){if(H(a)!==H(b))return!1;if(a.buffer===b.buffer&&a.byteOffset===b.byteOffset)return!0;e=!0}if(!e){if("object"!=typeof a||"object"!=typeof b)return!1;var f=a.constructor,g=b.constructor;if(f!==g&&!(p(f)&&f instanceof f&&p(g)&&g instanceof g)&&"constructor"in a&&"constructor"in b)return!1}c=c||[];d=d||[];for(f=c.length;f--;)if(c[f]===a)return d[f]===b;c.push(a);d.push(b);if(e){f=a.length;
if(f!==b.length)return!1;for(;f--;)if(!T(a[f],b[f],c,d))return!1}else{e=l(a);f=e.length;if(l(b).length!==f)return!1;for(;f--;)if(g=e[f],!y(b,g)||!T(a[g],b[g],c,d))return!1}c.pop();d.pop();return!0}function I(a){if(!v(a))return[];var b=[],c;for(c in a)b.push(c);Fa&&Ca(a,b);return b}function U(a){var b=r(a);return function(c){if(null==c)return!1;var d=I(c);if(r(d))return!1;for(d=0;d<b;d++)if(!p(c[a[d]]))return!1;return a!==La||!p(c[V])}}function D(a){for(var b=l(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=
a[b[e]];return d}function Ma(a){for(var b={},c=l(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b}function W(a){var b=[],c;for(c in a)p(a[c])&&b.push(c);return b.sort()}function X(a,b){return function(c){var d=arguments.length;b&&(c=Object(c));if(2>d||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),k=g.length,h=0;h<k;h++){var z=g[h];b&&void 0!==c[z]||(c[z]=f[z])}return c}}function Gb(){return function(){}}function Na(a){if(!v(a))return{};if(Oa)return Oa(a);var b=Gb();b.prototype=
a;a=new b;b.prototype=null;return a}function Pa(a){return A(a)?a:[a]}function Y(a,b){for(var c=b.length,d=0;d<c;d++){if(null==a)return;a=a[b[d]]}return c?a:void 0}function Qa(a,b,c){a=Y(a,h.toPath(b));return ta(a)?c:a}function Z(a){return a}function J(a){a=O({},a);return function(b){return Ga(b,a)}}function aa(a){a=h.toPath(a);return function(b){return Y(b,a)}}function K(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,e,f){return a.call(b,
c,e,f)};case 4:return function(c,e,f,g){return a.call(b,c,e,f,g)}}return function(){return a.apply(b,arguments)}}function Ra(a,b,c){return null==a?Z:p(a)?K(a,b,c):v(a)&&!A(a)?J(a):aa(a)}function ba(a,b){return Ra(a,b,Infinity)}function t(a,b,c){return h.iteratee!==ba?h.iteratee(a,b):Ra(a,b,c)}function Sa(){}function ca(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))}function Ta(a){var b=function(b){return a[b]},c="(?:"+l(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){a=
null==a?"":""+a;return d.test(a)?a.replace(e,b):a}}function Hb(a){return"\\"+Ib[a]}function Ua(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);b=Na(a.prototype);a=a.apply(b,e);return v(a)?a:b}function B(a,b,c,d){d=d||[];if(!b&&0!==b)b=Infinity;else if(0>=b)return d.concat(a);for(var e=d.length,f=0,g=r(a);f<g;f++){var k=a[f];if(u(k)&&(A(k)||da(k)))if(1<b)B(k,b-1,c,d),e=d.length;else for(var h=0,z=k.length;h<z;)d[e++]=k[h++];else c||(d[e++]=k)}return d}function ea(a){return function(){return!a.apply(this,
arguments)}}function Va(a,b){var c;return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=null);return c}}function Wa(a,b,c){b=t(b,c);c=l(a);for(var d,e=0,f=c.length;e<f;e++)if(d=c[e],b(a[d],d,a))return d}function Xa(a){return function(b,c,d){c=t(c,d);d=r(b);for(var e=0<a?0:d-1;0<=e&&e<d;e+=a)if(c(b[e],e,b))return e;return-1}}function Ya(a,b,c,d){c=t(c,d,1);b=c(b);d=0;for(var e=r(a);d<e;){var f=Math.floor((d+e)/2);c(a[f])<b?d=f+1:e=f}return d}function Za(a,b,c){return function(d,e,f){var g=
0,k=r(d);if("number"==typeof f)0<a?g=0<=f?f:Math.max(f+k,g):k=0<=f?Math.min(f+1,k):f+k+1;else if(c&&f&&k)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(L.call(d,g,k),wa),0<=f?f+g:-1;for(f=0<a?g:k-1;0<=f&&f<k;f+=a)if(d[f]===e)return f;return-1}}function fa(a,b,c){b=(u(a)?ha:Wa)(a,b,c);if(void 0!==b&&-1!==b)return a[b]}function w(a,b,c){b=K(b,c);var d;if(u(a))for(c=0,d=a.length;c<d;c++)b(a[c],c,a);else{var e=l(a);c=0;for(d=e.length;c<d;c++)b(a[e[c]],e[c],a)}return a}function C(a,b,c){b=t(b,c);c=
!u(a)&&l(a);for(var d=(c||a).length,e=Array(d),f=0;f<d;f++){var g=c?c[f]:f;e[f]=b(a[g],g,a)}return e}function $a(a){return function(b,c,d,e){var f=3<=arguments.length,g=K(c,e,4),k=d,h=!u(b)&&l(b),z=(h||b).length,q=0<a?0:z-1;f||(k=b[h?h[q]:q],q+=a);for(;0<=q&&q<z;q+=a)f=h?h[q]:q,k=g(k,b[f],f,b);return k}}function E(a,b,c){var d=[];b=t(b,c);w(a,function(a,c,g){b(a,c,g)&&d.push(a)});return d}function ab(a,b,c){b=t(b,c);c=!u(a)&&l(a);for(var d=(c||a).length,e=0;e<d;e++){var f=c?c[e]:e;if(!b(a[f],f,a))return!1}return!0}
function bb(a,b,c){b=t(b,c);c=!u(a)&&l(a);for(var d=(c||a).length,e=0;e<d;e++){var f=c?c[e]:e;if(b(a[f],f,a))return!0}return!1}function x(a,b,c,d){u(a)||(a=D(a));if("number"!=typeof c||d)c=0;return 0<=cb(a,b,c)}function ia(a,b){return C(a,aa(b))}function db(a,b,c){var d=-Infinity,e=-Infinity,f;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=u(a)?a:D(a);for(var g=0,k=a.length;g<k;g++)c=a[g],null!=c&&c>d&&(d=c)}else b=t(b,c),w(a,function(a,c,g){f=b(a,c,g);if(f>e||-Infinity===f&&-Infinity===
d)d=a,e=f});return d}function eb(a){return a?A(a)?L.call(a):ja(a)?a.match(Jb):u(a)?C(a,Z):D(a):[]}function fb(a,b,c){if(null==b||c)return u(a)||(a=D(a)),a[ca(a.length-1)];a=eb(a);c=r(a);b=Math.max(Math.min(b,c),0);--c;for(var d=0;d<b;d++){var e=ca(d,c),f=a[d];a[d]=a[e];a[e]=f}return a.slice(0,b)}function P(a,b){return function(c,d,e){var f=b?[[],[]]:{};d=t(d,e);w(c,function(b,e){e=d(b,e,c);a(f,b,e)});return f}}function Kb(a,b,c){return b in c}function gb(a,b,c){return L.call(a,0,Math.max(0,a.length-
(null==b||c?1:b)))}function ka(a,b,c){return null==a||1>a.length?null==b||c?void 0:[]:null==b||c?a[0]:gb(a,a.length-b)}function Q(a,b,c){return L.call(a,null==b||c?1:b)}function la(a,b,c,d){ua(b)||(d=c,c=b,b=!1);null!=c&&(c=t(c,d));d=[];for(var e=[],f=0,g=r(a);f<g;f++){var k=a[f],h=c?c(k,f,a):k;b&&!c?(f&&e===h||d.push(k),e=h):c?x(e,h)||(e.push(h),d.push(k)):x(d,k)||d.push(k)}return d}function ma(a){for(var b=a&&db(a,r).length||0,c=Array(b),d=0;d<b;d++)c[d]=ia(a,d);return c}function na(a,b){return a._chain?
h(b).chain():b}function hb(a){w(W(a),function(b){var c=h[b]=a[b];h.prototype[b]=function(){var a=[this._wrapped];Lb.apply(a,arguments);return na(this,c.apply(h,a))}});return h}var ib="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},R=Array.prototype,S=Object.prototype,Ja="undefined"!==typeof Symbol?Symbol.prototype:null,Lb=R.push,L=R.slice,G=S.toString,zb=S.hasOwnProperty,jb="undefined"!==typeof ArrayBuffer,Mb="undefined"!==
typeof DataView,Nb=Array.isArray,Ea=Object.keys,Oa=Object.create,Ba=jb&&ArrayBuffer.isView,Ab=isNaN,Ob=isFinite,Fa=!{toString:null}.propertyIsEnumerable("toString"),Da="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" "),Bb=Math.pow(2,53)-1,ja=n("String"),xa=n("Number"),Pb=n("Date"),Qb=n("RegExp"),Rb=n("Error"),kb=n("Symbol"),va=n("ArrayBuffer"),lb=n("Function"),Sb=ib.document&&ib.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=
typeof Sb&&(lb=function(a){return"function"==typeof a||!1});var p=lb,mb=n("Object"),Ia=Mb&&mb(new DataView(new ArrayBuffer(8))),oa="undefined"!==typeof Map&&mb(new Map),Tb=n("DataView"),N=Ia?yb:Tb,A=Nb||n("Array"),pa=n("Arguments");(function(){pa(arguments)||(pa=function(a){return y(a,"callee")})})();var da=pa,H=Aa("byteLength"),Db=za(H),Eb=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Ka=jb?Cb:ya(!1),r=Aa("length");h.VERSION="1.13.6";h.prototype.value=function(){return this._wrapped};
h.prototype.valueOf=h.prototype.toJSON=h.prototype.value;h.prototype.toString=function(){return String(this._wrapped)};var V="forEach",qa=["clear","delete"],nb=["get","has","set"],Ub=qa.concat(V,nb),La=qa.concat(nb),Vb=["add"].concat(qa,V,"has"),Wb=oa?U(Ub):n("Map"),Xb=oa?U(La):n("WeakMap"),Yb=oa?U(Vb):n("Set"),Zb=n("WeakSet"),ob=X(I),O=X(l),pb=X(I,!0);h.toPath=Pa;h.iteratee=ba;var M=Date.now||function(){return(new Date).getTime()},qb={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;",
"'":"\x26#x27;","`":"\x26#x60;"},$b=Ta(qb),ac=Ma(qb),bc=Ta(ac),cc=h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},ra=/(.)^/,Ib={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dc=/\\|'|\r|\n|\u2028|\u2029/g,ec=/^\s*(\w|\$)+\s*$/,fc=0,F=m(function(a,b){var c=F.placeholder,d=function(){for(var e=0,f=b.length,g=Array(f),k=0;k<f;k++)g[k]=b[k]===c?arguments[e++]:b[k];for(;e<arguments.length;)g.push(arguments[e++]);return Ua(a,
d,this,this,g)};return d});F.placeholder=h;var rb=m(function(a,b,c){if(!p(a))throw new TypeError("Bind must be called on a function");var d=m(function(e){return Ua(a,d,b,this,c.concat(e))});return d}),u=za(r),gc=m(function(a,b){b=B(b,!1,!1);var c=b.length;if(1>c)throw Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=rb(a[d],a)}return a}),sb=m(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),hc=F(sb,h,1),ic=F(Va,2),ha=Xa(1),tb=Xa(-1),cb=Za(1,ha,Ya),
jc=Za(-1,tb),sa=$a(1),ub=$a(-1),kc=m(function(a,b,c){if(p(b))var d=b;else{b=h.toPath(b);var e=b.slice(0,-1);b=b[b.length-1]}return C(a,function(a){var f=d;if(!f){e&&e.length&&(a=Y(a,e));if(null==a)return;f=a[b]}return null==f?f:f.apply(a,c)})}),Jb=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,lc=P(function(a,b,c){y(a,c)?a[c].push(b):a[c]=[b]}),mc=P(function(a,b,c){a[c]=b}),nc=P(function(a,b,c){y(a,c)?a[c]++:a[c]=1}),oc=P(function(a,b,c){a[c?0:1].push(b)},!0),vb=m(function(a,b){var c=
{},d=b[0];if(null==a)return c;p(d)?(1<b.length&&(d=K(d,b[1])),b=I(a)):(d=Kb,b=B(b,!1,!1),a=Object(a));for(var e=0,f=b.length;e<f;e++){var g=b[e],k=a[g];d(k,g,a)&&(c[g]=k)}return c}),pc=m(function(a,b){var c=b[0],d;p(c)?(c=ea(c),1<b.length&&(d=b[1])):(b=C(B(b,!1,!1),String),c=function(a,c){return!x(b,c)});return vb(a,c,d)}),wb=m(function(a,b){b=B(b,!0,!0);return E(a,function(a){return!x(b,a)})}),qc=m(function(a,b){return wb(a,b)}),rc=m(function(a){return la(B(a,!0,!0))}),sc=m(ma);w("pop push reverse shift sort splice unshift".split(" "),
function(a){var b=R[a];h.prototype[a]=function(){var c=this._wrapped;null!=c&&(b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0]);return na(this,c)}});w(["concat","join","slice"],function(a){var b=R[a];h.prototype[a]=function(){var a=this._wrapped;null!=a&&(a=b.apply(a,arguments));return na(this,a)}});var xb=hb({__proto__:null,VERSION:"1.13.6",restArguments:m,isObject:v,isNull:function(a){return null===a},isUndefined:ta,isBoolean:ua,isElement:function(a){return!(!a||1!==a.nodeType)},
isString:ja,isNumber:xa,isDate:Pb,isRegExp:Qb,isError:Rb,isSymbol:kb,isArrayBuffer:va,isDataView:N,isArray:A,isFunction:p,isArguments:da,isFinite:function(a){return!kb(a)&&Ob(a)&&!isNaN(parseFloat(a))},isNaN:wa,isTypedArray:Ka,isEmpty:function(a){if(null==a)return!0;var b=r(a);return"number"==typeof b&&(A(a)||ja(a)||da(a))?0===b:0===r(l(a))},isMatch:Ga,isEqual:function(a,b){return T(a,b)},isMap:Wb,isWeakMap:Xb,isSet:Yb,isWeakSet:Zb,keys:l,allKeys:I,values:D,pairs:function(a){for(var b=l(a),c=b.length,
d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},invert:Ma,functions:W,methods:W,extend:ob,extendOwn:O,assign:O,defaults:pb,create:function(a,b){a=Na(a);b&&O(a,b);return a},clone:function(a){return v(a)?A(a)?a.slice():ob({},a):a},tap:function(a,b){b(a);return a},get:Qa,has:function(a,b){b=h.toPath(b);for(var c=b.length,d=0;d<c;d++){var e=b[d];if(!y(a,e))return!1;a=a[e]}return!!c},mapObject:function(a,b,c){b=t(b,c);c=l(a);for(var d=c.length,e={},f=0;f<d;f++){var g=c[f];e[g]=b(a[g],g,a)}return e},
identity:Z,constant:ya,noop:Sa,toPath:Pa,property:aa,propertyOf:function(a){return null==a?Sa:function(b){return Qa(a,b)}},matcher:J,matches:J,times:function(a,b,c){var d=Array(Math.max(0,a));b=K(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d},random:ca,now:M,escape:$b,unescape:bc,templateSettings:cc,template:function(a,b,c){!b&&c&&(b=c);b=pb({},b,h.templateSettings);c=RegExp([(b.escape||ra).source,(b.interpolate||ra).source,(b.evaluate||ra).source].join("|")+"|$","g");var d=0,e="__p+\x3d'";a.replace(c,
function(b,c,f,h,q){e+=a.slice(d,q).replace(dc,Hb);d=q+b.length;c?e+="'+\n((__t\x3d("+c+"))\x3d\x3dnull?'':_.escape(__t))+\n'":f?e+="'+\n((__t\x3d("+f+"))\x3d\x3dnull?'':__t)+\n'":h&&(e+="';\n"+h+"\n__p+\x3d'");return b});e+="';\n";if(b=b.variable){if(!ec.test(b))throw Error("variable is not a bare identifier: "+b);}else e="with(obj||{}){\n"+e+"}\n",b="obj";e="var __t,__p\x3d'',__j\x3dArray.prototype.join,print\x3dfunction(){__p+\x3d__j.call(arguments,'');};\n"+e+"return __p;\n";try{var f=new Function(b,
"_",e)}catch(g){throw g.source=e,g;}c=function(a){return f.call(this,a,h)};c.source="function("+b+"){\n"+e+"}";return c},result:function(a,b,c){b=h.toPath(b);var d=b.length;if(!d)return p(c)?c.call(a):c;for(var e=0;e<d;e++){var f=null==a?void 0:a[b[e]];void 0===f&&(f=c,e=d);a=p(f)?f.call(a):f}return a},uniqueId:function(a){var b=++fc+"";return a?a+b:b},chain:function(a){a=h(a);a._chain=!0;return a},iteratee:ba,partial:F,bind:rb,bindAll:gc,memoize:function(a,b){var c=function(d){var e=c.cache,f=""+
(b?b.apply(this,arguments):d);y(e,f)||(e[f]=a.apply(this,arguments));return e[f]};c.cache={};return c},delay:sb,defer:hc,throttle:function(a,b,c){var d,e,f,g,k=0;c||(c={});var h=function(){k=!1===c.leading?0:M();d=null;g=a.apply(e,f);d||(e=f=null)},l=function(){var q=M();k||!1!==c.leading||(k=q);var l=b-(q-k);e=this;f=arguments;0>=l||l>b?(d&&(clearTimeout(d),d=null),k=q,g=a.apply(e,f),d||(e=f=null)):d||!1===c.trailing||(d=setTimeout(h,l));return g};l.cancel=function(){clearTimeout(d);k=0;d=e=f=null};
return l},debounce:function(a,b,c){var d,e,f,g,k,h=function(){var l=M()-e;b>l?d=setTimeout(h,b-l):(d=null,c||(g=a.apply(k,f)),d||(f=k=null))},l=m(function(l){k=this;f=l;e=M();d||(d=setTimeout(h,b),c&&(g=a.apply(k,f)));return g});l.cancel=function(){clearTimeout(d);d=f=k=null};return l},wrap:function(a,b){return F(b,a)},negate:ea,compose:function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},after:function(a,b){return function(){if(1>
--a)return b.apply(this,arguments)}},before:Va,once:ic,findKey:Wa,findIndex:ha,findLastIndex:tb,sortedIndex:Ya,indexOf:cb,lastIndexOf:jc,find:fa,detect:fa,findWhere:function(a,b){return fa(a,J(b))},each:w,forEach:w,map:C,collect:C,reduce:sa,foldl:sa,inject:sa,reduceRight:ub,foldr:ub,filter:E,select:E,reject:function(a,b,c){return E(a,ea(t(b)),c)},every:ab,all:ab,some:bb,any:bb,contains:x,includes:x,include:x,invoke:kc,pluck:ia,where:function(a,b){return E(a,J(b))},max:db,min:function(a,b,c){var d=
Infinity,e=Infinity,f;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=u(a)?a:D(a);for(var g=0,k=a.length;g<k;g++)c=a[g],null!=c&&c<d&&(d=c)}else b=t(b,c),w(a,function(a,c,g){f=b(a,c,g);if(f<e||Infinity===f&&Infinity===d)d=a,e=f});return d},shuffle:function(a){return fb(a,Infinity)},sample:fb,sortBy:function(a,b,c){var d=0;b=t(b,c);return ia(C(a,function(a,c,g){return{value:a,index:d++,criteria:b(a,c,g)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===
c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")},groupBy:lc,indexBy:mc,countBy:nc,partition:oc,toArray:eb,size:function(a){return null==a?0:u(a)?a.length:l(a).length},pick:vb,omit:pc,first:ka,head:ka,take:ka,initial:gb,last:function(a,b,c){return null==a||1>a.length?null==b||c?void 0:[]:null==b||c?a[a.length-1]:Q(a,Math.max(0,a.length-b))},rest:Q,tail:Q,drop:Q,compact:function(a){return E(a,Boolean)},flatten:function(a,b){return B(a,b,!1)},without:qc,uniq:la,unique:la,union:rc,
intersection:function(a){for(var b=[],c=arguments.length,d=0,e=r(a);d<e;d++){var f=a[d];if(!x(b,f)){var g;for(g=1;g<c&&x(arguments[g],f);g++);g===c&&b.push(f)}}return b},difference:wb,unzip:ma,transpose:ma,zip:sc,object:function(a,b){for(var c={},d=0,e=r(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},range:function(a,b,c){null==b&&(b=a||0,a=0);c||(c=b<a?-1:1);b=Math.max(Math.ceil((b-a)/c),0);for(var d=Array(b),e=0;e<b;e++,a+=c)d[e]=a;return d},chunk:function(a,b){if(null==b||1>b)return[];
for(var c=[],d=0,e=a.length;d<e;)c.push(L.call(a,d,d+=b));return c},mixin:hb,"default":h});return xb._=xb});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:jira-projects-backbone', location = 'lib/backbone.js' */
define("jira-projects-backbone",["jquery","atlassian/libs/underscore-1.13","atlassian/libs/factories/backbone-1.4"],function(a,b,c){return c(b,a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = '/sidebar/lib/backbone.marionette.mixins.js' */
define("jira/projects/libs/marionette-mixins",[],function(){return function(e,d){function f(a,b){var c=this;b=e.defaults({},b||{},{isPrevented:!1,emitter:this,preventDefault:function(){this.isPrevented=!0;c.trigger(a+":prevented",this)}});this.trigger(a,b);return b}function g(a,b){this.triggerPreventable(a,b).isPrevented&&b.preventDefault()}e.extend(d.View.prototype,{unwrapTemplate:function(){if(this.$el.parent().length){var a=this.$el.children();this.$el.replaceWith(a);this.setElement(a)}else this.setElement(this.$el.children())},
triggerPreventable:f,retriggerPreventable:g});e.extend(d.Controller.prototype,{triggerPreventable:f,retriggerPreventable:g});d.ViewManager=d.Controller.extend({constructor:function(){d.Controller.apply(this,arguments);this.views={}},hideView:function(a){var b=this.views[a];b&&(this.stopListening(b),b.isDestroyed||b.destroy(),delete this.views[a])},showView:function(a,b){this.buildView(a,b).render()},buildView:function(a,b){var c=this.views[a];c||(c=b.call(this),this.listenTo(c,"destroy",function(){this.hideView(a)}),
this.views[a]=c);return c},getView:function(a){return this.views[a]}});return d}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:marionette', location = '/sidebar/lib/backbone.marionette.adapter.js' */
define("jira/projects/libs/marionette",["jira-projects-backbone","underscore","atlassian/libs/factories/marionette-2.1.0","jira/projects/libs/marionette-mixins"],function(a,b,c,d){a=c(b,a);return a=d(b,a)});AJS.namespace("JIRA.Projects.Libs.Marionette",null,require("jira/projects/libs/marionette"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/templates/templates.soy' */
// This file was automatically generated from templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Projects.Subnavigator.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Projects == 'undefined') { JIRA.Projects = {}; }
if (typeof JIRA.Projects.Subnavigator == 'undefined') { JIRA.Projects.Subnavigator = {}; }
if (typeof JIRA.Projects.Subnavigator.Templates == 'undefined') { JIRA.Projects.Subnavigator.Templates = {}; }


JIRA.Projects.Subnavigator.Templates.content = function(opt_data, opt_ignored) {
  var output = '<div id="subnav-opts' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-opts subnavigator-content aui-dropdown2 aui-style-default">';
  var itemGroupList9 = opt_data.itemGroups;
  var itemGroupListLen9 = itemGroupList9.length;
  for (var itemGroupIndex9 = 0; itemGroupIndex9 < itemGroupListLen9; itemGroupIndex9++) {
    var itemGroupData9 = itemGroupList9[itemGroupIndex9];
    output += JIRA.Projects.Subnavigator.Templates.itemSection({items: itemGroupData9, hideSelectedItem: opt_data.hideSelectedItem, idSuffix: opt_data.idSuffix});
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.content.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.content';
}


JIRA.Projects.Subnavigator.Templates.itemSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.items.length > 0) {
    var hasLinks__soy19 = '';
    var itemList20 = opt_data.items;
    var itemListLen20 = itemList20.length;
    for (var itemIndex20 = 0; itemIndex20 < itemListLen20; itemIndex20++) {
      var itemData20 = itemList20[itemIndex20];
      hasLinks__soy19 += (itemData20.link) ? 'true' : '';
    }
    output += '<div class="aui-dropdown2-section"><ul class="aui-list-truncate" ' + ((! hasLinks__soy19) ? 'aria-labelledby="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" role="radiogroup"' : '') + '>';
    var itemList35 = opt_data.items;
    var itemListLen35 = itemList35.length;
    for (var itemIndex35 = 0; itemIndex35 < itemListLen35; itemIndex35++) {
      var itemData35 = itemList35[itemIndex35];
      output += JIRA.Projects.Subnavigator.Templates.item({item: itemData35, hideSelectedItem: opt_data.hideSelectedItem});
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.itemSection.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.itemSection';
}


JIRA.Projects.Subnavigator.Templates.item = function(opt_data, opt_ignored) {
  return '<li ' + ((! opt_data.item.link) ? 'role="presentation"' : '') + '>' + ((opt_data.item.link) ? '<a data-item-id="' + soy.$$escapeHtml(opt_data.item.id) + '" href="' + soy.$$escapeHtml(opt_data.item.link) + '" ' + ((opt_data.item.description) ? ' title="' + soy.$$escapeHtml(opt_data.item.description) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.item.label) + '</a>' : '<a ' + ((! opt_data.hideSelectedItem) ? 'class="aui-dropdown2-radio' + ((opt_data.item.selected) ? ' checked' : '') + '"' : '') + ' role="radio" data-item-id="' + soy.$$escapeHtml(opt_data.item.id) + '" ' + ((opt_data.item.description) ? ' title="' + soy.$$escapeHtml(opt_data.item.description) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.item.label) + '</a>') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.item.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.item';
}


JIRA.Projects.Subnavigator.Templates.trigger = function(opt_data, opt_ignored) {
  return '' + ((opt_data.renderAsButton) ? '<button id="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-trigger subnavigator-trigger aui-button aui-button-link aui-dropdown2-trigger" aria-owns="subnav-opts' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" role="button" aria-label="' + soy.$$escapeHtml(opt_data.label) + '" aria-haspopup="true">' + soy.$$escapeHtml(opt_data.label) + '</button>' : '<span id="subnav-trigger' + ((opt_data.idSuffix) ? '-' + soy.$$escapeHtml(opt_data.idSuffix) : '') + '" class="subnav-trigger subnavigator-trigger">' + soy.$$escapeHtml(opt_data.label) + '</button>');
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.trigger.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.trigger';
}


JIRA.Projects.Subnavigator.Templates.title = function(opt_data, opt_ignored) {
  return '<span class="subnavigator-title" title="' + soy.$$escapeHtml(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.title) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Projects.Subnavigator.Templates.title.soyTemplateName = 'JIRA.Projects.Subnavigator.Templates.title';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/templates/templates.js' */
(function(){var a=JIRA.Projects.Subnavigator.Templates;define("jira/projects/components/subnavigator/templates",[],function(){return a})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Content.js' */
define("jira/projects/components/subnavigator/views/content",["jira/projects/components/subnavigator/templates","underscore","jira/projects/libs/marionette","jira/util/assistive","jquery"],function(e,a,f,g,c){return f.ItemView.extend({template:e.content,tooltipTimer:null,ui:{item:"li"},initialize:function(){this.hideSelectedItem=a.has(this.options,"hideSelectedItem")?this.options.hideSelectedItem:!0},events:{"click @ui.item":"_selectItem","keydown @ui.item":"_selectItem"},_selectItem:function(a){g.handleClickSpaceEnter(a,
function(a){a=c(a.target).attr("data-item-id");this.trigger("click",a)}.bind(this))},serializeData:function(){var c=this.model.get("selectedItem"),b=this.model.get("itemGroups"),d=this.hideSelectedItem;c&&(b=a.map(b,function(b){return d?a.reject(b,function(a){return a.id===c.id}):a.map(b,function(b){b=a.clone(b);b.id===c.id&&(b.selected=!0);return b})}));return{itemGroups:b,hideSelectedItem:d,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate();c(this.ui.item).find("a").attr("title")&&
c(this.ui.item).find("a").tooltip({gravity:"w"})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Trigger.js' */
define("jira/projects/components/subnavigator/views/trigger",["jira/projects/components/subnavigator/templates","jira/projects/libs/marionette","jira/util/assistive","jquery"],function(d,e,f,g){return e.ItemView.extend({template:d.trigger,events:{keydown:"_handleKeydown"},_handleKeydown:function(a){if([" ","Enter","ArrowDown","ArrowUp"].includes(a.key)){var b="#subnav-opts";this.options.id&&(b+="-"+this.options.id);f.wait(function(){var c=g(b);("ArrowUp"!==a.key?c.find(":focusable").first():c.find(":focusable").last()).addClass("active aui-dropdown2-active").focus()})}},
serializeData:function(){return{label:this.model.get("selectedItem").label,renderAsButton:1<this.model.getAllItems().length,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/StaticTrigger.js' */
define("jira/projects/components/subnavigator/views/static-trigger",["jira/projects/components/subnavigator/views/trigger"],function(a){return a.extend({serializeData:function(){return{label:this.options.label,renderAsButton:!0,idSuffix:this.options.id||""}},onRender:function(){this.unwrapTemplate();this.$el.removeClass("subnav-trigger")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/views/Title.js' */
define("jira/projects/components/subnavigator/views/title",["jira/projects/components/subnavigator/templates","jira/projects/libs/marionette"],function(a,b){return b.ItemView.extend({template:a.title,serializeData:function(){return{title:this.model.get("selectedItem").label}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/entities/Items.js' */
define("jira/projects/components/subnavigator/entities/items",["underscore","jira-projects-backbone"],function(a,b){return b.Model.extend({defaults:{itemGroups:[],selectedItem:null},isEmpty:function(){return a.isEmpty(this.getAllItems())},selectItem:function(b){var c=this.getAllItems();this.set("selectedItem",a.find(c,function(a){return a.id===b})||a.first(c))},getAllItems:function(){return a.flatten(this.get("itemGroups"))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/Subnavigator.js' */
define("jira/projects/components/subnavigator/subnavigator","jira/projects/components/subnavigator/views/trigger jira/projects/components/subnavigator/views/title jira/projects/components/subnavigator/views/static-trigger jira/projects/components/subnavigator/views/content jira/projects/components/subnavigator/entities/items jira/projects/libs/marionette jira/util/browser underscore jquery".split(" "),function(d,e,f,g,h,k,l,m,b){return k.Controller.extend({_shouldShow:function(){return!this.model.isEmpty()},
_shouldShowTriggerView:function(){return this.options.changeViewText?1<this.model.getAllItems().length:!0},_sanitizeItems:function(){var a=this.options.itemGroups;return a&&a[0]&&!m.isArray(a[0])?[a]:a},_buildModel:function(){this.model=new h({itemGroups:this._sanitizeItems()});this.model.selectItem(this.options.selectedItem);this.listenTo(this.model,"change:selectedItem",this.show)},_buildTitleView:function(){this.titleView=new e({model:this.model});this.titleView.setElement(b(this.options.titlePlaceholder))},
_buildTriggerView:function(){this.triggerView=this.options.changeViewText?new f({model:this.model,id:this.options.id,label:this.options.changeViewText}):new d({model:this.model,id:this.options.id});this.triggerView.setElement(b(this.options.triggerPlaceholder))},_buildContentView:function(){this.contentView=new g({model:this.model,id:this.options.id,hideSelectedItem:this.options.hideSelectedItem});this.contentView.setElement(b(this.options.contentPlaceholder));this.listenTo(this.contentView,"click",
function(a){this.model.selectItem(a);a=this.model.get("selectedItem");var b=this.triggerPreventable("itemSelected",{item:a}),c=this.triggerView.$el;setTimeout(function(){c&&c.focus()});b.isPrevented||a.link&&l.reloadViaWindowLocation(a.link)}.bind(this))},initialize:function(){this._buildModel();this._shouldShow()&&(this._buildTriggerView(),this._buildContentView(),this.options.titlePlaceholder&&this._buildTitleView())},show:function(){this._shouldShow()&&(this._shouldShowTriggerView()&&(this.triggerView.render(),
this.contentView.render()),this.titleView&&this.titleView.render())},selectItem:function(a){this._shouldShow()&&this.model.selectItem(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:subnavigator', location = '/static/components/subnavigator/Subnavigator-namespaces.js' */
AJS.namespace("JIRA.Projects.Subnavigator",null,require("jira/projects/components/subnavigator/subnavigator"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Content",null,require("jira/projects/components/subnavigator/views/content"));AJS.namespace("JIRA.Projects.Subnavigator.Views.StaticTrigger",null,require("jira/projects/components/subnavigator/views/static-trigger"));AJS.namespace("JIRA.Projects.Subnavigator.Views.Title",null,require("jira/projects/components/subnavigator/views/title"));
AJS.namespace("JIRA.Projects.Subnavigator.Views.Trigger",null,require("jira/projects/components/subnavigator/views/trigger"));AJS.namespace("JIRA.Projects.Subnavigator.Entities.Items",null,require("jira/projects/components/subnavigator/entities/items"));AJS.namespace("JIRA.Projects.Subnavigator.Templates",null,require("jira/projects/components/subnavigator/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'page/projects-api.js' */
define("jira/api/projects",["wrm/data"],function(a){const c=a.claim("project-key"),d=a.claim("project-id"),e=a.claim("project-name"),f=a.claim("project-type");let b=null;return{getCurrentProjectId:function(){return d},getCurrentProjectKey:function(){return c},getCurrentProjectName:function(){return e},getCurrentProjectType:function(){return f},lazilyGetSelectedItemId:function(){null===b?b=a.claim("selected-item-id"):b;return b}}});AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:apis', location = 'js/apis/projects.js' */
define("jira/projectissuenavigator/apis/projects",["jira/api/projects"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-uri', location = 'js/libs/uri.js' */
define("jira/projectissuenavigator/libs/uri",["require"],function(a){return a("atlassian/libs/uri-1.14.1")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-underscore', location = 'js/libs/underscore.js' */
define("jira/projectissuenavigator/libs/underscore",["require"],function(a){return a("jira/components/libs/underscore")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-marionette', location = 'js/libs/marionette.js' */
define("jira/projectissuenavigator/libs/marionette",["require"],function(a){return a("jira/components/libs/marionette-2.1.0")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:libs-ajshelper', location = 'js/libs/ajshelper.js' */
define("jira/projectissuenavigator/libs/ajshelper",[],function(){var a=window.AJS;return{format:a.format.bind(a),trigger:a.trigger.bind(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'probe.js' */
!function(e){"use strict";const t=[],n=()=>t;function r(e){n().unshift({addReporter:e})}function i(e){const t=n();for(;t.length;)e(t.splice(0,1)[0]);t.unshift=e,t.push=e}const o=()=>window,a=()=>o().performance;function s({key:e,entityId:t}){const r=a().now();console.debug("[BM]",e,"Probe.end",{timestamp:r}),n().push({end:{key:e,timestamp:r,entityId:t}})}const c=e=>!e||null==e||"null"===e||"undefined"===e,u=()=>o().document,l=(e,t)=>{var n=u().querySelectorAll(e);return n.length&&(c(t)||Array.prototype.every.call(n,(function(e){return!e.querySelector(t)})))};function f(){this._={}}var d=function(e){var t=e[0],n=e[1];n instanceof f?e.length>=3?Object.keys(n._).forEach((function(r){d([t,n._[r],r].concat(e.slice(2)))})):Object.keys(n._).forEach((function(e){d([t,n._[e],e])})):Array.isArray(n)&&t.apply(null,[n].concat(e.slice(2)))};f.prototype.forEach=function(e){d([e,this])},f.prototype.add=function(){for(var e=this,t=null,n=0;n<arguments.length;n++){if(t=arguments[n],n===arguments.length-1&&Array.isArray(e)){e.push(t);break}n<arguments.length-2&&!e._.hasOwnProperty(t)?e._[t]=new f:n!==arguments.length-2||e._.hasOwnProperty(t)||(e._[t]=[]),e=e._[t]}};var h=function(e,t){if(0!==e.length){var n=e.pop(),r=n[0],i=n[1];r===t?h(e,r):i._.hasOwnProperty(t)&&delete i._[t],0===Object.keys(i).length&&h(e,r)}};let y;f.prototype.remove=function(){for(var e,t=!1,n=null,r=this,i=[[n,r]],o=null,a=0;a<arguments.length;a++)if(o=arguments[a],Array.isArray(r))(e=r.indexOf(o))>-1&&(r.splice(e,1),0===r.length&&i.length>1&&h(i,n),t=!0);else{if(!r._.hasOwnProperty(o))break;a===arguments.length-1&&(delete r._[o],0===Object.keys(r).length&&i.length>1&&h(i,n),t=!0),n=o,r=r._[o],i.push([n,r])}return t},f.prototype.get=function(e){return this._.hasOwnProperty(e)?this._[e]:[]};function p(e,t){var n;e.forEach||(e=[e]),!c(t)&&Array.isArray(t)&&(t=t.join(", "));var r=new Promise((function(r,i){var a=[],s=[];e.forEach((function(e){var n;l(e,t)||(n=new Promise((function(n){const r=(()=>{if(y)return y;var e,t,n=o().MutationObserver,r=!1;return t=new f,e=new n((function(){t.forEach((function(e,n,r){l(r,n)&&(e.forEach((function(e){e()})),t.remove(r,n))}))})),y={addTarget:function(n,i,o){return r||(e.observe(u(),{attributes:!0,childList:!0,subtree:!0}),r=!0),t.add(n,i,o),()=>{t.remove(n,i,o)}}},y})().addTarget(e,t,n);s.push(r)})),a.push(n))}));var c=function(){s.forEach((function(e){e()}))};Promise.all(a).then(c).then(r,i),n=function(){c(),i()}}));return r.dismiss=n,r}var m,b="visibilitychange",v="animationend",w="browser-metrics-visibility-test",g="browser-metrics-visibility-animation",k=function(){var e=u().createElement("style"),t=["."+w+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+g+";","animation-name: "+g+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+g+" {}","@-webkit-keyframes "+g+" {","from {}","to {}","}"].join("\n");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(u().createTextNode(t)),u().head.appendChild(e),k=function(){}};function P(){if(m)return m;var e,t,n=!1;function r(){u().body.classList.remove(w),u().removeEventListener(b,t),u().removeEventListener(v,e),m=null}return(m=new Promise((function(r,i){"visible"!==u().visibilityState?i():(t=function(){n=!0},e=function(e){e.animationName===g&&(n?i():r())},u().addEventListener(b,t),u().addEventListener(v,e),k(),u().body.classList.add(w))}))).then(r,r),m}function _(e){var t,n;return t=e,(Array.isArray(t)||"string"==typeof t)&&(e={rules:e}),e.rules=(n=e.rules,Array.isArray(n)||(n=[n]),n.map((function(e){return"string"==typeof e?{selector:e,hasNone:null}:e}))),e.requirePaint=void 0!==e.requirePaint&&e.requirePaint,e}const A=u();let E=!1;switch(A.readyState){case"interactive":case"complete":E=!0;break;default:A.addEventListener("DOMContentLoaded",(()=>{o().setTimeout((()=>E=!0))}),{once:!0})}let O;function M(){O=null}function L(e){var t;const r="isInitial"in e?e.isInitial:!1===E,i="threshold"in e?e.threshold:1e3,o="reporters"in e?e.reporters:[],c=r?0:a().now(),u=null!==(t=e.timeout)&&void 0!==t?t:6e4;console.debug("[BM]",e.key,"Probe.start",{timestamp:c}),n().push({start:{key:e.key,isInitial:r,threshold:i,timestamp:c,reporters:Array.isArray(o)?o:[o],entityId:e.entityId,waitForMarks:e.waitForMarks,timeout:u}}),O&&(O.cancel(),M()),e.ready&&(O=function(e,t){e=_(e);var n=function(){},r=new Promise((function(t,r){var i=[],o=e.rules.map((function(e){var t=new p(e.selector,e.hasNone);return i.push((function(){t.dismiss()})),t}));n=function(){i.forEach((function(e){e()})),r()},Promise.all(o).then((function(e){})).then(t,r)}));return r.cancel=n,e.requirePaint&&(r=r.then(P)),"function"==typeof t&&r.then(t),r}(e.ready),O.then((function(){console.debug("[BM]",e.key,"Probe.end invoked by ready"),s({key:e.key})})).then(M,M))}function j(e){console.debug("[BM]","Probe.subscribe",e.name),n().push({subscribe:e})}window.define&&window.define("internal/browser-metrics",(function(){return{start:L,end:s,addReporter:r,delegateTo:i,subscribe:j}})),console.debug("[BM]","Probe loaded"),e.addReporter=r,e.delegateTo=i,e.end=s,e.start=L,e.subscribe=j,Object.defineProperty(e,"__esModule",{value:!0})}(this["browser-metrics"]=this["browser-metrics"]||{});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'browser-metrics-aa-beacon/browser-metrics-aa-beacon.js' */
!function(e){"use strict";const n=[],t=[];let r;const s=e=>{t.push(e)},a=e=>t.reduce(((n,t)=>{const r=t(e);return r.length>n.length?r:n}),""),o=e=>{n.push(e)},c=e=>{r=e},i=e=>{const t={};n.forEach((n=>{const r=n(e);"object"==typeof r&&Object.assign(t,r)}));const s={name:"browser.metrics.navigation",properties:t};(r||AJS.EventQueue).push(s),console.debug("[BM-AA] ","AJS Event pushed",s)};window.define&&window.define("internal/browser-metrics-aa-beacon",(function(){return{beacon:i,setEventQueue:c,addReportMarshaller:o,cleanUrl:a,addUrlCleaner:s}})),e.addReportMarshaller=o,e.addUrlCleaner=s,e.beacon=i,e.cleanUrl=a,e.setEventQueue=c,Object.defineProperty(e,"__esModule",{value:!0})}(this["browser-metrics-aa-beacon"]=this["browser-metrics-aa-beacon"]||{});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'loader.js' */
!function(){"use strict";let r=window;const n=r.WRM;let i=0,l=0,t=null;function e(){i===l&&t&&(t(),t=null)}const c={install(r){i+=1,r((()=>{l+=1,e()}))}};r["browser-metrics-plugin"]=c,n.require(["wrc!browser-metrics-plugin.contrib"],(()=>{r.require(["internal/browser-metrics-plugin/collector"],(r=>{t=()=>{r.install()},e()}))}))}();

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:metrics', location = 'content/js/util/metrics.js' */
define("jira/issues/navigator/metrics",["internal/browser-metrics"],function(d){function e(a,b){a=document.querySelectorAll(a);for(let c=0;c<a.length;c++)a[c].classList.add(b)}let b=!1;return{notifyIssueView:function(a){(a=!!a)||e(".issue-body-content:not(.browser-metrics-stale)","browser-metrics-stale");d.start({isInitial:a,key:"jira.issue.view",ready:[{selector:"#key-val",requireUpdate:!1},{selector:".issue-body-content:not(.browser-metrics-stale)",requireUpdate:!1}],waitForMarks:["activityTabFullyLoaded"]})},
notifyIssueNavList:function(a){a=!!a;if(window.location.search.includes("filter\x3d"))if(a)b=!0;else if(b){b=!1;return}a||e("#issuetable:not(.browser-metrics-stale), .error:not(.browser-metrics-stale), .no-results-hint:not(.browser-metrics-stale), #errorPageContainer:not(.browser-metrics-stale)","browser-metrics-stale");d.start({key:"jira.issue.nav-list",ready:[{selector:".navigator-content",requireUpdate:!1},{selector:"#issuetable:not(.browser-metrics-stale), .error:not(.browser-metrics-stale), .no-results-hint:not(.browser-metrics-stale), #errorPageContainer:not(.browser-metrics-stale)",
requireUpdate:!1}],isInitial:a})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'templates/issuesearch.soy' */
// This file was automatically generated from issuesearch.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Issues.Projects.IssueSearch.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Issues == 'undefined') { JIRA.Issues = {}; }
if (typeof JIRA.Issues.Projects == 'undefined') { JIRA.Issues.Projects = {}; }
if (typeof JIRA.Issues.Projects.IssueSearch == 'undefined') { JIRA.Issues.Projects.IssueSearch = {}; }
if (typeof JIRA.Issues.Projects.IssueSearch.Templates == 'undefined') { JIRA.Issues.Projects.IssueSearch.Templates = {}; }


JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState = function(opt_data, opt_ignored) {
  return '<div class="no-results no-results-message"><h2>' + soy.$$escapeHtml('\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e') + '</h2><p class="no-results-hint">' + soy.$$escapeHtml('\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443 \u043d\u0438\u0436\u0435') + '</p></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.defaultEmptyState';
}


JIRA.Issues.Projects.IssueSearch.Templates.emptyState = function(opt_data, opt_ignored) {
  return '<div><div class="navigator-content empty-results">' + soy.$$filterNoAutoescape(opt_data.content) + '<div class="inline-issue-create-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.emptyState.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.emptyState';
}


JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag = function(opt_data, opt_ignored) {
  var output = '';
  var link__soy14 = '<a class="issue-created-key issue-link" data-issue-key="' + opt_data.issueKey + '" href="' + "" + '/projects/' + opt_data.projectKey + '/issues/' + opt_data.issueKey + '">' + opt_data.issueKey + ' - ' + opt_data.summary + '</a>';
  output += AJS.format('{0} {1} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d.','\u0417\u0430\u043f\u0440\u043e\u0441',link__soy14);
  return output;
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.issueCreatedFlag';
}


JIRA.Issues.Projects.IssueSearch.Templates.issueSearch = function(opt_data, opt_ignored) {
  return '<div class="issue-search"><header class="aui-page-header issue-search-header"><div class="aui-page-header-inner"><div class="aui-group aui-group-split"><div class="aui-item subnavigation"><h1><span id="issues-subnavigation-title" class="subnavigator-title"></span><span id="issues-subnavigation-trigger"></span></h1><span id="issues-subnavigation-content"></span></div><div class="aui-item"><div id="full-issue-navigator"><a href="' + soy.$$escapeHtml("") + '/issues/">' + soy.$$escapeHtml('\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b') + '</a></div></div></div></div></header><div class="details-layout"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueSearch.Templates.issueSearch.soyTemplateName = 'JIRA.Issues.Projects.IssueSearch.Templates.issueSearch';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'templates/issueview.soy' */
// This file was automatically generated from issueview.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Issues.Projects.IssueView.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Issues == 'undefined') { JIRA.Issues = {}; }
if (typeof JIRA.Issues.Projects == 'undefined') { JIRA.Issues.Projects = {}; }
if (typeof JIRA.Issues.Projects.IssueView == 'undefined') { JIRA.Issues.Projects.IssueView = {}; }
if (typeof JIRA.Issues.Projects.IssueView.Templates == 'undefined') { JIRA.Issues.Projects.IssueView.Templates = {}; }


JIRA.Issues.Projects.IssueView.Templates.issueView = function(opt_data, opt_ignored) {
  return '<div class="issue-view"><div class="navigation-tools"><div class="pager-container"></div><div class="collapse-container"></div></div><div class="issue-container">' + ((opt_data.serverRenderedViewIssue) ? JIRA.Components.IssueViewer.Templates.layout(opt_data) : '') + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueView.Templates.issueView.soyTemplateName = 'JIRA.Issues.Projects.IssueView.Templates.issueView';
}


JIRA.Issues.Projects.IssueView.Templates.issueCollapse = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<button title="' + soy.$$escapeHtml(AJS.format('\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 ( {0} )',opt_data.collapseShortcutKey ? opt_data.collapseShortcutKey : '')) + '" class="aui-button aui-button-subtle collapse"><span class="aui-icon aui-icon-small aui-iconfont-unfocus">' + soy.$$escapeHtml(AJS.format('\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 ( {0} )',opt_data.collapseShortcutKey ? opt_data.collapseShortcutKey : '')) + '</span></button>';
};
if (goog.DEBUG) {
  JIRA.Issues.Projects.IssueView.Templates.issueCollapse.soyTemplateName = 'JIRA.Issues.Projects.IssueView.Templates.issueCollapse';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/ProjectIssueNavigator.js' */
define("jira/projectissuenavigator",["require"],function(c){var f=c("jira/projectissuenavigator/libs/underscore"),d=c("jira/projectissuenavigator/services/analytics"),h=c("jira/projectissuenavigator/services/api"),k=c("jira/projectissuenavigator/services/filters"),n=c("jira/projectissuenavigator/services/dialogscleaner"),q=c("jira/projectissuenavigator/pages/issuesearch"),r=c("jira/projectissuenavigator/pages/issueview"),l=c("jquery"),t=c("jira/projectissuenavigator/libs/marionette"),e=c("jira/projectissuenavigator/services/metrics"),
u=c("jira/projectissuenavigator/services/router"),p=c("jira/projectissuenavigator/entities/navigatorstate"),g=c("jira/projectissuenavigator/services/traces"),v=c("jira/projectissuenavigator/services/jiraevents"),m=c("wrm/data"),w=c("jira/components/search"),x=c("jira/projectissuenavigator/services/keyboardshortcuts"),y=c("jira/projectissuenavigator/services/urlhelper"),z=c("jira/projectissuenavigator/services/browser");return t.Object.extend({_initializedFromPageLoad:!0,initialize:function(a){a=f.defaults({},
a,{el:l("\x3cdiv\x3e\x3c/div\x3e"),canCreateIssues:!1,emptyViewContent:""});this.el=a.el;this.canCreateIssues=a.canCreateIssues;this.emptyViewContent=a.emptyViewContent},_buildSearch:function(){this.searchService=new w;var a=m.claim("com.atlassian.jira.jira-issue-navigator-components:search-data");if(a){a=this.searchService.setPreloadedData(a);var b=m.claim("com.atlassian.jira.jira-issue-navigator-components:search-results");b&&a.setPreloadedData(b);this.state.set("searchResults",a)}},_buildIssueView:function(){this.issueView=
new r({state:this.state,search:this.searchService,showCollapse:this.state.has("filter")});this.listenTo(this.issueView,{collapse:function(a){e.startIssueSearch();d.collapseIssue({source:a});this._showIssueSearch()},linkToIssue:function(){e.startIssueView()},"issueDelete issueArchive":function(a){e.startIssueSearch();var b=this.state.get("searchResults");b?(a=b.get(a.issueId),b.removeAndUpdateSelectionIfNeeded(a).done(function(){b.selected&&this.state.set("issue",b.selected.get("key"));this._destroyIssueView();
this._showIssueSearch()}.bind(this))):(this._destroyIssueView(),this._showIssueSearch())},updateUrl:function(a){this.router.updateURL({project:this.state.get("project"),issue:a.issueKey,filter:this.state.get("filter"),orderby:this.state.get("orderby"),replaceHistory:this._initializedFromPageLoad,keepParameters:this._initializedFromPageLoad,isIssueView:!0});this._initializedFromPageLoad=!1},editorFieldsLoaded:this._notifyIssueViewEditorFieldsLoaded.bind(this),loadError:function(a){a=a||[];this.jiraEvents.triggerRefreshIssuePage(a.issueId)},
individualPanelRendered:function(a){this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(a)},viewRendered:function(a,b){this.jiraEvents.triggerNewContentAddedFromPageLoad(a);this.jiraEvents.triggerRefreshToggleBlocks(b)},panelRendered:function(a,b,c){this.jiraEvents.triggerPanelRefreshed(a,b,c)}})},_buildKeyboardShortuts:function(){var a=new x;this.listenTo(a,{focusIssueList:function(){this.issueSearch&&this.issueSearch.focusIssueList()},focusIssueEditor:function(){this.issueSearch?this.issueSearch.focusIssueEditor():
this.issueView&&this.issueView.focusIssueEditor()}})},_notifyIssueViewEditorLoadedAndInThePage:function(a){a=a||{};this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(this.issueView.el);a.existingMarkup||this.jiraEvents.triggerRefreshIssuePage(this.issueView.getIssueId());g.traceEditorLoaded();d.triggerProjectNavViewIssue({issueId:this.issueView.getIssueId(),issueKey:this.issueView.getIssueKey(),projectId:this.issueView.getProjectId(),projectKey:this.issueView.getProjectKey(),projectType:this.issueView.getProjectType()});
e.endIssueView(this.issueView.getIssueId())},_notifyIssueViewEditorFieldsLoaded:function(){g.traceEditorFieldsLoaded()},_notifyIssueSearchEditorLoadedAndInThePage:function(a){a=a||{};this.jiraEvents.triggerNewContentAddedFromPanelRefreshed(this.issueSearch.el);a.issueRefreshedEvent||this.jiraEvents.triggerRefreshIssuePage(this.issueSearch.getIssueId());d.triggerProjectNavViewIssue({issueId:this.issueSearch.getIssueId(),issueKey:this.issueSearch.getIssueKey(),projectId:this.issueSearch.getProjectId(),
projectKey:this.issueSearch.getProjectKey(),projectType:this.issueSearch.getProjectType()});g.traceEditorLoaded()},_showIssueView:function(a){function b(a){this.listenTo(this.issueView,{editorLoaded:this._notifyIssueViewEditorLoadedAndInThePage.bind(this)});a=f.defaults({},a,{existingMarkup:!1});this._notifyIssueViewEditorLoadedAndInThePage(a);this.issueView.adjustSize();this.issueView.focusIssueEditor()}this._buildIssueView();h.useImplementation(this._getAPIImplementation(this.issueView));!0===a.existingMarkup?
(this.issueView.attach(this.el.find(".issue-view")),this.issueView.loadFromPage(a.issueKey).always(function(){b.call(this,{existingMarkup:!0})}.bind(this))):(this.issueView.render(),this.issueView.load(a.issueKey).always(function(){this._activateIssueViewPage();b.call(this,{existingMarkup:!1})}.bind(this)))},_destroyIssueView:function(){this.issueView&&(this.issueView.destroy(),this.stopListening(this.issueView),delete this.issueView)},_buildIssueSearch:function(){this.issueSearch=new q({canCreateIssues:this.canCreateIssues,
emptyViewContent:this.emptyViewContent,state:this.state,search:this.searchService});this.listenTo(this.issueSearch,{linkToIssue:function(a){e.startIssueView();this.state.unset("searchResults");this.state.unset("filter");this._showIssueView({issueKey:a.issueKey})},expand:function(a){e.startIssueView();d.expandIssue({source:a});this._stateBeforeExpand=new p({filter:this.state.get("filter"),searchResults:this.state.get("searchResults"),issue:this.state.get("issue")});this._showIssueView({issueKey:this.issueSearch.getIssueKey()})},
filterSelected:function(a){d.filterSelect(a)},goToFullIssueNavigator:function(){d.goToFullIssueNavigator()},issueSelectedInList:function(a){d.issueSelectedInList(a)},manageFilters:function(){d.manageFilters()},"list:update":function(){g.traceListLoaded()},editorLoaded:function(a){this._notifyIssueSearchEditorLoadedAndInThePage(a)},editorFieldsLoaded:function(){this._notifyIssueViewEditorFieldsLoaded()},editorError:function(){g.traceEditorError()},"pager:next":function(a){d.pager("next",a)},"pager:previous":function(a){d.pager("previous",
a)},"issue:select issue:empty":function(){this.router.updateURL({project:this.state.get("project"),issue:this.state.get("issue"),filter:this.state.get("filter"),orderby:this.state.get("orderby"),replaceHistory:this._initializedFromPageLoad});this._initializedFromPageLoad=!1},"editor:saveSuccess":function(a){d.editorFieldSaved(a)},"editor:editField":function(a){d.editFieldStarted(a)},"editor:editFieldCancel":function(a){d.editFieldCancelled(a)}})},_activateIssueSearchPage:function(){this._destroyIssueView();
this._activatePage(this.issueSearch)},_activateIssueViewPage:function(){this._destroyIssueSearch();this._activatePage(this.issueView)},_showIssueSearch:function(a){a=a||{};this.issueSearch||(this._buildIssueSearch(),this._activateIssueSearchPage(),h.useImplementation(this._getAPIImplementation(this.issueSearch)),this.issueSearch.show());this.state.has("searchResults")?this.issueSearch.load():this._stateBeforeExpand?(this.state.set({searchResults:this._stateBeforeExpand.get("searchResults"),issue:this._stateBeforeExpand.get("issue"),
filter:this._stateBeforeExpand.get("filter")}),delete this._stateBeforeExpand,this.issueSearch.load()):this.issueSearch.search({filter:a.filter||k.getDefaultFilterId(),issue:a.issue||null,orderby:a.orderby||null,startIndex:a.startIndex||null})},_destroyIssueSearch:function(){this.issueSearch&&(this.issueSearch.destroy(),this.stopListening(this.issueSearch),delete this.issueSearch)},_activatePage:function(a){this.el.find(".content").empty().append(a.el)},_scrollToAnchor:function(){var a=y.getAnchor();
z.scrollIntoView(a)},_buildRouter:function(){this.router=new u;this.listenTo(this.router,{"route:browse:initial":function(a){e.startIssueViewFromPageLoad();this.state.update(a);this._showIssueView({existingMarkup:m.claim("com.atlassian.jira.jira-projects-issue-navigator:server-rendered"),issueKey:a.issue});this._scrollToAnchor()},"route:browse":function(a){e.startIssueView();a.filter||this.state.unset("searchResults");this.state.update(a);this._showIssueView({existingMarkup:!1,issueKey:a.issue});
n.clean();this._scrollToAnchor()},"route:issues:initial":function(a){e.startIssueSearchFromPageLoad();a.filter=k.sanitiseFilter(a.filter);this.state.update(a);this._showIssueSearch(a);d.filterSelect({filterId:a.filter,source:"url"})},"route:issues":function(a){e.startIssueSearch();this.state.unset("searchResults");a.filter=k.sanitiseFilter(a.filter);this.state.update(a);this._showIssueSearch(a);d.filterSelect({filterId:a.filter,source:"url"});n.clean()}})},_getAPIImplementation:function(a){var b=
this;return f.extend({},h.getDefaultImplementation(),a.getAPIImplementation(),{viewSelectedIssue:function(){b.issueView||(e.startIssueView(),b.state.unset("searchResults"),b.state.unset("filter"),b._showIssueView({issueKey:b.issueSearch.getIssueKey()}))},returnToSearch:function(){b.issueSearch||(e.startIssueSearch(),b._showIssueSearch({issue:b.state.get("issue")}))},isFullScreenIssueVisible:function(){return!!b.issueView},isQueryValid:function(){return!0}})},start:function(){l(document.body).addClass("page-type-split page-issue-navigator page-type-navigator");
this._buildRouter();this.state=new p;this.jiraEvents=new v;this._buildSearch();this._buildKeyboardShortuts();k.initialize();h.init();this.router.start();var a;l(window).on("scroll resize",f.bind(function(){a||(a=requestAnimationFrame(f.bind(function(){this.adjustSize();a=null},this)))},this));this.adjustSize()},adjustSize:function(){this.issueView&&this.issueView.adjustSize();this.issueSearch&&this.issueSearch.adjustSize()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Analytics.js' */
define("jira/projectissuenavigator/services/analytics",function(){var b=require("jira/projectissuenavigator/libs/ajshelper");return{filterSelect:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.filter.select",data:{filterId:a.filterId,source:a.source}})},goToFullIssueNavigator:function(){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.load.full.issue.nav"})},expandIssue:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.expand",data:{source:a.source}})},
collapseIssue:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.collapse",data:{source:a.source}})},issueSelectedInList:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.select.issue",data:{issueKey:a.key,source:"list",sameProject:!0}})},triggerProjectNavViewIssue:function(a){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.view.issue",data:{issueId:a.issueId,projectId:a.projectId,projectType:a.projectType,issueMatchesProjectContext:null==
a.issueKey?!1:0===a.issueKey.indexOf(a.projectKey+"-")}})},manageFilters:function(){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.filter.manage"})},pager:function(a,c){b.trigger("analyticsEvent",{name:"jira.project.sidebar.issue.pager",data:{current:c.current,total:c.total,direction:a}})},editorFieldSaved:function(a){b.trigger("analyticsEvent",{name:"kickass.inlineEdit",data:{issueId:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,source:"jira.projectissuenav.global"}})},
editFieldStarted:function(a){b.trigger("analyticsEvent",{name:"kickass.inlineEdit.start",data:{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.projectissuenav.global"}})},editFieldCancelled:function(a){b.trigger("analyticsEvent",{name:"kickass.inlineEdit.cancel",data:{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.projectissuenav.global"}})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/API.js' */
define("jira/projectissuenavigator/services/api",["require"],function(a){function e(b){var a={};b.forEach(function(b){a[b]=function(){return c[b].apply(c,arguments)}});return a}function f(b){AJS.namespace("JIRA.Issues.Api",null,{viewSelectedIssue:function(){b.viewSelectedIssue()},nextIssue:function(){b.nextIssue()},returnToSearch:function(){b.returnToSearch()},focusSearch:function(){b.focusSearch()},toggleFilterPanel:function(){b.toggleFilterPanel()},isQueryValid:function(){return b.isQueryValid()},
isFullScreenIssueVisible:function(){return b.isFullScreenIssueVisible()},switchLayouts:function(){b.switchLayouts()},openFocusShifter:function(){b.openFocusShifter()},waitForSavesToComplete:function(){b.waitForSavesToComplete()},prevIssue:function(){b.previousIssue()},getSelectedIssueId:function(){return b.getActiveIssueId()},getSelectedIssueKey:function(){return b.getActiveIssueKey()},refreshSelectedIssue:function(){return b.refreshActiveIssue()},editFieldOnSelectedIssue:function(a){return b.editField(a)},
getFieldsOnSelectedIssue:function(){return b.getFields()},hasSavesInProgress:function(){return b.isSaving()},isCurrentlyLoadingIssue:function(){return b.isLoading()},isSelectedIssueAccessible:function(){return b.hasAccessibleIssue()},issueIsVisible:function(){return b.hasAccessibleIssue()},showInlineIssueLoadError:function(){return b.showLoadError()},updateIssue:function(a){a=a||{};return b.refreshIssue(a.id)},toggleFullscreenIssue:function(){b.toggleFullscreenIssue()}})}var g=a("jira/projectissuenavigator/libs/underscore");
a=function(){};var d={nextIssue:a,previousIssue:a,getActiveIssueId:a,getActiveIssueKey:a,refreshActiveIssue:a,refreshIssue:a,editField:a,getFields:a,isSaving:a,isLoading:a,hasAccessibleIssue:a,showLoadError:a,waitForSavesToComplete:a,viewSelectedIssue:a,returnToSearch:a,focusSearch:a,toggleFilterPanel:a,isQueryValid:a,isFullScreenIssueVisible:a,switchLayouts:a,openFocusShifter:a,toggleFullscreenIssue:a},c=d;return{getDefaultImplementation:function(){return g.clone(d)},init:function(){var a=e("nextIssue previousIssue getActiveIssueId getActiveIssueKey refreshActiveIssue refreshIssue editField getFields isSaving isLoading hasAccessibleIssue showLoadError waitForSavesToComplete viewSelectedIssue returnToSearch focusSearch toggleFilterPanel isQueryValid isFullScreenIssueVisible switchLayouts openFocusShifter toggleFullscreenIssue".split(" "),
c);f(a);AJS.namespace("JIRA.API.IssueSearch",null,a)},useImplementation:function(a){c=a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Browser.js' */
define("jira/projectissuenavigator/services/browser",function(){return{getCurrentUrl:function(){return document.location.href},hasPushState:function(){return!(!window.history||!window.history.pushState)},locationReplace:function(a){return window.location.replace(a)},locationAssign:function(a){return window.location.assign(a)},getDocument:function(){return document},scrollIntoView:function(a){(a=document.getElementById(a))&&a.scrollIntoView()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Filters.js' */
define("jira/projectissuenavigator/services/filters",["require"],function(c){var l=c("wrm/context-path")(),a=c("jira/projectissuenavigator/libs/underscore"),d=c("wrm/data"),m=c("jira/projectissuenavigator/libs/ajshelper"),n=c("jira/projectissuenavigator/apis/projects"),e,f,g,h,k;return{initialize:function(){e=d.claim("com.atlassian.jira.jira-projects-issue-navigator:generic-filters")||[];f=d.claim("com.atlassian.jira.jira-projects-issue-navigator:project-filters")||[];g=d.claim("com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters");
k=d.claim("com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority")||[this.getAllIssuesFilterId()];h=n.getCurrentProjectId()},getExtraLinks:function(){return[{id:"manage",label:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c\u0438",link:l+"/secure/ManageFilters.jspa?searchShareType\x3dproject\x26projectShare\x3d"+h+"\x26Search\x3dSearch\x26filterView\x3dsearch"}]},getAvailableFilters:function(b){var a=[];e&&e.length&&a.push(e);f&&f.length&&(a.push(f),b&&g&&a.push(this.getExtraLinks()));
return a},getDefaultFilterId:function(){return a.find(k,a.bind(function(b){return!!a.findWhere(a.flatten(this.getAvailableFilters()),{id:b})},this))},getJQL:function(b,c,d){if(b=a.findWhere(a.flatten(this.getAvailableFilters()),{id:b}))return m.format(b.jql,c,d||b.defaultOrderby)},getAllIssuesFilterId:function(){return"allissues"},sanitiseFilter:function(b){return a.some(a.flatten(this.getAvailableFilters()),function(a){return a.id===b})?b:this.getDefaultFilterId()},filterSupportsInlineIssueCreate:function(b){b=
a.indexBy(a.flatten(this.getAvailableFilters(!1)),"id")[b];return!(!b||!b.supportsInlineIssueCreate)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/DialogsOverrider.js' */
define("jira/projectissuenavigator/services/dialogsoverrider",["require"],function(e){function k(b){return function(){var d=g.current;b.trigger("quickEdit",{issueId:d.issueId,issueKey:d.issueKey,message:d.options.issueMsg||"thanks_issue_updated"})}}function l(b){return function(){var d=g.current;b.trigger("quickCreateSubtask",{issueId:d.issueId,issueKey:d.issueKey,message:d.options.issueMsg||"thanks_issue_updated"})}}function m(b){return"boolean"===typeof b.isIssueDialog&&b.isIssueDialog||h.isFunction(b.isIssueDialog)&&
b.isIssueDialog()}function n(b,d,c){return function(e,f,a){a&&(a.issueId=d(a),a.issueKey=c(a),m(a)&&"clone-issue-dialog"!==a.options.id&&(a._performRedirect=function(){this.redirected=!1},a.options.onDialogFinished=function(){a.hide();b.trigger("delete-issue-dialog"===a.options.id?"issueDelete":"archive-issue-dialog"===a.options.id?"issueArchive":"restore-issue-dialog"===a.options.id?"issueRestore":"issueUpdate",{issueId:a.issueId,issueKey:a.issueKey,message:a.options.issueMsg||"thanks_issue_updated"})}))}}
function p(){return function(){h("body").css("overflow","")}}var g=e("jira/dialog/dialog-stack"),c=e("jira/util/events"),q=e("jira/dialog/form-dialog"),h=e("jquery"),f=e("jira/dialog/labels-dialog");return e("jira/projectissuenavigator/libs/marionette").Object.extend({_overrideLabelsDialogSubmitResponse:function(){this.oldLabelsDialogSubmitReponse=f.prototype._handleSubmitResponse;f.prototype._handleSubmitResponse=function(){return q.prototype._handleSubmitResponse.apply(this,arguments)};this.currentLabelsDialogSubmitResponse=
f.prototype._handleSubmitResponse},_restoreLabelsDialogSubmitResponse:function(){f.prototype._handleSubmitResponse===this.currentLabelsDialogSubmitResponse&&(f.prototype._handleSubmitResponse=this.oldLabelsDialogSubmitReponse)},initialize:function(b){this._overrideLabelsDialogSubmitResponse();this.handlerDialogShow=n(this,b.getIssueId,b.getIssueKey);this.handlerDialogHide=p(this,b.getIssueId,b.getIssueKey);c.bind("Dialog.show",this.handlerDialogShow);c.bind("Dialog.hide",this.handlerDialogHide);this.handlerQuickEditSuccess=
k(this);c.bind("QuickEdit.sessionComplete",this.handlerQuickEditSuccess);this.handlerQuickCreateSubtaskSuccess=l(this);c.bind("QuickCreateSubtask.sessionComplete",this.handlerQuickCreateSubtaskSuccess)},destroy:function(){this._restoreLabelsDialogSubmitResponse();c.unbind("Dialog.show",this.handlerDialogShow);c.unbind("Dialog.hide",this.handlerDialogHide);c.unbind("QuickEdit.sessionComplete",this.handlerQuickEditSuccess);c.unbind("QuickCreateSubtask.sessionComplete",this.handlerQuickCreateSubtaskSuccess)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/DialogsCleaner.js' */
define("jira/projectissuenavigator/services/dialogscleaner",["require"],function(b){var a=b("jira/dialog/dialog-stack");return{clean:function(){a.current&&a.current.hide()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/FocusShifter.js' */
define("jira/projectissuenavigator/services/focusshifter",["require"],function(b){function d(a){return e.chain(a.models).filter(function(a){return"comment"!==a.id&&a.isEditable()}).map(function(a){return{label:a.getLabel(),value:a.id}}).value()}function f(a){return function(){var b=a.getFields(),c=b?d(b):[];return{id:"edit-fields",name:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044f",context:a.getIssueKey(),weight:100,getSuggestions:function(){return(new g.Deferred).resolve(c)},onSelection:function(b){b=
a.getFields().get(b);a.editField(b)}}}}var h=b("jira/projectissuenavigator/libs/marionette"),g=b("jquery"),e=b("jira/projectissuenavigator/libs/underscore"),c=b("jira/shifter");return h.Object.extend({initialize:function(a){this.provider=f(a);c.register(this.provider)},onDestroy:function(){c.unregister(this.provider)},show:function(){c.show()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/InlineIssueCreate.js' */
define("jira/projectissuenavigator/services/inline-issue-create",["require"],function(a){return a("jira/components/inline-issue-create")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/JiraEvents.js' */
define("jira/projectissuenavigator/services/jiraevents",["require"],function(b){var g=b("jira/util/events"),c=b("jira/util/events/types"),e=b("jira/components/issueviewer/eventtypes"),f=b("jira/util/events/reasons"),d=b("jquery");return b("jira/projectissuenavigator/libs/marionette").Object.extend({initialize:function(){this.deferredEvents=[];this.isDeferring=!0;d(function(){setTimeout(this._drainDeferredEvents.bind(this),0)}.bind(this))},triggerNewContentAddedFromPanelRefreshed:function(a){this.trigger(c.NEW_CONTENT_ADDED,
[d(a),f.panelRefreshed])},triggerRefreshIssuePage:function(a){this.trigger(e.ISSUE_REFRESHED,[a])},triggerNewContentAddedFromPageLoad:function(a){this.trigger(c.NEW_CONTENT_ADDED,[d(a),f.pageLoad])},triggerRefreshToggleBlocks:function(a){this.trigger(c.REFRESH_TOGGLE_BLOCKS,[a])},triggerPanelRefreshed:function(a,b,c){this.trigger(e.PANEL_REFRESHED,[a,b,c])},_drainDeferredEvents:function(){this.isDeferring=!1;this.deferredEvents.forEach(function(a){this.trigger(a[0],a[1])}.bind(this));this.deferredEvents.length=
0},trigger:function(a,b){this.isDeferring?this.deferredEvents.push([a,b]):g.trigger(a,b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/KeyboardShortcuts.js' */
define("jira/projectissuenavigator/services/keyboardshortcuts",["require"],function(a){function d(c){if(!(f.areKeyboardShortcutsDisabled()||0<b(e.getDocument()).find("div.aui-blanket").length||c.which!==b.ui.keyCode.LEFT&&c.which!==b.ui.keyCode.RIGHT)){var a=b(c.target),d=a.is(":not(:input)");if(null==a||d)c.which===b.ui.keyCode.LEFT?this.trigger("focusIssueList"):c.which===b.ui.keyCode.RIGHT&&this.trigger("focusIssueEditor")}}var e=a("jira/projectissuenavigator/services/browser"),b=a("jquery"),f=
a("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle");return a("jira/projectissuenavigator/libs/marionette").Object.extend({initialize:function(){b(e.getDocument()).on("keydown",d.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/LinksCapturer.js' */
define("jira/projectissuenavigator/services/linkscapturer",["require"],function(a){var b=a("jquery"),c=a("jira/projectissuenavigator/libs/underscore");return a("jira/projectissuenavigator/libs/marionette").Object.extend({initialize:function(a){a=a||{};this.el=b(a.el);this.linkHandler=c.bind(function(){this.trigger("linkToFullIssueNavigator")},this);this.linkToFullIssueNavigator()},linkToFullIssueNavigator:function(){this.el.on("click","#full-issue-navigator",this.linkHandler)},destroy:function(){this.el.off("click",
"#full-issue-navigator",this.linkHandler)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Metrics.js' */
define("jira/projectissuenavigator/services/metrics",["require"],function(c){var a=c("internal/browser-metrics");return{startIssueView:function(){a.start({key:"jira.project.issue.view-issue",isInitial:!1,waitForMarks:["activityTabFullyLoaded"]})},startIssueSearch:function(){a.start({key:"jira.project.issue.nav-detail",isInitial:!1,waitForMarks:["activityTabFullyLoaded"]})},startIssueViewFromPageLoad:function(){a.start({key:"jira.project.issue.view-issue",isInitial:!0,ready:[{selector:"#key-val",requireUpdate:!1},
".issue-body-content"],waitForMarks:["activityTabFullyLoaded"]})},startIssueSearchFromPageLoad:function(){a.start({key:"jira.project.issue.nav-detail",isInitial:!0,waitForMarks:["activityTabFullyLoaded"]})},endIssueView:function(b){a.end({key:"jira.project.issue.view-issue",entityId:b})},endIssueSearch:function(b){a.end({key:"jira.project.issue.nav-detail",entityId:b})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Notifications.js' */
define("jira/projectissuenavigator/services/notifications",["require"],function(a){var d=a("jira/message"),e=a("jira/projectissuenavigator/libs/ajshelper"),f={thanks_issue_updated:"{0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_transitioned:"{0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_assigned:"{0} \u0431\u044b\u043b \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d.",thanks_issue_commented:"{0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d \u0441 \u0412\u0430\u0448\u0438\u043c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u043c.",thanks_issue_worklogged:"\u0421\u0434\u0435\u043b\u0430\u043d\u0430 \u043e\u0442\u043c\u0435\u0442\u043a\u0430 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b {0}.",
thanks_issue_voted:"\u0412\u0430\u0448 \u0433\u043e\u043b\u043e\u0441 \u043d\u0430 {0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_watched:"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f {0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_moved:"{0} \u0431\u044b\u043b \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d.",thanks_issue_linked:"\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 {0} \u0431\u044b\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.",thanks_issue_cloned:"{0} \u0431\u044b\u043b \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d.",thanks_issue_labelled:"\u041c\u0435\u0442\u043a\u0438 \u0434\u043b\u044f {0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.",thanks_issue_deleted:"{0} \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430.",
thanks_issue_restored:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430.",thanks_issue_archived:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0430\u0440\u0445\u0438\u0432.",thanks_issue_attached:"\u0424\u0430\u0439\u043b(\u044b) \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u044b \u0432 {0}."};return{show:function(a,c){var b=f[a||"thanks_issue_updated"];b&&c&&(b=e.format(b,c));d.showSuccessMsg(b||a,{closeable:!0})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Router-data.js' */
define("jira/projectissuenavigator/services/router-data",["wrm/data"],function(a){var b=a.claim("com.atlassian.jira.jira-projects-issue-navigator:projectKeyPatternDataProvider.projectKeyPattern");return{getProjectKeyPattern:function(){return b.projectkeypattern}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Router.js' */
define("jira/projectissuenavigator/services/router","jira/components/libs/backbone jira/projectissuenavigator/services/urlhelper jira/projectissuenavigator/services/browser jira/util/data/meta jira/projectissuenavigator/libs/uri jira/projectissuenavigator/libs/underscore wrm/context-path jira/projectissuenavigator/services/router-data".split(" "),function(k,d,g,l,f,h,m,n){return k.Router.extend({initialize:function(){this._isFirstLoad=!0;this.route(/.*/,function(){var a=d.extractStateFromCurrentUrl(),
b={issue:a.issue,filter:a.filter,orderby:a.orderby,startIndex:a.startIndex,project:a.project};b.issue&&d.isBrowseUrl()&&(a=new RegExp(`${n.getProjectKeyPattern()}-[0-9]+`),a=b.issue.match(a),b.issue=a?a[0]:b.issue);a=function(a,c){this._isFirstLoad?(this._isFirstLoad=!1,this.trigger(c,b)):this.trigger(a,b)}.bind(this);d.isBrowseUrl()?a("route:browse","route:browse:initial"):a("route:issues","route:issues:initial")})},updateURL:function(a){a=a||{};this._updatePermalinkState(a);var b={issue:a.issue,
project:a.project,filter:a.filter,orderby:a.orderby};b=a.isIssueView?d.generateBrowseUrl(b):d.generateUrl(b);var e=new f(b),c=new f(g.getCurrentUrl());c=new f({path:c.path(),query:c.query(),fragment:c.fragment()});e.equals(c)||(a.keepParameters&&(e.search(h.extend(c.search(!0),e.search(!0))),e.hash(c.hash()),b=e.toString()),this.navigate(b,{trigger:!1,replace:!!a.replaceHistory}))},goTo:function(a){a=a||{};g.locationAssign(d.generateUrl({project:a.project,issue:a.issue,filter:a.filter,orderby:a.orderby}))},
_getBaseurl:function(){return f.build(h.extend(h.pick(f.parse(g.getCurrentUrl()),"protocol","hostname","port","username","password"),{path:m()}))},_getServerBaseurl:function(){var a=l.get("jira-base-url");return a?a:this._getBaseurl()},_updatePermalinkState:function(a){a.issue&&l.set("viewissue-permlink",(new f(this._getServerBaseurl()+"/browse/"+a.issue)).normalize().toString())},start:function(){var a=d.generateRootUrl(),b=g.hasPushState(),e=d.getApplicationUrl(),c=e&&!d.isHashUrl();!b&&c?g.locationReplace(a+
e.replace(/^\//,"#")):k.history.start({root:"",pushState:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/Traces.js' */
define("jira/projectissuenavigator/services/traces",function(){return{traceListLoaded:function(){JIRA.trace("sidebarissuenavigator.list.loaded");JIRA.trace("jira.search.finished")},traceEditorLoaded:function(){JIRA.trace("sidebarissuenavigator.editor.loaded")},traceEditorFieldsLoaded:function(){JIRA.trace("sidebarissuenavigator.editorfields.loaded")},traceEditorError:function(){JIRA.trace("sidebarissuenavigator.editor.error")},traceIssueViewRender:function(){JIRA.trace("jira.project.issueview.render")},
traceIssueUpdated:function(){JIRA.trace("jira.issue.update")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/services/URLHelper.js' */
define("jira/projectissuenavigator/services/urlhelper",["require"],function(f){function g(a){var b=new d("");a.issue&&b.filename(a.issue);a.filter?b.setSearch("filter",a.filter):b.removeSearch("filter");a.orderby?b.setSearch("orderby",a.orderby):b.removeSearch("orderby");return b.toString()}function h(a){var b=new d("");a&&b.path(k+"/projects/"+a+"/issues");return b.toString()}var k=f("wrm/context-path")(),e=f("jira/projectissuenavigator/services/browser"),d=f("jira/projectissuenavigator/libs/uri");
return{extractProjectKeyFromCurrentUrl:function(){var a=(new d(e.getCurrentUrl())).pathname();return(a=this.isBrowseUrl(a)?a.match(/\/([A-Z0-9]+)-[0-9]+$/):a.match(/\/projects\/([^/]+?)\/issues/))?a[1]:null},extractIssueKeyFromCurrentUrl:function(){var a=(new d(e.getCurrentUrl())).pathname().match(/\/([A-Z0-9]+-[0-9]+)$/);return a?a[1]:null},generateUrl:function(a){var b=h(a.project);a=g(a);var c=e.hasPushState()?"/":"#";return b+c+a},generateBrowseUrl:function(a){var b=new d("");b.path(k+"/browse/");
a=g(a);return b.toString()+a},extractStateFromCurrentUrl:function(){var a=new d(this.getApplicationUrl());this.isHashUrl()&&(a=new d(a.fragment()));var b={},c=a.search(!0).filter;b.filter=c?c:null;c=a.search(!0).orderby;b.orderby=c?c:null;if(c=a.filename())b.issue=c;a=a.search(!0).startIndex;b.startIndex=a?a:null;b.project=this.extractProjectKeyFromCurrentUrl();return b},generateRootUrl:function(a){a=a||this.extractProjectKeyFromCurrentUrl();return h(a)},getApplicationUrl:function(){var a=e.getCurrentUrl(),
b=new RegExp(this.isBrowseUrl(a)?"^.*/browse/":"^.*"+this.generateRootUrl());return a.replace(b,"")},isBrowseUrl:function(a){a=a||e.getCurrentUrl();return-1<a.indexOf("/browse/")},isHashUrl:function(){return!!this.getApplicationUrl().match(/^#/)},getAnchor:function(){return(new d(e.getCurrentUrl())).fragment()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issueview/views/IssueView.js' */
define("jira/projectissuenavigator/pages/issueview/views/issue",["require"],function(b){var c=b("jira/projectissuenavigator/libs/marionette"),d=b("jira/projectissuenavigator/pages/issueview/templates"),a=b("jira/ajs/keyboardshortcut/keyboard-shortcut"),e=c.ItemView.extend({template:d.issueCollapse,rendered:!1,triggers:{click:"collapse"},onRender:function(){this.unwrapTemplate();this.$el.tooltip({gravity:"e"})},onDestroy:function(){this.$el.tooltip&&this.$el.tooltip("hide")},serializeData:function(){return{collapseShortcutKey:a.getKeyboardShortcutKeys("fullscreen.issue")}}});
return c.LayoutView.extend({template:d.issueView,className:"wrapper",rendered:!1,regions:{issueContainer:".issue-container",pager:".pager-container",collapse:".collapse-container"},initialize:function(a){this.showCollapse=a.showCollapse||!1;this._initSubview()},_initSubview:function(){this._collapseSubview=new e;this.listenTo(this._collapseSubview,"collapse",function(){this.trigger("collapse")}.bind(this))},maximizeHeight:function(){this.$el.css("height",window.innerHeight-this.$el.offset().top)},
onRender:function(){this.showCollapse&&(this.collapse.show(this._collapseSubview),a.initialised&&"resolved"!==a.initialised.state()&&a.initialised.then(function(){this._collapseSubview.render()}.bind(this)));this.unwrapTemplate(this.className);this.rendered=!0},attach:function(a){this.setElement(a);this.bindUIElements();this.triggerMethod("render")},templateHelpers:function(){return this.options}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issueview/IssueView.js' */
define("jira/projectissuenavigator/pages/issueview",["require"],function(b){var e=b("jira/projectissuenavigator/libs/underscore"),l=b("jira/components/issueviewer/services/darkfeatures"),m=b("jira/projectissuenavigator/services/dialogsoverrider"),n=b("jira/projectissuenavigator/services/focusshifter"),p=b("jira/components/issuecomponentresolver"),q=b("jira/projectissuenavigator/pages/issueview/views/issue"),r=b("jira/components/issueviewer/templates"),t=b("jira/flag"),h=b("jquery"),u=b("jira/projectissuenavigator/libs/marionette"),
d=b("jira/projectissuenavigator/services/metrics"),f=b("jira/projectissuenavigator/services/notifications"),v=b("jira/components/pager"),k=b("jira/projectissuenavigator/services/traces"),g=b("wrm/data");return u.Object.extend({initialize:function(a){this.showCollapse=a.showCollapse||!1;this.state=a.state;this._buildIssueView();this._buildIssueComponent();this._buildDialogsOverrider();this._buildFocusShifter();this._buildPager()},onDestroy:function(){this.issueComponent.close();this.issueView.destroy();
this.dialogsOverrider.destroy();this.focusShifter.destroy();this._destroyPager();this.el&&this.el.remove()},_destroyPager:function(){this.pager&&(this.pager.destroy(),this.stopListening(this.pager),delete this.pager)},render:function(){this.issueView.render();this.el=this.issueView.$el},attach:function(a){this.issueView.attach(a);this.el=this.issueView.$el},loadFromPage:function(a){this._updateState(a);this._updateURL(a);this._updatePager();return this.issueComponent.loadIssueRenderedByTheServer({key:a,
project:{id:g.claim("projectId"),key:g.claim("projectKey"),projectType:g.claim("projectType")},detailView:!1})},load:function(a){this._updateState(a);this._updateURL(a);this._updatePager();return this.issueComponent.loadIssue({key:a,detailView:!1})},_updateURL:function(a){l.REDIRECT_FROM_GLOBAL_TO_PROJECT.enabled()&&this.trigger("updateUrl",{issueKey:a})},_updatePager:function(){var a=this.state.get("searchResults"),c=this.state.get("issue");a&&a.hasIssueInSearch(c)?(a.selected&&a.selected.get("key")===
c||a.select(c),this.pager.update(a)):this._destroyPager()},_updateState:function(a){this.state.set("issue",a)},adjustSize:function(){this.issueView.maximizeHeight();this.issueComponent.applyResponsiveDesign()},_buildIssueView:function(){this.issueView=new q({showCollapse:this.showCollapse});this.listenTo(this.issueView,{render:function(){this.issueView.issueContainer._ensureElement();this.issueComponent.setContainer(this.issueView.issueContainer.$el);this.pager&&(this.issueView.pager._ensureElement(),
this.pager.show(this.issueView.pager.$el))},collapse:function(){this.trigger("collapse","ui-button")}})},_buildIssueComponent:function(){this.issueComponent=new (p.resolve())({useJIRAEvents:!1});this.listenTo(this.issueComponent,{fieldsLoaded:function(){this.trigger("editorFieldsLoaded")},loadError:function(a){this.trigger("loadError",a)},loadComplete:function(a,c){this.trigger("editorLoaded",c)},linkToIssue:function(a){this.trigger("linkToIssue",a);this.state.unset("searchResults");this.state.unset("filter");
this.load(a.issueKey)},individualPanelRendered:function(a){this.trigger("individualPanelRendered",a)},renderMainView:function(a,c){this.trigger("viewRendered",a,c)},panelRendered:function(a,c,b){this.trigger("panelRendered",a,c,b)},refineViewer:function(a){a.preventDefault();this.issueComponent.updateIssueWithQuery(a.query)}})},_buildDialogsOverrider:function(){function a(a,b,d){return d&&d.$activeTrigger&&d.$activeTrigger.data(a)||"function"===typeof b&&b()}this.dialogsOverrider=new m({getIssueId:e.partial(a,
"issueid",this.issueComponent.getIssueId.bind(this.issueComponent)),getIssueKey:e.partial(a,"issuekey",this.issueComponent.getIssueKey.bind(this.issueComponent))});this.listenTo(this.dialogsOverrider,{"quickEdit quickCreateSubtask issueUpdate":function(a){this.issueComponent.refreshIssue().done(function(){f.show(a.message,a.issueKey);k.traceIssueUpdated()})},"issueRestore issueArchive":function(a){this.issueComponent.refreshIssue({mergeIntoCurrent:!1}).done(function(){f.show(a.message,a.issueKey);
k.traceIssueUpdated()})},issueDelete:function(a){f.show(a.message,a.issueKey);a.issueKey===this.state.get("issue")?this.trigger("issueDelete",a):this.issueComponent.refreshIssue()}})},_buildFocusShifter:function(){this.focusShifter=new n(this.issueComponent)},getIssueId:function(){return this.issueComponent.getIssueId()},getIssueKey:function(){return this.issueComponent.getIssueKey()},getProjectId:function(){return this.issueComponent.getProjectId()},getProjectKey:function(){return this.issueComponent.getProjectKey()},
getProjectType:function(){return this.issueComponent.getProjectType()},_buildPager:function(){this.pager=new v;this.listenTo(this.pager,{next:function(){this._loadNextIssue()},previous:function(){this._loadPreviousIssue()}})},_loadNextIssue:function(){var a=this.state.get("searchResults");a&&a.getNextIssue().done(function(a){this._loadIssueFromPager(a,"pager:next")}.bind(this))},_loadPreviousIssue:function(){var a=this.state.get("searchResults");a&&a.getPreviousIssue().done(function(a){this._loadIssueFromPager(a,
"pager:previous")}.bind(this))},_loadIssueFromPager:function(a,c){var b=this.state.get("searchResults");this.trigger(c,{current:b.getPositionOfIssueInSearchResults(a.id),total:b.length});this.load(a.get("key"))},getAPIImplementation:function(){var a=this;return{nextIssue:function(){if(a.state.get("searchResults"))return d.startIssueSearch(),a._loadNextIssue()},previousIssue:function(){if(a.state.get("searchResults"))return d.startIssueSearch(),a._loadPreviousIssue()},getActiveIssueId:function(){return a.issueComponent.getIssueId()},
getActiveIssueKey:function(){return a.issueComponent.getIssueKey()},refreshActiveIssue:function(){d.startIssueSearch();return a.issueComponent.refreshIssue()},refreshIssue:function(){d.startIssueSearch();return a.issueComponent.refreshIssue()},editField:function(b){if(!("getFields"in a.issueComponent))return!1;var c=a.issueComponent.getFields();(c=(b=c&&c.get(b))&&b.isEditable())&&a.issueComponent.editField(b);return c},getFields:function(){if("getFields"in a.issueComponent){var b=a.issueComponent.getFields();
return b.length?b:void 0}},isSaving:function(){return"hasSavesInProgress"in a.issueComponent?a.issueComponent.hasSavesInProgress():!1},isLoading:function(){return a.issueComponent.isCurrentlyLoading()},hasAccessibleIssue:function(){return!a.issueComponent.isShowingError()},showLoadError:function(){return t.showErrorMsg("",r.Body.errorsLoading(),{persistent:!1})},waitForSavesToComplete:function(){if(!("hasSavesInProgress"in a.issueComponent))return(new h.Deferred).resolve().promise();var b=new h.Deferred;
if(a.issueComponent.hasSavesInProgress())a.issueComponent.once("saveSuccess",function(){e.defer(function(){a.issueComponent.hasSavesInProgress()||b.resolve()})});else b.resolve();return b.promise()},openFocusShifter:function(){a.focusShifter.show()},toggleFullscreenIssue:function(){a.showCollapse&&a.trigger("collapse","kb-shortcut")}}},focusIssueEditor:function(){this.issueComponent.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issuesearch/IssueSearch.js' */
define("jira/projectissuenavigator/pages/issuesearch",["require"],function(c){var e=c("jira/projectissuenavigator/libs/underscore"),n=c("jira/components/detailslayout"),p=c("jira/projectissuenavigator/services/dialogsoverrider"),q=c("jira/projectissuenavigator/pages/issuesearch/views/empty"),f=c("jira/projectissuenavigator/services/filters"),r=c("jira/projectissuenavigator/services/focusshifter"),t=c("jira/projectissuenavigator/services/inline-issue-create"),u=c("jira/util/events"),v=c("jira/flag"),
g=c("jquery"),w=c("jira/projectissuenavigator/services/linkscapturer"),x=c("jira/projectissuenavigator/libs/marionette"),y=c("jira/message"),k=c("jira/util/data/meta"),d=c("jira/projectissuenavigator/services/metrics"),l=c("jira/projectissuenavigator/services/notifications"),h=c("jira/ajs/ajax/smart-ajax"),m=c("jira/projectissuenavigator/pages/issuesearch/templates"),z=c("jira/components/util/events"),A=c("jira/projectissuenavigator/libs/uri"),B=c("jira/projectissuenavigator/services/urlhelper"),
C=JIRA.Projects.Subnavigator;return x.Object.extend({initialize:function(a){this.el=g(m.issueSearch());this._buildState(a.state);this._buildSearch(a.search);this._buildSubnavigation();a.canCreateIssues&&this._buildInlineIssueCreate();this._buildDetailsLayout();this._buildLinksCapturer();this._buildDialogsOverrider();this._buildFocusShifter()},_buildState:function(a){this.state=a},_setTitleText:function(a){var b=f.getAvailableFilters(!0);a=e.chain(b).flatten().findWhere({id:a}).value();this.el.find("#issues-subnavigation-title").text(a&&
a.label||"")},_buildSubnavigation:function(){var a=this.state.get("filter")||f.getDefaultFilterId();this._setTitleText(a);this.subnavigation=new C({triggerPlaceholder:this.el.find("#issues-subnavigation-trigger"),contentPlaceholder:this.el.find("#issues-subnavigation-content"),itemGroups:f.getAvailableFilters(!0),selectedItem:a,hideSelectedItem:!1,changeViewText:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"});this.listenTo(this.subnavigation,{itemSelected:function(b){"manage"===b.item.id?this.trigger("manageFilters"):
b.item.jql&&(d.startIssueSearch(),b.preventDefault(),this._setTitleText(b.item.id),this.search({filter:b.item.id,issue:null,orderby:null}),this.trigger("filterSelected",{filterId:b.item.id,source:"subnavigator"}))}})},_buildInlineIssueCreate:function(){this.inlineIssueCreate=new t;this.listenTo(this.inlineIssueCreate,{issueCreated:function(a){d.startIssueSearch();this.search({issue:a.issue.issueKey})}})},_buildDetailsLayout:function(){var a={baseURL:B.generateRootUrl(this.state.get("project")),useExpand:!0};
this.options.canCreateIssues&&(a.displayInlineIssueCreate=!0,a.emptyViewFactory=e.bind(function(){return this.emptyView=new q({emptyViewContent:this.options.emptyViewContent})},this));this.detailsLayout=new n(a);this.listenTo(this.detailsLayout,{select:function(b){this.state.set("issue",b.key);this.trigger("issue:select",{issue:b.key})},empty:function(){this.state.unset("issue");this.options.canCreateIssues&&(this.emptyView.inlineIssueCreateContainer._ensureElement(),this.inlineIssueCreate.show(this.emptyView.inlineIssueCreateContainer.$el),
this.inlineIssueCreate.activateWithJQL(this.state.get("searchResults").jql));this.trigger("issue:empty")},"list:update":function(){this.trigger("list:update")},"list:sort":function(b){d.startIssueSearch();(b=b.match(/ORDER +BY +(.*)$/i))&&this.search({orderby:b[1]})},"list:refresh":function(){d.startIssueSearch();this.search({issue:null})},"list:select":function(b){d.startIssueSearch();this.trigger("issueSelectedInList",b)},render:function(){u.trigger(z.LAYOUT_RENDERED)},"editorLoadedFromCache editorLoaded":function(b){d.endIssueSearch(this.getIssueId());
k.set("viewissue-permlink",this._getFullScreenURL(b.issueKey));this.trigger("editorLoaded",{issueRefreshedEvent:(b.issueEditorOptions||{}).issueRefreshedEvent||!1})},linkToIssue:function(b){this.trigger("linkToIssue",b)},"list:pagination":function(){d.startIssueSearch()},"error:loadpage":function(b){this.showErrorFlagFromResponse(b)},"editor:saveSuccess":function(b){this.trigger("editor:saveSuccess",{issueId:b.event,savedFieldIds:b.savedFieldIds,savedFieldTypes:b.savedFieldTypes,duration:b.duration})},
"editor:editField":function(b){this.trigger("editor:editField",b)},"editor:editFieldCancel":function(b){this.trigger("editor:editFieldCancel",b)},"pager:next":function(b){d.startIssueSearch();this.trigger("pager:next",b)},"pager:previous":function(b){d.startIssueSearch();this.trigger("pager:previous",b)},expand:function(){this.trigger("expand","ui-button")},editorError:function(){this.trigger("editorError")},editorFieldsLoaded:function(){this.trigger("editorFieldsLoaded")},individualPanelRendered:function(b){this.trigger("individualPanelRendered",
b)}});this.options.canCreateIssues&&this.listenTo(this.detailsLayout,{issueCreated:function(b){f.filterSupportsInlineIssueCreate(this.state.get("filter"))?(d.startIssueSearch(),this.search({issue:b.issue.issueKey})):y.showSuccessMsg(m.issueCreatedFlag({issueKey:b.issue.issueKey,projectKey:this.state.get("project"),summary:b.fields.summary}),{closeable:!0})}})},_buildSearch:function(a){this.searchService=a},_buildLinksCapturer:function(){this.linksCapturer=new w({el:this.el});this.listenTo(this.linksCapturer,
{linkToFullIssueNavigator:function(){this.trigger("goToFullIssueNavigator")}})},_buildDialogsOverrider:function(){function a(b,a,c){return c&&c.$activeTrigger&&c.$activeTrigger.data(b)||"function"===typeof a&&a()}this.dialogsOverrider=new p({getIssueId:e.partial(a,"issueid",e.bind(this.detailsLayout.getActiveIssueId,this.detailsLayout)),getIssueKey:e.partial(a,"issuekey",e.bind(this.detailsLayout.getActiveIssueKey,this.detailsLayout))});this.listenTo(this.dialogsOverrider,{"quickEdit quickCreateSubtask issueUpdate":function(a){this.detailsLayout.refreshIssue(a.issueId).done(e.bind(function(){l.show(a.message,
a.issueKey)},this))},"issueDelete issueArchive":function(a){this.removeIssue(a.issueId).done(e.bind(function(){l.show(a.message,a.issueKey)},this))}})},_buildFocusShifter:function(){this.focusShifter=new r(this.detailsLayout.issueComponent)},_getFullScreenURL:function(a){var b=k.get("jira-base-url");return(new A(b+"/browse/"+a)).normalize().toString()},load:function(){var a=this.state.get("searchResults"),b=this.state.get("filter"),c=f.getAllIssuesFilterId()===b,d=this.state.get("issue"),e=a.hasIssueInSearch(d);
this._setTitleText(b);this.subnavigation.selectItem(b);d?e?this.detailsLayout.load(a,d):c?this.detailsLayout.load(a):(this.search({filter:f.getAllIssuesFilterId()}),this.trigger("filterSelected",{filterId:f.getAllIssuesFilterId(),source:"issueFilterMismatch"})):this.detailsLayout.load(a)},search:function(a){a=a||{};this.state.update({issue:a.issue,filter:a.filter,orderby:a.orderby});this.detailsLayout.showLoading();var b=f.getJQL(this.state.get("filter"),this.state.get("project"),this.state.get("orderby"));
this.searchService.search(b).done(e.bind(function(b){this.state.update({searchResults:b});!this.state.has("issue")&&a.startIndex&&this.state.update({issue:b.getIssueKeyForIndex(a.startIndex)});this.load()},this)).fail(e.bind(function(a){this.detailsLayout.hideLoading();this.showErrorFlagFromResponse(a)},this))},show:function(){this.subnavigation.show();this.detailsLayout.show(g(this.el).find(".details-layout"))},onDestroy:function(){this.subnavigation.destroy();this.inlineIssueCreate&&this.inlineIssueCreate.destroy();
this.detailsLayout.destroy();this.linksCapturer.destroy();this.dialogsOverrider.destroy();this.focusShifter.destroy()},adjustSize:function(){this.detailsLayout.adjustSize()},showErrorFlagFromResponse:function(a){if("undefined"===typeof a||a.statusText===h.SmartAjaxResult.TIMEOUT||401===a.status||a.hasData)return this.showErrorFlag(h.buildSimpleErrorContent(a));var b=JSON.parse(a.responseText);return 400===a.status&&0<b.errorMessages.length?this.showErrorFlag(b.errorMessages[0]):this.showErrorFlag(h.buildSimpleErrorContent(a))},
showErrorFlag:function(a){a=AJS.escapeHtml(a);return v.showErrorMsg("",a,{persistent:!1})},removeIssue:function(a){return this.detailsLayout.removeIssue(a)},getIssueId:function(){return this.detailsLayout.getActiveIssueId()},getIssueKey:function(){return this.detailsLayout.getActiveIssueKey()},getProjectId:function(){return this.detailsLayout.getActiveProjectId()},getProjectKey:function(){return this.detailsLayout.getActiveProjectKey()},getProjectType:function(){return this.detailsLayout.getActiveProjectType()},
getAPIImplementation:function(){var a=this;return{nextIssue:function(){d.startIssueSearch();return a.detailsLayout.selectNext()},previousIssue:function(){d.startIssueSearch();return a.detailsLayout.selectPrevious()},getActiveIssueId:function(){return a.getIssueId()},getActiveIssueKey:function(){return a.getIssueKey()},refreshActiveIssue:function(){d.startIssueSearch();var b=a.detailsLayout.getActiveIssueId();return a.detailsLayout.refreshIssue(b)},refreshIssue:function(b){d.startIssueSearch();return a.detailsLayout.refreshIssue(b)},
editField:function(b){var c=a.detailsLayout.issueComponent.getFields();(c=(b=c&&c.get(b))&&b.isEditable())&&a.detailsLayout.issueComponent.editField(b);return c},getFields:function(){var b=a.detailsLayout.issueComponent.getFields();return b.length?b:void 0},isSaving:function(){return a.detailsLayout.issueComponent.hasSavesInProgress()},isLoading:function(){return a.detailsLayout.isLoading()},hasAccessibleIssue:function(){return!(!(a.detailsLayout.searchResults&&a.detailsLayout.searchResults.length&&
a.detailsLayout.searchResults.selected)||a.detailsLayout.searchResults.selected.get("inaccessible"))},showLoadError:function(){return a.showErrorFlag(JIRA.Components.IssueViewer.Templates.Body.errorsLoading())},waitForSavesToComplete:function(){var b=new g.Deferred;if(a.detailsLayout.issueComponent.hasSavesInProgress())a.once("editor:saveSuccess",function(){e.defer(function(){a.detailsLayout.issueComponent.hasSavesInProgress()||b.resolve()})});else b.resolve();return b.promise()},openFocusShifter:function(){a.focusShifter.show()},
toggleFullscreenIssue:function(){a.trigger("expand","kb-shortcut")}}},focusIssueList:function(){this.detailsLayout.focusList()},focusIssueEditor:function(){this.detailsLayout.focusEditor()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/pages/issuesearch/views/Empty.js' */
define("jira/projectissuenavigator/pages/issuesearch/views/empty",["require"],function(a){var c=a("jira/projectissuenavigator/libs/marionette"),b=a("jira/projectissuenavigator/pages/issuesearch/templates");return c.LayoutView.extend({initialize:function(){this.content=this.options.emptyViewContent||b.defaultEmptyState()},template:b.emptyState,regions:{inlineIssueCreateContainer:".inline-issue-create-container"},serializeData:function(){return{content:this.content}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/entities/NavigatorState.js' */
define("jira/projectissuenavigator/entities/navigatorstate",["require"],function(a){var c=a("jira/projectissuenavigator/libs/underscore");return a("jira/components/libs/backbone").Model.extend({defaults:{project:void 0,issue:void 0,filter:void 0,orderby:void 0,searchResults:void 0,startIndex:void 0},update:function(a){c.each(a,function(a,b){null===a?this.unset(b):void 0!==a&&this.set(b,a)}.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-projects-issue-navigator:application', location = 'js/templates/amd-wrapper.js' */
define("jira/projectissuenavigator/templates",function(){return JIRA.Issues.Projects.Templates});define("jira/projectissuenavigator/pages/issuesearch/templates",function(){return JIRA.Issues.Projects.IssueSearch.Templates});define("jira/projectissuenavigator/pages/issueview/templates",function(){return JIRA.Issues.Projects.IssueView.Templates});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:commons_runtime', location = 'dist/runtime.4badfa72b85696fb944c.js' */
(function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};return a[c].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c=window.jiraDevelopmentIntegrationPluginJsonp;window.jiraDevelopmentIntegrationPluginJsonp=function(d,f,g){for(var h,j,k,l=0,i=[];l<d.length;l++)j=d[l],e[j]&&i.push(e[j][0]),e[j]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h]);for(c&&c(d,f,g);i.length;)i.shift()();if(g)for(l=0;l<g.length;l++)k=b(b.s=g[l]);return k};var d={},e={runtime:0};b.e=function(a){function c(){h.onerror=h.onload=null,clearTimeout(i);var b=e[a];0!==b&&(b&&b[1](new Error("Loading chunk "+a+" failed.")),e[a]=void 0)}var d=e[a];if(0===d)return new Promise(function(a){a()});if(d)return d[2];var f=new Promise(function(b,c){d=e[a]=[b,c]});d[2]=f;var g=document.getElementsByTagName("head")[0];if({0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,14:!0,15:!0}[a])return WRM.require("wrc!com.atlassian.jira.plugins.jira-development-integration-plugin:"+a),f;var h=document.createElement("script");h.type="text/javascript",h.charset="utf-8",h.async=!0,h.timeout=12e4,b.nc&&h.setAttribute("nonce",b.nc),h.src=b.p+""+({"card-module":"card-module","column-module":"column-module","devstatus-admin":"devstatus-admin","devstatus-admin-summary":"devstatus-admin-summary","devstatus-triggers":"devstatus-triggers","devstatus-view-issue":"devstatus-view-issue",releasereport:"releasereport","smart-commits":"smart-commits"}[a]||a)+"."+{0:"34c6da50bf04cc6fbce9",1:"fec0007dbcd89e6f3143",2:"195e7c6904d140d50b77",3:"0d345f285ffd2a7d8916",4:"05687710bd8a39ec358a",5:"abe8ed1052b516f3194d",6:"5ca3fd6a714624a67e6b",7:"c70e674cd82cec12b1a6",8:"27a79d93973e94cca942",9:"7fa01b8b3cd68c910671",10:"5e66066b698ab99da844",11:"4dbe74eebbcb499003a0",12:"0bcf0dde506c503eb999",13:"81f895f757db3e200dae",14:"2f8c736245a73b12a7d7",15:"9f9adc450b44a69ca456","card-module":"b5612a71dc3c6158834d","column-module":"8ef50e6cb5d90eb66cd2","devstatus-admin":"762acd76e8a530cfb7c5","devstatus-admin-summary":"f0721f96e26c1970a60d","devstatus-triggers":"68cb1b64ec4835e567b8","devstatus-view-issue":"db31d611e52e0febdb0b",releasereport:"84eb0069b80c7029386e","smart-commits":"c6e3879f47ab75ffa3ca"}[a]+".js";var i=setTimeout(c,12e4);return h.onerror=h.onload=c,g.appendChild(h),f},b.m=a,b.c=d,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b.oe=function(a){throw console.error(a),a},"undefined"!=typeof AJS&&(b.p=AJS.contextPath()+"/download/resources/com.atlassian.jira.plugins.jira-development-integration-plugin:assets-DEV_PSEUDO_HASH/")})([]);
//# sourceMappingURL=runtime.4badfa72b85696fb944c.js.map
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:entrypoint-devstatus-view-issue', location = 'dist/devstatus-view-issue.db31d611e52e0febdb0b.js' */
jiraDevelopmentIntegrationPluginJsonp(["devstatus-view-issue"],{"./js/util/DevStatusNavigation.js":function(a,b,c){"use strict";var d,e;d=[c("jira.webresources:wrm-context-path/require('wrm/context-path')"),c("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')")],e=function(a,b){return{getUrl:function(){return window.location.href},reload:function(){b.defer(function(){window.location.reload()})},navigate:function(a){b.defer(function(){window.location=a})},redirectToLogin:function(){this.navigate(a()+"/login.jsp?permissionViolation=true&os_destination="+encodeURIComponent(window.location.href))}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./js/util/DevStatusURLUtils.js":function(a,b,c){"use strict";var d,e;d=[c("jira.webresources:jquery/require('jquery')"),c("jira.webresources:ajs-underscorejs-amd-shim/require('underscore')"),c,c("jira.webresources:parse-uri/require('jira/libs/parse-uri')")],e=function(a,b,d,e){var f=c("./js/util/DevStatusNavigation.js");return{getDetailDialogParam:function(){var a=this._removeKickAssIHashFromUrl(f.getUrl()),b=e(a);return b&&b.queryKey&&b.queryKey.devStatusDetailDialog},getUrlWithDetailDialogParam:function(a){var b=this._removeKickAssIHashFromUrl(f.getUrl()),c=e(b);return c.queryKey.devStatusDetailDialog=encodeURIComponent(a),this.createUrlFromParsedUri(c)},getCreateReviewDetailUrl:function(a){return this.getUrlWithDetailDialogParam("create-review-"+a)},isCreateReviewDetailDialogLink:function(a){return a&&a.lastIndexOf&&0===a.lastIndexOf("create-review-",0)},getCreateReviewDetailDialogApplicationType:function(a){return a.substring(14)},_removeKickAssIHashFromUrl:function(a){return a.replace("i#","")},createUrlFromParsedUri:function(c){var d=[];a.each(c.queryKey,function(c,e){b.isObject(e)?a.each(e,function(a,b){d.push(c+"="+b)}):d.push(c+"="+e)});var e="";return c.protocol&&(e+=c.protocol+"://"),c.authority&&(e+=c.authority),c.path&&(e+=c.path),0<d.length&&(e+="?"+d.join("&")),c.anchor&&(e+="#"+c.anchor),e}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},"./js/viewissue/DevStatusInit.js":function(a,b,c){"use strict";var d=c("./js/viewissue/DevStatusStatePersist.js"),e=c("jira.webresources:jquery/require('jquery')");d.setDetailDialogParam(),e(function(){return c.e(0).then(function(){var a=[c("./js/viewissue/DevStatusApp.js")];(function(a){return a.documentReadyInit(e(document))}).apply(null,a)}).catch(c.oe)})},"./js/viewissue/DevStatusStatePersist.js":function(a,b,c){"use strict";var d,e;d=[c("jira.webresources:jira-metadata/require('jira/util/data/meta')"),c("./js/util/DevStatusURLUtils.js")],e=function(a,b){return{setDetailDialogParam:function(){a.set("fusion-open-detail-dialog",b.getDetailDialogParam())}}}.apply(b,d),!(void 0!==e&&(a.exports=e))},"jira.webresources:ajs-underscorejs-amd-shim/require('underscore')":function(a){a.exports=require("underscore")},"jira.webresources:jira-metadata/require('jira/util/data/meta')":function(a){a.exports=require("jira/util/data/meta")},"jira.webresources:jquery/require('jquery')":function(a){a.exports=require("jquery")},"jira.webresources:parse-uri/require('jira/libs/parse-uri')":function(a){a.exports=require("jira/libs/parse-uri")},"jira.webresources:wrm-context-path/require('wrm/context-path')":function(a){a.exports=require("wrm/context-path")}},["./js/viewissue/DevStatusInit.js"]);
//# sourceMappingURL=devstatus-view-issue.db31d611e52e0febdb0b.js.map
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/util/IssuesApi.js' */
define("jira-project-config/issues/api",(function(){"use strict";return window.JIRA&&window.JIRA.Issues&&window.JIRA.Issues.Api}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-project-config-plugin:custom-fields', location = 'customfields/js/main.js' */
require(["wrm/require","jquery"],(function(i,e){"use strict";e(document).on("click",".issueaction-fields-add",(function(e){e.preventDefault();c=function(i,e){var c=e.getSelectedIssueId();i.addCustomFieldToIssue(c)},i(["wrc!com.atlassian.jira.jira-project-config-plugin.custom-fields-impl"],(function(){require(["jira-project-config/custom-fields/api","jira-project-config/issues/api"],c)}));var c}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'templates/share-dialog.soy' */
// This file was automatically generated from share-dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dialogs.Share.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dialogs == 'undefined') { JIRA.Templates.Dialogs = {}; }
if (typeof JIRA.Templates.Dialogs.Share == 'undefined') { JIRA.Templates.Dialogs.Share = {}; }


JIRA.Templates.Dialogs.Share.contentPopup = function(opt_data, opt_ignored) {
  return '<form action="#" method="post" class="aui recipients-form share-content-popup ' + ((opt_data.shareData.issue) ? ' viewissue ' : (opt_data.shareData.filter) ? ' issuenav ' : '') + '">' + JIRA.Templates.Dialogs.Share.shareLink(opt_data) + '<fieldset class="padding">' + ((opt_data.showForm) ? JIRA.Templates.Dialogs.Share.shareForm(opt_data) : JIRA.Templates.Dialogs.Share.disabledMailMessage(soy.$$augmentMap(opt_data.isAdmin, {isAdmin: opt_data.isAdmin}))) + '</fieldset></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.contentPopup.soyTemplateName = 'JIRA.Templates.Dialogs.Share.contentPopup';
}


JIRA.Templates.Dialogs.Share.shareForm = function(opt_data, opt_ignored) {
  return '<label for="sharenames-multi-select">' + soy.$$escapeHtml('\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430') + '</label><div class="autocomplete-user-target"><select id="sharenames" name="sharenames" class="share-user-picker hidden" multiple="multiple"></select></div><ol class="recipients"></ol><div><label for="note">' + soy.$$escapeHtml('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435') + '</label></div><textarea class="textarea long-field" id="note" placeholder="' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)') + '"></textarea><div class="button-panel"><div class="status"><div class="icon"></div><div class="progress-messages"></div></div><div class="buttons"><input accesskey="' + soy.$$escapeHtml('S') + '" id="submitShare" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="button submit" type="submit" value="' + soy.$$escapeHtml('\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f') + '" disabled/> <a accesskey="' + soy.$$escapeHtml('`') + '" id="cancelShare" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="close-dialog" href="javascript:">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</a></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareForm.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareForm';
}


JIRA.Templates.Dialogs.Share.disabledMailMessage = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isAdmin) ? aui.message.generic({content: '<p>' + soy.$$escapeHtml('\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430. \u0414\u043b\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443 Jira.') + '</p>', extraClasses: 'disabled-mail-message'}) : aui.message.generic({content: '<p>' + soy.$$escapeHtml('\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0435\u0435 \u0437\u0434\u0435\u0441\u044c') + '<a class="aui-list-item-link" id="configure_mail_server" href="' + soy.$$escapeHtml("") + '/secure/admin/OutgoingMailServers.jspa"><em> ' + soy.$$escapeHtml('\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0430\u044f \u043f\u043e\u0447\u0442\u0430') + '</em></a>.</p>', extraClasses: 'disabled-mail-message'}));
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.disabledMailMessage.soyTemplateName = 'JIRA.Templates.Dialogs.Share.disabledMailMessage';
}


JIRA.Templates.Dialogs.Share.shareLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.shareData.permlink) ? '<div class="issuenav-permalink padding"><label for="permalink">' + ((opt_data.shareData.issue) ? soy.$$escapeHtml('\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443') : (opt_data.shareData.filter) ? soy.$$escapeHtml('\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440') : '') + '</label><input id="permalink" class="permalink text long-field" value="' + soy.$$escapeHtml(opt_data.shareData.permlink) + '" readonly></div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.Share.shareLink.soyTemplateName = 'JIRA.Templates.Dialogs.Share.shareLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'js/share-user-multi-select.js' */
define("jira/share-plugin/share-user-picker",["jira/skate","jira/field/multi-user-list-picker","jquery"],(function(e,r,t){"use strict";var i=t(document);return e("share-user-picker",{type:e.type.CLASSNAME,created:function(e){var a=t(e),u=new r({layerId:a.attr("id")+"-layer",element:a,freeEmailInput:!0});i.trigger("ready.multi-select.share-user",u)}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources', location = 'js/share-dialog.js' */
define("jira/share-plugin/share-plugin-dialog",["jira/util/key-code","jira/util/logger","jira/util/formatter","wrm/context-path","underscore","jira/ajs/layer/inline-layer","jira/ajs/ajax/smart-ajax","jira/util/events","jira/util/events/types","jira/util/data/meta","jira/util/events/reasons","aui/inline-dialog","jquery"],(function(e,i,t,n,s,a,r,o,l,d,u,h,c){"use strict";return function(){var f,p,g,m=!0;this.resetAndHide=function(){c(document).one("hideLayer",(function(e,i,t){if("inlineDialog"===i&&t.popup===f){c(document).unbind(".share-dialog");g.empty();g=void 0;p=void 0}}));return this.hideDialog()};this.hideDialog=function(){f.hide();return!1};function v(){return c(this).attr("data-username")}function b(){return c(this).attr("data-email")}this._buildSendShareUrl=function(e,i){var t=n()+"/rest/share/1.0";if(e.issue)t+="/issue/"+e.issueKey;else if(e.filter)if(e.filterId)t+="/filter/"+e.filterId;else{i.jql=e.jql;t+="/search"}return t};this._successShareHandler=function(){g.find(".button-panel .icon").removeClass("throbber loading").addClass("icon-tick");g.find(".progress-messages").removeClass("sending").addClass("success").text("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e");setTimeout(s.bind(this.resetAndHide,this),1e3)};this._errorShareHandler=function(){g.find(".button-panel .icon").removeClass("throbber loading").addClass("icon-cross");g.find(".progress-messages").removeClass("sending").addClass("error").text("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435")};this._sendShare=function(e,n){c("button,input,textarea",this).attr("disabled","disabled");g.find(".button-panel .icon").addClass("throbber loading");var a=g.find(".progress-messages");a.text("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430");a.addClass("sending");var o=this._buildSendShareUrl(n,e);i.trace("jira.plugins.share.send",s.defaults({url:o},e));var l={type:"POST",contentType:"application/json",dataType:"json",url:o,data:JSON.stringify(e),success:s.bind(this._successShareHandler,this),error:s.bind(this._errorShareHandler,this)};r.makeRequest(l)};this._collectMailData=function(){var e=g.find(".recipients"),i=e.find("li[data-username]").map(v).toArray(),t=e.find("li[data-email]").map(b).toArray();return!(!i.length&&!t.length)&&{usernames:i,emails:t,message:g.find("#note").val()}};this.submit=function(e){var i=this._collectMailData();i&&this._sendShare(i,e);return!1};this._enableSubmit=function(e){g.find(".submit").prop("disabled",!e)};this.enableAccessKeys=function(e){c(e).handleAccessKeys({selective:!1})};this._getShareData=function(e){var i,t,n=c(e);if(n.hasClass("viewissue-share")){i="issue";t=d.get("viewissue-permlink")}else if(n.hasClass("issuenav-share")){i="filter";t=d.get("issuenav-permlink")}var s={issueKey:d.get("issue-key"),filterId:d.get("filter-id"),jql:d.get("filter-jql"),permlink:t};s[i]=!0;return s};this._enableSubmitWhenIsRecipient=function(){var e=g.find("#sharenames").val(),i=null!=e&&e.length>0;this._enableSubmit(i)};this._addInteractionHandlersToDialog=function(i){g.find("#sharenames").bind("change unselect",s.bind(this._enableSubmitWhenIsRecipient,this));g.find(".close-dialog").click(s.bind(this.resetAndHide,this));g.find("form").submit(s.bind(this.submit,this,i));g.find(".issuenav-permalink .text").click((function(e){e.target.select();return!1}));c(document).bind("keyup.share-dialog",s.bind((function(i){return i.keyCode!==e.ESCAPE||this.hideDialog()}),this));c(document).bind("showLayer.share-dialog",(function(e,i,t){if("inlineDialog"===i&&t.popup===f){var n=g.find("#sharenames-textarea");if(n.length){n.focus();return}g.find("input#permalink").focus()}}))};this._renderDialogContent=function(e){g.html(JIRA.Templates.Dialogs.Share.contentPopup({shareData:e,modifierKey:d.get("keyboard-accesskey-modifier"),showForm:d.get("outgoing-mail-enabled"),isAdmin:d.get("is-admin")}))};this._fixOffset=function(e,i){var t=c(e).parent().find("div."+this.positionContainerClass).first(),n=t.offset().top,s=t.offset().left;if(i){var a=c(window).width(),r=t.width(),o=(a>0?a:r)/r;t.css({"min-width":"990px",top:-n+"px",left:-s+"px",width:100*o+"%"})}else{var l=parseFloat(t.css("top")),d=parseFloat(t.css("left"));t.css({"z-index":"100",top:l-n+"px",left:d-s+"px"})}};this._movePopup=function(e){c(e).parent().find("div."+this.positionContainerClass).remove();var i=c("<div role='presentation' class='"+this.positionContainerClass+"' style='min-width: 1px; position: absolute; width: 100%; top: 0; left: 0; z-index: 100; white-space: normal;'></div>");i.append(f);i.insertAfter(e)};this._generatePopup=function(e,i,t){this._scrollIntoViewForAuto();var n=this._getShareData(i);if(g&&p===n.permlink){g=e;this._fixOffset(i,!1);c(i).attr("aria-expanded","true");t()}else{p=n.permlink;g=e;this._renderDialogContent(n);this._movePopup(i);this._fixOffset(i,!0);this._enableSubmit(!1);this._addInteractionHandlersToDialog.call(this,n);this.enableAccessKeys(c("form",g));c(i).attr("aria-expanded","true");f.attr("role","dialog");t();o.trigger(l.NEW_CONTENT_ADDED,[g,u.shareDialogOpened])}};this._scrollIntoViewForAuto=function(){c(this.context).scrollIntoViewForAuto()};this._hideHelpContainer=function(e){c("div."+e).css("z-index","-100")};this._createDialogOptions=function(e){var i=this,t=-1!==e.indexOf("issuenav");this.positionContainerClass=t?"inline-dialog-help-position-container-share-issuenav":"inline-dialog-help-position-container-share-viewissue";return{preHideCallback:function(){return m},hideCallback:function(){c(".dashboard-actions .explanation").hide();i._hideHelpContainer(i.positionContainerClass);c(i.context).attr("aria-expanded","false")},offsetY:17,offsetX:t?-110:-170,hideDelay:36e5,useLiveEvents:!0}};this._addAJSInlineLayerEventHandlers=function(){o.bind(a.EVENTS.beforeShow,(function(e,i,t){"sharenames-layer"===t&&(m=!1)}));o.bind(a.EVENTS.hide,(function(e,i,t,n){"sharenames-layer"===n&&setTimeout((function(){m=!0}),0)}))};this._initShareDialog=function(i,t){var n=this;this.context=t;this._addAJSInlineLayerEventHandlers();var a=this._createDialogOptions(i);(f=h(c(t),i,s.bind(n._generatePopup,n),a))[0].popup._validateClickToClose=function(e){return 0===f.has(e.target).length};c(t).live("click",(function(){f.find(".contents:visible").length&&n.resetAndHide()}));c(document).bind("keydown",(function(i){if(i.keyCode===e.ESCAPE&&h.current!==f&&f.is(":visible")){h.current&&h.current.hide();f.hide()}}))};this._overrideContents=function(e){g=e};this._getCurrentDialogContent=function(){return g};this._getAllowDialogHide=function(){return m}}}));AJS.namespace("JIRA.JiraSharePlugin.SharePluginDialog",null,require("jira/share-plugin/share-plugin-dialog"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-share-plugin:share-resources-init', location = 'js/share-dialog-init.js' */
define("jira/share-plugin/initialiser",["underscore","jquery","jira/share-plugin/share-plugin-dialog","jira/share-plugin/share-user-picker"],(function(i,e,a){"use strict";return{init:i.once((function(){var s={};s.viewIssueDialog=new a(e);s.issueNavDialog=new a(e);e(i.bind(s.viewIssueDialog._initShareDialog,s.viewIssueDialog,"share-entity-popup-viewissue","#jira-share-trigger.viewissue-share"));e(i.bind(s.issueNavDialog._initShareDialog,s.issueNavDialog,"share-entity-popup-issuenav","#jira-share-trigger.issuenav-share"));return s}))}}));!function(i){"use strict";var e=require("jira/share-plugin/initialiser").init();AJS.namespace("JIRA.JiraSharePlugin.viewIssueDialog",null,e.viewIssueDialog);AJS.namespace("JIRA.JiraSharePlugin.issueNavDialog",null,e.issueNavDialog)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:backbone.radio-2.0.0-factory', location = 'factories/backbone.radio/2.0.0/backbone.radio-2.0.0-factory.js' */
'use strict';(function(f){define("atlassian/libs/factories/backbone.radio-2.0.0",function(){return function(e,k){return f(e,k).noConflict()}})})(function(f,e){function k(a){return f.isFunction(a)?a:function(){return a}}f="default"in f?f["default"]:f;e="default"in e?e["default"]:e;var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},r=e.Radio,b=e.Radio={};b.VERSION=
"2.0.0";b.noConflict=function(){e.Radio=r;return this};b.DEBUG=!1;b._debugText=function(a,d,c){return a+(c?" on the "+c+" channel":"")+': "'+d+'"'};b.debugLog=function(a,d,c){b.DEBUG&&console&&console.warn&&console.warn(b._debugText(a,d,c))};var n=/\s+/;b._eventsApi=function(a,d,c,b){if(!c)return!1;var g={};if("object"===("undefined"===typeof c?"undefined":q(c))){for(var h in c){var e=a[d].apply(a,[h,c[h]].concat(b));n.test(h)?f.extend(g,e):g[h]=e}return g}if(n.test(c)){c=c.split(n);h=0;for(e=c.length;h<
e;h++)g[c[h]]=a[d].apply(a,[c[h]].concat(b));return g}return!1};b._callHandler=function(a,b,c){var d=c[0],f=c[1],e=c[2];switch(c.length){case 0:return a.call(b);case 1:return a.call(b,d);case 2:return a.call(b,d,f);case 3:return a.call(b,d,f,e);default:return a.apply(b,c)}};var l={};f.extend(b,{log:function(a,b){if("undefined"!==typeof console){var c=f.toArray(arguments).slice(2);console.log("["+a+'] "'+b+'"',c)}},tuneIn:function(a){var d=b.channel(a);d._tunedIn=!0;d.on("all",l[a]||(l[a]=f.bind(b.log,
b,a)));return this},tuneOut:function(a){var d=b.channel(a);d._tunedIn=!1;d.off("all",l[a]||(l[a]=f.bind(b.log,b,a)));delete l[a];return this}});b.Requests={request:function(a){var d=f.toArray(arguments).slice(1),c=b._eventsApi(this,"request",a,d);if(c)return c;var g=this.channelName;c=this._requests;g&&this._tunedIn&&b.log.apply(this,[g,a].concat(d));if(c&&(c[a]||c["default"]))return g=c[a]||c["default"],d=c[a]?d:arguments,b._callHandler(g.callback,g.context,d);b.debugLog("An unhandled request was fired",
a,g)},reply:function(a,d,c){if(b._eventsApi(this,"reply",a,[d,c]))return this;this._requests||(this._requests={});this._requests[a]&&b.debugLog("A request was overwritten",a,this.channelName);this._requests[a]={callback:k(d),context:c||this};return this},replyOnce:function(a,d,c){if(b._eventsApi(this,"replyOnce",a,[d,c]))return this;var g=this,e=f.once(function(){g.stopReplying(a);return k(d).apply(this,arguments)});return this.reply(a,e,c)},stopReplying:function(a,d,c){if(b._eventsApi(this,"stopReplying",
a))return this;if(a||d||c){var g=this._requests,e=a;g||(g={});for(var h=e?[e]:f.keys(g),l=!1,k=0,n=h.length;k<n;k++)if(e=h[k],g[e]){var m=g[e];d&&d!==m.callback&&d!==m.callback._callback||c&&c!==m.context?e=void 0:(delete g[e],e=!0);e&&(l=!0)}l||b.debugLog("Attempted to remove the unregistered request",a,this.channelName)}else delete this._requests;return this}};b._channels={};b.channel=function(a){if(!a)throw Error("You must provide a name for the channel.");return b._channels[a]?b._channels[a]:
b._channels[a]=new b.Channel(a)};b.Channel=function(a){this.channelName=a};f.extend(b.Channel.prototype,e.Events,b.Requests,{reset:function(){this.off();this.stopListening();this.stopReplying();return this}});var m,p;f.each([e.Events,b.Requests],function(a){f.each(a,function(a,c){b[c]=function(a){p=f.toArray(arguments).slice(1);m=this.channel(a);return m[c].apply(m,p)}})});b.reset=function(a){f.each(a?[this._channels[a]]:this._channels,function(a){a.reset()})};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:backbone.radio-2.0', location = '/static/lib/amd-shims/backbone-radio-amd.js' */
define("jira/backbone.radio-2.0",["atlassian/libs/underscore-1.8.3","jira/backbone-1.3.3","atlassian/libs/factories/backbone.radio-2.0.0"],(function(a,i,n){return n(a,i)}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:marionette-4.1.2-factory', location = 'factories/marionette/4.1.2/marionette-4.1.2-factory.js' */
/*

 MarionetteJS (Backbone.Marionette)
 ----------------------------------
 v4.1.2

 Copyright (c)2019 Derick Bailey, Muted Solutions, LLC.
 Distributed under MIT license

 http://marionettejs.com
*/
'use strict';(function(f){define("atlassian/libs/factories/marionette-4.1.2",function(){return function(g,c,p){var y={};f(y,c,g,p);return y}})})(function(f,g,c,p){function y(a,b){if(!c.isObject(b))throw new k({message:"Bindings must be an object.",url:"common.html#bindevents"});return C.call(a,b)}function S(a,b){if(!a||!b)return this;this.listenTo(a,y(this,b));return this}function T(a,b){if(!a)return this;if(!b)return this.stopListening(a),this;this.stopListening(a,y(this,b));return this}function U(a,
b){if(!c.isObject(b))throw new k({message:"Bindings must be an object.",url:"common.html#bindrequests"});return C.call(a,b)}function V(a,b){if(!a||!b)return this;a.reply(U(this,b),this);return this}function W(a,b){if(!a)return this;if(!b)return a.stopReplying(null,null,this),this;a.stopReplying(U(this,b));return this}function D(a,b,d){a._getImmediateChildren&&c.each(a._getImmediateChildren(),function(a){d(a)&&a.triggerMethod(b,a)})}function ka(a){return!a._isAttached}function la(a){return a._isAttached?
!1:a._isAttached=!0}function ma(a){return a._isAttached}function na(a){a._isAttached=!1;return!0}function X(a){a._isAttached&&a._isRendered&&a.triggerMethod("dom:refresh",a)}function Y(a){a._isAttached&&a._isRendered&&a.triggerMethod("dom:remove",a)}function oa(){D(this,"before:attach",ka)}function pa(){D(this,"attach",la);X(this)}function qa(){D(this,"before:detach",ma);Y(this)}function ra(){D(this,"detach",na)}function sa(){Y(this)}function ta(){X(this)}function w(a){a._areViewEventsMonitored||
!1===a.monitorViewEvents||(a._areViewEventsMonitored=!0,a.on({"before:attach":oa,attach:pa,"before:detach":qa,detach:ra,"before:render":sa,render:ta}))}function ua(a,b,d){return d.toUpperCase()}function M(a){var b=a;N[b]||(N[b]="on"+b.replace(va,ua));b=O.call(this,N[b]);var d;c.isFunction(b)&&(d=b.apply(this,c.drop(arguments)));this.trigger.apply(this,arguments);return d}function Z(a,b,d){return c.reduce(b,function(b,d){if(d.behaviorClass)var e=d.behaviorClass;else if(c.isFunction(d))e=d,d={};else throw new k({message:"Unable to get behavior class. A Behavior constructor should be passed directly or as behaviorClass property of options",
url:"marionette.behavior.html#defining-and-attaching-behaviors"});e=new e(d,a);b.push(e);return Z(a,c.result(e,"behaviors"),b)},d)}function z(a){return!!aa[a]}function ba(a,b){return aa[a]=b}function wa(a,b){c.isString(b)&&(b={event:b});var d=b.event,e=!!b.preventDefault;z("triggersPreventDefault")&&(e=!1!==b.preventDefault);var h=!!b.stopPropagation;z("triggersStopPropagation")&&(h=!1!==b.stopPropagation);return function(b){e&&b.preventDefault();h&&b.stopPropagation();for(var c=arguments.length,
f=Array(1<c?c-1:0),g=1;g<c;g++)f[g-1]=arguments[g];a.triggerMethod.apply(a,[d,a,b].concat(f))}}function t(a){return a instanceof g.$?a:g.$(a)}function P(a){this.prototype.Dom=c.extend({},this.prototype.Dom,a);return this}function ca(a){a._isRendered||(a.supportsRenderLifecycle||a.triggerMethod("before:render",a),a.render(),a._isRendered=!0,a.supportsRenderLifecycle||a.triggerMethod("render",a))}function da(a,b){a.destroy?(a._disableDetachEvents=b,a.destroy()):(a.supportsDestroyLifecycle||a.triggerMethod("before:destroy",
a),(b=a._isAttached&&!b)&&a.triggerMethod("before:detach",a),a.remove(),b&&(a._isAttached=!1,a.triggerMethod("detach",a)),a._isDestroyed=!0,a.supportsDestroyLifecycle||a.triggerMethod("destroy",a))}function ea(a,b){if(a instanceof m)return a;if(c.isString(a))return Q(b,{el:a});if(c.isFunction(a))return Q(b,{regionClass:a});if(c.isObject(a))return Q(b,a);throw new k({message:"Improper region configuration type.",url:"marionette.region.html#defining-regions"});}function Q(a,b){a=c.extend({},a,b);b=
a.regionClass;delete a.regionClass;return new b(a)}function fa(a){this.prototype._renderHtml=a;return this}function xa(a,b){b.currentView&&a.push(b.currentView);return a}function ya(a,b){return b.model&&b.model.get(a)}g=g&&g.hasOwnProperty("default")?g["default"]:g;c=c&&c.hasOwnProperty("default")?c["default"]:c;p=p&&p.hasOwnProperty("default")?p["default"]:p;var n=function(a){return function(b){for(var d=arguments.length,c=Array(1<d?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];return a.apply(b,c)}},u=
g.Model.extend,C=function(a){var b=this;if(a)return c.reduce(a,function(a,e,h){c.isFunction(e)||(e=b[e]);e&&(a[h]=e);return a},{})},ha="description fileName lineNumber name message number url".split(" "),k=u.call(Error,{urlRoot:"http://marionettejs.com/docs/v".concat("4.1.2","/"),url:"",constructor:function(a){var b=Error.call(this,a.message);c.extend(this,c.pick(b,ha),c.pick(a,ha));Error.captureStackTrace&&this.captureStackTrace();this.url=this.urlRoot+this.url},captureStackTrace:function(){Error.captureStackTrace(this,
k)},toString:function(){return"".concat(this.name,": ").concat(this.message," See: ").concat(this.url)}}),O=function(a){if(a)return this.options&&void 0!==this.options[a]?this.options[a]:this[a]},E=function(a,b){var d=this;a&&c.each(b,function(b){var c=a[b];void 0!==c&&(d[b]=c)})},va=/(^|:)(\w)/gi,N={},ia={triggerMethod:M},q={normalizeMethods:C,_setOptions:function(a,b){this.options=c.extend({},c.result(this,"options"),a);this.mergeOptions(a,b)},mergeOptions:E,getOption:O,bindEvents:S,unbindEvents:T,
bindRequests:V,unbindRequests:W,triggerMethod:M};c.extend(q,g.Events);var F={_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(a){if(this._isDestroyed)return this;this.triggerMethod("before:destroy",this,a);this._isDestroyed=!0;this.triggerMethod("destroy",this,a);this.stopListening();return this}},G={_initRadio:function(){var a=c.result(this,"channelName");if(a){if(!p)throw new k({message:'The dependency "backbone.radio" is missing.',url:"backbone.radio.html#marionette-integration"});
a=this._channel=p.channel(a);var b=c.result(this,"radioEvents");this.bindEvents(a,b);b=c.result(this,"radioRequests");this.bindRequests(a,b);this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel}},za=["channelName","radioEvents","radioRequests"],A=function(a){this._setOptions(a,za);this.cid=c.uniqueId(this.cidPrefix);this._initRadio();this.initialize.apply(this,arguments)};A.extend=u;c.extend(A.prototype,
q,F,G,{cidPrefix:"mno",initialize:function(){}});var l=c.invokeMap||c.invoke,v={_delegateEntityEvents:function(a,b){a&&(this._modelEvents=c.result(this,"modelEvents"),this.bindEvents(a,this._modelEvents));b&&(this._collectionEvents=c.result(this,"collectionEvents"),this.bindEvents(b,this._collectionEvents))},_undelegateEntityEvents:function(a,b){this._modelEvents&&(this.unbindEvents(a,this._modelEvents),delete this._modelEvents);this._collectionEvents&&(this.unbindEvents(b,this._collectionEvents),
delete this._collectionEvents)},_deleteEntityEventHandlers:function(){delete this._modelEvents;delete this._collectionEvents}},Aa=/^(\S+)\s*(.*)$/,ja=function(a,b){a=a.match(Aa);return"".concat(a[1],".").concat(b," ").concat(a[2])},aa={childViewEventPrefix:!1,triggersStopPropagation:!0,triggersPreventDefault:!0,DEV_MODE:!1},H={_getViewTriggers:function(a,b){var d=this;return c.reduce(b,function(b,c,f){f=ja(f,"trig".concat(d.cid));b[f]=wa(a,c);return b},{})}},Ba=function(a,b){return c.reduce(a,function(a,
c,h){h=I(h,b);a[h]=c;return a},{})},Ca=/@ui\.[a-zA-Z-_$0-9]*/g,I=function(a,b){return a.replace(Ca,function(a){return b[a.slice(4)]})},Da=function(a,b,d){c.each(a,function(e,h){c.isString(e)?a[h]=I(e,b):e&&(h=e[d],c.isString(h)&&(e[d]=I(h,b)))});return a},J={normalizeUIKeys:function(a){var b=this._getUIBindings();return Ba(a,b)},normalizeUIString:function(a){var b=this._getUIBindings();return I(a,b)},normalizeUIValues:function(a,b){var c=this._getUIBindings();return Da(a,c,b)},_getUIBindings:function(){return c.result(this,
"_uiBindings")||c.result(this,"ui")},_bindUIElements:function(){var a=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var b=c.result(this,"_uiBindings");this._ui={};c.each(b,function(b,c){a._ui[c]=a.$(b)});this.ui=this._ui}},_unbindUIElements:function(){var a=this;this.ui&&this._uiBindings&&(c.each(this.ui,function(b,c){delete a.ui[c]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(a){return this._ui[a]}},K={createBuffer:function(){return document.createDocumentFragment()},
getDocumentEl:function(a){return a.ownerDocument.documentElement},getEl:function(a){return t(a)},findEl:function(a,b){return t(a).find(b)},hasEl:function(a,b){return a.contains(b&&b.parentNode)},detachEl:function(a){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:t(a)).detach()},replaceEl:function(a,b){if(a!==b){var c=b.parentNode;c&&c.replaceChild(a,b)}},swapEl:function(a,b){if(a!==b){var c=a.parentNode,e=b.parentNode;if(c&&e){var h=b.nextSibling;c.insertBefore(b,a.nextSibling);e.insertBefore(a,
h)}}},setContents:function(a,b){(2<arguments.length&&void 0!==arguments[2]?arguments[2]:t(a)).html(b)},appendContents:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=c._$el;e=void 0===e?t(a):e;c=c._$contents;c=void 0===c?t(b):c;e.append(c)},hasContents:function(a){return!!a&&a.hasChildNodes()},detachContents:function(a){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:t(a)).contents().detach()}},r={Dom:K,_isElAttached:function(){return!!this.el&&this.Dom.hasEl(this.Dom.getDocumentEl(this.el),
this.el)},supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(a){this._proxyBehaviorViewProperties();this._buildEventProxies();a=c.extend({},this._getBehaviorEvents(),this._getEvents(a),this._getBehaviorTriggers(),this._getTriggers());g.View.prototype.delegateEvents.call(this,a);return this},
_getEvents:function(a){if(a)return this.normalizeUIKeys(a);if(this.events)return this.normalizeUIKeys(c.result(this,"events"))},_getTriggers:function(){if(this.triggers){var a=this.normalizeUIKeys(c.result(this,"triggers"));return this._getViewTriggers(this,a)}},delegateEntityEvents:function(){this._delegateEntityEvents(this.model,this.collection);this._delegateBehaviorEntityEvents();return this},undelegateEntityEvents:function(){this._undelegateEntityEvents(this.model,this.collection);this._undelegateBehaviorEntityEvents();
return this},destroy:function(a){if(this._isDestroyed||this._isDestroying)return this;this._isDestroying=!0;var b=this._isAttached&&!this._disableDetachEvents;this.triggerMethod("before:destroy",this,a);b&&this.triggerMethod("before:detach",this);this.unbindUIElements();this._removeElement();b&&(this._isAttached=!1,this.triggerMethod("detach",this));this._removeChildren();this._isDestroyed=!0;this._isRendered=!1;this._destroyBehaviors(a);this._deleteEntityEventHandlers();this.triggerMethod("destroy",
this,a);this._triggerEventOnBehaviors("destroy",this,a);this.stopListening();return this},_removeElement:function(){this.$el.off().removeData();this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){this._bindUIElements();this._bindBehaviorUIElements();return this},unbindUIElements:function(){this._unbindUIElements();this._unbindBehaviorUIElements();return this},getUI:function(a){return this._getUI(a)},_buildEventProxies:function(){this._childViewEvents=this.normalizeMethods(c.result(this,
"childViewEvents"));this._childViewTriggers=c.result(this,"childViewTriggers");this._eventPrefix=this._getEventPrefix()},_getEventPrefix:function(){var a=z("childViewEventPrefix")?"childview":!1;a=c.result(this,"childViewEventPrefix",a);return!1===a?a:a+":"},_proxyChildViewEvents:function(a){(this._childViewEvents||this._childViewTriggers||this._eventPrefix)&&this.listenTo(a,"all",this._childViewEventHandler)},_childViewEventHandler:function(a){for(var b=this._childViewEvents,c=arguments.length,e=
Array(1<c?c-1:0),h=1;h<c;h++)e[h-1]=arguments[h];b&&b[a]&&b[a].apply(this,e);(b=this._childViewTriggers)&&b[a]&&this.triggerMethod.apply(this,[b[a]].concat(e));this._eventPrefix&&this.triggerMethod.apply(this,[this._eventPrefix+a].concat(e))}};c.extend(r,{_initBehaviors:function(){this._behaviors=Z(this,c.result(this,"behaviors"),[])},_getBehaviorTriggers:function(){var a=l(this._behaviors,"_getTriggers");return c.reduce(a,function(a,d){return c.extend(a,d)},{})},_getBehaviorEvents:function(){var a=
l(this._behaviors,"_getEvents");return c.reduce(a,function(a,d){return c.extend(a,d)},{})},_proxyBehaviorViewProperties:function(){l(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){l(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){l(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(a){l(this._behaviors,"destroy",a)},_removeBehavior:function(a){this._isDestroyed||(this.undelegate(".trig".concat(a.cid," .").concat(a.cid)),
this._behaviors=c.without(this._behaviors,a))},_bindBehaviorUIElements:function(){l(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){l(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(a,b,c){l(this._behaviors,"triggerMethod",a,b,c)}},q,v,{_renderTemplate:function(a){var b=this.mixinTemplateContext(this.serializeData())||{};a=this._renderHtml(a,b);"undefined"!==typeof a&&this.attachElContent(a)},getTemplate:function(){return this.template},mixinTemplateContext:function(a){var b=
c.result(this,"templateContext");return b?a?c.extend({},a,b):b:a},serializeData:function(){if(this.model)return this.serializeModel();if(this.collection)return{items:this.serializeCollection()}},serializeModel:function(){return this.model.attributes},serializeCollection:function(){return c.map(this.collection.models,function(a){return a.attributes})},_renderHtml:function(a,b){return a(b)},attachElContent:function(a){this.Dom.setContents(this.el,a,this.$el)}},H,J);var Ea=["allowMissingEl","parentEl",
"replaceElement"],m=function(a){this._setOptions(a,Ea);this.cid=c.uniqueId(this.cidPrefix);this._initEl=this.el=this.getOption("el");this.el=this.el instanceof g.$?this.el[0]:this.el;this.$el=this._getEl(this.el);this.initialize.apply(this,arguments)};m.extend=u;m.setDomApi=P;c.extend(m.prototype,q,{Dom:K,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,initialize:function(){},show:function(a,b){if(this._ensureElement(b)){a=this._getView(a,b);if(a===this.currentView)return this;
if(a._isShown)throw new k({name:"RegionError",message:"View is already shown in a Region or CollectionView",url:"marionette.region.html#showing-a-view"});this._isSwappingView=!!this.currentView;this.triggerMethod("before:show",this,a,b);!this.currentView&&a._isAttached||this.empty(b);this._setupChildView(a);this.currentView=a;ca(a);this._attachView(a,b);this.triggerMethod("show",this,a,b);this._isSwappingView=!1;return this}},_getEl:function(a){if(!a)throw new k({name:"RegionError",message:'An "el" must be specified for a region.',
url:"marionette.region.html#additional-options"});return this.getEl(a)},_setEl:function(){this.$el=this._getEl(this.el);this.$el.length&&(this.el=this.$el[0]);1<this.$el.length&&(this.$el=this.Dom.getEl(this.el))},_setElement:function(a){if(a===this.el)return this;var b=this._isReplaced;this._restoreEl();this.el=a;this._setEl();this.currentView&&(a=this.currentView,b?this._replaceEl(a):this.attachHtml(a));return this},_setupChildView:function(a){w(a);this._proxyChildViewEvents(a);a.on("destroy",this._empty,
this)},_proxyChildViewEvents:function(a){var b=this._parentView;b&&b._proxyChildViewEvents(a)},_shouldDisableMonitoring:function(){return this._parentView&&!1===this._parentView.monitorViewEvents},_isElAttached:function(){return this.Dom.hasEl(this.Dom.getDocumentEl(this.el),this.el)},_attachView:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).replaceElement,d=!a._isAttached&&this._isElAttached()&&!this._shouldDisableMonitoring();b="undefined"===typeof b?!!c.result(this,
"replaceElement"):!!b;d&&a.triggerMethod("before:attach",a);b?this._replaceEl(a):this.attachHtml(a);d&&(a._isAttached=!0,a.triggerMethod("attach",a));a._isShown=!0},_ensureElement:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c.isObject(this.el)||this._setEl();if(!this.$el||0===this.$el.length){if("undefined"===typeof a.allowMissingEl?c.result(this,"allowMissingEl"):a.allowMissingEl)return!1;throw new k({name:"RegionError",message:'An "el" must exist in DOM for this region '.concat(this.cid),
url:"marionette.region.html#additional-options"});}return!0},_getView:function(a){if(!a)throw new k({name:"RegionError",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show.",url:"marionette.region.html#showing-a-view"});if(a._isDestroyed)throw new k({name:"RegionError",message:'View (cid: "'.concat(a.cid,'") has already been destroyed and cannot be used.'),url:"marionette.region.html#showing-a-view"});if(a instanceof g.View)return a;a=this._getViewOptions(a);
return new x(a)},_getViewOptions:function(a){return c.isFunction(a)?{template:a}:c.isObject(a)?a:{template:function(){return a}}},getEl:function(a){var b=c.result(this,"parentEl");return b&&c.isString(a)?this.Dom.findEl(b,a):this.Dom.getEl(a)},_replaceEl:function(a){this._restoreEl();a.on("before:destroy",this._restoreEl,this);this.Dom.replaceEl(a.el,this.el);this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var a=this.currentView;a&&(this._detachView(a),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},
isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(a){this.Dom.appendContents(this.el,a.el,{_$el:this.$el,_$contents:a.$el})},empty:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},b=this.currentView;if(!b)return this._ensureElement(a)&&this.detachHtml(),this;this._empty(b,!0);return this},_empty:function(a,b){a.off("destroy",this._empty,this);this.triggerMethod("before:empty",this,a);this._restoreEl();delete this.currentView;a._isDestroyed||
(b?this.removeView(a):this._detachView(a),a._isShown=!1,this._stopChildViewEvents(a));this.triggerMethod("empty",this,a)},_stopChildViewEvents:function(a){this._parentView&&this._parentView.stopListening(a)},destroyView:function(a){if(a._isDestroyed)return a;da(a,this._shouldDisableMonitoring());return a},removeView:function(a){this.destroyView(a)},detachView:function(){var a=this.currentView;if(a)return this._empty(a),a},_detachView:function(a){var b=a._isAttached&&!this._shouldDisableMonitoring(),
c=this._isReplaced;b&&a.triggerMethod("before:detach",a);c?this.Dom.replaceEl(this.el,a.el):this.detachHtml();b&&(a._isAttached=!1,a.triggerMethod("detach",a))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(a){this.empty(a);this.el=this._initEl;delete this.$el;return this},_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(a){if(this._isDestroyed)return this;this.triggerMethod("before:destroy",
this,a);this._isDestroyed=!0;this.reset(a);this._name&&this._parentView._removeReferences(this._name);delete this._parentView;delete this._name;this.triggerMethod("destroy",this,a);this.stopListening();return this}});var R={regionClass:m,_initRegions:function(){this.regions=this.regions||{};this._regions={};this.addRegions(c.result(this,"regions"))},_reInitRegions:function(){l(this._regions,"reset")},addRegion:function(a,b){var c={};c[a]=b;return this.addRegions(c)[a]},addRegions:function(a){if(!c.isEmpty(a))return a=
this.normalizeUIValues(a,"el"),this.regions=c.extend({},this.regions,a),this._addRegions(a)},_addRegions:function(a){var b=this,d={regionClass:this.regionClass,parentEl:c.partial(c.result,this,"el")};return c.reduce(a,function(a,c,f){a[f]=ea(c,d);b._addRegion(a[f],f);return a},{})},_addRegion:function(a,b){this.triggerMethod("before:add:region",this,b,a);a._parentView=this;a._name=b;this._regions[b]=a;this.triggerMethod("add:region",this,b,a)},removeRegion:function(a){var b=this._regions[a];this._removeRegion(b,
a);return b},removeRegions:function(){var a=this._getRegions();c.each(this._regions,this._removeRegion.bind(this));return a},_removeRegion:function(a,b){this.triggerMethod("before:remove:region",this,b,a);a.destroy();this.triggerMethod("remove:region",this,b,a)},_removeReferences:function(a){delete this.regions[a];delete this._regions[a]},emptyRegions:function(){var a=this.getRegions();l(a,"empty");return a},hasRegion:function(a){return!!this.getRegion(a)},getRegion:function(a){this._isRendered||
this.render();return this._regions[a]},_getRegions:function(){return c.clone(this._regions)},getRegions:function(){this._isRendered||this.render();return this._getRegions()},showChildView:function(a,b,c){this.getRegion(a).show(b,c);return b},detachChildView:function(a){return this.getRegion(a).detachView()},getChildView:function(a){return this.getRegion(a).currentView}},Fa="behaviors childViewEventPrefix childViewEvents childViewTriggers collectionEvents events modelEvents regionClass regions template templateContext triggers ui".split(" "),
x=g.View.extend({constructor:function(a){this._setOptions(a,Fa);w(this);this._initBehaviors();this._initRegions();g.View.prototype.constructor.apply(this,arguments);this.delegateEntityEvents();this._triggerEventOnBehaviors("initialize",this,a)},setElement:function(){g.View.prototype.setElement.apply(this,arguments);this._isRendered=this.Dom.hasContents(this.el);this._isAttached=this._isElAttached();this._isRendered&&this.bindUIElements();return this},render:function(){var a=this.getTemplate();if(!1===
a||this._isDestroyed)return this;this.triggerMethod("before:render",this);this._isRendered&&this._reInitRegions();this._renderTemplate(a);this.bindUIElements();this._isRendered=!0;this.triggerMethod("render",this);return this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return c.reduce(this._regions,xa,[])}},{setRenderer:fa,setDomApi:P});c.extend(x.prototype,r,R);var L=function(){this._init()};c.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck reduce partition".split(" "),
function(a){L.prototype[a]=function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];return c[a].apply(c,[this._views].concat(d))}});c.extend(L.prototype,{_init:function(){this._views=[];this._viewsByCid={};this._indexByModel={};this._updateLength()},_add:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._views.length;this._addViewIndexes(a);this._views.splice(b,0,a);this._updateLength()},_addViewIndexes:function(a){this._viewsByCid[a.cid]=a;a.model&&
(this._indexByModel[a.model.cid]=a)},_sort:function(a,b){return"string"===typeof a?(a=c.partial(ya,a),this._sortBy(a)):1===a.length?this._sortBy(a.bind(b)):this._views.sort(a.bind(b))},_sortBy:function(a){a=c.sortBy(this._views,a);this._set(a);return a},_set:function(a,b){this._views.length=0;this._views.push.apply(this._views,a.slice(0));b&&(this._viewsByCid={},this._indexByModel={},c.each(a,this._addViewIndexes.bind(this)),this._updateLength())},_swap:function(a,b){a=this.findIndexByView(a);b=this.findIndexByView(b);
if(-1!==a&&-1!==b){var c=this._views[a];this._views[a]=this._views[b];this._views[b]=c}},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){return this._indexByModel[a]},findByIndex:function(a){return this._views[a]},findIndexByView:function(a){return this._views.indexOf(a)},findByCid:function(a){return this._viewsByCid[a]},hasView:function(a){return!!this.findByCid(a.cid)},_remove:function(a){this._viewsByCid[a.cid]&&(a.model&&delete this._indexByModel[a.model.cid],
delete this._viewsByCid[a.cid],a=this.findIndexByView(a),this._views.splice(a,1),this._updateLength())},_updateLength:function(){this.length=this._views.length}});var Ga="behaviors childView childViewContainer childViewEventPrefix childViewEvents childViewOptions childViewTriggers collectionEvents emptyView emptyViewOptions events modelEvents sortWithCollection template templateContext triggers ui viewComparator viewFilter".split(" "),B=g.View.extend({sortWithCollection:!0,constructor:function(a){this._setOptions(a,
Ga);w(this);this._initChildViewStorage();this._initBehaviors();g.View.prototype.constructor.apply(this,arguments);this.getEmptyRegion();this.delegateEntityEvents();this._triggerEventOnBehaviors("initialize",this,a)},_initChildViewStorage:function(){this._children=new L;this.children=new L},getEmptyRegion:function(){var a=this.$container||this.$el;if(this._emptyRegion&&!this._emptyRegion.isDestroyed())return this._emptyRegion._setElement(a[0]),this._emptyRegion;this._emptyRegion=new m({el:a[0],replaceElement:!1});
this._emptyRegion._parentView=this;return this._emptyRegion},_initialEvents:function(){this._isRendered||this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(a,b){a=b.merge;var c=b.remove;this.sortWithCollection&&!1!==this.viewComparator&&(b.add||c||a||this.sort())},_onCollectionReset:function(){this._destroyChildren();this._addChildModels(this.collection.models);this.sort()},_onCollectionUpdate:function(a,
b){a=b.changes;b=a.removed.length&&this._removeChildModels(a.removed);this._addedViews=a.added.length&&this._addChildModels(a.added);this._detachChildren(b);this.sort();this._removeChildViews(b)},_removeChildModels:function(a){var b=this;return c.reduce(a,function(a,c){(c=b._removeChildModel(c))&&a.push(c);return a},[])},_removeChildModel:function(a){(a=this._children.findByModel(a))&&this._removeChild(a);return a},_removeChild:function(a){this.triggerMethod("before:remove:child",this,a);this.children._remove(a);
this._children._remove(a);this.triggerMethod("remove:child",this,a)},_addChildModels:function(a){return c.map(a,this._addChildModel.bind(this))},_addChildModel:function(a){a=this._createChildView(a);this._addChild(a);return a},_createChildView:function(a){var b=this._getChildView(a),c=this._getChildViewOptions(a);return this.buildChildView(a,b,c)},_addChild:function(a,b){this.triggerMethod("before:add:child",this,a);this._setupChildView(a);this._children._add(a,b);this.children._add(a,b);this.triggerMethod("add:child",
this,a)},_getChildView:function(a){var b=this.childView;if(!b)throw new k({name:"CollectionViewError",message:'A "childView" must be specified',url:"marionette.collectionview.html#collectionviews-childview"});b=this._getView(b,a);if(!b)throw new k({name:"CollectionViewError",message:'"childView" must be a view class or a function that returns a view class',url:"marionette.collectionview.html#collectionviews-childview"});return b},_getView:function(a,b){if(a.prototype instanceof g.View||a===g.View)return a;
if(c.isFunction(a))return a.call(this,b)},_getChildViewOptions:function(a){return c.isFunction(this.childViewOptions)?this.childViewOptions(a):this.childViewOptions},buildChildView:function(a,b,d){a=c.extend({model:a},d);return new b(a)},_setupChildView:function(a){w(a);a.on("destroy",this.removeChildView,this);this._proxyChildViewEvents(a)},_getImmediateChildren:function(){return this.children._views},setElement:function(){g.View.prototype.setElement.apply(this,arguments);this._isAttached=this._isElAttached();
return this},render:function(){if(this._isDestroyed)return this;this.triggerMethod("before:render",this);this._destroyChildren();this.collection&&(this._addChildModels(this.collection.models),this._initialEvents());var a=this.getTemplate();a&&(this._renderTemplate(a),this.bindUIElements());this._getChildViewContainer();this.sort();this._isRendered=!0;this.triggerMethod("render",this);return this},_getChildViewContainer:function(){var a=c.result(this,"childViewContainer");this.$container=a?this.$(a):
this.$el;if(!this.$container.length)throw new k({name:"CollectionViewError",message:'The specified "childViewContainer" was not found: '.concat(a),url:"marionette.collectionview.html#defining-the-childviewcontainer"});},sort:function(){this._sortChildren();this.filter();return this},_sortChildren:function(){if(this._children.length){var a=this.getComparator();a&&(delete this._addedViews,this.triggerMethod("before:sort",this),this._children._sort(a,this),this.triggerMethod("sort",this))}},setComparator:function(a){var b=
(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).preventRender,c=this.viewComparator!==a;this.viewComparator=a;c&&!b&&this.sort();return this},removeComparator:function(a){return this.setComparator(null,a)},getComparator:function(){return this.viewComparator?this.viewComparator:this.sortWithCollection&&!1!==this.viewComparator&&this.collection?this._viewComparator:!1},_viewComparator:function(a){return this.collection.indexOf(a.model)},filter:function(){if(this._isDestroyed)return this;
this._filterChildren();this._renderChildren();return this},_filterChildren:function(){var a=this;if(this._children.length){var b=this._getFilter();if(b){delete this._addedViews;this.triggerMethod("before:filter",this);var d=[],e=[];c.each(this._children._views,function(c,f,g){(b.call(a,c,f,g)?d:e).push(c)});this._detachChildren(e);this.children._set(d,!0);this.triggerMethod("filter",this,d,e)}else this.children._set(this._children._views,this.children.length!==this._children.length)}},_getFilter:function(){var a=
this.getFilter();if(!a)return!1;if(c.isFunction(a))return a;if(c.isObject(a)){var b=c.matches(a);return function(a){return b(a.model&&a.model.attributes)}}if(c.isString(a))return function(b){return b.model&&b.model.get(a)};throw new k({name:"CollectionViewError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy',url:"marionette.collectionview.html#defining-the-viewfilter"});},getFilter:function(){return this.viewFilter},setFilter:function(a){var b=
(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).preventRender,c=this.viewFilter!==a;this.viewFilter=a;c&&!b&&this.filter();return this},removeFilter:function(a){return this.setFilter(null,a)},_detachChildren:function(a){c.each(a,this._detachChildView.bind(this))},_detachChildView:function(a){var b=a._isAttached&&!1!==this.monitorViewEvents;b&&a.triggerMethod("before:detach",a);this.detachHtml(a);b&&(a._isAttached=!1,a.triggerMethod("detach",a));a._isShown=!1},detachHtml:function(a){this.Dom.detachEl(a.el,
a.$el)},_renderChildren:function(){this._hasUnrenderedViews&&(delete this._addedViews,delete this._hasUnrenderedViews);var a=this._addedViews||this.children._views;this.triggerMethod("before:render:children",this,a);if(this.isEmpty())this._showEmptyView();else{this._destroyEmptyView();var b=this._getBuffer(a);this._attachChildren(b,a)}delete this._addedViews;this.triggerMethod("render:children",this,a)},_getBuffer:function(a){var b=this,d=this.Dom.createBuffer();c.each(a,function(a){ca(a);a._isShown=
!0;b.Dom.appendContents(d,a.el,{_$contents:a.$el})});return d},_attachChildren:function(a,b){b=this._isAttached&&!1!==this.monitorViewEvents?b:[];c.each(b,function(a){a._isAttached||a.triggerMethod("before:attach",a)});this.attachHtml(a,this.$container);c.each(b,function(a){a._isAttached||(a._isAttached=!0,a.triggerMethod("attach",a))})},attachHtml:function(a,b){this.Dom.appendContents(b[0],a,{_$el:b})},isEmpty:function(){return!this.children.length},_showEmptyView:function(){var a=this._getEmptyView();
if(a){var b=this._getEmptyViewOptions();this.getEmptyRegion().show(new a(b))}},_getEmptyView:function(){var a=this.emptyView;if(a)return this._getView(a)},_destroyEmptyView:function(){var a=this.getEmptyRegion();a.hasView()&&a.empty()},_getEmptyViewOptions:function(){var a=this.emptyViewOptions||this.childViewOptions;return c.isFunction(a)?a.call(this):a},swapChildViews:function(a,b){if(!this._children.hasView(a)||!this._children.hasView(b))throw new k({name:"CollectionViewError",message:"Both views must be children of the collection view to swap.",
url:"marionette.collectionview.html#swapping-child-views"});this._children._swap(a,b);this.Dom.swapEl(a.el,b.el);this.children.hasView(a)!==this.children.hasView(b)?this.filter():this.children._swap(a,b);return this},addChildView:function(a,b){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!a||a._isDestroyed)return a;if(a._isShown)throw new k({name:"CollectionViewError",message:"View is already shown in a Region or CollectionView",url:"marionette.region.html#showing-a-view"});
c.isObject(b)&&(d=b);null!=d.index&&(b=d.index);this._isRendered||this.render();this._addChild(a,b);if(d.preventRender)return this._hasUnrenderedViews=!0,a;d="undefined"!==typeof b;d&&!(b>=this._children.length)||this._hasUnrenderedViews||(this._addedViews=[a]);d?this._renderChildren():this.sort();return a},detachChildView:function(a){this.removeChildView(a,{shouldDetach:!0});return a},removeChildView:function(a,b){if(!a)return a;this._removeChildView(a,b);this._removeChild(a);this.isEmpty()&&this._showEmptyView();
return a},_removeChildViews:function(a){c.each(a,this._removeChildView.bind(this))},_removeChildView:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).shouldDetach;a.off("destroy",this.removeChildView,this);b?this._detachChildView(a):this._destroyChildView(a);this.stopListening(a)},_destroyChildView:function(a){a._isDestroyed||da(a,!1===this.monitorViewEvents)},_removeChildren:function(){this._destroyChildren();this.getEmptyRegion().destroy();delete this._addedViews},_destroyChildren:function(){this._children.length&&
(this.triggerMethod("before:destroy:children",this),!1===this.monitorViewEvents&&this.Dom.detachContents(this.el,this.$el),this._removeChildViews(this._children._views),this._children._init(),this.children._init(),this.triggerMethod("destroy:children",this))}},{setDomApi:P,setRenderer:fa});c.extend(B.prototype,r);var Ha=["collectionEvents","events","modelEvents","triggers","ui"];r=function(a,b){this.view=b;this._setOptions(a,Ha);this.cid=c.uniqueId(this.cidPrefix);this.ui=c.extend({},c.result(this,
"ui"),c.result(b,"ui"));this.listenTo(b,"all",this.triggerMethod);this.initialize.apply(this,arguments)};r.extend=u;c.extend(r.prototype,q,v,H,J,{cidPrefix:"mnb",initialize:function(){},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){this.stopListening();this.view._removeBehavior(this);this._deleteEntityEventHandlers();return this},proxyViewProperties:function(){this.$el=this.view.$el;this.el=this.view.el;return this},bindUIElements:function(){this._bindUIElements();
return this},unbindUIElements:function(){this._unbindUIElements();return this},getUI:function(a){return this._getUI(a)},delegateEntityEvents:function(){this._delegateEntityEvents(this.view.model,this.view.collection);return this},undelegateEntityEvents:function(){this._undelegateEntityEvents(this.view.model,this.view.collection);return this},_getEvents:function(){var a=this;if(this.events){var b=this.normalizeUIKeys(c.result(this,"events"));return c.reduce(b,function(b,e,f){c.isFunction(e)||(e=a[e]);
if(!e)return b;f=ja(f,a.cid);b[f]=e.bind(a);return b},{})}},_getTriggers:function(){if(this.triggers){var a=this.normalizeUIKeys(c.result(this,"triggers"));return this._getViewTriggers(this.view,a)}}});var Ia=["channelName","radioEvents","radioRequests","region","regionClass"];v=function(a){this._setOptions(a,Ia);this.cid=c.uniqueId(this.cidPrefix);this._initRegion();this._initRadio();this.initialize.apply(this,arguments)};v.extend=u;c.extend(v.prototype,q,F,G,{cidPrefix:"mna",initialize:function(){},
start:function(a){this.triggerMethod("before:start",this,a);this.triggerMethod("start",this,a);return this},regionClass:m,_initRegion:function(){var a=this.region;a&&(this._region=ea(a,{regionClass:this.regionClass}))},getRegion:function(){return this._region},showView:function(a){for(var b=this.getRegion(),c=arguments.length,e=Array(1<c?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];b.show.apply(b,[a].concat(e));return a},getView:function(){return this.getRegion().currentView}});q=n(S);F=n(T);G=n(V);H=n(W);
E=n(E);J=n(O);R=n(C);n=n(M);var Ja={View:x,CollectionView:B,MnObject:A,Object:A,Region:m,Behavior:r,Application:v,isEnabled:z,setEnabled:ba,monitorViewEvents:w,Events:ia,extend:u,DomApi:K,VERSION:"4.1.2"};f.Application=v;f.Behavior=r;f.CollectionView=B;f.DomApi=K;f.Events=ia;f.MnObject=A;f.Region=m;f.VERSION="4.1.2";f.View=x;f.bindEvents=q;f.bindRequests=G;f.default=Ja;f.extend=u;f.getOption=J;f.isEnabled=z;f.mergeOptions=E;f.monitorViewEvents=w;f.normalizeMethods=R;f.setDomApi=function(a){B.setDomApi(a);
m.setDomApi(a);x.setDomApi(a)};f.setEnabled=ba;f.setRenderer=function(a){B.setRenderer(a);x.setRenderer(a)};f.triggerMethod=n;f.unbindEvents=F;f.unbindRequests=H;Object.defineProperty(f,"__esModule",{value:!0})});this&&this.Marionette&&(this.Mn=this.Marionette);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:marionette-4.1', location = '/static/lib/marionette/backbone.marionette.mixins.js' */
define("jira/marionette/marionette.mixins",[],(function(){"use strict";return{viewExtensions:{unwrapTemplate:function(){if(this.$el.parent().length){var e=this.$el.children();this.$el.replaceWith(e);this.setElement(e)}else this.setElement(this.$el.children())}}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:marionette-4.1', location = '/static/lib/amd-shims/marionette-4.1-amd.js' */
define("jira/marionette-4.1",["atlassian/libs/underscore-1.8.3","jira/backbone-1.3.3","jira/backbone.radio-2.0","atlassian/libs/factories/marionette-4.1.2","jira/marionette/marionette.mixins"],(function(e,i,t,n,o){const a=n(e,i,t);e.extend(a.View.prototype,o.viewExtensions);e.extend(a.CollectionView.prototype,o.viewExtensions);return a}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment-contents-view.js' */
define("jira/view-issue-plugin/attachment/attachment-contents-view",["jira/marionette-4.1"],(function(t){"use strict";return t.View.extend({template:JIRA.Templates.ViewIssue.attachmentContents,initialize:function(t){this.attachment=t.attachment;this.issueId=t.issueId;this.baseUrl=t.baseUrl},serializeData:function(){return{attachment:this.attachment,issueId:this.issueId,baseUrl:this.baseUrl}}})}));define("jira/attachment/attachment-contents-view",["jira/view-issue-plugin/attachment/attachment-contents-view"],(function(t){"use strict";return t}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment-element.js' */
define("jira/view-issue-plugin/attachment/attachment-element",["jira/util/logger","wrm/context-path","jquery","jira/skate","jira/marionette-4.1","jira/attachment/attachment-contents-view"],(function(t,e,n,a,i,r){"use strict";return a("js-file-attachment",{type:a.type.CLASSNAME,attached:function(a){n(a).find(".expander").one("expandBlock",(function(){!function(a){var o=n(a),c=o.data("attachment-id"),s=o.data("issue-id"),u=e()+"/rest/api/2/attachment/"+c+"/expand/human",l=n.get(u);l.done((function(t){var n=new i.Region({el:o.find(".zip-contents").first()}),a=new r({attachment:t,issueId:s,baseUrl:window.location.protocol+"//"+window.location.host+e()});n.show(a)}));l.error((function(e){t.error(e)}))}(a)}));t.trace("jira.plugins.viewissue.expansion.wired")},events:{"click .attachment-title":function(t,e){if(1===e.which){var n=t.getThumbnailImage();if(n.length){n.click();e.preventDefault()}}}},prototype:{getThumbnailImage:function(){return n(".gallery",this)}}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:asynchronous-attachment-expansion', location = 'viewissue/attachment/attachment.soy' */
// This file was automatically generated from attachment.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }


JIRA.Templates.ViewIssue.attachmentContents = function(opt_data, opt_ignored) {
  var output = '<ol class="archive-expanded">';
  var entries__soy4 = opt_data.attachment.entries;
  var entryList5 = entries__soy4;
  var entryListLen5 = entryList5.length;
  for (var entryIndex5 = 0; entryIndex5 < entryListLen5; entryIndex5++) {
    var entryData5 = entryList5[entryIndex5];
    output += JIRA.Templates.ViewIssue.attachmentArchiveEntry(soy.$$augmentMap(opt_data, {entry: entryData5}));
  }
  output += ((opt_data.attachment.totalEntryCount == 0) ? '<li><div class="aui-message aui-message-warning" style="display: inline-block"><p>' + soy.$$escapeHtml('\u042d\u0442\u043e\u0442 \u0430\u0440\u0445\u0438\u0432 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d, \u043f\u0443\u0441\u0442 \u0438\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u043d \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u0430\u0440\u0445\u0438\u0432\u0430.') + '.</p></div></li>' : '') + '</ol><span class="zip-contents-trailer">' + ((entries__soy4.length < opt_data.attachment.totalEntryCount) ? '<span class="limit-info">' + soy.$$escapeHtml(AJS.format('\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u044b {0} \u0438\u0437 {1} \u043f\u0443\u043d\u043a\u0442\u043e\u0432',entries__soy4.length,opt_data.attachment.totalEntryCount)) + ' </span>' : '');
  var attachmentUrl__soy20 = soy.$$escapeHtml(opt_data.baseUrl) + '/secure/attachment/' + soy.$$escapeHtml(opt_data.attachment.id) + '/';
  output += '<a href="' + soy.$$escapeHtml(attachmentUrl__soy20) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(opt_data.attachment.mediaType) + ':' + soy.$$escapeHtml(opt_data.attachment.name) + ':' + soy.$$escapeHtml(attachmentUrl__soy20) + '">' + soy.$$escapeHtml('\u0421\u043a\u0430\u0447\u0430\u0442\u044c Zip') + '</a></span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.attachmentContents.soyTemplateName = 'JIRA.Templates.ViewIssue.attachmentContents';
}


JIRA.Templates.ViewIssue.attachmentArchiveEntry = function(opt_data, opt_ignored) {
  var output = '';
  var entryUrl__soy37 = soy.$$escapeHtml(opt_data.baseUrl) + '/secure/attachmentzip/unzip/' + soy.$$escapeHtml(opt_data.issueId) + '/' + soy.$$escapeHtml(opt_data.attachment.id) + '%5B' + soy.$$escapeHtml(opt_data.entry.index) + '%5D/';
  var entryDownloadUrl__soy49 = soy.$$filterNoAutoescape(opt_data.entry.mediaType) + ':' + soy.$$filterNoAutoescape(opt_data.entry.path) + ':' + soy.$$filterNoAutoescape(entryUrl__soy37);
  output += '<li class="archive-entry" data-entry-index="' + soy.$$escapeHtml(opt_data.entry.index) + '"><div class="attachment-thumb"><a href="' + soy.$$escapeHtml(entryUrl__soy37) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(entryDownloadUrl__soy49) + '"' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id + '/' + opt_data.entry.index, title: opt_data.entry.label, mimeType: opt_data.entry.mediaType}) + '>' + JIRA.Templates.ViewIssue.renderAttachmentIcon({mimetype: opt_data.entry.mediaType, baseurl: opt_data.baseUrl}) + '</a></div><a class="file-path" href="' + soy.$$escapeHtml(entryUrl__soy37) + '" title="' + soy.$$escapeHtml(opt_data.entry.path) + '" draggable="true" data-downloadurl="' + soy.$$escapeHtml(entryDownloadUrl__soy49) + '"' + JIRA.Templates.ViewIssue.tagFilePreview({id: opt_data.attachment.id + '/' + opt_data.entry.index, title: opt_data.entry.label, mimeType: opt_data.entry.mediaType}) + '>' + soy.$$escapeHtml(opt_data.entry.label) + '</a><span class="attachment-size">' + soy.$$escapeHtml(opt_data.entry.size) + '</span></li>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.attachmentArchiveEntry.soyTemplateName = 'JIRA.Templates.ViewIssue.attachmentArchiveEntry';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:draggableattachment', location = 'viewissue/initDraggableAttachment.js' */
define("jira/view-issue-plugin/init-draggable-attachment",["jquery"],(function(e){"use strict";e.event.props.push("dataTransfer");e("[draggable=true]").live("dragstart",(function(a){var t=e(this),i=a.dataTransfer;i.effectAllowed="copy";i.dropEffect="copy";i.setData("DownloadURL",t.data("downloadurl"));t.find("img").length||i.setDragImage(t.closest("li").find("img:visible")[0],8,8)}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:analytics', location = 'viewissue/analytics.js' */
define("jira/view-issue-plugin/analytics",["jira/analytics","jquery"],(function(i,s){"use strict";var n=s(document);n.on("click","#subtasks-bulk-operation",(function(){i.send({name:"jira.bulk.move.click.subtasks-bulk-operation"})}));n.on("click","#subtasks-open-issue-navigator",(function(){i.send({name:"jira.bulk.move.click.subtasks-open-issue-navigator"})}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:controller-subtasks', location = 'viewissue/subtasks/subtasks.js' */
require(["jquery","wrm/data","wrm/context-path","jira/analytics","jira/issuetable"],(function(n,i,t,e,r){"use strict";var o=function(n){return n.position.current<n.position.original},s=function(i){return n(i.row).parent().find("tr .stsequence div")},a=function(n){var i=s(n),t=n.position;return o(n)?i.slice(t.current+1,t.original+1):i.slice(t.original,t.current)};i.claim("com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters",(function(i){r.then((function(r){r&&r.onTable((function(r){var u=t()+i.url.replace("{issueId}",JIRA.Issue.getIssueId());n.get(u).success((function(u){if(u){r.on(r.Events.ROW_DRAG_COMPLETED,(function(u){if(function(n){return n.position.original!==n.position.current}(u)){n.ajax({url:t()+i.url.replace("{issueId}",JIRA.Issue.getIssueId()),type:"POST",method:"POST",accept:"application/json",contentType:"application/json",data:JSON.stringify({original:u.position.original,current:u.position.current}),dataType:"json"}).success((function(){[].slice.call(s(u)).forEach((function(i,t){n(i).html(t+1+".")}))})).fail((function(){console.error("Unable to store updated issues position");r.dragging.cancel()}));e.send({name:"com.atlassian.jira.view-issue-plugin.subtasks.drag.and.drop",data:{direction:o(u)?"up":"down",rowsCount:s(u).length,rowsUpdated:a(u).length}})}}));r.dragging.enable()}}))}))}))}),(function(){console.warn("Unable to read data from WRM")}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:linkingmodule-js', location = 'viewissue/links/links-container.js' */
define("jira/view-issue-plugin/links/links-container",["jira/util/formatter","wrm/context-path","jira/ajs/ajax/smart-ajax","jira/skate","jquery"],(function(e,n,i,t,a){"use strict";return t("links-container",{type:t.type.CLASSNAME,attached:function(e){a(e).find("dd:not(.collapsed-link)").each((function(e,n){l(a(n))}))},events:{"click #show-more-links-link":function(e,n,i){n.preventDefault();var t=a(e);t.find(i).parent().hide();t.find(".collapsed-links-list").removeClass("collapsed-links-list");t.find("dd.collapsed-link").each((function(e,n){var i=a(n);l(i);i.removeClass("collapsed-link")}))}}});function l(t){var l,s,d=t.data("remote-link-id");d&&t.data("requires-async-loading")&&(l=d,s=t.attr("id"),i.makeRequest({error:function(){var n=a(document.getElementById(s)),i=n.parents("*[data-default-link-icon]").data("default-link-icon");n.find(".link-loading").removeClass("link-loading").addClass("link-loading-failed").html("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c");n.find(".link-throbber").append(a("<img width='16' height='16' title='' alt='' />").attr("src",i))},success:function(e){a(document.getElementById(s)).find(".link-content").html(e)},url:n()+"/rest/viewIssue/1/remoteIssueLink/render/"+l}))}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-view-issue-plugin:initialiser', location = 'viewissue/initViewIssue.js' */
require(["jira/view-issue-plugin/attachment/attachment-element","jira/view-issue-plugin/init-draggable-attachment","jira/view-issue-plugin/links/links-container","jira/view-issue-plugin/analytics"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:constants', location = 'js/editor-constants.js' */
define("jira/editor/constants",[],function(){return{EventSources:{SHORTCUT:"shortcut",BUTTON:"button",UNKNOWN:"unknown"},EventTypes:{ADD:"add",UNDO:"undo",REDO:"redo",CLEAR:"clear"},Context:{DIALOG:"dialog",COMMENT:"comment",UNKNOWN:"unknown"},Modes:{TEXT:"source",VISUAL:"wysiwyg"},SupportedImagesRegexp:/\.(bmp|gif|jpg|jpeg|png|tiff|webp)$/i,LEFT_WHITESPACE_MATCHER:/^\s+/,RIGHT_WHITESPACE_MATCHER:/\s+$/,CLASS_COVER:"richeditor-cover",CLASS_LOADING:"richeditor-loading",EVENT_CHANGE:"richeditor:change",
EVENT_OPERATION:"toolbar-operation",EVENT_OPERATION_COLOR:"toolbar-operation-color",EVENT_OPERATION_ATTACHMENT:"toolbar-operation-attachment"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-thumbnails', location = '/js/Thumbnails.js' */
define("wiki-edit/thumbnails",["wrm/data"],function(f){var b=f.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-thumbnails.thumbnails-allowed");return{isThumbnailable:function(c,d){var e=!0;null!=b&&(e=!!b);if(!e)return!1;var a;d&&(a=d.data("attachment-thumbnail"));return null==a?!!c.match(/\.(jpg|jpeg|pjpeg|png)$/i):a?!c.match(/\.gif$/i):!1}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:height-helper', location = 'js/height-helper-heights.js' */
define("jira/editor/height-helper-heights",[],function(){return{FULL_ISSUE_DETAILS:{min:219,max:629},FULL_ISSUE_DETAILS_STICKY_FOOTER:{min:174,max:400},SD_COMMENT:{min:220,max:629},SD_COMMENT_STICKY_FOOTER:{min:220,max:400},BOARD_BACKLOG_ISSUE_DETAILS:{min:219,max:629},DIALOG_ISSUE_DETAILS:{min:174,max:369},COMMENT:{min:174,max:629},COMMENT_STICKY_FOOTER:{min:174,max:400},BOARD_BACKLOG_COMMENT_STICKY_FOOTER:{min:156,max:156}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:height-helper', location = 'js/height-helper.js' */
define("jira/editor/height-helper",["jquery","jira/editor/height-helper-heights"],function(c,b){return function(f){this.element=f;this.getMinHeight=function(){return this._getLocation().min};this.getMaxHeight=function(){return this._getLocation().max};this.setHeights=function(a,d){d=d||0;a=a?c(a):c(this.element);a.css("height","");a.removeAttr("rows");var e=this._getLocation();a.css("min-height",e.min+d+"px");a.css("max-height",e.max+d+"px")};this._getLocation=function(){return this._isDialog()?b.DIALOG_ISSUE_DETAILS:
this._isBoard()&&this._isComment()&&this._isStickyFooterEnabled()?b.BOARD_BACKLOG_COMMENT_STICKY_FOOTER:this._isBoard()?b.BOARD_BACKLOG_ISSUE_DETAILS:this._isComment()?this._isStickyFooterEnabled()?b.COMMENT_STICKY_FOOTER:b.COMMENT:this._isSDComment()?this._isStickyFooterEnabled()?b.SD_COMMENT_STICKY_FOOTER:b.SD_COMMENT:this._isStickyFooterEnabled()?b.FULL_ISSUE_DETAILS_STICKY_FOOTER:b.FULL_ISSUE_DETAILS};this._isComment=function(){return 0<c(this.element).closest(".comment-input").length};this._isSDComment=
function(){return 0<c(this.element).closest("sd-comment").length};this._isDialog=function(){return 0<c(this.element).closest(".jira-dialog, .jira-dialog2").length};this._isBoard=function(){return 0<c(this.element).closest(".ghx-detail-view").length};this._isStickyFooterEnabled=function(){const a=c(this.element).closest("#addcomment")[0];return a?"true"===a.dataset.stickyCommentEnabled:!1}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-phantom-caret', location = '/js/PhantomCaret.js' */
{class c{constructor(){this.node=this._createCaretNode()}reset(){this.lastMountTarget=null;this.node=this._createCaretNode()}setPhantomCaretPosition(a){this.node.style.top=`${a}px`;return this.node}setCaretHeight(a){this.node.style.height=`${a}px`;return this.node}getNode(){return this.node}queryPhantomCaretInDOM(){return this.lastMountTarget.contains(this.node)?this.node:null}mountPhantomCaret(a){if(this.lastMountTarget===a)return this.node;this._isCaretAlreadyInDOM()&&this.dismountPhantomCaret();
a.appendChild(this.getNode());this.lastMountTarget=a;return this.node}dismountPhantomCaret(){return this.node=this.node.parentNode.removeChild(this.node)}_createCaretNode(){const a=document.createElement("div");a.classList.add("phantom-caret");return a}_isCaretAlreadyInDOM(){return!!this.lastMountTarget&&this.lastMountTarget.querySelector(".phantom-caret")}}let b;define("wiki-edit/PhantomCaret",function(){b||(b=new c);return b})};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/templates/wiki-editor.soy' */
// This file was automatically generated from wiki-editor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Plugins.WikiEditor.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Plugins == 'undefined') { JIRA.Templates.Plugins = {}; }
if (typeof JIRA.Templates.Plugins.WikiEditor == 'undefined') { JIRA.Templates.Plugins.WikiEditor = {}; }


JIRA.Templates.Plugins.WikiEditor.renderEditor = function(opt_data, opt_ignored) {
  var output = '';
  var auiAlignmentContainer__soy3 = opt_data.containerSelector ? 'data-aui-alignment-container=' + opt_data.containerSelector : '';
  output += '<div id="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="paragraph" title="' + soy.$$escapeHtml('\u0410\u0431\u0437\u0430\u0446') + '">' + soy.$$escapeHtml('\u0410\u0431\u0437\u0430\u0446') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h1" data-operation="h1" title="' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1') + '">' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h2" data-operation="h2" title="' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2') + '">' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h3" data-operation="h3" title="' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3') + '">' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h4" data-operation="h4" title="' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4') + '">' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h5" data-operation="h5" title="' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5') + '">' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-h6" data-operation="h6" title="' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6') + '">' + soy.$$escapeHtml('\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6') + '</a></li><li><a href="#" class="wiki-edit-operation wiki-edit-operation-monospace" data-operation="monospace" title="' + soy.$$escapeHtml('\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439') + '">' + soy.$$escapeHtml('\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="paragraph-quote" title="' + soy.$$escapeHtml('\u0426\u0438\u0442\u0430\u0442\u0430 \u0430\u0431\u0437\u0430\u0446\u0430') + '">' + soy.$$escapeHtml('\u0426\u0438\u0442\u0430\u0442\u0430 \u0430\u0431\u0437\u0430\u0446\u0430') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="block-quote" title="' + soy.$$escapeHtml('\u0426\u0438\u0442\u0430\u0442\u0430 \u0431\u043b\u043e\u043a\u0430') + '">' + soy.$$escapeHtml('\u0426\u0438\u0442\u0430\u0442\u0430 \u0431\u043b\u043e\u043a\u0430') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="delete" data-shortcut="ctrl+shift+s, command+shift+s" title="' + soy.$$escapeHtml('\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+S)">' + soy.$$escapeHtml('\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="subscript">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="superscript">' + soy.$$escapeHtml('\u041d\u0430\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="cite">' + soy.$$escapeHtml('\u0426\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="monospace-inline">' + soy.$$escapeHtml('\u041c\u043e\u043d\u043e\u0448\u0438\u043d\u043d\u044b\u0439') + '</a></li></ul></div><div class="aui-dropdown2-section" hidden><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="clear-format">' + soy.$$escapeHtml('\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-link"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="link" data-shortcut="ctrl+k, command+k" title="' + soy.$$escapeHtml('\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0432\u044f\u0437\u044c') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)">' + soy.$$escapeHtml('\u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0432\u044f\u0437\u044c') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-mail">' + soy.$$escapeHtml('\u041f\u043e\u0447\u0442\u043e\u0432\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="link-anchor">' + soy.$$escapeHtml('\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u0441\u0441\u044b\u043b\u043a\u0438') + '</a></li></ul></div></div><div id="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown wiki-edit-dropdown-attachment"><div class="aui-dropdown2-section wiki-edit-insert-attachment"><ul class="aui-list-truncate"><li><a href="#"></a></li></ul></div><div class="aui-dropdown2-section wiki-edit-browse-image"><ul class="aui-list-truncate"><li><a href="#" class="wiki-attachment-browse"><span class="aui-icon aui-icon-small aui-iconfont-add"></span>&nbsp;&nbsp;' + soy.$$escapeHtml('\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440') + '</a></li></ul></div></div><div id="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-color-picker">';
  var colors__soy83 = [{hex: '172B4D', name: '\u0427\u0435\u0440\u043d\u044b\u0439'}, {hex: '505F79', name: '\u0422\u0435\u043c\u043d\u043e-\u0441\u0435\u0440\u044b\u0439'}, {hex: 'C1C7D0', name: '\u0421\u0432\u0435\u0442\u043b\u043e-\u0441\u0435\u0440\u044b\u0439'}, {hex: '0747A6', name: '\u0421\u0438\u043d\u0438\u0439'}, {hex: '4C9AFF', name: '\u0413\u043e\u043b\u0443\u0431\u043e\u0439'}, {hex: '00875A', name: '\u0417\u0435\u043b\u0435\u043d\u044b\u0439'}, {hex: '57D9A3', name: '\u0421\u0430\u043b\u0430\u0442\u043e\u0432\u044b\u0439'}, {hex: 'DE350B', name: '\u041a\u0440\u0430\u0441\u043d\u044b\u0439'}, {hex: 'FF8B00', name: '\u0422\u0435\u043c\u043d\u043e-\u043e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439'}, {hex: 'FFAB00', name: '\u0421\u0432\u0435\u0442\u043b\u043e-\u043e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439'}, {hex: '403294', name: '\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439'}, {hex: 'FFBDAD', name: '\u041f\u0435\u0440\u0441\u0438\u043a\u043e\u0432\u044b\u0439'}];
  output += '<div class="aui-dropdown2-section"><ul>';
  var colorList85 = colors__soy83;
  var colorListLen85 = colorList85.length;
  for (var colorIndex85 = 0; colorIndex85 < colorListLen85; colorIndex85++) {
    var colorData85 = colorList85[colorIndex85];
    output += '<li><a href="#" class="wiki-edit-tooltip" aria-label="' + soy.$$escapeHtml(colorData85.name) + '" title="' + soy.$$escapeHtml(colorData85.name) + '" style="background-color: #' + soy.$$escapeHtml(colorData85.hex) + '" data-operation="color" data-color="#' + soy.$$escapeHtml(colorData85.hex) + '">&nbsp;</a></li>';
  }
  output += '</ul></div></div><div id="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-picker wiki-edit-icon-picker"><div class="aui-dropdown2-section"><ul><li><a href="#" class="wiki-edit-operation" title=":)" data-operation=":)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/smile.png" alt="' + soy.$$escapeHtml('smile') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=":(" data-operation=":("><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/sad.png" alt="' + soy.$$escapeHtml('sad') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=":P" data-operation=":P"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/tongue.png" alt="' + soy.$$escapeHtml('tongue') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=":D" data-operation=":D"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/biggrin.png" alt="' + soy.$$escapeHtml('biggrin') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title=";)" data-operation=";)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/wink.png" alt="' + soy.$$escapeHtml('wink') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(y)" data-operation="(y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_up.png" alt="' + soy.$$escapeHtml('thumbs up') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(n)" data-operation="(n)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/thumbs_down.png" alt="' + soy.$$escapeHtml('\u043f\u0430\u043b\u0435\u0446 \u0432\u043d\u0438\u0437') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(i)" data-operation="(i)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/information.png" alt="' + soy.$$escapeHtml('\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(/)" data-operation="(/)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/check.png" alt="' + soy.$$escapeHtml('\u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(x)" data-operation="(x)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/error.png" alt="' + soy.$$escapeHtml('\u043e\u0448\u0438\u0431\u043a\u0430') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(!)" data-operation="(!)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/warning.png" alt="' + soy.$$escapeHtml('\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(+)" data-operation="(+)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/add.png" alt="' + soy.$$escapeHtml('\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(-)" data-operation="(-)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/forbidden.png" alt="' + soy.$$escapeHtml('\u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(?)" data-operation="(?)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/help_16.png" alt="' + soy.$$escapeHtml('\u043f\u043e\u043c\u043e\u0449\u044c') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(on)" data-operation="(on)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb_on.png" alt="' + soy.$$escapeHtml('\u043b\u0430\u043c\u043f\u043e\u0447\u043a\u0430 \u0433\u043e\u0440\u0438\u0442') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(off)" data-operation="(off)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/lightbulb.png" alt="' + soy.$$escapeHtml('lightbulb') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*)" data-operation="(*)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.png" alt="' + soy.$$escapeHtml('\u0436\u0435\u043b\u0442\u0430\u044f \u0437\u0432\u0435\u0437\u0434\u0430') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*r)" data-operation="(*r)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_red.png" alt="' + soy.$$escapeHtml('star red') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*g)" data-operation="(*g)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_green.png" alt="' + soy.$$escapeHtml('star green') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*b)" data-operation="(*b)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_blue.png" alt="' + soy.$$escapeHtml('star blue') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(*y)" data-operation="(*y)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/star_yellow.png" alt="' + soy.$$escapeHtml('\u0436\u0435\u043b\u0442\u0430\u044f \u0437\u0432\u0435\u0437\u0434\u0430') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flag)" data-operation="(flag)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag.png" alt="' + soy.$$escapeHtml('\u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c') + '" loading="lazy" /></a></li><li><a href="#" class="wiki-edit-operation" title="(flagoff)" data-operation="(flagoff)"><img src="' + soy.$$escapeHtml("") + '/images/icons/emoticons/flag_grey.png" alt="' + soy.$$escapeHtml('\u0441\u043d\u044f\u0442\u044c \u043e\u0442\u043c\u0435\u0442\u043a\u0443') + '" loading="lazy" /></a></li></ul></div></div><div id="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" class="aui-dropdown2 aui-style-default wiki-edit-dropdown"><div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="#" class="wiki-edit-operation" data-operation="mention">' + soy.$$escapeHtml('\u0423\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="table">' + soy.$$escapeHtml('\u0422\u0430\u0431\u043b\u0438\u0446\u0430') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="code">' + soy.$$escapeHtml('\u041a\u043e\u0434') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="noformat">' + soy.$$escapeHtml('\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="panel">' + soy.$$escapeHtml('\u041f\u0430\u043d\u0435\u043b\u044c') + '</a></li><li><a href="#" class="wiki-edit-operation" data-operation="hr">' + soy.$$escapeHtml('\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0435\u0439\u043a\u0430') + '</a></li><li class="wiki-edit-speech-item hidden"><a href="#" class="wiki-edit-operation" data-operation="speech">' + soy.$$escapeHtml('\u0420\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0447\u0438') + '</a></li></ul></div>' + ((opt_data.helpData.showHelp) ? '<div class="aui-dropdown2-section"><ul class="aui-list-truncate"><li><a href="' + soy.$$escapeHtml("") + '/secure/WikiRendererHelpAction.jspa?section=texteffects" target="_blank" title="' + soy.$$escapeHtml('\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0434\u043b\u044f \u043c\u0435\u043d\u044f \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0432\u0438\u043a\u0438-\u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0438') + '">' + soy.$$escapeHtml('\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0443') + '</a></li><li><a href="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationUrl) + '" target="_blank" title="' + soy.$$escapeHtml(opt_data.helpData.editorDocumentationTitle) + '">' + soy.$$escapeHtml('\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e \u0432\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0440\u0435\u0436\u0438\u043c\u0443') + '</a></li></ul></div>' : '') + '</div><div class="wiki-edit-toolbar" id="wiki-edit-' + soy.$$escapeHtml(opt_data.editorId) + '"><button type="button" class="aui-button aui-button-subtle aui-button-compact wiki-edit-visible-toggle wiki-edit-tooltip" title="' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-double-down">' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432') + '</span></button><div class="aui-toolbar2"><div class="aui-toolbar2-inner" role="toolbar"><div class="aui-toolbar2-primary"><div class="aui-buttons"><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-style-picker-trigger" aria-owns="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-text-style-' + soy.$$escapeHtml(opt_data.editorId) + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '>' + soy.$$escapeHtml('\u0421\u0442\u0438\u043b\u044c') + '</a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" role="button" aria-pressed="false" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bold" data-shortcut="ctrl+b, command+b" title="' + soy.$$escapeHtml('\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-bold">' + soy.$$escapeHtml('\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+B)</span></a><a href="#" role="button" aria-pressed="false" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="italic" data-shortcut="ctrl+i, command+i" title="' + soy.$$escapeHtml('\u041a\u0443\u0440\u0441\u0438\u0432') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+I)"><span class="aui-icon aui-icon-small aui-iconfont-editor-italic">' + soy.$$escapeHtml('\u041a\u0443\u0440\u0441\u0438\u0432') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+I)</span></a><a href="#" role="button" aria-pressed="false" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="underline" data-shortcut="ctrl+u, command+u" title="' + soy.$$escapeHtml('\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044c') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+U)"><span class="aui-icon aui-icon-small aui-iconfont-editor-underline">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044c') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+U)</span></a><a href="#" role="button" class="aui-button aui-button-subtle wiki-edit-operation wiki-edit-operation-color" data-operation="color" data-color="red" title="' + soy.$$escapeHtml('\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-color">' + soy.$$escapeHtml('\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430') + '</span><span class="wiki-edit-color-indicator"></span></a><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-color-picker-trigger" data-operation="color-parameter" aria-owns="wiki-edit-color-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" title="' + soy.$$escapeHtml('\u0411\u043e\u043b\u044c\u0448\u0435 \u0446\u0432\u0435\u0442\u043e\u0432') + '"><span class="visually-hidden">' + soy.$$escapeHtml('\u0411\u043e\u043b\u044c\u0448\u0435 \u0446\u0432\u0435\u0442\u043e\u0432') + '</span></a><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-more-picker-trigger" aria-owns="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-more-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u043f\u0446\u0438\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f') + '"><span class="aui-icon aui-icon-small aui-iconfont-editor-styles">' + soy.$$escapeHtml('\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u043f\u0446\u0438\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f') + '</span></a></div><div class="aui-buttons"><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-link-picker-trigger" aria-owns="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-link-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('\u0421\u0441\u044b\u043b\u043a\u0430') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-link">' + soy.$$escapeHtml('\u0421\u0441\u044b\u043b\u043a\u0430') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+K)</span></a><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-attachment-picker-trigger" aria-owns="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-attachment-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('\u0412\u043b\u043e\u0436\u0435\u043d\u0438\u0435') + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-file-generic">' + soy.$$escapeHtml('\u0412\u043b\u043e\u0436\u0435\u043d\u0438\u0435') + '</span></a></div><div class="aui-buttons wiki-edit-toolbar-section"><a href="#" role="button" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="bullet-list" data-shortcut="ctrl+shift+b, command+shift+b" title="' + soy.$$escapeHtml('\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+B)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-bullet">' + soy.$$escapeHtml('\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+B)</span></a><a href="#" role="button" class="aui-button aui-button-subtle wiki-edit-operation" data-operation="numbered-list" data-shortcut="ctrl+shift+n, command+shift+n" title="' + soy.$$escapeHtml('\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+N)"><span class="aui-icon aui-icon-small aui-iconfont-editor-list-number">' + soy.$$escapeHtml('\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a') + ' (' + soy.$$escapeHtml(opt_data.controlKey) + '+Shift+N)</span></a></div><div class="aui-buttons"><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-icon-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-icon-picker-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('\u0417\u043d\u0430\u0447\u043a\u0438') + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-editor-emoticon">' + soy.$$escapeHtml('\u0417\u043d\u0430\u0447\u043a\u0438') + '</span></a><a href="#" role="button" class="aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-other-picker-trigger wiki-edit-tooltip" aria-owns="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" aria-haspopup="true" aria-controls="wiki-edit-dropdown2-other-' + soy.$$escapeHtml(opt_data.editorId) + '" title="' + soy.$$escapeHtml('\u0414\u0440\u0443\u0433\u043e\u0435') + '" ' + soy.$$escapeHtml(auiAlignmentContainer__soy3) + '><span class="aui-icon aui-icon-small aui-iconfont-add">' + soy.$$escapeHtml('\u0414\u0440\u0443\u0433\u043e\u0435') + '</span></a></div></div></div><!-- .aui-toolbar-inner --><div class="aui-buttons wiki-edit-toolbar-last"><button type="button" class="aui-button aui-button-subtle wiki-edit-visible-toggle wiki-edit-hide-toolbar wiki-edit-tooltip" title="' + soy.$$escapeHtml('\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-double-up">' + soy.$$escapeHtml('\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432') + '</span></button></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderEditor.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderEditor';
}


JIRA.Templates.Plugins.WikiEditor.renderListItem = function(opt_data, opt_ignored) {
  return '<li><a href="#" ' + soy.$$escapeHtml(opt_data.attachmentType ? 'data-attachment-type=' + opt_data.attachmentType : '') + ' ' + soy.$$escapeHtml(opt_data.attachmentHref ? 'data-attachment-href=' + opt_data.attachmentHref : '') + ' data-attachment-thumbnail=' + soy.$$escapeHtml(opt_data.attachmentThumbnailable ? true : false) + '><span class="wiki-edit-attachment-type-icon aui-icon aui-icon-small ' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.cssClass) : 'aui-iconfont-file-txt') + '" title="' + soy.$$escapeHtml(((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) != null ? ((opt_data.attachmentTypeIcon == null) ? null : opt_data.attachmentTypeIcon.title) : '\u0424\u0430\u0439\u043b') + '"></span>&nbsp;&nbsp;<span class="wiki-edit-attachment-name">' + soy.$$escapeHtml(opt_data.text) + '</span></a></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.renderListItem.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.renderListItem';
}


JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml("") + '/secure/temporaryattachment/' + soy.$$escapeHtml(opt_data.formToken) + '/' + soy.$$escapeHtml(opt_data.temporaryAttachmentId) + '_' + soy.$$escapeHtml(opt_data.filename);
};
if (goog.DEBUG) {
  JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl.soyTemplateName = 'JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster.js' */
(function(k){function t(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function A(a){var b,c;var d=a.keyCode;-1==t(q,d)&&q.push(d);if(93==d||224==d)d=91;if(d in e)for(b in e[d]=!0,p)p[b]==d&&(r[b]=!0);else{for(f in e)e[f]=a[B[f]];if(r.filter.call(this,a)&&d in l){var m=v();for(c=0;c<l[d].length;c++){var g=l[d][c];if(g.scope==m||"all"==g.scope){var h=0<g.mods.length;for(b in e)if(!e[b]&&-1<t(g.mods,+b)||e[b]&&-1==t(g.mods,+b))h=!1;(0!=g.mods.length||e[16]||e[18]||e[17]||e[91])&&!h||!1!==
g.method(a,g)||(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}}}function r(a,b,c){var d=x(a);void 0===c&&(c=b,b="all");for(var m=0;m<d.length;m++){var g=[];a=d[m].split("+");1<a.length&&(g=y(a),a=[a[a.length-1]]);a=a[0];a=u[a]||a.toUpperCase().charCodeAt(0);a in l||(l[a]=[]);l[a].push({shortcut:d[m],scope:b,method:c,key:d[m],mods:g})}}function v(){return z||"all"}function x(a){a=a.replace(/\s/g,"");a=a.split(",");
""==a[a.length-1]&&(a[a.length-2]+=",");return a}function y(a){a=a.slice(0,a.length-1);for(var b=0;b<a.length;b++)a[b]=p[a[b]];return a}function w(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c(window.event)})}var f,l={},e={16:!1,18:!1,17:!1,91:!1},z="all",p={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},u={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,
del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"\x3d":187,";":186,"'":222,"[":219,"]":221,"\\":220},q=[];for(f=1;20>f;f++)u["f"+f]=111+f;var B={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(f in p)r[f]=!1;w(document,"keydown",function(a){A(a)});w(document,"keyup",function(a){a=a.keyCode;var b,c=t(q,a);0<=c&&q.splice(c,1);if(93==a||224==a)a=91;if(a in e)for(b in e[a]=!1,p)p[b]==a&&(r[b]=!1)});w(window,"focus",function(){for(f in e)e[f]=!1;
for(f in p)r[f]=!1});var C=k.key;k.key=r;k.key.setScope=function(a){z=a||"all"};k.key.getScope=v;k.key.deleteScope=function(a){var b,c;for(b in l){var d=l[b];for(c=0;c<d.length;)d[c].scope===a?d.splice(c,1):c++}};k.key.filter=function(a){a=(a.target||a.srcElement).tagName;return!("INPUT"==a||"SELECT"==a||"TEXTAREA"==a)};k.key.isPressed=function(a){"string"==typeof a&&(a=u[a]||a.toUpperCase().charCodeAt(0));return-1!=t(q,a)};k.key.getPressedKeyCodes=function(){return q.slice(0)};k.key.noConflict=function(){var a=
k.key;k.key=C;return a};k.key.unbind=function(a,b){var c=[],d,m;var g=x(a);for(m=0;m<g.length;m++){var h=g[m].split("+");1<h.length&&(c=y(h),a=h[h.length-1]);a=u[a]||a.toUpperCase().charCodeAt(0);void 0===b&&(b=v());if(!l[a])break;for(d in l[a]){h=l[a][d];var n;if(n=h.scope===b)a:if(h=h.mods,h.length!=c.length)n=!1;else{for(n=0;n<h.length;n++)if(h[n]!==c[n]){n=!1;break a}n=!0}n&&(l[a][d]={})}}};"undefined"!==typeof module&&(module.exports=key)})(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/amd-wrappers.js' */
(function(){var a=window.key.noConflict();define("wiki-edit/keymaster",["jira/util/data/meta"],function(b){return!1===b.get("keyboard-shortcuts-enabled")?function(){}:a})})();define("wiki-edit/editor/templates",[],function(){return window.JIRA.Templates.Plugins.WikiEditor});define("wiki-edit/viewissue/templates",[],function(){return window.JIRA.Templates.ViewIssue});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/AttachmentListUtil.js' */
define("wiki-edit/attachment-list-util","wiki-edit/WikiEnabledTextarea jquery underscore wiki-edit/keymaster wiki-edit/analytics wiki-edit/WikiEditorUtil wiki-edit/editor/templates wiki-edit/thumbnails".split(" "),function(A,d,B,C,D,f,p,z){return{buildAttachmentLinks:function(l,m,q,r,t){var h=[],k=[];q&&d(".upload-progress-bar:not(.upload-progress-bar__upload-error) span.upload-progress-bar__file-name").each(function(a,b){h.push(b)});var u=function(){d("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").each(function(a,
b){h.push(b)})};!r&&t&&u();var v=function(a,b){if(!a)return null;var e=f.getFileExtension(a);return{name:a,type:b,icon:f.translateFileExtensionToAttachmentTypeIcon(e)}},n=d("#ghx-tab-attachments .ghx-container"),w=0<n.length;w?(n.find("#file_attachments li.attachment-content \x3e dl dt.attachment-title a, #file_attachments div.verbose dt.attachment-title a").each(function(a,b){(a=v(b.textContent,"file"))&&k.push(a)}),n.find("#attachment_thumbnails a.attachment-title").each(function(a,b){(a=v(b.textContent,
"image"))&&k.push(a)})):0<d("#ghx-detail-issue").length&&u();l.empty();m.addClass("hidden");(q||t||!w)&&h.length?(m.removeClass("hidden"),d(h).each(function(){var a=d(this),b=a.is("span.upload-progress-bar__file-name")?a.text():a.find("a.attachment-title, .attachment-title a").first().text(),e=a.attr("data-attachment-type");void 0===e&&(e=b.match(/\.(bmp|gif|jpg|jpeg|pjpeg|png|tiff|webp)$/i)?"image":"file");var g=f.defaultAttachmentTypeIcon,c=a.attr("data-downloadurl");void 0===c&&(c=a.find("[data-downloadurl]").attr("data-downloadurl"));
void 0!==c&&"string"===typeof c&&f.canTranslateMimeTypeToAttachmentTypeIcon()?(c=c.split(":"),0<c.length&&(g=f.translateMimeTypeToAttachmentTypeIcon(c[0]))):void 0!==b&&"string"===typeof b&&(c=b.match(/\.(\w{1,5})$/i))&&1<c.length&&(g=f.translateFileExtensionToAttachmentTypeIcon(c[1]));c=a.find("a.attachment-title, .attachment-title\x3ea").attr("href");if(!c&&a.is("span.upload-progress-bar__file-name")){var x=a.parents("[data-file-id]").attr("data-file-id"),y=a.parents("form").find('input[name\x3d"formToken"]').attr("value")||
"undefined";x&&y&&(c=JIRA.Templates.Plugins.WikiEditor.temporaryAttachmentViewUrl({formToken:y,temporaryAttachmentId:x,filename:encodeURIComponent(b)}))}a=z.isThumbnailable(b,a);l.append(d(p.renderListItem({text:b,attachmentType:e,attachmentTypeIcon:g,attachmentThumbnailable:a,attachmentHref:c})))})):!r&&0<k.length&&(m.removeClass("hidden"),k.forEach(function(a){if(null!=a&&null!=a.name){var b=a.name,e=a.type?a.type:"file";a=a.icon?a.icon:{cssClass:"aui-iconfont-devtools-file",title:""};var g=_isThumbnailable(b);
l.append(d(p.renderListItem({text:b,attachmentType:e,attachmentThumbnailable:g,attachmentTypeIcon:a})))}}))}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/Analytics.js' */
define("wiki-edit/analytics",["jira/analytics"],function(d){return{trigger:function(b,a){d.send({name:"jira.wikieditor."+b,data:a||{}})},hashCode:function(b){var a=0;if(!b)return"";for(var c=0;c<b.length;c+=1){var e=b.charCodeAt(c);a=32*a-a+e;a|=0}return a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/KeyTester.js' */
define("wiki-edit/KeyTester",function(){return{getActionType:function(a){if(this.isNavigation(a))return"navigating";if(this.isDeleting(a))return"deleting";if(this.isReturn(a))return"newline";if(this.isEscape(a))return"escape";if(this.isTyping(a))return"typing"},isNavigation:function(a){return 33<=a&&40>=a||63232<=a&&63235>=a},isDeleting:function(a){return 8==a||46==a||127==a},isReturn:function(a){return 13==a},isEscape:function(a){return 27==a},isTyping:function(a){return 47<a&&58>a||95<a&&112>a||
64<a&&91>a||185<a&&193>a||218<a&&223>a||32==a||13==a}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoManager.js' */
define("wiki-edit/UndoManager",["jira/backbone-1.3.3","underscore-1.8.3"],function(d,c){var b=function(){this._undoStack=[];this._redoStack=[];this._current=void 0;c.extend(this,d.Events)};b.EventTypes=b.prototype.EventTypes={UNDO:"UndoManager:undo",REDO:"UndoManager:redo",CLEAR:"UndoManager:clear",PUSH:"UndoManager:push",UPDATE_CURRENT:"UndoManager:updateCurrent"};b.prototype.MAX_STACK=1E3;b.prototype.updateCurrent=function(a,e){a!=this._current&&(this._current=a,e||(this._redoStack.length=0),this.trigger(this.EventTypes.UPDATE_CURRENT))};
b.prototype.push=function(a){this._redoStack.length=0;this._undoStack.length&&c.isEqual(a,this._undoStack[this._undoStack.length-1])||(this._undoStack.push(a),this._current=a);this._undoStack.length>this.MAX_STACK&&this._undoStack.splice(0,this._undoStack.length-this.MAX_STACK);this.trigger(this.EventTypes.PUSH)};b.prototype.undo=function(){if(this.canUndo()){do var a=this._undoStack.pop();while(c.isEqual(a,this._current)&&this.canUndo());this._redoStack.push(this._current);this._current=a;this.trigger(this.EventTypes.UNDO);
return a}};b.prototype.redo=function(){if(this.canRedo()){var a=this._redoStack.pop();this._undoStack.push(this._current);this._current=a;this.trigger(this.EventTypes.REDO);return a}};b.prototype.canUndo=function(){return!!this._undoStack.length};b.prototype.canRedo=function(){return!!this._redoStack.length};b.prototype.clear=function(){this._undoStack=[];this._redoStack=[];this.trigger(this.EventTypes.CLEAR)};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/UndoableTextarea.js' */
define("wiki-edit/UndoableTextarea",["wiki-edit/UndoManager","wiki-edit/KeyTester","jquery"],function(h,k,l){function d(b,a){if("cut-paste"===a||e!=a)"newline"!=e&&b.recordHistoryItem(),e=a}function g(b,a){b.undoManager["can"+a[0].toUpperCase()+a.substring(1)]()&&(a=b.undoManager[a](),b.element.value=a.value,b.element.selectionStart=a.selectionStart,b.element.selectionEnd=a.selectionEnd)}var e="",c=function(b){this.element=b;this.$el=l(b);this.undoManager=new h;this.undoManager.updateCurrent(this.getValue());
this.undoManager.push(this.getValue());b=function(a){var f=a.keyCode,m=String.fromCharCode(f);if(f)if(!a.ctrlKey&&!a.metaKey)this.undoManager.updateCurrent(this.getValue()),d(this,k.getActionType(f));else{if((a.ctrlKey||a.metaKey)&&!a.altKey)switch(m.toLowerCase()){case "y":this.undoManager.updateCurrent(this.getValue(),!0);this.redo();a.preventDefault();break;case "z":this.undoManager.updateCurrent(this.getValue(),!0),a.shiftKey?this.redo():this.undo(),a.preventDefault()}}else this.undoManager.updateCurrent(this.getValue()),
d(this,"other")}.bind(this);this.$el.on("keydown",b);this.$el.on("paste cut",function(){this.undoManager.updateCurrent(this.getValue());d(this,"cut-paste")}.bind(this))};c.prototype.getValue=function(){return{value:this.element.value,selectionStart:this.element.selectionStart,selectionEnd:this.element.selectionEnd}};c.prototype.updateCurrent=function(){this.undoManager.updateCurrent(this.getValue())};c.prototype.recordHistoryItem=function(){this.undoManager.push(this.getValue())};c.prototype.undo=
function(){d(this,"undo");g(this,"undo");this.element.scrollTop=this.element.scrollHeight};c.prototype.redo=function(){g(this,"redo");this.element.scrollTop=this.element.scrollHeight};return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/TextareaManipulator.js' */
define("wiki-edit/TextareaManipulator",function(){var e=function(a){this.el=a};e.prototype.NEW_LINE_TOKEN="\n";e.prototype.getSelection=function(){return{start:this.el.selectionStart,end:this.el.selectionEnd,length:this.el.selectionEnd-this.el.selectionStart,text:this.el.value.substring(this.el.selectionStart,this.el.selectionEnd)}};e.prototype.setSelection=function(a,d){1===arguments.length&&(d=a);this.el.selectionStart=a;this.el.selectionEnd=d};e.prototype.replaceSelectionWith=function(a,d){var c=
this.el.selectionStart,b=this.el.value;this.el.value=b.substring(0,this.el.selectionStart)+a+b.substring(this.el.selectionEnd,b.length);this.el.selectionEnd=c+a.length;this.el.selectionStart=d?c:this.el.selectionEnd};e.prototype.wrapSelectionWith=function(a,d,c){3>arguments.length&&(c="");1===arguments.length&&(d=a);var b=this.getSelection(),f=this.el.value;if(f.substring(b.start-a.length,b.start)!==a||f.substring(b.end,b.end+d.length)!==d){var g=f.substring(b.start,b.end);0==g.length&&(g=c);this.el.value=
f.substring(0,b.start)+a+g+d+f.substring(b.end,f.length);b=b.start+a.length;this.setSelection(b,b+g.length)}};e.prototype._getSelectedLines=function(){var a=this.el.value,d=this.getSelection(),c=a.substring(0,d.start).split(this.NEW_LINE_TOKEN).length-1;d=c+a.substring(d.start,d.end).split(this.NEW_LINE_TOKEN).length-1;return{lines:a.split(this.NEW_LINE_TOKEN),start:c,end:d}};e.prototype.getLineAtCursor=function(){var a=this._getSelectedLines();return a.lines[a.end]};e.prototype.getFirstLineMatch=
function(a){var d=this._getSelectedLines();if(a=d.lines[d.start].match(a))return a[0]};e.prototype.areSelectedLinesPrefixed=function(a){var d=this._getSelectedLines(),c;for(c=d.start;c<=d.end;c++)if(0==d.lines[c].indexOf(a))return!0;return!1};e.prototype.prefixSelectedLines=function(a){var d=this.getSelection(),c=this._getSelectedLines(),b,f=0,g=!0;for(b=c.start;b<=c.end;b++)0==c.lines[b].indexOf(a)?b==c.start&&(g=!1):(f+=1,c.lines[b]=a+c.lines[b]);this.el.value=c.lines.join(this.NEW_LINE_TOKEN);
this.setSelection(d.start+(g?a.length:0),d.end+a.length*f)};e.prototype.unprefixSelectedLines=function(a){var d=this.getSelection(),c=this._getSelectedLines(),b,f=!1,g=0;for(b=c.start;b<=c.end;b++)0==c.lines[b].indexOf(a)&&(g+=1,c.lines[b]=c.lines[b].substring(a.length),b==c.start&&(f=!0));this.el.value=c.lines.join(this.NEW_LINE_TOKEN);this.setSelection(d.start-(f?a.length:0),d.end-a.length*g)};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/keymaster-setup.js' */
define("wiki-edit/keymaster-setup",["jquery","wiki-edit/keymaster"],function(c,b){return{init:function(){b.filter=function(a){return(a=a.target||a.srcElement||!1)&&-1<(" "+a.className+" ").indexOf(" wiki-textfield ")&&(a=c(a).data("wikiEditor"))?(b.setScope(a.id),!0):!1}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEnabledTextarea.js' */
(k=>{k.set('jira.wiki.editor.operation.bold.placeholder','\u0430\u043a\u0446\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.cite.placeholder','\u0446\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435');k.set('jira.wiki.editor.operation.color.placeholder','\u0446\u0432\u0435\u0442\u043d\u043e\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.italic.placeholder','\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.link.anchor.placeholder','\u044f\u043a\u043e\u0440\u044c');k.set('jira.wiki.editor.operation.link.external.placeholder','\u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.wiki.editor.operation.noFormat.placeholder','\u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0435 _\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435_ *\u043d\u0435* \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f');k.set('jira.wiki.editor.operation.panel.placeholder','\u041d\u0435\u043a\u0438\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c');k.set('jira.wiki.editor.operation.panel.placeholder.title','\u041c\u043e\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.wiki.editor.operation.preformatted.placeholder','\u043c\u043e\u043d\u043e\u0448\u0438\u0440\u0438\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.quote.block.placeholder','\u0446\u0438\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.strikethrough.placeholder','\u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.subscript.placeholder','\u043f\u043e\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.superscript.placeholder','\u043d\u0430\u0434\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.table.placeholder.column','\u0421\u0442\u043e\u043b\u0431\u0435\u0446');k.set('jira.wiki.editor.operation.table.placeholder.heading','\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a');k.set('jira.wiki.editor.operation.underline.placeholder','\u043f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439 \u0442\u0435\u043a\u0441\u0442');k.set('jira.wiki.editor.operation.userMention.placeholder','\u0423\u043f\u043e\u043c\u044f\u043d\u0438\u0442\u0435 \u043a\u043e\u0433\u043e-\u043d\u0438\u0431\u0443\u0434\u044c, \u043d\u0430\u0431\u0440\u0430\u0432 \u0435\u0433\u043e \u0438\u043c\u044f\u2026');})(WRM.I18n.km);
define("wiki-edit/WikiEnabledTextarea","jira/util/formatter underscore wiki-edit/TextareaManipulator wiki-edit/UndoableTextarea wiki-edit/keymaster wiki-edit/keymaster-setup wiki-edit/SpeechRecognition jquery".split(" "),function(a,p,q,r,t,k,u,v){k.init();var n=0,w=/^[#\*]+ /;k=function(b){this.el=b;this.$el=v(b);if(this.$el.data("wikiEditor"))return this.$el.data("wikiEditor");this.id="wikiEdit"+n;n+=1;this.manipulationEngine=new q(this.el);this.undoRedoEl=new r(b);var f=this;t("enter",f.id,function(l){var c=
f.manipulationEngine.getSelection(),e=f.manipulationEngine.getFirstLineMatch(w);e&&(0==c.length&&f.manipulationEngine.getLineAtCursor()===e?f.manipulationEngine.unprefixSelectedLines(e):f.manipulationEngine.replaceSelectionWith("\n"+e),l.preventDefault())});this.$el.data("wikiEditor",this);this.$el.addClass("wiki-editor-initialised")};a={bold:["*","*",a.I18n.getText("jira.wiki.editor.operation.bold.placeholder")],italic:["_","_",a.I18n.getText("jira.wiki.editor.operation.italic.placeholder")],underline:["+",
"+",a.I18n.getText("jira.wiki.editor.operation.underline.placeholder")],"delete":["-","-",a.I18n.getText("jira.wiki.editor.operation.strikethrough.placeholder")],superscript:["^","^",a.I18n.getText("jira.wiki.editor.operation.superscript.placeholder")],subscript:["~","~",a.I18n.getText("jira.wiki.editor.operation.subscript.placeholder")],monospace:["{{","}}",a.I18n.getText("jira.wiki.editor.operation.preformatted.placeholder")],cite:["??","??",a.I18n.getText("jira.wiki.editor.operation.cite.placeholder")],
"block-quote":["{quote}","{quote}",a.I18n.getText("jira.wiki.editor.operation.quote.block.placeholder")],color:["{color:$1}","{color}",a.I18n.getText("jira.wiki.editor.operation.color.placeholder"),"red"],link:["[","|http://example.com]",a.I18n.getText("jira.wiki.editor.operation.link.external.placeholder")],"link-anchor":["[#","]",a.I18n.getText("jira.wiki.editor.operation.link.anchor.placeholder")],"link-mail":["[mailto:","]","mail@example.com"],image:["!","!","http://example.com/image.png"],mention:["@",
"",a.I18n.getText("jira.wiki.editor.operation.userMention.placeholder")],code:["\n{code:java}\n","\n{code}\n","// Some comments here\npublic String getFoo()\n{\n    return foo;\n}"],noformat:["\n{noformat}\n","\n{noformat}\n",a.I18n.getText("jira.wiki.editor.operation.noFormat.placeholder")],panel:["\n{panel:title\x3d"+a.I18n.getText("jira.wiki.editor.operation.panel.placeholder.title")+"}\n","\n{panel}\n",a.I18n.getText("jira.wiki.editor.operation.panel.placeholder")],table:["\n||"+a.I18n.getText("jira.wiki.editor.operation.table.placeholder.heading")+
" 1||"+a.I18n.getText("jira.wiki.editor.operation.table.placeholder.heading")+" 2||\n|","|"+a.I18n.getText("jira.wiki.editor.operation.table.placeholder.column")+" A2|\n",a.I18n.getText("jira.wiki.editor.operation.table.placeholder.column")+" A1"]};a["monospace-inline"]=a.monospace;for(var h in a)k.prototype[h]=function(b,f){var l=0;3<b.length&&(l=b.length-3);return function(){var c=b[0],e=b[1],x=b[2],d;for(d=1;d<=l;d++)c=c.replace("$"+d,arguments[d-1]||b[2+d]),e=e.replace("$"+d,arguments[d-1]||b[2+
d]);d=this.el.value;var g=this.manipulationEngine.getSelection();this.undoRedoEl.recordHistoryItem();d.substring(g.start-c.length,g.start)===c&&d.substring(g.end,g.end+e.length)===e?(this.el.value=d.substring(0,g.start-c.length)+d.substring(g.start,g.end)+d.substring(g.end+e.length,d.length),this.manipulationEngine.setSelection(g.start-c.length,g.end-c.length)):this.manipulationEngine.wrapSelectionWith.call(this.manipulationEngine,c,e,x);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}}(a[h],
h);var m={paragraph:"","bullet-list":"* ","numbered-list":"# ",h1:"h1. ",h2:"h2. ",h3:"h3. ",h4:"h4. ",h5:"h5. ",h6:"h6. ","paragraph-quote":"bq. "};for(h in m)k.prototype[h]=function(b){return function(){this.undoRedoEl.recordHistoryItem();for(var f in m)this.manipulationEngine.areSelectedLinesPrefixed(m[f])&&this.manipulationEngine.unprefixSelectedLines(m[f]);this.manipulationEngine.prefixSelectedLines.call(this.manipulationEngine,b);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}}(m[h]);
a={hr:"\n----\n",":)":":)",":(":":(",":P":":P",":D":":D",";)":";)","(y)":"(y)","(n)":"(n)","(i)":"(i)","(/)":"(/)","(x)":"(x)","(!)":"(!)","(+)":"(+)","(-)":"(-)","(?)":"(?)","(on)":"(on)","(off)":"(off)","(*)":"(*)","(*r)":"(*r)","(*g)":"(*g)","(*b)":"(*b)","(*y)":"(*y)","(flag)":"(flag)","(flagoff)":"(flagoff)","image-attachment":[" !$1|thumbnail! ","attachment-name.jpg"],"image-attachment-full":[" !$1! ","attachment-name.gif"],"link-attachment":[" [^$1] ","attachment-name.zip"]};for(h in a)k.prototype[h]=
function(b){var f=0;if(p.isArray(b)){f=b.length-1;var l=b.slice(1);b=b[0]}return function(){var c,e=b;for(c=1;c<=f;c++)e=b.replace("$"+c,arguments[c-1]||l[c-1]);this.undoRedoEl.recordHistoryItem();this.manipulationEngine.replaceSelectionWith.call(this.manipulationEngine,e,!1);this.undoRedoEl.recordHistoryItem();this.$el.trigger("input")}}(a[h]);k.prototype.speech=function(){u.start(this)};return k});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditor.js' */
define("wiki-edit/WikiEditor","wiki-edit/WikiEnabledTextarea jquery underscore wiki-edit/keymaster wiki-edit/analytics wiki-edit/WikiEditorUtil wiki-edit/editor/templates jira/util/assistive jira/util/navigator jira/util/events jira/util/events/types jira/editor/constants jira/editor/height-helper-heights wrm/data wiki-edit/thumbnails wiki-edit/attachment-list-util wiki-edit/TextareaManipulator wiki-edit/PhantomCaret".split(" "),function(O,e,P,I,m,Q,R,S,T,E,U,x,V,W,C,X,Y,F){function A(f){f=e(f).closest(".aui-dropdown2");
f.length&&f[0].hide()}function Z(f){var k=document.createElement("div");k.setAttribute("id","dummy-node");const c=window.getComputedStyle(f,"");if(""!==c.cssText)k.style.cssText=c.cssText;else{const g="width max-width font-size font-weight line-height letter-spacing white-space padding padding-top padding-left padding-right box-sizing".split(" ");k.style.cssText=Object.values(c).reduce((n,p)=>g.includes(p)?`${n}${p}:${c.getPropertyValue(p)};`:n,"")}var h=(new Y(f)).getSelection();k.textContent=f.value.slice(0,
h.start===h.end?h.end:h.start);document.body.appendChild(k);h=k.getBoundingClientRect();k.remove();k=0===f.value.length?0:parseInt(c.lineHeight);return{top:h.height-f.scrollTop-k,height:k}}var aa=W.claim("com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"),J="Ctrl";T.isMac()&&(J="⌘");var K=function(f){return f.match(/\.(bmp|gif|jpg|jpeg|pjpeg|png|tiff|webp)$/i)?"image":"file"},L=function(f,k,c,h,g){if(!f.$el.triggerHandler(x.EVENT_OPERATION_ATTACHMENT,{name:k,type:c,thumbnailable:h,
href:g}))if("image"==c){if(h)f["image-attachment"](k);else f["image-attachment-full"](k);m.trigger("operation.attachment.image")}else f["link-attachment"](k),m.trigger("operation.attachment.link")};return{_isThumbnailable:C.isThumbnailable,create:function(f){function k(a){a.preventDefault();a.stopPropagation();y=!y;n.toggleClass("wiki-edit-toolbar-compact",y);M.filter(":visible").focus();localStorage.setItem("jira.wikieditor.visibility"+f.name+"."+f.id,y?"true":"false");m.trigger(y?"hide":"show")}
var c=e(f);if(!c.data("wikiEditor")){m.trigger("initialized");var h=new O(f);this.wikiEditor=h;var g=c.parents().toArray().find(function(a){return a.id});g=e(R.renderEditor({editorId:h.id,controlKey:J,helpData:aa,containerSelector:g&&"#"+g.getAttribute("id")}));var n=g.filter(".wiki-edit-toolbar");"webkitSpeechRecognition"in window&&g.find(".wiki-edit-speech-item").removeClass("hidden");c.parent().before(g);var p=0<c.closest(".jira-dialog-core").length||0<c.closest("form#issue-create").length,q=0<
c.closest("#create-issue-dialog").length,t=0<e("#issue-content").length,G=0<c.closest("#addcomment").length,B=g.find(".wiki-edit-operation[title], .aui-dropdown2-trigger[title], .wiki-edit-tooltip");B.each(function(){var a=e(this),b={aria:!1,hideOnClick:!0,hoverable:!1};a.parent().is("li")&&(b.gravity="w");a.tooltip(b)});var D=function(){B.each(function(){e(this).tooltip("hide")})},z=!1;g.filter(".aui-dropdown2").on({"aui-dropdown2-show":function(){z=!0;var a=(a=e(this).closest("#addcomment")[0])?
a.dataset.stickyCommentEnabled:void 0;if("true"===a){{a=V.BOARD_BACKLOG_COMMENT_STICKY_FOOTER.min;const b=c.parent().height(),d=e(this).height();this.dataset.auiAlignment=b<=a&&b<d?"top auto":"bottom auto"}}c.hasClass(x.CLASS_COVER)||c.focus()},"aui-dropdown2-hide":function(){z=!1;D()}});c.on("keydown",function(a){if(z&&a.keyCode===AJS.keyCode.ESCAPE)if(p)E.one("Dialog.beforeHide",function(b){b.preventDefault()});else if(t&&!G)E.one(U.BEFORE_INLINE_EDIT_CANCEL,function(b){b.preventDefault()})});c.on("input click",
function(a){a=a.target;if("true"!==a.dataset.richEditorActive){var {top:b,height:d}=Z(a);F.setPhantomCaretPosition(b);F.setCaretHeight(d);F.mountPhantomCaret(a.closest(".wiki-edit-content"))}});var l=g.filter(".wiki-edit-dropdown-image, .wiki-edit-dropdown-attachment"),u=l.find(".wiki-edit-insert-image, .wiki-edit-insert-attachment"),r=l.find(".wiki-edit-insert-image ul, .wiki-edit-insert-attachment ul");r.on("click","a",function(a){a.preventDefault();A(a.target);a=e(this).attr("data-attachment-type");
"undefined"===typeof a&&(a="file");var b=e(this).find(".wiki-edit-attachment-name").text(),d=C.isThumbnailable(b,e(this));L(h,b,a,d,e(this).attr("data-attachment-href"))});l.on("aui-dropdown2-show",function(){X.buildAttachmentLinks(r,u,p,q,t)});if(0>Q.compareVersion(AJS.version,"5.8.0"))l.on("aui-dropdown2-item-selected",function(){var a=e(this).find(".aui-dropdown2-active");if("object"===typeof a){var b=a.closest("div");if("object"===typeof b){var d=b.offset().top,N=d+b.height(),H=a.offset().top;
a=H+a.height();H<d&&b.scrollTop(b.scrollTop()-(d-H));a>N&&b.scrollTop(b.scrollTop()+(a-N))}}});g.filter(".wiki-edit-dropdown, .wiki-edit-picker").on("mousedown",function(a){a.preventDefault()});g.find(".wiki-edit-operation:not(.wiki-edit-operation-color)").each(function(){var a=e(this),b=function(d){d&&(d.preventDefault&&d.preventDefault(),A(d.target),h.$el.triggerHandler(x.EVENT_OPERATION,a.data("operation"))||(c.focus(),h[a.data("operation")](),m.trigger("operation",{name:a.data("operation"),nameHash:m.hashCode(a.data("operation")),
trigger:d.type}),m.trigger("operation."+a.data("operation"),{trigger:d.type})))};a.click(b);a.keydown(function(d){if("Enter"===d.key||" "===d.key)b(d),a.focus()});a.data("shortcut")&&I(a.data("shortcut"),h.id,b)});g.find(".wiki-edit-operation-color").each(function(){var a=e(this),b=function(d){d&&(d.preventDefault&&d.preventDefault(),A(d.target),h.$el.triggerHandler(x.EVENT_OPERATION_COLOR,a.data("color"))||(c.focus(),h[a.data("operation")](a.data("color")),m.trigger("operation",{name:a.data("operation"),
nameHash:m.hashCode(a.data("operation")),trigger:d.type}),m.trigger("operation."+a.data("operation"),{trigger:d.type})))};a.click(b);a.keydown(function(d){if("Enter"===d.key||" "===d.key)b(d),a.focus()});a.data("shortcut")&&I(a.data("shortcut"),h.id,b)});l=window.localStorage.getItem("jira.wikieditor.last.color")?window.localStorage.getItem("jira.wikieditor.last.color"):"red";var v=g.find(".wiki-edit-operation-color");v.data("color",l);var w=n.find(".wiki-edit-color-indicator");w.css("background-color",
l);l=g.filter(".wiki-edit-color-picker");l.on("click","a",function(a){a.preventDefault();A(a.target);a=e(this).data("color");v.data("color",a);w.css("background-color",a);window.localStorage.setItem("jira.wikieditor.last.color",a);h.$el.triggerHandler(x.EVENT_OPERATION_COLOR,a)||(c.focus(),h.color(a),m.trigger("operation",{name:"color"}),m.trigger("operation.color.picked",{color:a}))});l.on("aui-dropdown2-show",function(){v.addClass("active")});l.on("aui-dropdown2-hide",function(){v.removeClass("active")});
var M=g.find(".wiki-edit-visible-toggle"),y="true"===localStorage.getItem("jira.wikieditor.visibility"+f.name+"."+f.id);y&&n.addClass("wiki-edit-toolbar-compact");M.on("click",k);n.parent().on("click",".wiki-edit-toolbar-compact",k);e(document).on("showWikiPreview",function(a,b){e(b).find(f).length&&n.addClass("hidden")});e(document).on("showWikiInput",function(a,b){e(b).find(f).length&&n.removeClass("hidden")});g=g.find(".aui-toolbar2-inner");S.configureRovingTabindex(g[0])}},initBrowseLink:function(f){var k=
this.wikiEditor,c=this,h=k.$el.parent().parent();e(".wiki-edit-attachment-picker-trigger",h).one("click",function(){c.initBrowseLinkImpl(f,k,h)})},initBrowseLinkImpl:function(f,k,c){var h=k.$el,g=c.find(".wiki-attachment-browse"),n=e("#dnd-metadata-webpanel").data("can-attach"),p=0<h.closest(".jira-dialog-core").length||0<h.closest("form#issue-create").length;if(p){var q=e('#create-issue-dialog:visible,#create-subtask-dialog:visible,#edit-issue-dialog:visible,#create-linked-issue-dialog:visible,#edit-comment:visible,*[id^\x3d"workflow-transition-"][id$\x3d"-dialog"]'),
t=0<q.length;n=0<e(".jira-dialog-core fieldset .file-input-list").length;t||(q=h.closest(".dialog-can-receive-files:visible"),t=0<q.length,n=q.data("can-attach"));var G=q.data("insert-markup-on-browse")}c=c.find(".wiki-edit-attachment-picker-trigger");n&&(p?t:1)?(g.closest("div").removeClass("hidden"),c.removeClass("hidden"),g.data("initialised")||(g.on("click",function(B){B.preventDefault();const D=e("#description-wiki-edit iframe");D&&D.focus();A(B.target);var z=function(){e("#wikiEditorUpload").remove()};
z();var l=e("\x3cinput tabindex\x3d'-1' id\x3d'wikiEditorUpload' type\x3d'file' style\x3d'position: fixed; top: -1px; left: -1px; width: 1px; height: 1px; opacity: 0;' multiple /\x3e");l.appendTo(e("body"));l.change(function(u){z();u=l[0].files;if(p){var r=e.Event("drop");r.dataTransfer={files:u};q.find(".issue-drop-zone__target").trigger(r)}else E.trigger("attachmentForPageReceived",{files:u,isWikiTextfieldFocused:!1,wikiTextfield:f});if(!k.$el.triggerHandler(x.EVENT_OPERATION_ATTACHMENT,P.map(u,
function(w){return{name:w.name,type:K(w.name),thumbnailable:C.isThumbnailable(w.name),href:window.URL.createObjectURL(w)}}))&&(p?G:1))for(r=0;r<u.length;r++){var v=u[r].name;L(k,v,K(v),C.isThumbnailable(v),window.URL.createObjectURL(u[r]))}});l.click();m.trigger("attachment.dropdown.button.clicked.browse")}),g.data("initialised",!0))):(g.closest("div").addClass("hidden"),g=0<e("#attachment_thumbnails li.attachment-content, #file_attachments li.attachment-content").length,t=p&&t&&("create-issue-dialog"===
q.attr("id")||"create-subtask-dialog"===q.attr("id")),g&&!t||c.addClass("hidden"))}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/WikiEditorUtil.js' */
(k=>{k.set('icons.gif.file','GIF \u0444\u0430\u0439\u043b');k.set('icons.gzip.archive','GZip \u0430\u0440\u0445\u0438\u0432');k.set('icons.html.file','HTML \u0444\u0430\u0439\u043b');k.set('icons.java.archive.file','\u0424\u0430\u0439\u043b \u0430\u0440\u0445\u0438\u0432\u0430 Java');k.set('icons.java.source.file','\u0424\u0430\u0439\u043b \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 Java');k.set('icons.jpeg.file','JPEG \u0444\u0430\u0439\u043b');k.set('icons.microsoft.excel','Microsoft Excel');k.set('icons.microsoft.powerpoint','Microsoft PowerPoint');k.set('icons.microsoft.word','Microsoft Word');k.set('icons.pdf.file','PDF \u0444\u0430\u0439\u043b');k.set('icons.png.file','PNG \u0444\u0430\u0439\u043b');k.set('icons.text.file','\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b');k.set('icons.xml.file','XML \u0444\u0430\u0439\u043b');k.set('icons.zip.archive','ZIP \u0430\u0440\u0445\u0438\u0432');k.set('jira.wiki.editor.operation.attachment.icon.file','\u0424\u0430\u0439\u043b');})(WRM.I18n.km);
define("wiki-edit/WikiEditorUtil",["wiki-edit/viewissue/templates","jira/util/formatter","jquery","underscore"],function(h,b,l,m){var k={cssClass:"aui-iconfont-devtools-file",title:b.I18n.getText("jira.wiki.editor.operation.attachment.icon.file")},n={pdf:"aui-iconfont-file-pdf",gif:"aui-iconfont-image",png:"aui-iconfont-image",jpeg:"aui-iconfont-image",jpg:"aui-iconfont-image",xml:"aui-iconfont-file-code",html:"aui-iconfont-file-code",htm:"aui-iconfont-file-code",txt:"aui-iconfont-file-txt",zip:"aui-iconfont-file-zip",
gz:"aui-iconfont-file-zip",tar:"aui-iconfont-file-zip",rar:"aui-iconfont-file-zip","7z":"aui-iconfont-file-zip",doc:"aui-iconfont-file-doc",docx:"aui-iconfont-file-doc",xls:"aui-iconfont-file-xls",xlsx:"aui-iconfont-file-xls",xlsm:"aui-iconfont-file-xls",ppt:"aui-iconfont-file-ppt",pptx:"aui-iconfont-file-ppt",java:"aui-iconfont-file-code",c:"aui-iconfont-file-code",h:"aui-iconfont-file-code",cpp:"aui-iconfont-file-code",hpp:"aui-iconfont-file-code",scala:"aui-iconfont-file-code",php:"aui-iconfont-file-code",
css:"aui-iconfont-file-code",less:"aui-iconfont-file-code",soy:"aui-iconfont-file-code",js:"aui-iconfont-file-code",jar:"aui-iconfont-file-zip",war:"aui-iconfont-file-zip",obr:"aui-iconfont-file-zip"},p={pdf:b.I18n.getText("icons.pdf.file"),gif:b.I18n.getText("icons.gif.file"),png:b.I18n.getText("icons.png.file"),jpeg:b.I18n.getText("icons.jpeg.file"),jpg:b.I18n.getText("icons.jpeg.file"),xml:b.I18n.getText("icons.xml.file"),html:b.I18n.getText("icons.html.file"),htm:b.I18n.getText("icons.html.file"),
txt:b.I18n.getText("icons.text.file"),zip:b.I18n.getText("icons.zip.archive"),gz:b.I18n.getText("icons.gzip.archive"),doc:b.I18n.getText("icons.microsoft.word"),docx:b.I18n.getText("icons.microsoft.word"),xls:b.I18n.getText("icons.microsoft.excel"),xlsx:b.I18n.getText("icons.microsoft.excel"),xlsm:b.I18n.getText("icons.microsoft.excel"),ppt:b.I18n.getText("icons.microsoft.powerpoint"),pptx:b.I18n.getText("icons.microsoft.powerpoint"),java:b.I18n.getText("icons.java.source.file"),jar:b.I18n.getText("icons.java.archive.file"),
war:b.I18n.getText("icons.java.archive.file")};return{defaultAttachmentTypeIcon:k,canTranslateMimeTypeToAttachmentTypeIcon:function(){return!!h},translateMimeTypeToAttachmentTypeIcon:function(a){return{cssClass:h.matchFileClass({mimetype:a}),title:h.matchFileIconAlt({mimetype:a})}},translateFileExtensionToAttachmentTypeIcon:function(a){var d=m.clone(k);if("string"!==typeof a)return d;a=a.toLowerCase();a=a.replace(/^\.+/,"");var c=n[a];"string"===typeof c&&(d.cssClass=c);a=p[a];"string"===typeof a&&
(d.title=a);return d},compareVersion:function(a,d){a=a.split(".");var c=d.split("."),e=NaN;l(a).each(function(f,g){if(f>=c.length)return!1;g=Number(g);f=Number(c[f]);if(isNaN(g)||isNaN(f))return e=NaN,!1;if(g<f)return e=-1,!1;if(g>f)return e=1,!1;e=0});return 0==e&&a.length!=c.length?a.length>c.length?1:-1:e},getFileExtension:function(a){return"string"!==typeof a?"":(a=a.match(/\.(\w{1,5})$/i))&&1<a.length?a[1]:""}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources', location = '/js/SpeechRecognition.js' */
(k=>{k.set('jira.wiki.editor.operation.speech.error.general','\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u044f \u0432\u0430\u0441 \u043d\u0435 \u0441\u043b\u044b\u0448\u0443 :(');k.set('jira.wiki.editor.operation.speech.error.network','\u041d\u0435\u0442 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f');k.set('jira.wiki.editor.operation.speech.error.network.body','\u0414\u043b\u044f \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0432\u0430\u043d\u0438\u044f \u0440\u0435\u0447\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0447\u0435\u0435 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435.');k.set('jira.wiki.editor.operation.speech.error.no-speech','\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u044f \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0440\u0430\u0441\u0441\u043b\u044b\u0448\u0430\u043b :(');k.set('jira.wiki.editor.operation.speech.error.no-speech.body','\u0412\u0430\u0448 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043d\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d?');k.set('jira.wiki.editor.operation.speech.error.not-allowed','\u0420\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0447\u0438 \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e');k.set('jira.wiki.editor.operation.speech.error.not-allowed.body','\u0427\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u0430\u043c\u0435\u0440\u0443, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0435\u0435 \u0437\u043d\u0430\u0447\u043e\u043a \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430');k.set('jira.wiki.editor.operation.speech.start','\u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c :)');})(WRM.I18n.km);
define("wiki-edit/SpeechRecognition",["jira/util/formatter","jira/util/data/meta","aui/flag"],function(f,k,l){return{start:function(c,g){var d=this,e=new webkitSpeechRecognition;e.continuous=!1;e.interimResults=!0;e.lang=k.get("user-locale").replace("_","-");e.stop();e.start();e.onstart=function(){d.showTimedMessage({title:f.I18n.getText("jira.wiki.editor.operation.speech.start")},"info",10);c?d.selectionStart=c.manipulationEngine.getSelection().start:g&&(d.selectionStart=g.getSelectionStart(),d.startOffset=
d.selectionStart.startOffset)};e.onresult=function(a){d.dismissCurrentMessage();var b=(b=a.results)&&b[0]&&b[0].isFinal;a=(a=a.results)&&a[0]&&a[0][0]&&a[0][0].transcript||"";a=a.charAt(0).toUpperCase()+a.slice(1);if(c){b&&c.undoRedoEl.recordHistoryItem();c.manipulationEngine.replaceSelectionWith.call(c.manipulationEngine,a,!1);var h=d.selectionStart+a.length;b?(c.manipulationEngine.setSelection(h),c.undoRedoEl.recordHistoryItem(),c.$el.trigger("input")):c.manipulationEngine.setSelection(d.selectionStart,
h)}g&&(g.replaceSelection(a),b||g.setSelectionStartWithOffset(d.selectionStart,d.startOffset));b&&e.stop()};e.onerror=function(a){e.stop();var b={title:f.I18n.getText("jira.wiki.editor.operation.speech.error.general"),body:""};switch(a.error){case "not-allowed":b.title=f.I18n.getText("jira.wiki.editor.operation.speech.error.not-allowed");b.body=f.I18n.getText("jira.wiki.editor.operation.speech.error.not-allowed.body");break;case "network":b.title=f.I18n.getText("jira.wiki.editor.operation.speech.error.network");
b.body=f.I18n.getText("jira.wiki.editor.operation.speech.error.network.body");break;case "no-speech":b.title=f.I18n.getText("jira.wiki.editor.operation.speech.error.no-speech");b.body=f.I18n.getText("jira.wiki.editor.operation.speech.error.no-speech.body");break;case "aborted":return}d.showTimedMessage(b,"warning",5)};e.onend=function(){e.stop()}},showTimedMessage:function(c,g,d){this.dismissCurrentMessage();this.speakFlag=l({type:g,title:c.title,body:c.body,persistent:!0});clearTimeout(this.flagTimer);
this.flagTimer=setTimeout(this.dismissCurrentMessage.bind(this),1E3*d)},dismissCurrentMessage:function(){this.speakFlag&&this.speakFlag.close&&(this.speakFlag.close(),this.speakFlag=null)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:skate', location = '/js/lib/skate.js' */
define("wiki-edit/skate",["jira/skate"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-api', location = '/js/api/wiki-editor-api.js' */
define("wiki-edit/api",["wiki-edit/PhantomCaret"],function(a){return{phantomCaret:a}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources-init', location = '/js/wiki-editor-init.js' */
require("jira/dialog/dialog-register wiki-edit/WikiEditor wiki-edit/skate wiki-edit/PhantomCaret jquery underscore-1.8.3 jira/backbone-1.3.3".split(" "),function(d,g,e,l,b,f,m){function n(a){f.extend(a,m.Events);a=this instanceof Element?this:a;var h=function(c){g.create(c);g.initBrowseLink(c);c.wikiEnabled=!0;b(c).trigger("wiki-editor-initialized");l.mountPhantomCaret(c.closest(".wiki-edit-content"))};!1===a.wikiEnabled&&(b(a).is(":hidden")?f.defer(h,a):h(a))}function p(a){b.contains(document,a)||
f.isFunction(a.trigger)&&a.trigger("detached",a)}function k(){return{type:e.type.CLASSNAME,attached:n,detached:p,prototype:{wikiEnabled:!1}}}e("wiki-textfield",k());e("wiki-enabled-textfield",k());b(function(){0<b("#gh").length&&(d.comment.options.width=810,d.assignIssue.options.width=810,d.attachFile.options.width=810,d.logWork.options.width=810)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:loading-indicator', location = 'js/util/loading-indicator.js' */
define("quick-edit/util/loading-indicator",["jira/loading/loading","jira/flag"],function(b,c){var a=AJS.dim,d=AJS.undim;return{showLoadingIndicator:function(){a();b.showLoadingIndicator()},hideLoadingIndicator:function(a){d();b.hideLoadingIndicator();a&&c.showErrorMsg(null,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c Jira. \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue-bootstrap', location = 'js/init/edit-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(e,g,f,a,c){var b;e(document).delegate(".issueaction-edit-issue","click",function(d){d.preventDefault();c.disable();a.showLoadingIndicator();f(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-edit-issue"]).done(function(){var a=require("quick-edit/init/edit");b||(b=a.initDialog());b._events.trigger.simpleClick.call(b,d,e(d.target));c.enable()}).fail(function(){a.hideLoadingIndicator(!0);
c.enable()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:terminology-feature-service', location = '/includes/jira/terminology/TerminologyFeatureService.js' */
define("jira/terminology-feature-service",["jira/featureflags/feature-manager","jira/util/data/meta","underscore","wrm/data"],(function(e,i,r,n){"use strict";var t=n.claim("jira.core:terminology-data.terminology")||{},o=e.isFeatureEnabled("com.atlassian.jiranomenclature");return{getTerminologyEntries:function(){return r.where(t.terminologyEntries,{isDefault:!1})||[]},getTerminologyEntryForTerm:function(e){return r.findWhere(this.getTerminologyEntries(),{originalName:e,isDefault:!1})},isTerminologyEnabled:function(){return o},isTerminologyChanged:function(){return t.isTerminologyActive},isEnglishLocale:function(){return i.get("user-locale").indexOf("en")>=0},isTerminologyActiveForUser:function(){return this.isTerminologyEnabled()&&this.isTerminologyChanged()&&this.isEnglishLocale()}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:terminology-onboarding-state', location = '/includes/jira/terminology/TerminologyOnboardingState.js' */
define("jira/terminology-onboarding-state",["jira/data/local-storage"],(function(i){"use strict";var t={sprint:"jira.terminology.onboarding.dismissed.sprint",epic:"jira.terminology.onboarding.dismissed.epic"};return{get:function(e){return JSON.parse(i.getItem(t[e]))},set:function(e){i.setItem(t[e],!0)},isSprintsDismissed:function(){return this.get(t.sprint)},isEpicsDismissed:function(){return this.get(t.epic)}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-terminology-onboarding-dialogs', location = '/includes/jira/terminology/initTerminologyOnboarding.js' */
require(["jira/terminology-feature-service","jira/terminology-onboarding-state","jira/util/events","jira/util/events/types","wrm/require"],(function(e,i,r,n,o){"use strict";var t="sprint",a="epic",l={sprint:"#customfieldmodule .type-gh-sprint",epicLink:"#customfieldmodule .type-gh-epic-link",epicName:"#customfieldmodule .type-gh-epic-label"},d=i.get(t),g=i.get(a);d&&g||e.isTerminologyActiveForUser()&&r.bind(n.NEW_CONTENT_ADDED,(function(r,n){if("details-module"===n.attr("id")){var d=i.get(t),g=i.get(a);o(["wr!jira.webresources:terminology-onboarding-inline-dialogs"],(function(){require(["jira/terminology-onboarding-dialog"],(function(i){var r=e.getTerminologyEntryForTerm(t),o=e.getTerminologyEntryForTerm(a);if(r&&!d){var m=n.find(l[t]).prev("strong.name");i.addInlineDialogToField(n,m,r,t)}if(o&&!g){var s=n.find(l.epicLink).prev("strong.name");i.addInlineDialogToField(n,s,o,a);var u=n.find(l.epicName).prev("strong.name");i.addInlineDialogToField(n,u,o,a)}}))}))}}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.vendors--57570d46fb', location = 'aui.chunk.180b8f58059ddc0e2638--974f78884f55308044d5.js' */
(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[5321],{9521:function(t,e,n){var r;"undefined"!=typeof self&&self,void 0===(r=function(){return function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r,i){var u=r;return n.replace(e,(function(t,e,n,r,l){e=e||r,u&&(e+":html"in u?(u=u[e+":html"],i=!0):e in u&&(u=u[e]),l&&"function"==typeof u&&(u=u()))})),null!=u&&u!==r||(u=t),u=String(u),i||(u=l.escape(u)),u},r=function(e){return this.template=this.template.replace(t,(function(t,r){return n(t,r,e,!0)})),this},i=function(e){return this.template=this.template.replace(t,(function(t,r){return n(t,r,e)})),this},u=function(){return this.template},l=function(t){function e(){return e.template}return e.template=String(t),e.toString=e.valueOf=u,e.fill=i,e.fillHtml=r,e},c={},f=[],o=function(t){return document.querySelector('script[title="'+t+'"]')};l.load=function(t){if(t=String(t),!c.hasOwnProperty(t)){f.length>=1e3&&delete c[f.shift()],f.push(t);var e=o(t);e&&(c[t]=e.text)}return this(c[t])};var a={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#96;"},p=new RegExp("["+Object.keys(a).join("")+"]","g");function s(t){return String(t||"").replace(p,(function(t){return a[t]}))}return l.escape=s,l}()}.call(e,n,e,t))||(t.exports=r)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.deprecated.behaviour.template', location = 'aui.chunk.dec992cafe9f49b3d95f--42920f2ad44291b6e092.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[9987],{89:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(6862),s=a(3581),o=a(9521),i=a.n(o);const l={sinceVersion:"8.0.0",removeInVersion:"10.0.0",extraInfo:'We recommend use of other open-source templating engines, such as "lit-html" or "react". If you cannot do without this templating function, it is available as its own Node package: "@atlassian/aui-template".'},u=(0,s.fn)(i(),"AJS.template",l);u.load=i().load,u.escapeHtml=i().escapeHtml,(0,s.prop)(u,"load",l),(0,s.prop)(u,"escapeHtml",l),(0,n.default)("template",u);const p=u}},e=>{e.O(0,[5321,7035,3469,2276,4271],(()=>{return t=89,e(e.s=t);var t}));e.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.message', location = 'aui.chunk.428f02f99fd327294284--7de36dd4851aad42d3d6.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[2998],{},u=>{u.O(0,[7224,7035,8196,3469,3039,2276,713,4271,4678,7981,2554,7201,7501,4544,113,3022,8106,7690,3633],(()=>{return e=6939,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.table', location = 'aui.chunk.24371bf29ee70456303c--a5fd4f415dfeb76607e1.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[406],{8382:(u,e,s)=>{s.r(e)}},u=>{u.O(0,[8196,3039,713,2554,8877,6313,9863,8125],(()=>{return e=8382,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-on-dcl', location = '/static/util/init-on-dcl.js' */
define("jira/util/init-on-dcl",["jira/util/logger"],(function(t){"use strict";return function(e){e&&"function"==typeof e?"interactive"===document.readyState||"complete"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e,{once:!0}):t.error("Failed to run init function - fn doesn't exist or isn't a function",e)}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jirafisheyeplugin:css', location = 'script/fisheye.js' */
require(["jquery","jira/util/init-on-dcl","jira/ajs/ajax/smart-ajax"],function(b,c,a){c(function(){AJS.JFEP=AJS.JFEP||{};var d=function(e){b(".review-filter",e).live("change",function(g){var h=b(g.target).val(),f=b(g.target).is(":checked")?"block":"none";b(".review-status-"+h).css("display",f)});b(".tab-content",e).find(".project-activity:gt(0)").addClass("hidden");b("#activity-filter",e).live("change",function(f){var g=b("#activity-filter").val();b(".project-activity").addClass("hidden");b(".limit-"+g).removeClass("hidden")})};b("#preview-hide-tab",b(document)).live("click",function(f){b("#preview_form").submit();f.preventDefault()});if(JIRA.ViewIssueTabs){JIRA.ViewIssueTabs.onTabReady(d)}else{d(document)}AJS.JFEP.reviewIssueToggle=function(){b(".review-issue-target").addClass("hidden");b(".review-issue-trigger").click(function(g){g.preventDefault();var f=b(this).attr("href");b(f).toggleClass("hidden")})};AJS.JFEP.ignoreCookieName=function(){var e=b("#header-details-user-fullname").attr("data-username");if(!e){e="__ANON"}return"JFEP.ignoredAppLinks."+e};AJS.JFEP.ignoreAppLink=function(i){var h;var f=document.cookie;if(f.indexOf(AJS.JFEP.ignoreCookieName()+"=")>-1){var g=new RegExp(AJS.JFEP.ignoreCookieName()+"=([^;]*)");h=g.exec(f)[1]}else{h=""}if(h.indexOf(i)==-1){h+=(h.length>0?"|":"")+i;var e=new Date();e.setDate(e.getDate()+365);document.cookie=AJS.JFEP.ignoreCookieName()+"="+h+"; expires="+e.toUTCString()+"; path="+contextPath}};AJS.JFEP.clearIgnoredAppLinks=function(){var e=new Date();e.setDate(e.getDate()-5);document.cookie=AJS.JFEP.ignoreCookieName()+"=expired;expires="+e.toUTCString()+"; path="+contextPath};b(".ignore-applink").live("click",function(){var e=b(this).attr("data-id");AJS.JFEP.ignoreAppLink(e);b(this).parents(".credentials-required-message").slideUp()});b(".clear-ignored-applinks").live("click",function(){AJS.JFEP.clearIgnoredAppLinks();document.location.reload(true)});AJS.JFEP.loadMoreChangesets=function(f,e,g,h){b("#more-changesets-action-spinner").show();b("#more-changesets-blurb").hide();a.makeRequest({url:f+"/rest/tabs/1.0/more-changesets/"+e+g,type:"GET",dataType:"json",contentType:"application/json",complete:function(l,i,k){if(!k.successful){var j=(k.status!==401||k.statusText===a.SmartAjaxResult.TIMEOUT)?JSON.parse(k.data).errorMessages:a.buildSimpleErrorContent(k);b(document).trigger(JIRA.SERVER_ERROR_EVENT,j)}else{h(k.data.changesets)}}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue-init', location = '/js/create-linked-issue/create-linked-issue-init.js' */
require(["jquery","wrm/require","quick-edit/util/loading-indicator"],function(b,e,d){var c=!1;b(document).on("click",".issueaction-create-linked-issue",function(a){a.preventDefault();a=b(a.target);let f={sourceIssueKey:(a.is("a")?a:a.find("a")).attr("data-issuekey")};c||(c=!0,d.showLoadingIndicator(),e(["wr!com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue"]).done(function(){var a=require("quick-edit/create-linked-issue/create-linked-issue-form-factory");const b=require("quick-edit/util/feature-flag").showAllFieldsOnCreateLinked();
a(f).asDialog({id:b?"create-linked-issue-dialog":"create-linked-issue-dialog-server",windowTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"}).show();c=!1}).fail(function(){d.hideLoadingIndicator(!0);c=!1}))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:analytics', location = 'js/editor-analytics.js' */
define("jira/editor/analytics",["jira/analytics","jira/util/logger"],function(l,g){function h(a,c,b,f){a=c-a;b=b||{};b.time=a;k.sendEvent("editor.instance.perf."+f,b);return a}var k={sendEvent:function(a,c){l.send({name:a,properties:c||{}})},mark:function(a){window.performance.mark&&window.performance.mark(a)},measure:function(a,c,b){window.performance.measure&&window.performance.measure(a,c,b)},oneShotMeasure:function(a,c,b,f){var e=window.performance;if(!e.mark)return g.debug("The browser does not support User Timing API"),
-1;var m=e.now(),d=e.getEntriesByName(a);d=d.length&&d[d.length-1];if(!(d instanceof window.PerformanceMark))return g.debug("The mark has not been found"),-1;"string"!==typeof b&&(b=a.replace(/^rte\-/,""));c=h(d.startTime,m,c,b);f||e.clearMarks(a);return c},startMeasure:function(){var a=window.performance.now();return{measure:function(c,b){return h(a,window.performance.now(),b,c)}}}};return k});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:analytics', location = 'js/editor-analytics-shortcuts.js' */
define("jira/editor/analytics-shortcuts",["jira/editor/analytics","jira/editor/tinymce"],function(a,e){var c=function(b){this.editor=b;b.on("keydown",this._handle.bind(this))};c.prototype._handle=function(b){var d=String.fromCharCode(b.keyCode);if(e.util.VK.metaKeyPressed(b))switch(d){case "B":a.sendEvent("editor.instance.shortcut.bold");break;case "I":a.sendEvent("editor.instance.shortcut.italic");break;case "U":a.sendEvent("editor.instance.shortcut.underline");break;case "Z":a.sendEvent("editor.instance.shortcut.undo");
break;case "Y":a.sendEvent("editor.instance.shortcut.redo");break;case "0":a.sendEvent("editor.instance.shortcut.paragraph");break;case "1":a.sendEvent("editor.instance.shortcut.heading1");break;case "2":a.sendEvent("editor.instance.shortcut.heading2");break;case "8":a.sendEvent("editor.instance.shortcut.code");break;case "9":a.sendEvent("editor.instance.shortcut.quote");break;case "K":a.sendEvent("editor.instance.shortcut.links")}if(b.shiftKey)switch(d){case "2":a.sendEvent("editor.instance.shortcut.mention")}};
return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:registry', location = 'js/api/editor-registry-entry.js' */
define("jira/editor/registry/entry",["underscore-1.8.3","jquery","jira/editor/constants"],function(f,g,h){function d(a,c,k){var e=g.Deferred();this._rteInstance=e;this._editorRegistry=k;this.id=a;this.currentMode=void 0;this.textArea=c;this.toolbar=this._findToolbar(c);this.rteInstance=e.promise()}var b=h.Modes;f.extend(d.prototype,{isVisualMode:function(){return this.currentMode===b.VISUAL},isTextMode:function(){return this.currentMode===b.TEXT},applyIfTextMode:function(a){return this._applyIfMode(b.TEXT,
a)},applyIfVisualMode:function(a){return this._applyIfMode(b.VISUAL,a)},onSwitch:function(a){this._editorRegistry.on("switch::"+this.id,a);return this},onUnregister:function(a){this._editorRegistry.once("unregister::"+this.id,a);return this},onSwitchToText:function(a){this._editorRegistry.on("switch:"+b.TEXT+":"+this.id,a);return this},onSwitchToVisual:function(a){this._editorRegistry.on("switch:"+b.VISUAL+":"+this.id,a);return this},_applyIfMode:function(a,c){this.currentMode===a&&c(this);return this},
_findToolbar:function(a){return a.parentNode.parentNode.querySelector("div.wiki-edit-toolbar")}});return d});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:registry', location = 'js/api/editor-registry.js' */
define("jira/editor/registry",["underscore-1.8.3","jira/backbone-1.3.3","jira/editor/constants","jira/editor/registry/entry"],function(e,k,l,f){function g(){this._instances={}}var d=l.Modes;e.extend(g.prototype,k.Events,{getEntry:function(a){return this._instances[a]},_registerTextMode:function(a){if(a){var b=this._getTextAreaId(a);a=new f(b,a,this);this._register(a,d.TEXT)}},_registerVisualMode:function(a){if(a){var b=this._findTextArea(a),h=this._getTextAreaId(b),c=this.getEntry(h);c?(this._resolveRTEInstance(c,
a),this._switchMode(b,d.VISUAL)):(c=new f(h,b,this),this._resolveRTEInstance(c,a),this._register(c,d.VISUAL))}},_findTextArea:function(a){return a.element.getContainer().parent().get(0).querySelector("textarea:last-of-type")},_getTextAreaId:function(a){var b=a.getAttribute("data-editor-id");if(b)return b;b=e.uniqueId((new Date).getTime()+"-");a.setAttribute("data-editor-id",b);return b},_register:function(a,b){a.currentMode=b;this._instances[a.id]=a;this._triggerEvents("register",a)},_resolveRTEInstance:function(a,
b){"resolved"!==a._rteInstance.state()&&b&&a._rteInstance.resolve(b)},_switchMode:function(a,b){a=this._getTextAreaId(a);(a=this.getEntry(a))&&a.currentMode!==b&&(a.currentMode=b,this._triggerEvents("switch",a))},_unregister:function(a){a=this._getTextAreaId(a);var b=this.getEntry(a);b&&(delete this._instances[a],this._triggerEvents("unregister",b))},_triggerEvents:function(a,b){this.trigger(a,b);this.trigger(a+":"+b.currentMode,b);this.trigger(a+":"+b.currentMode+":"+b.id,b);this.trigger(a+"::"+
b.id,b)}});return new g});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.036a05e5ff', location = 'aui.chunk.978a9e33ad61bd1e90fc--34149b67a7674fce91ed.js' */
(k=>{k.set('aui.words.collapse','\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c');k.set('aui.words.expand','\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c');})(WRM.I18n.km);
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[372],{4627:(e,t,a)=>{a.r(t),a.d(t,{NavigationEl:()=>i.NavigationEl,navigation:()=>i.default});var i=a(1957)},1957:(e,t,a)=>{a.r(t),a.d(t,{NavigationEl:()=>o,default:()=>c});var i=a(6110),n=a(7159),s=a(7843),r=a(6862),l=a(2949);function d(e){if(this.$el=(0,n.default)(e).closest(".aui-nav"),this.$el.length>1)return this.$el.map((function(e,t){return new d(t)}))[0];if(this.$el.data("aui-navigation"))return this.$el.data("aui-navigation");this.$el.data("aui-navigation",this),this.$treeParent=this.$el.parent("li[aria-expanded]"),this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon"),this.$el.children("li:has(.aui-nav-selected)").addClass("aui-nav-child-selected");var t=this.$el.children(".aui-nav-selected");t.parents(".aui-nav > [aria-expanded=false]").add(t.filter("[aria-expanded=false]")).each((function(){u((0,n.default)(this).children(".aui-nav")).expand()}));var a=this.$el.find("> li[aria-expanded] > .aui-nav-subtree-toggle");return a.on("click",(function(){u((0,n.default)(this).siblings(".aui-nav")).toggle()})),a.each((function(){var e=(0,n.default)(this).parent("li[aria-expanded]"),t=(0,n.default)(this).find(".aui-icon"),a="true"===e.attr("aria-expanded");t.text(a?i.I18n.getText("aui.words.collapse"):i.I18n.getText("aui.words.expand"))})),this}d.prototype.isNested=function(){return 1===this.$treeParent.length},d.prototype.isCollapsed=function(){return"false"===this.$treeParent.attr("aria-expanded")},d.prototype.expand=function(){return this.$treeParent.attr("aria-expanded","true"),this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded").text(i.I18n.getText("aui.words.collapse")),this},d.prototype.collapse=function(){return this.$treeParent.attr("aria-expanded","false"),this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed").text(i.I18n.getText("aui.words.expand")),this},d.prototype.toggle=function(){return this.isCollapsed()?this.expand():this.collapse(),this};const u=(0,l.default)("navigation",d),o=(0,s.default)("aui-nav",{type:s.default.type.CLASSNAME,attached:function(e){new d(e)},detached:function(e){(0,n.default)(e).removeData()}});(0,r.default)("navigation",u);const c=u}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.nav', location = 'aui.chunk.0b53ee273654dad3b25f--13007772beb360a0b324.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[8370],{},u=>{u.O(0,[7224,7035,8196,3469,3039,2276,713,4678,7981,4544,113,5260,5192,372],(()=>{return e=4627,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tabs', location = 'js/ui/editor-tabs-soy-amd.js' */
define("jira/editor/ui/editor-tabs-soy-amd",[],function(){return JIRA.Editor.Tabs.Templates});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tabs', location = 'soy/ui/editor-tabs.soy' */
// This file was automatically generated from editor-tabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tabs.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tabs == 'undefined') { JIRA.Editor.Tabs = {}; }
if (typeof JIRA.Editor.Tabs.Templates == 'undefined') { JIRA.Editor.Tabs.Templates = {}; }


JIRA.Editor.Tabs.Templates.tabs = function(opt_data, opt_ignored) {
  var output = '<nav class="aui-navgroup aui-navgroup-horizontal editor-toggle-tabs"><div class="aui-navgroup-inner"><div class="aui-navgroup-primary"><ul class="aui-nav">';
  var tabList4 = opt_data.tabs;
  var tabListLen4 = tabList4.length;
  for (var tabIndex4 = 0; tabIndex4 < tabListLen4; tabIndex4++) {
    var tabData4 = tabList4[tabIndex4];
    output += '<li data-mode="' + soy.$$escapeHtml(tabData4.mode) + '"' + ((opt_data.currentMode == tabData4.mode) ? ' class="aui-nav-selected"' : '') + '><button type="button" class="aui-button" aria-pressed="' + ((opt_data.currentMode == tabData4.mode) ? 'true' : 'false') + '" >' + soy.$$escapeHtml(tabData4.text) + '</button></li>';
  }
  output += '</ul></div></div></nav>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Editor.Tabs.Templates.tabs.soyTemplateName = 'JIRA.Editor.Tabs.Templates.tabs';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:editor-tags', location = 'soy/editor-tags.soy' */
// This file was automatically generated from editor-tags.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tags.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tags == 'undefined') { JIRA.Editor.Tags = {}; }
if (typeof JIRA.Editor.Tags.Templates == 'undefined') { JIRA.Editor.Tags.Templates = {}; }


JIRA.Editor.Tags.Templates.image = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.source) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '" ' + ((opt_data.width) ? 'width="' + soy.$$escapeHtml(opt_data.width) + '"' : '') + ' ' + ((opt_data.height) ? 'height="' + soy.$$escapeHtml(opt_data.height) + '"' : '') + ' ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' ' + ((opt_data.vspace) ? 'vspace="' + soy.$$escapeHtml(opt_data.vspace) + '"' : '') + ' />';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.image.soyTemplateName = 'JIRA.Editor.Tags.Templates.image';
}


JIRA.Editor.Tags.Templates.mentionlink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml("") + '/secure/ViewProfile.jspa?name=' + soy.$$escapeUri(opt_data.username) + '" class="user-hover" rel="' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435') + '">' + soy.$$escapeHtml(opt_data.displayname) + '</a> ';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.mentionlink.soyTemplateName = 'JIRA.Editor.Tags.Templates.mentionlink';
}


JIRA.Editor.Tags.Templates.attachedImage = function(opt_data, opt_ignored) {
  return '<img style="border: 0px solid black" src="' + soy.$$escapeHtml(opt_data.source) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '">';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.attachedImage.soyTemplateName = 'JIRA.Editor.Tags.Templates.attachedImage';
}


JIRA.Editor.Tags.Templates.attachedFile = function(opt_data, opt_ignored) {
  return '<span class="nobr"><a title="' + soy.$$escapeHtml(opt_data.title) + '" href="' + soy.$$escapeHtml(opt_data.href) + '" data-filename="' + soy.$$escapeHtml(opt_data.filename) + '">' + soy.$$escapeHtml(opt_data.filename) + '<sup><img class="rendericon" width="7" height="7" border="0" align="absmiddle" alt="" src="/jira/images/icons/link_attachment_7.gif"></sup></a></span>';
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.attachedFile.soyTemplateName = 'JIRA.Editor.Tags.Templates.attachedFile';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toggle', location = 'js/ui/editor-toggle-tabs.js' */
(k=>{k.set('jira.editor.toggle.mode.text','\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0440\u0435\u0436\u0438\u043c');k.set('jira.editor.toggle.mode.visual','\u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c');k.set('jira.editor.toggle.text','\u0422\u0435\u043a\u0441\u0442');k.set('jira.editor.toggle.visual','\u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u044b\u0439');})(WRM.I18n.km);
define("jira/editor/ui/toggle-tabs","jira/editor/constants jira/editor/analytics jira/editor/toggle jira/editor/ui/editor-tabs-soy-amd jira/lib/class jira/backbone-1.3.3 underscore jquery".split(" "),function(h,f,g,k,l,m,n,b){var d=h.Modes;return l.extend({init:function(a){this.$parent=b(a).parent(".wiki-edit-content");this.rendered=new b.Deferred;g.getMode().always(function(c){this.renderTabs(c)}.bind(this));this.hideTooltip=n.debounce(this.hideTooltip,750)},renderTabs:function(a){this.activeMode=
a;this.$tabs=b(k.tabs({tabs:[{text:AJS.I18n.getText("jira.editor.toggle.visual"),url:"#",mode:d.VISUAL},{text:AJS.I18n.getText("jira.editor.toggle.text"),url:"#",mode:d.TEXT}],currentMode:a}));this.$tabs.appendTo(this.$parent).find("button").on("click",this.onTabSelect.bind(this));this.$tooltip=b(aui.labels.label({text:"",extraClasses:"editor-toggle-tooltip"})).appendTo(this.$parent);this.rendered.resolve(this.$tabs);a=document.querySelector("span.aui-label.editor-toggle-tooltip");a.role="status";
a.ariaLive="polite"},onTabSelect:function(a){a.preventDefault();(a=b(a.target).parent().data("mode"))&&a!==this.activeMode&&(this._setModeInternal(a),this.trigger("change",a),g.setMode(a),f.sendEvent("editor.instance.switch.change"),f.sendEvent("bundled.editor.instance.switch.change"))},getMode:function(){var a=new b.Deferred;this.rendered.done(function(c){(c=c.find(".aui-nav-selected").data("mode"))?a.resolve(c):a.reject()}.bind(this));return a.promise()},setMode:function(a){this.rendered.done(function(){this._setModeInternal(a)}.bind(this))},
enable:function(){this.$tabs.removeClass("rte-tabs-disabled").find("button").removeAttr("tabindex")},disable:function(){this.$tabs.addClass("rte-tabs-disabled").find("button").attr("tabindex",-1)},showTooltip:function(a){a=a===d.VISUAL?AJS.I18n.getText("jira.editor.toggle.mode.visual"):AJS.I18n.getText("jira.editor.toggle.mode.text");this.$tooltip.text(a).addClass("visible")},hideTooltip:function(){this.$tooltip.removeClass("visible")},isVisible:function(){if(this.$tabs){var a=this.$tabs[0].getBoundingClientRect();
return a&&b(document.elementFromPoint(a.left+a.width/2,a.top+a.height/2)).parents().is(this.$tabs)}},_setModeInternal:function(a){this.$tabs.find("li").each(function(c,e){b(e).data("mode")===a?b(e).addClass("aui-nav-selected").find("button").attr("aria-pressed","true"):b(e).removeClass("aui-nav-selected").find("button").attr("aria-pressed","false")});this.activeMode=a;this.showTooltip(a);this.hideTooltip()}}).extend(m.Events)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toggle', location = 'js/editor-toggle.js' */
define("jira/editor/toggle",["jira/featureflags/feature-manager","jira/editor/constants","jira/data/session-storage","jquery"],function(k,l,g,f){var m=!k.isFeatureEnabled("jira.richeditor.enable-rte.optional"),h=l.Modes,e={setProperty:function(a,c){if(c===g.getItem(a))return(new f.Deferred).resolve(c);g.setItem(a,c);var b=new f.Deferred;e.fetchProperty(a).always(function(d){if(c===d)b.resolve(d);else return f.ajax({url:AJS.contextPath()+"/rest/api/2/mypreferences?key\x3d"+a,type:"PUT",contentType:"application/json",
dataType:"json",data:JSON.stringify(c)}).done(b.resolve.bind(b,d)).fail(b.resolve.bind(b,d))});return b},getProperty:function(a,c){var b=new f.Deferred;if(g.getItem(a))return b.resolve(g.getItem(a)).promise();e.fetchProperty(a).done(function(d){b.resolve(d)}).fail(function(){b.reject(c)});c&&b.always(function(d){e.setProperty(a,d)});return b.promise()},fetchProperty:function(a){return f.ajax({url:AJS.contextPath()+"/rest/api/2/mypreferences?key\x3d"+a,type:"GET",contentType:"application/json",dataType:"json"})},
getMode:function(){return e.getProperty("jira.editor.user.mode",m?h.VISUAL:h.TEXT)},setMode:function(a){return e.setProperty("jira.editor.user.mode",a)}};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:marionette', location = 'js/amd/marionette-amd.js' */
define("jira/editor/marionette",["jira/backbone-1.3.3","underscore-1.8.3","jira/backbone.radio-2.0","atlassian/libs/factories/marionette-4.1.2"],function(a,b,c,d){return d(b,a,c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'js/ui/button-bar-decorator.js' */
define("jira/editor/ui/button-bar-decorator",["jira/lib/class","jquery"],function(f,c){return f.extend({init:function(){},decorateButtonBars:function(a){var e=function(){var d=c(this);if(!d.find(".wiki-button-bar-content").length){var b=c('\x3cdiv class\x3d"wiki-button-bar-content"\x3e\x3c/div\x3e');d.wrapInner(b);b=c('\x3cdiv class\x3d"tabs-placeholder"\x3e\x3c/div\x3e');b.width(a.width());b.height(a.height());d.prepend(b);d.append(c("\x3cdiv\x3e\x3c/div\x3e").css("clear","both"))}};a.closest(".jira-wikifield").next(".wiki-button-bar").each(e);
a.closest(".inline-edit-fields").nextAll(".save-options").each(e);a.prevAll(".sd-rte-bar").first().each(e);a.parent(".wiki-edit-content").siblings(".sd-rte-bar").each(e)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'js/ui/undo-redo-buttons.js' */
define("jira/editor/ui/undo-redo-buttons",["jira/editor/constants","jira/editor/marionette","jira/util/logger","jira/util/navigator","jquery"],function(d,e,f,g,c){return e.View.extend({tagName:"div",template:function(a){return JIRA.Editor.Tags.Templates.undoRedoButtons({isMac:g.isMac()})},ui:{undo:".wiki-operation-undo",redo:".wiki-operation-redo"},events:{"click @ui.undo":"onUndo","click @ui.redo":"onRedo"},initialize:function(a){this.$container=this.determineButtonsContainer(a.textarea);null===
this.$container?f.warn("Could not attach undo/redo buttons to the editor"):this.undoManager=a.undoManager},enable:function(a){this.undoManager&&(a=a||c([this.ui.undo,this.ui.redo]),a.attr("aria-disabled","false"))},disable:function(a){this.undoManager&&(a=a||c([this.ui.undo,this.ui.redo]),a.attr("aria-disabled","true"))},highlight:function(a){this.undoManager&&(a.addClass("active"),setTimeout(function(){a.removeClass("active")},100))},updateUI:function(a,b){this.undoManager&&(this.updateButton(this.ui.undo,
this.undoManager.hasUndo()),this.updateButton(this.ui.redo,this.undoManager.hasRedo()),d.EventSources.SHORTCUT===b&&(d.EventTypes.UNDO===a?this.highlight(this.ui.undo):d.EventTypes.REDO===a&&this.highlight(this.ui.redo)))},updateButton:function(a,b){b?this.enable(a):this.disable(a)},onRender:function(){if(this.undoManager&&!this.$container.children().hasClass("wiki-edit-undo-redo-buttons aui-buttons")){this.$el.addClass("wiki-edit-undo-redo-buttons aui-buttons");this.shouldUseDivider()&&this.$el.addClass("wiki-edit-separate-section");
var a={aria:!0,hideOnClick:!0,hoverable:!1};this.ui.undo.tooltip(a);this.ui.redo.tooltip(a);this.updateUI();this.$el.prependTo(this.$container);this.attachHandlers()}},onBeforeDestroy:function(){this.ui.undo.tooltip("destroy");this.ui.redo.tooltip("destroy")},attachHandlers:function(){this.listenTo(this.undoManager,"editor:historychanged",function(a,b){this.updateUI(a,b)});this.listenTo(this.undoManager,"destroy",function(){this.destroy()})},determineButtonsContainer:function(a){var b=c(a).closest("div.inline-edit-fields").nextAll(".save-options").find(".wiki-button-bar-content");
b.length||(b=c(a).closest("div.jira-wikifield").next(".save-options").find(".wiki-button-bar-content"));b.length||(b=c(a).siblings(".sd-rte-bar").find(".wiki-button-bar-content"));b.length||(b=c(a).parent(".wiki-edit-content").siblings(".sd-rte-bar").find(".wiki-button-bar-content"));return b.length?b:null},shouldUseDivider:function(){var a=this.$container.children(":visible");return 0<a.length&&!a.eq(0).is("button, input")},onUndo:function(){this.isUndoEnabled()&&(this.undoManager.undo(),this._focusTextarea())},
onRedo:function(){this.isRedoEnabled()&&(this.undoManager.redo(),this._focusTextarea())},isUndoEnabled:function(){return"true"!==this.ui.undo.attr("aria-disabled")},isRedoEnabled:function(){return"true"!==this.ui.redo.attr("aria-disabled")},_focusTextarea:function(){this.options.textarea.focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-ui', location = 'soy/ui/undo-redo-buttons.soy' */
// This file was automatically generated from undo-redo-buttons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Tags.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Tags == 'undefined') { JIRA.Editor.Tags = {}; }
if (typeof JIRA.Editor.Tags.Templates == 'undefined') { JIRA.Editor.Tags.Templates = {}; }


JIRA.Editor.Tags.Templates.undoRedoButtons = function(opt_data, opt_ignored) {
  var output = '';
  var undoShortcut__soy3 = ((opt_data.isMac) ? '\u2318' : 'Ctrl') + '+Z';
  var redoShortcut__soy10 = '' + ((opt_data.isMac) ? '\u2318+Shift+Z' : 'Ctrl+Y');
  output += '<button type="button" class="aui-button aui-button-subtle wiki-operation-undo" title="' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + ' (' + soy.$$escapeHtml(undoShortcut__soy3) + ')" aria-disabled="true"><span class="aui-icon aui-icon-small aui-iconfont-undo">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</span></button><button type="button" class="aui-button aui-button-subtle wiki-operation-redo" title="' + soy.$$escapeHtml('\u0412\u0435\u0440\u043d\u0443\u0442\u044c') + ' (' + soy.$$escapeHtml(redoShortcut__soy10) + ')" aria-disabled="true"><span class="aui-icon aui-icon-small aui-iconfont-redo">' + soy.$$escapeHtml('\u0412\u0435\u0440\u043d\u0443\u0442\u044c') + '</span></button>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Editor.Tags.Templates.undoRedoButtons.soyTemplateName = 'JIRA.Editor.Tags.Templates.undoRedoButtons';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:history-store', location = 'js/editor-undo-history-store.js' */
define("jira/editor/undo-history-store",[],function(){var c=[],a=function(){};a.prototype.put=function(b,d){b&&(c["jira.richeditor.history."+b]=d)};a.prototype.get=function(b){return c["jira.richeditor.history."+b]};a=new a;return{get:a.get,put:a.put}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/editor-undo-redo-analytics.js' */
define("jira/editor/undo-redo-analytics",["jira/editor/analytics","jira/editor/constants","jira/lib/class"],function(d,e,g){return g.extend({init:function(c){c.on("editor:historychanged",function(a,b,f){e.EventTypes.UNDO===a?this.logUndo(a,b,f):e.EventTypes.REDO===a&&this.logRedo(a,b,f);e.EventTypes.ADD===a?(0<this.countAddEvents&&(this.isFirstEditorAction=!1),++this.countAddEvents):this.isFirstEditorAction=!1},this)},logUndo:function(c,a,b){d.sendEvent("editor.instance.action."+c,{firstAction:this.isFirstEditorAction,
source:a,mode:b});d.sendEvent("editor.instance.action",{name:c,mode:b})},logRedo:function(c,a,b){d.sendEvent("editor.instance.action."+c,{source:a,mode:b});d.sendEvent("editor.instance.action",{name:c,mode:b})},clearCounters:function(){this.isFirstEditorAction=!0;this.countAddEvents=0},countAddEvents:0,isFirstEditorAction:!0})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/text-adapter.js' */
define("jira/editor/undomanager-adapter/text-adapter",["jira/editor/constants","jira/editor/marionette","jira/util/logger","jquery"],function(b,e,f,g){return e.MnObject.extend({initialize:function(a){this.textEditor=g(a.textarea);a=this.textEditor.data("wikiEditor");if(!a)throw f.error("Wiki-editor should be already initialised. Could not find 'wikiEditor' instance in given textarea element",this.textEditor),Error("Wiki-editor should be already initialised. Could not find 'wikiEditor' instance in given textarea element");
this.textUndoableTextarea=a.undoRedoEl;this.textUndoManager=this.textUndoableTextarea.undoManager;this.ongoingInternalOperation=!1;this.attachEvents(this.textUndoManager)},undo:function(){try{this.ongoingInternalOperation=!0,this.textUndoableTextarea.undo()}finally{this.ongoingInternalOperation=!1}},redo:function(){try{this.ongoingInternalOperation=!0,this.textUndoableTextarea.redo()}finally{this.ongoingInternalOperation=!1}},hasUndo:function(){return this.textUndoManager.canUndo()},hasRedo:function(){return this.textUndoManager.canRedo()},
clear:function(){this.textUndoManager.clear()},attachEvents:function(a){var c=a.EventTypes;a.on([c.PUSH,c.UPDATE_CURRENT].join(" "),function(d){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.ADD,b.EventSources.UNKNOWN)}.bind(this));a.on(c.UNDO,function(d){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.UNDO,b.EventSources.SHORTCUT)}.bind(this));a.on(c.REDO,function(d){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.REDO,b.EventSources.SHORTCUT)}.bind(this));
a.on(c.CLEAR,function(d){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.CLEAR,b.EventSources.UNKNOWN)}.bind(this))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/visual-adapter.js' */
define("jira/editor/undomanager-adapter/visual-adapter",["jira/editor/constants","jira/editor/marionette","jquery"],function(b,d,e){return d.MnObject.extend({initialize:function(a){this.id=this.determineId(a.richEditorEl);this.visualEditorInstance=a.richEditorEl.getInstance();this.visualEditor=this.visualEditorInstance.editor;this.visualUndoManager=this.visualEditor.undoManager;this.ongoingInternalOperation=!1;this.attachEvents(this.visualEditor)},undo:function(){try{this.ongoingInternalOperation=
!0,this.visualUndoManager.undo()}finally{this.ongoingInternalOperation=!1}},redo:function(){try{this.ongoingInternalOperation=!0,this.visualUndoManager.redo()}finally{this.ongoingInternalOperation=!1}},hasUndo:function(){return this.visualUndoManager.hasUndo()},hasRedo:function(){return this.visualUndoManager.hasRedo()},clear:function(){this.visualUndoManager.clear()},add:function(a){this.visualEditorInstance.setContent(a.content,null,!0);this.visualUndoManager.add(a)},getData:function(){return this.visualUndoManager.data},
getId:function(){return this.id},attachEvents:function(a){a.on("AddUndo",function(c){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.ADD,b.EventSources.UNKNOWN)}.bind(this));a.on("Undo",function(c){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.UNDO,b.EventSources.SHORTCUT)}.bind(this));a.on("Redo",function(c){this.ongoingInternalOperation||this.triggerMethod("action",b.EventTypes.REDO,b.EventSources.SHORTCUT)}.bind(this));a.on("ClearUndos",function(c){this.ongoingInternalOperation||
this.triggerMethod("action",b.EventTypes.CLEAR,b.EventSources.UNKNOWN)}.bind(this))},determineId:function(a){var c=a.$textarea;a=e(a).data("renderParams").issueKey||"";var f=c.attr("name");c=c.attr("id");return[a,f,c].join(".")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo', location = 'js/undomanager-adapter/noop-adapter.js' */
define("jira/editor/undomanager-adapter/noop-adapter",["jira/editor/marionette"],function(a){return a.MnObject.extend({initialize:function(){},undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},clear:function(){},getId:function(){}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:undo-redo-manager', location = 'js/editor-undomanager.js' */
define("jira/editor/undomanager","jira/editor/undo-redo-analytics jira/editor/undomanager-adapter/text-adapter jira/editor/undomanager-adapter/visual-adapter jira/editor/undomanager-adapter/noop-adapter jira/editor/undo-history-store jira/editor/constants jira/util/logger jira/editor/marionette jira/dialog/dialog jquery".split(" "),function(g,h,k,d,f,b,l,m,n,p){var e=b.Modes;return m.MnObject.extend({initialize:function(a){this.context=this.determineContext(a.textarea);this.restoreHistory=!1;try{this.textUndoManager=
new h({textarea:a.textarea})}catch(c){this.textUndoManager=new d}this.visualUndoManager=new d;this.activeUndoManager=new d;this.analytics=new g(this);this.setActiveMode(a.mode);this.listenTo(this.textUndoManager,"action",this.notifyHistoryChanged)},undo:function(){this.activeUndoManager.undo();this.notifyHistoryChanged(b.EventTypes.UNDO,b.EventSources.BUTTON)},redo:function(){this.activeUndoManager.redo();this.notifyHistoryChanged(b.EventTypes.REDO,b.EventSources.BUTTON)},hasUndo:function(){return this.activeUndoManager.hasUndo()},
hasRedo:function(){return this.activeUndoManager.hasRedo()},setActiveMode:function(a){this.activeMode=a;this.activeUndoManager.clear();e.TEXT===a?this.activeUndoManager=this.textUndoManager:e.VISUAL===a?this.activeUndoManager=this.visualUndoManager:(this.activeUndoManager=new d,l.warn("UndoManager: incorrect mode",a));this.activeUndoManager.clear();this.analytics.clearCounters()},attachToVisualEditor:function(a){this.visualUndoManager=new k({richEditorEl:a});this.listenTo(this.visualUndoManager,"action",
this.notifyHistoryChanged)},restoreUndoHistory:function(){if(this.restoreHistory){if(e.VISUAL===this.activeMode&&b.Context.UNKNOWN===this.context){var a=f.get(this.visualUndoManager.getId());a&&(this.visualUndoManager.clear(),a.forEach(function(c){this.visualUndoManager.add(c)}.bind(this)),this.restoreHistory=!1)}this.analytics.clearCounters()}},shouldRestoreHistory:function(a){this.restoreHistory=!!a},onBeforeDestroy:function(){this.saveUndoHistory()},saveUndoHistory:function(){e.VISUAL===this.activeMode&&
b.Context.UNKNOWN===this.context&&f.put(this.visualUndoManager.getId(),this.visualUndoManager.getData().concat([]))},notifyHistoryChanged:function(a,c){c=c||this.EventSources.UNKNOWN;this.trigger("editor:historychanged",a,c,this.activeMode)},determineContext:function(a){return n.current?b.Context.DIALOG:p(a).parents("div.jira-wikifield[field-id\x3dcomment]").length?b.Context.COMMENT:b.Context.UNKNOWN}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:toolbar-ui', location = 'js/ui/toolbar/clear-formatting.js' */
define("jira/editor/ui/toolbar/clear-formatting",["jira/editor/analytics","jira/util/logger"],function(d,e){return{init:function(b){const c=b.getToolbarContainer().find('.wiki-edit-operation[data-operation\x3d"clear-format"]').parent();c.on("click",function(a){a.preventDefault();(a=(a=b.getInstance())&&a.editor)&&!a.isHidden()&&(a.undoManager.add(),a.execCommand("RemoveFormat"),e.trace("jira.editor.operation.executed"),d.sendEvent("editor.instance.operation.clear.formatting"),a.undoManager.add())});
c.parent().parent().attr("hidden",!1);b.getInstance().on("tabs:changed",function(a){c.parent().parent().attr("hidden",!!a)})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:temporaryAttachmentUtil', location = 'js/util/temporaryAttachment.js' */
define("jira/editor/util/temporaryAttachment",["jquery","exports"],function(b,c){c.getFormToken=function(a){if(a)return b(a).parents("form").find('input[name\x3d"formToken"]').attr("value")||"undefined"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:controller', location = 'js/editor-controller.js' */
define("jira/editor/controller","jira/editor/analytics jira/editor/constants jira/editor/registry jira/editor/ui/toggle-tabs jira/editor/ui/undo-redo-buttons jira/editor/ui/toolbar/clear-formatting jira/editor/undomanager jira/editor/ui/button-bar-decorator jira/editor/height-helper wrm/require-lazily jquery underscore jira/editor/util/temporaryAttachment".split(" "),function(l,v,r,w,x,y,z,A,B,C,g,t,D){function E(a,c){c===m.TEXT&&r._registerTextMode(a);a.isListenedByRegistry||(r.listenTo(a,"detached",
r._unregister),a.isListenedByRegistry=!0)}function F(a,c,b){b=b.getInstance();r._registerVisualMode(b);c.on("change",function(d){r._switchMode(a,d)})}var m=v.Modes;return{init:function(){},initResources:function(){return this.webResources?this.webResources:this.webResources=C(["wrc!jira.rich.editor.api","wrc!jira.rich.editor"])},_createTabs:function(a,c){a=c[0];var b=c.data("toggleTabs");b||c.data("toggleTabs",b=new w(a));b.getMode().then(function(d){c.is(":visible")&&d===m.TEXT&&(l.sendEvent("editor.instance.init.source"),
l.sendEvent("bundled.editor.instance.init.source"))});return b},_createUndoManager:function(a,c,b,d){a=c[0];b=c.data("undoManager");b||(b=new z({textarea:a,mode:d}),c.data("undoManager",b));return b},_createUndoRedoButtons:function(a,c,b,d){(new A).decorateButtonBars(b.$tabs);a=new x({textarea:c[0],undoManager:d});a.render();return a},_initModes:function(a,c,b){var d=t.partial(F,c[0],b);b.getMode().then(function(h){E(c[0],h);var f=this._createUndoManager(a,c,b,h),k=this._createUndoRedoButtons(a,c,
b,f);h===m.VISUAL?(f.shouldRestoreHistory(!0),this.initResources(),this.initEditor(a,c,b,f,k,!0).done(d)):(b.once("change",function(p){b.disable();k.disable();p===m.VISUAL&&(l.sendEvent("editor.instance.switch.wysiwyg"),l.sendEvent("bundled.editor.instance.switch.wysiwyg"),this.initEditor(a,c,b,f,k).done(d).always(function(){b.enable();k.updateUI()}).done(function(e){e.focus()}))}.bind(this),this),k.updateUI())}.bind(this))},_renderMarkup:function(a,c,b){var d=c[0];c=d.value;d=this.getRenderParams(d);
return b&&a.data("content-present")?(b=a.html(),a.empty(),(new g.Deferred).resolve(this._postProcessRendered(g((new DOMParser).parseFromString(b,"text/html").body))).promise()):this.renderMarkup(c,d)},initEditor:function(a,c,b,d,h,f){var k=new g.Deferred,p=c[0],e=a[0];if(a.data("textarea")===p)return(new g.Deferred).reject().promise();var G=this._renderMarkup(a,c,f);(new B(p)).setHeights(a,-2);b.disable();f=this.getRenderParams(p);a.data("textarea",p).data("renderParams",f);return e.loadingStart()?
(this.require(["jira/editor/create","jira/editor/saving-kb-shortcuts"],function(H,I){H.builder().withElement(e).withMeta(e.$textarea.data()).withPlugin("jira/editor/plugins/mentions/jira-mentions").withPlugin("jira/editor/plugins/prevent-default").withPlugin("jira/editor/plugins/paste").withPlugin("jira/editor/plugins/wiki-autoformat").withPlugin("jira/editor/plugins/editor-content-postprocess").withPlugin("jira/editor/plugins/toolbar-sync").build().progress(function(n){e.setInstance(n)}).then(function(n){function u(q){d.attachToVisualEditor(q);
d.setActiveMode(m.VISUAL);d.restoreUndoHistory()}e.loadingStop();n.on("content",e.serialize,e);e.$textarea.is(document.activeElement)&&e.syncSelection(e.$textarea[0]);n.on("switchMode",function(q){e.setMode(q)});e.shouldFocus()&&setTimeout(function(){n.focus()});document.activeElement&&g.browser.safari&&document.activeElement.blur();n.relayEvent("blur",function(){e.$textarea.blur()});I.enable(e);var J=window.performance.now();G.done(function(q){u(e);n.setContent(q,null,!0)}).fail(function(){u(e);
n.setContent(c[0].value,null,!0)}).always(function(){e.hideMask();b.enable();h.updateUI();k.resolve(e);y.init(e);l.oneShotMeasure("rte-init",{},"init",!0);var q=window.performance.now()-J;l.sendEvent("editor.instance.init.perf",{time:q})});l.oneShotMeasure("rte-init",{},"init-bare",!0)})}),this._bindToggleTabsChange(b,h,d,e),k.promise()):(new g.Deferred).reject().promise()},_bindToggleTabsChange:function(a,c,b,d){a.on("change",function(h){a.disable();c.disable();var f=h===m.TEXT;d.setMode(f).done(function(){b.setActiveMode(h);
d.getInstance().trigger("tabs:changed",f)}).fail(function(){d.setMode(!f);a.setMode(f?m.VISUAL:m.TEXT)}).always(function(){a.enable();c.updateUI()})})},destroyEditor:function(a){var c=g(a);a=a.parentNode;var b=c.data("textarea");c.removeData(["textarea","renderParams"]);g(b).data("jiraEditorWrap",!1);(c=g(b).data("toggleTabs"))&&c.off("change");(b=b||a.querySelector("textarea"))&&r._unregister(b)},getRenderParams:function(a){a=g(a);var c=a.parents("form").find("#issuetype").val(),b=D.getFormToken(a);
return{issueKey:this.getIssueKey(a),projectId:a.parents("form").find("#pid").val(),issueType:t.isArray(c)?t.first(c):c,formToken:b}},getIssueKey:function(a){return a.attr("data-issuekey")?a.attr("data-issuekey"):JIRA&&JIRA.Issue&&JIRA.Issue.getIssueKey?JIRA.Issue.getIssueKey():AJS.Meta.get("issue-key")},renderMarkup:function(a,c){l.mark("rte-rendermarkup");var b=new g.Deferred,d=function(){b.reject(a.replace(/(?:\r\n|\r|\n)/g,"\x3cbr /\x3e"))};if(!a)return b.resolve("");this.require(["jira/editor/html-renderer"],
function(h){h.renderMarkup(a,c).then(function(f){try{var k=g((new DOMParser).parseFromString(f,"text/html").body);b.resolve(this._postProcessRendered(k))}catch(p){b.reject(a)}}.bind(this),d)}.bind(this),d);return b.promise().done(function(){l.oneShotMeasure("rte-rendermarkup")})},_postProcessRendered:function(a){a.find("span.image-wrap").replaceWith(function(b,d){b=g(d);b.is("img")&&(this.style.textAlign?b.css({"text-align":this.style.textAlign,display:"block",margin:"0 auto"}):this.style["float"]&&
b.css("float",this.style["float"]));return b});a.find("div.code.panel,div.preformatted.panel").html(function(b,d){b=g(d);b.find("pre:empty").html("\x3cbr\x3e");return b});var c=a.find("\x3ep:first-child:last-child");return 1!==c.length||c[0].previousSibling||c[0].nextSibling?a.html()||"":c.html()||""},require:function(a,c){this.initResources().then(function(){require(a,c)})},overrideWikiPreview:function(){var a=require("jira/wikipreview/wiki-preview"),c=function(b,d){var h=d.find("textarea.wiki-textfield");
if(!h.attr("data-issue-key")){var f=g(b).find('dt:contains("issueKey")+dd').text();f&&h.attr("data-issue-key",f)}return a.apply(this,arguments)};AJS.namespace("jira.app.wikiPreview",null,c);AJS.namespace("JIRA.wikiPreview",null,c)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state.js' */
define("jira/editor/fsm/states/state",["underscore"],function(d){var c=function(a,b){b.stateName=a;b.extend=e;return b},e=function(a){return c(this.stateName,d.compose(a,this))};return function(a,b){return c(a,b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-attached.js' */
define("jira/editor/fsm/states/attached",["jira/editor/fsm/states/state","jira/editor/fsm/states/wrap","jira/editor/fsm/states/hidden","jira/editor/fsm/events","jquery"],function(h,f,k,c,d){return function(b){var l=require("jira/editor/fsm/states/init"),e=d(b);e.parent().hasClass("rte-container")||e.wrap(JIRA.Editor.Init.Templates.container());var a=e.parent().siblings('textarea[class*\x3d"wiki-textfield"]')[0];if(a){if(a.wikiEnabled)return f(b,a);d(a).one("wiki-editor-initialized",function(){b.FSM.triggerEvent(c.WIKI_EDITOR_INITIALIZED)}.bind(this))}return h("Attached",
function(g,m){if(g===c.DETACHED)return l(m);if(g===c.WIKI_EDITOR_INITIALIZED)return d(a).is(":visible")?f(b,a):k(b,a)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-detached.js' */
define("jira/editor/fsm/states/detached",["jira/editor/fsm/states/state","jira/editor/fsm/events","jira/editor/controller","jira/util/logger","jquery"],function(f,c,g,d,h){return function(a){var k=require("jira/editor/fsm/states/init"),l=require("jira/editor/fsm/states/attached");setTimeout(function(){a.FSM.triggerEvent(c.DESTROY_TIMEOUT)});return f("Detached",function(b,e){if(b===c.ATTACHED&&e===a)return l(e);if(b===c.DESTROY_TIMEOUT){a.undoManager&&(a.undoManager.destroy(),delete a.undoManager);
a.uncoverTextarea();if(a.richEditorInstance){try{a.richEditorInstance.destroy()}catch(m){d.debug("Editor destroy exception:",m)}delete a.richEditorInstance}delete a.richEditorInstance_loading;delete a.$textarea;"none"===a.style.display&&(a.style.display="");g.destroyEditor(a);b=h(a);b.removeAttr("id","aria-hidden","data-content-present");b.empty();d.trace("jira.editor.plugin.detached");return k(a)}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-init.js' */
define("jira/editor/fsm/states/init",["jira/editor/fsm/states/state","jira/editor/fsm/states/attached","jira/editor/fsm/events"],function(a,b,c){return function(){return a("Init",function(d,e){if(d===c.ATTACHED)return b(e)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-wrap.js' */
define("jira/editor/fsm/states/wrap","jira/editor/fsm/states/state jira/editor/fsm/states/detached jira/editor/fsm/states/mode-text jira/editor/fsm/states/mode-visual jira/editor/fsm/events jira/editor/constants jira/editor/controller jira/editor/height-helper jira/editor/analytics underscore jquery".split(" "),function(l,m,n,p,d,h,k,q,r,t,f){return function(a,c){var e=f(c);r.mark("rte-init");e.addClass("wiki-edit-wrapped");(new q(e)).setHeights();a.textarea=c;a.$textarea=e;c=k._createTabs(f(a),e);
k._initModes(f(a),e,c);c.on("change",function(b){a.FSM.triggerEvent(d.TABS_CHANGE,b)});c.getMode().then(t.debounce(function(b){a.FSM.triggerEvent(d.TABS_CHANGE,b)}));return l("Wrap",function(b,g){if(b===d.DETACHED&&g===a)return m(a);if(b===d.TABS_CHANGE&&g===h.Modes.VISUAL)return p(a);if(b===d.TABS_CHANGE&&g===h.Modes.TEXT)return n(a)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/util/state-hidden-intersection-observer.js' */
define("jira/editor/fsm/states/state-hidden-intersection-observer",["jira/editor/fsm/events"],function(d){var a=function(b,c){this.element=b;this.FSM=c};a.prototype.isIntersectionObserverSupported=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype};a.prototype.observe=function(){if(!this.isIntersectionObserverSupported())return!1;this.observer=new window.IntersectionObserver(function(b,c){b.forEach(function(e){e.isIntersecting&&
this.FSM.triggerEvent(d.VISIBLE)}.bind(this))}.bind(this),{root:null,rootMargin:"0px",threshold:0});this.observer.observe(this.element);return!0};a.prototype.cleanup=function(){this.observer&&(this.observer.disconnect(),delete this.observer)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-hidden.js' */
define("jira/editor/fsm/states/hidden","jira/editor/fsm/states/state jira/editor/fsm/states/wrap jira/editor/fsm/events jquery underscore jira/editor/fsm/states/state-hidden-intersection-observer".split(" "),function(m,n,b,e,p,q){return function(c,f){var r=require("jira/editor/fsm/states/init"),g=e(f),l=new q(f,c.FSM);if(!l.observe()){var d=g.parents(".tabs-pane");if(0<d.length){d=e(d[0]).attr("id");var h=e('a[href\x3d"#'+d+'"]');h.on("click.rteHiddenState",function(){p.defer(function(){c.FSM.triggerEvent(b.VISIBLE)})})}}var k=
setInterval(function(){g.is(":visible")&&c.FSM.triggerEvent(b.VISIBLE)},100);return m("Hidden",function(a,t){if(a===b.DETACHED)return r(t);if((a===b.VISIBLE||a===b.ATTACHED)&&g.is(":visible"))return n(c,f)}).extend(function(a){a&&(k&&(clearInterval(k),k=void 0),h&&h.off("click.rteHiddenState"),l.cleanup());return a})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-mode-text.js' */
define("jira/editor/fsm/states/mode-text",["jira/editor/fsm/states/state","jira/editor/fsm/states/detached","jira/editor/fsm/events","jira/editor/analytics","jira/editor/constants"],function(e,f,c,g,h){return function(b){var k=require("jira/editor/fsm/states/mode-visual"),l=window.performance.now();return e("Text",function(a,d){if(a===c.DETACHED&&d===b)return f(b);if(a===c.TABS_CHANGE&&d===h.Modes.VISUAL)return k(b)}).extend(function(a){a&&g.sendEvent("editor.instance.tab.timing.text",{time:window.performance.now()-
l});return a})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/states/state-mode-visual.js' */
define("jira/editor/fsm/states/mode-visual","jira/editor/fsm/states/state jira/editor/fsm/states/detached jira/editor/fsm/events jira/editor/analytics jira/editor/constants underscore".split(" "),function(h,k,e,l,d,g){return function(a){var m=require("jira/editor/fsm/states/mode-text");[d.EVENT_OPERATION,d.EVENT_OPERATION_COLOR,d.EVENT_OPERATION_ATTACHMENT].forEach(function(b){a.$textarea.on(b+".stateVisual",function(c,f){a.FSM.triggerEvent(b,f);return!0})});a.$textarea.on("focus.stateVisual",function(){a.FSM.triggerEvent(e.TEXTAREA_FOCUS)});
a.$textarea.on("keydown.stateVisual",function(){a.FSM.triggerEvent(e.TEXTAREA_FOCUS)});a.$textarea.on(d.EVENT_CHANGE+".stateVisual",function(b,c){a.FSM.triggerEvent(d.EVENT_CHANGE,c)});var n=window.performance.now();return h("Visual",function(b,c){if(b===e.DETACHED&&c===a)return k(a);if(b===e.TABS_CHANGE&&c===d.Modes.TEXT)return m(a);b===d.EVENT_OPERATION&&a.getInstance().focus().executeOperation(c);b===d.EVENT_OPERATION_COLOR&&a.getInstance().focus().executeOperation("color",c);b===d.EVENT_OPERATION_ATTACHMENT&&
g.each(g.isArray(c)?c:[c],function(f){a.getInstance().focus().executeOperation("attachment",{attachment:f})});b===e.TEXTAREA_FOCUS&&a.getInstance().focus();b===d.EVENT_CHANGE&&a.changeHandler(c)}).extend(function(b){b&&(l.sendEvent("editor.instance.tab.timing.visual",{time:window.performance.now()-n}),a.$textarea.off(".stateVisual"));return b})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/events.js' */
define("jira/editor/fsm/events",[],function(){return"ATTACHED DETACHED WIKI_EDITOR_INITIALIZED DESTROY_TIMEOUT TABS_CHANGE TEXTAREA_FOCUS VISIBLE".split(" ").reduce(function(a,b){a[b]=b;return a},{})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:fsm', location = 'js/fsm/fsm.js' */
define("jira/editor/fsm",["jira/editor/fsm/states/init","jira/editor/fsm/events","jira/lib/class","jira/util/logger","underscore"],function(e,f,a,c,d){a=a.extend({init:function(){this.currentState=e()},triggerEvent:function(g){c.debug("JEP FSM - Event:",g,d.rest(arguments,1));c.debug("JEP FSM - Current state:",this.currentState.stateName);var b=this.currentState.apply(null,arguments);d.isFunction(b)&&b!==this.currentState&&(this.currentState=b,c.debug("JEP FSM - Next State:",b.stateName))}});a.Events=
f;return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:util', location = 'js/util/edit-distance.js' */
define("jira/editor/util/edit-distance",["exports"],function(f){f.getEditDistance=function(d,e){if(0===d.length)return e.length;if(0===e.length)return d.length;var c=[],a;for(a=0;a<=e.length;a++)c[a]=[a];var b;for(b=0;b<=d.length;b++)c[0][b]=b;for(a=1;a<=e.length;a++)for(b=1;b<=d.length;b++)e.charAt(a-1)===d.charAt(b-1)?c[a][b]=c[a-1][b-1]:c[a][b]=Math.min(c[a-1][b-1]+1,Math.min(c[a][b-1]+1,c[a-1][b]+1));return c[e.length][d.length]}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:util', location = 'js/util/strings.js' */
define("jira/editor/util/strings",["exports"],function(b){b.getFilenameFromError=function(a){return a&&(a.match(/^Unable to render embedded object: File \(([^)]+)\) not found\.$/)||a.match(/^No usable issue stored in the context, unable to resolve filename '([^']+)'$/)||[])[1]}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:round-trip', location = 'js/round-trip.js' */
define("jira/editor/round-trip","jira/editor/analytics jira/editor/controller jira/editor/util/strings jira/data/local-storage jira/editor/util/edit-distance underscore jquery".split(" "),function(n,w,x,p,y,k,l){var q=JSON.stringify({count:0,average:0,lastReport:0}),r=function(){try{return JSON.parse(p.getItem("jira.editor.score")||q)}catch(d){return JSON.parse(q)}},t=function(d){try{return p.setItem("jira.editor.score",JSON.stringify(d)),!0}catch(e){return!1}},u=function(d,e){d=k(d.childNodes).toArray();
for(var f="";0<d.length;){var a=d.splice(0,1)[0],c=a.nodeName;a.nodeType===Node.TEXT_NODE?c+="#"+a.nodeValue:0<a.attributes.length&&(c+="@"+k(a.attributes).toArray().filter(function(b){return!/^(data-mce|style)/.test(b.name)}).map(function(b){return b.name+"\x3d"+b.value}).sort().join("@"));e[c]||(e[c]=String.fromCharCode(e._chars++));f+=e[c];d.push.apply(d,a.childNodes)}return f},v=function(d){try{var e=(new DOMParser).parseFromString(d,"text/html").body;l(e).find("\x3ep:first-child:last-child").contents().unwrap();
for(var f=k(e.childNodes).toArray();0<f.length;){var a=f.pop(),c=a;if(c.nodeType===Node.TEXT_NODE&&/^\s+$/.test(c.nodeValue)||c.nodeType===Node.COMMENT_NODE||"A"===c.nodeName&&!c.nodeValue)a.parentNode.removeChild(a);else{if("STRONG"===a.nodeName){var b=document.createElement("b");k(a.childNodes).toArray().forEach(b.appendChild,b);a.parentNode.replaceChild(b,a);a=b}else if("SPAN"===a.nodeName&&"error"===a.className){var h=l(a).text(),g=x.getFilenameFromError(h);g&&l(a).replaceWith(l("\x3cimg /\x3e").attr("data-filename",
g))}else"IMG"===a.nodeName&&a.getAttribute("data-filename")&&/^data:/.test(a.src)?a.removeAttribute("src"):"DIV"===a.nodeName&&"table-wrap"===a.className&&l(a).find("table:first-child:last-child").unwrap();f.push.apply(f,a.childNodes)}}return e.innerHTML}catch(m){return d}};return{verify:k.debounce(function(d,e,f){w.renderMarkup(e,f).done(function(a){var c=window.performance.now();var b=v(d);a=v(a);if(b===a)c=1;else if(0===b.length||0===a.length)c=0;else{var h={_chars:33},g=u((new DOMParser).parseFromString(b,
"text/html").body,h),m=u((new DOMParser).parseFromString(a,"text/html").body,h);h=y.getEditDistance(g,m);g=1-h/Math.max(g.length,m.length);n.sendEvent("editor.instance.roundtrip.score.raw",{distance:h,score:g,sourceLength:b.length,targetLength:a.length,time:window.performance.now()-c});c=g}b=r();b.average=(c+b.count*b.average)/(b.count+1);b.count+=1;864E5>Date.now()-b.lastReport||10>b.count||(b.lastReport=Date.now(),t(b)&&n.sendEvent("editor.instance.roundtrip.score",{average:b.average,count:b.count}));
100<b.count&&(b.count=1,b.average=c);t(b)}).fail(function(){})},3E4),get:r}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:rteInitElement', location = 'soy/editor-init.soy' */
// This file was automatically generated from editor-init.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Editor.Init.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Editor == 'undefined') { JIRA.Editor = {}; }
if (typeof JIRA.Editor.Init == 'undefined') { JIRA.Editor.Init = {}; }
if (typeof JIRA.Editor.Init.Templates == 'undefined') { JIRA.Editor.Init.Templates = {}; }


JIRA.Editor.Init.Templates.init = function(opt_data, opt_ignored) {
  return '' + JIRA.Editor.Init.Templates.container({content: '<rich-editor contenteditable="true" data-issue-key="' + soy.$$escapeHtml(opt_data.issueKey) + '" data-content-present="true" tabindex="-1">' + soy.$$filterNoAutoescape(opt_data.valueRendered) + '</rich-editor>'});
};
if (goog.DEBUG) {
  JIRA.Editor.Init.Templates.init.soyTemplateName = 'JIRA.Editor.Init.Templates.init';
}


JIRA.Editor.Init.Templates.container = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="rte-container">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Editor.Init.Templates.container.soyTemplateName = 'JIRA.Editor.Init.Templates.container';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:element', location = 'js/ui/rich-editor.js' */
define("jira/editor/ui/rich-editor","atlassian/libs/skate-0.12.6 jira/util/logger jira/util/navigator jira/editor/controller jira/editor/analytics jira/editor/round-trip jira/editor/fsm jira/editor/constants wiki-edit/PhantomCaret jquery underscore".split(" "),function(n,p,l,h,k,q,m,d,r,c,t){if(!(window.JIRA_EDITOR_CONNECT_PLUGIN_INSTALLED||l.isIE()&&!l.isEdge()&&11>l.majorVersion()))return window.JIRA_EDITOR_CONNECT_PLUGIN_INSTALLED=!0,c.valHooks.textarea={get:function(a){},set:function(a,b){c(a).trigger(d.EVENT_CHANGE,
b)}},h.overrideWikiPreview(),n("rich-editor",{type:n.types.TAG,prototype:{showMask:function(){c(this).addClass(d.CLASS_LOADING);this.getToolbar().addClass(d.CLASS_LOADING);this.getContainer().addClass(d.CLASS_LOADING);this.getInstance()&&this.getInstance().disable()},hideMask:function(){c(this).removeClass(d.CLASS_LOADING);this.getToolbar().removeClass(d.CLASS_LOADING);this.getContainer().removeClass(d.CLASS_LOADING);this.getInstance()&&this.getInstance().enable()},getToolbar:function(){return this.getToolbarContainer().find(".wiki-edit-toolbar")},
getContainer:function(){return c(this.parentNode)},getToolbarContainer:function(){return c(this).parents(".wiki-edit-content").parent()},coverTextarea:function(){this.$textarea.attr("tabindex",-1).attr("data-rich-editor-active",!0).addClass(d.CLASS_COVER).on("focus.rteCover",function(a){a.preventDefault()})},uncoverTextarea:function(){this.$textarea.removeAttr("tabindex").removeAttr("data-rich-editor-active").removeClass(d.CLASS_COVER).off(".rteCover");this.$textarea.expandOnInput&&(this.$textarea.css({height:""}),
this.$textarea.expandOnInput())},getRenderParams:function(){return c(this).data("renderParams")},replaceSelection:function(a){h.renderMarkup(a,this.getRenderParams()).done(function(b){this.getInstance().replaceSelection(b)}.bind(this))},syncSelection:function(a){var b=a.selectionStart,e=a.selectionEnd,f=a.value.length,g=this.getInstance();t.defer(function(){e===f&&(0===b?g.selectAll():b===e&&(g.selectAll(),g.editor.selection.collapse(!1)));g.focus()})},setContent:function(a){return h.renderMarkup(a,
this.getRenderParams()).done(function(b){this._setRawContent(b)}.bind(this))},_setRawContent:function(a,b){this.getInstance().setContent(a,null,b)},getContent:function(){return this.$textarea.val()},focus:function(){this.getInstance().focus()},setMode:function(a){var b=new c.Deferred;a?(k.sendEvent("editor.instance.switch.source"),k.sendEvent("bundled.editor.instance.switch.source")):(k.sendEvent("editor.instance.switch.wysiwyg"),k.sendEvent("bundled.editor.instance.switch.wysiwyg"));if(a)this.uncoverTextarea(),
this.getInstance()&&this.getInstance().hide(),setTimeout(function(){this.$textarea.setCaretToPosition(0);this.$textarea.focus();b.resolve()}.bind(this),25),this.$textarea.attr("originalValue",this.$textarea.val());else{var e=this.$textarea.attr("originalValue")!==this.$textarea.val();this.showMask();this.coverTextarea();var f=e?h.renderMarkup(this.$textarea.val(),this.getRenderParams()):(new c.Deferred).resolve();f.always(function(){this.hideMask();this.getInstance().show();this.getInstance().focus();
e?f.done(function(g){this.getInstance().setContent(g,null,!0);b.resolve()}.bind(this)).fail(function(){b.reject();this.$textarea.removeAttr("originalValue")}.bind(this)):b.resolve()}.bind(this))}return b},changeHandler:function(a){h.renderMarkup(a,this.getRenderParams()).done(function(b){this.getInstance().setContent(b)}.bind(this))},getInstance:function(){return this.richEditorInstance},loadingStart:function(){if("undefined"!==typeof this.richEditorInstance||this.richEditorInstance_loading)return!1;
this.undoManager=this.$textarea.data("undoManager");this.richEditorInstance_loading=!0;this.coverTextarea();this.showMask();return!0},setInstance:function(a){this.richEditorInstance=a},loadingStop:function(){delete this.richEditorInstance_loading;this.richEditorInstance.disable()},shouldFocus:function(){return 0<this.$textarea.parents("#addcomment, #comment-add, .issue-body-content").length},serialize:function(){var a=new c.Deferred,b=this.getInstance().getContent();require("jira/editor/converter").convert(b).then(function(e){p.trace("jira.editor.plugin.converted");
this.$textarea.attr("value",e);const f=new Event("input",{bubbles:!0,cancelable:!0});this.$textarea.get(0).dispatchEvent(f);q.verify(b,e,this.getRenderParams());a.resolve()}.bind(this));return a}},attached:function(a){a.FSM||(a.FSM=new m);document.body.contains(a)&&a.FSM.triggerEvent(m.Events.ATTACHED,a);r.mountPhantomCaret(a.closest(".wiki-edit-content"))},detached:function(a){!document.body.contains(a)&&a.FSM&&a.FSM.triggerEvent(m.Events.DETACHED,a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:customization', location = 'js/editor-customizer.js' */
define("jira/editor/customizer",["jira/util/logger"],function(d){var b=[];return{customizeSettings:function(a,c){if("function"!==typeof a)return d.error("callback has to be a function"),!1;"object"===typeof c&&(a=a.bind(c));b.push(a);return!0},getCustomizeSettingCallbacks:function(){return b.slice(0)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-editor-plugin:init', location = 'js/rich-editor-init.js' */
require(["jira/featureflags/feature-manager","jira/editor/ui/rich-editor","jira/editor/controller"],function(a,c,b){a.isFeatureEnabled("jira.richeditor.deferred.loading")||b.initResources()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:jira-greenhopper-runtime', location = 'jira-greenhopper.runtime.js' */
!function(e){function r(r){for(var t,u,f=r[0],i=r[1],c=r[2],p=0,s=[];p<f.length;p++)u=f[p],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&s.push(o[u][0]),o[u]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(l&&l(r);s.length;)s.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,r=0;r<a.length;r++){for(var n=a[r],t=!0,f=1;f<n.length;f++){var i=n[f];0!==o[i]&&(t=!1)}t&&(a.splice(r--,1),e=u(u.s=n[0]))}return e}var t={},o={0:0},a=[];function u(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var r=[];return 0===o[e]?Promise.resolve():o[e]?o[e][2]:(r.push(new Promise((function(r,n){o[e]=[r,n]})),new Promise((function(r,n){WRM.require("wrc!com.pyxis.greenhopper.jira:"+e).then(r,n)}))),o[e][2]=Promise.all(r))},u.m=e,u.c=t,u.d=function(e,r,n){u.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,r){if(1&r&&(e=u(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)u.d(n,t,function(r){return e[r]}.bind(null,t));return n},u.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(r,"a",r),r},u.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},u.p="",u.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(u.p=AJS.contextPath()+"/s/ef402464-853f-4cc7-aa50-9d6fb3d5e3d3/_/download/resources/com.pyxis.greenhopper.jira:assets-ef402464-853f-4cc7-aa50-9d6fb3d5e3d3/");var f=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[],i=f.push.bind(f);f.push=r,f=f.slice();for(var c=0;c<f.length;c++)r(f[c]);var l=i;n()}([]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_1', location = '1.34355e8cefd136da6388.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[1],[,function(b,a){b.exports=require("jquery")}]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_2', location = '2.ec43bcd40625f538d598.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[2],[function(b,a){b.exports=require("underscore")}]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_3', location = '3.c295ec9852d72417b61d.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[3],{2:function(a,b){a.exports=require("jira/util/formatter")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_4', location = '4.5c1af6962cb8d4bb3c95.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[4],{21:function(b,a){b.exports=require("jira/util/logger")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_6', location = '6.763dd612d2884f427340.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[6],{13:function(b,a){b.exports=WRM.contextPath}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_5', location = '5.1d61fa7ec0f00a5cf59a.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[5],{47:function(b,a,n){b.exports=void 0}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_7', location = '7.6fc7edeae35f197a9873.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[7],{16:function(n,o,a){"use strict";var b;void 0===(b=function(){var n=Symbol.for("soyProxy");return function(o){return new Proxy({},{get:function(a,b){return b===n||o()[b]}})}}.apply(o,[]))||(n.exports=b)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_8', location = '8.0f43a260f3df74fd9d72.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[8],{140:function(r,e,n){"use strict";var t,i;t=[n(21),n(0),n(34)],void 0===(i=function(r,e,n){var t=function t(i){var a=/'(?!')/g,o=/^\d+$/,u=/^(\d+),number$/,l=/^(\d+),choice,(.+)/,c=/^\s*(-?\d+)([#<])(.*)/,s=function(i,a){var s,f,p="";if(s=i.match(o))p=a.length>++i?a[i]:"";else if(s=i.match(u))f=n&&n.format||e.identity,p=a.length>++s[1]?f(a[s[1]]):"";else if(s=i.match(l)){var d=a.length>++s[1]?a[s[1]]:null;if(null!==d){for(var g=s[2].split("|"),m=null,h=0;h<g.length;h++){var y=g[h].match(c);if(!y){r.log("Bad formatting of message: "+i);break}var v=parseInt(y[1],10);if(d<v){if(m){p=m;break}p=y[3];break}if(d===v&&"#"===y[2]){p=y[3];break}h===g.length-1&&(p=y[3]),m=y[3]}var b=[p].concat(Array.prototype.slice.call(a,1));p=t.apply(AJS,b)}}return p},f=function(r){for(var e=!1,n=-1,t=0,i=0;i<r.length;i++){var a=r.charAt(i);if("'"===a&&(e=!e),!e)if("{"===a)0===t&&(n=i),t++;else if("}"===a&&t>0&&0===--t){var o=[];return o.push(r.substring(0,i+1)),o.push(r.substring(0,n)),o.push(r.substring(n+1,i)),o}}return null},p=function(r){for(var e=arguments,n="",t=f(r);t;)r=r.substring(t[0].length),n+=t[1].replace(a,""),n+=s(t[2],e),t=f(r);return n+=r.replace(a,"")};return p.apply(AJS,arguments)};AJS.namespace("AJS.format",null,t);var i=Array.from(arguments).map((function(r,e){return{empty:!r||0===Object.getOwnPropertyNames(r).length&&!r[Symbol.for("soyProxy")],index:e}})).filter((function(r){return r.empty})).map((function(r){return r.index+1}));return i.length&&(window.__circulars=window.__circulars||0,window.__circulars+=i.length,console.error("[circ deps] in ","/jira-agile/rapid/format.js",i)),t}.apply(e,t))||(r.exports=i)},34:function(r,e,n){"use strict";var t,i;t=[n(0),n(39)],void 0===(i=function(r,e){var n={groupingSeparator:",",decimalSeparator:".",format:function(t){if(r.isNumber(t)){var i=(t=e.roundToDecimalPlaces(t,2))<<0,a=t.toString().split(".")[1],o=function(r){return r.split("").reverse().join("")};return o(o(i.toString()).replace(/(\d{3})(?=\d)/g,"$1"+n.groupingSeparator))+(a?n.decimalSeparator+a:"")}},formatExponential:function(e){if(r.isNumber(e)){var t=Math.abs(e).toFixed(0).length-1,i=e/Math.pow(10,t);return n.format(i)+"e"+n.format(t)}}};AJS.namespace("GH.NumberFormat",null,n);var t=Array.from(arguments).map((function(r,e){return{empty:!r||0===Object.getOwnPropertyNames(r).length&&!r[Symbol.for("soyProxy")],index:e}})).filter((function(r){return r.empty})).map((function(r){return r.index+1}));return t.length&&(window.__circulars=window.__circulars||0,window.__circulars+=t.length,console.error("[circ deps] in ","/jira-agile/rapid/number-format.js",t)),n}.apply(e,t))||(r.exports=i)},39:function(r,e,n){"use strict";var t,i;t=[n(0),n(1)],void 0===(i=function(r,e){n(47);var t={getPluginKey:function(){return e('meta[name="ghx-plugin-key"]').attr("content")},wrapPreventDefault:function(r,e){return function(n){return n.preventDefault(),r.apply(e||this,arguments)}},andThenSplice:function(){return{_needsSplice:Array.prototype.slice.call(arguments)}},andThen:function(n){var t=[{trigger:"resolveWith",on:"done",filter:arguments[1]},{trigger:"rejectWith",on:"fail",filter:arguments[2]},{trigger:"notifyWith",on:"progress",filter:arguments[3]}];return e.Deferred((function(e){r.each(t,(function(t){var i=t.on,a=t.trigger,o=r.isFunction(t.filter)&&t.filter;n[i]((function(){var n,t=o&&o.apply(this,arguments);t&&r.isFunction(t.promise)?t.promise().done(e.resolve).fail(e.reject).progress(e.notify):(n=t&&r.isArray(t._needsSplice)?t._needsSplice:o?[t]:arguments,e[a](r.isFunction(this.promise)?e.promise():this,n))}))}))})).promise()}};e._OriginalDeferredSet||(e._OriginalDeferred=e.Deferred),e._OriginalDeferredSet=!0,e.Deferred=function(r){return e._OriginalDeferred((function(e){e.andThen=function(){var r=Array.prototype.slice.call(arguments);return r.unshift(e),t.andThen.apply(this,r)};var n=e.promise;e.promise=function(){var r=n.apply(this,arguments);return r.andThen=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),t.andThen.apply(this,e)},r},r&&r.call(e,e)}))},t.indexOf=function(e,n,t){var i=-1;return t&&(e=e.slice().reverse()),r.some(e,(function(r,a){return!!n(r,a)&&(i=t?e.length-1-a:a,!0)})),i},t.swapArrayItems=function(r,e,n){var t;return!!(r&&e!==n&&Math.min(e,n)>=0&&Math.max(e,n)<r.length)&&(t=r[n],r[n]=r[e],r[e]=t,!0)},t.roundToDecimalPlaces=function(r,e){if("number"!=typeof r||r===Math.round(r))return r;if(0===e)return Math.round(r);var n=r.toString();if(n.indexOf("e")>=0)return r;var t=r<0,i=n.split("."),a=+i[1].charAt(e);if(i[1]=i[1].substr(0,e),a>5||!t&&5===a){var o=/^0*/.exec(i[1])[0];i[1]=o+(+i[1]+1),i[1].length>e&&(o?i[1]=i[1].substr(i[1].length-e):(i[0]=+i[0]+1,i[1]=0))}return parseFloat(i.join("."))},window.define("jira-agile/rapid/util",[],(function(){return t})),AJS.namespace("GH.Util",null,t);var i=Array.from(arguments).map((function(r,e){return{empty:!r||0===Object.getOwnPropertyNames(r).length&&!r[Symbol.for("soyProxy")],index:e}})).filter((function(r){return r.empty})).map((function(r){return r.index+1}));return i.length&&(window.__circulars=window.__circulars||0,window.__circulars+=i.length,console.error("[circ deps] in ","/jira-agile/rapid/util.js",i)),t}.apply(e,t))||(r.exports=i)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_9', location = '9.3cf0c3fa3e9d5f300fa5.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[9],{12:function(e,t,r){"use strict";var n,a;n=[r(0),r(21)],void 0===(a=function(e,t){r(47);var n={ajax:"ajax",event:"event",state:"state",ui:"ui",callback:"callback",refresh:"refresh",deprecation:"deprecation"},a={Contexts:n,enabledContexts:[n.ajax,n.event,n.state,n.ui,n.callback,n.refresh,n.deprecation],log:function(r,n){if(!n||e.contains(this.enabledContexts,n)){var a=n?this.pad(n,6)+": "+r:r;t.log(a)}},pad:function(e,t){return e.length<t?e+"                               ".substr(0,t-e.length):e},timeMap:{},timeStart:function(e){if(!e)throw"start: If starting a timer manually a name must be set";this.timeMap[e]=(new Date).getTime()},timeStop:function(e){if(!(e in this.timeMap))throw"stop:"+e+" not found";var t=(new Date).getTime()-this.timeMap[e];delete this.timeMap[e],this.log(t+"ms on "+e,this.Contexts.ui)}};AJS.namespace("GH.Logger",null,a),AJS.namespace("GH.log",null,a.log.bind(a));var o=Array.from(arguments).map((function(e,t){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:t}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return o.length&&(window.__circulars=window.__circulars||0,window.__circulars+=o.length,console.error("[circ deps] in ","/jira-agile/rapid/logger.js",o)),a}.apply(t,n))||(e.exports=a)},37:function(e,t,r){"use strict";var n,a;n=[r(12)],void 0===(a=function(e){r(47);var t={get:function(t,r){var n;if("string"!=typeof(n=r?sessionStorage.getItem(t):localStorage.getItem(t)))return n;try{return JSON.parse(n)}catch(t){return e.log("GH.storage: Caught error: "+t),void e.log("GH.storage: Cannot parse json string retrieved from "+(r?"session":"local")+" storage. Ignoring value "+n)}},put:function(e,t,r){if(null==t)r?sessionStorage.removeItem(e):localStorage.removeItem(e);else try{r?sessionStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}return!0}};window.localStorage&&window.sessionStorage||(t.get=function(){return null},t.put=function(){return!1}),AJS.namespace("GH.storage",null,t);var n=Array.from(arguments).map((function(e,t){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:t}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return n.length&&(window.__circulars=window.__circulars||0,window.__circulars+=n.length,console.error("[circ deps] in ","/jira-agile/rapid/state/storage.js",n)),t}.apply(t,n))||(e.exports=a)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_10', location = '10.b178d0a800a4c86d0810.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[10],{382:function(n,i,t){n.exports=void 0},48:function(n,i,t){"use strict";var a,o;a=[t(16)],void 0===(o=function(n){return t(382),n((function(){return GH.tpl.rapid.notification}))}.apply(i,a))||(n.exports=o)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_10', location = 'includes/js/jira-agile/rapid/ui/notification/Notification.soy' */
// This file was automatically generated from Notification.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.rapid.notification.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.rapid == 'undefined') { GH.tpl.rapid = {}; }
if (typeof GH.tpl.rapid.notification == 'undefined') { GH.tpl.rapid.notification = {}; }


GH.tpl.rapid.notification.renderErrorMessages = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.length > 1) {
    output += '<ul>';
    var errorList6 = opt_data.errors;
    var errorListLen6 = errorList6.length;
    for (var errorIndex6 = 0; errorIndex6 < errorListLen6; errorIndex6++) {
      var errorData6 = errorList6[errorIndex6];
      output += '<li>' + ((errorData6.noAutoescape) ? soy.$$filterNoAutoescape(errorData6.message) : soy.$$escapeHtml(errorData6.message)) + '</li>';
    }
    output += '</ul>';
  } else {
    var errorList18 = opt_data.errors;
    var errorListLen18 = errorList18.length;
    for (var errorIndex18 = 0; errorIndex18 < errorListLen18; errorIndex18++) {
      var errorData18 = errorList18[errorIndex18];
      output += '<p>' + ((errorData18.noAutoescape) ? soy.$$filterNoAutoescape(errorData18.message) : soy.$$escapeHtml(errorData18.message)) + '</p>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderErrorMessages.soyTemplateName = 'GH.tpl.rapid.notification.renderErrorMessages';
}


GH.tpl.rapid.notification.renderContextualErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList29 = opt_data.errors;
  var errorListLen29 = errorList29.length;
  for (var errorIndex29 = 0; errorIndex29 < errorListLen29; errorIndex29++) {
    var errorData29 = errorList29[errorIndex29];
    output += '<div class="ghx-error">' + soy.$$escapeHtml(errorData29.message) + '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderContextualErrors.soyTemplateName = 'GH.tpl.rapid.notification.renderContextualErrors';
}


GH.tpl.rapid.notification.renderMessageHolder = function(opt_data, opt_ignored) {
  return '<div class="ghx-body-warning">' + soy.$$escapeHtml(AJS.format('\u042d\u0442\u0430 \u0432\u0435\u0440\u0441\u0438\u044f {0} \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f.',opt_data.browser)) + ' <a href="' + soy.$$escapeHtml(opt_data.docsUrl) + '">' + soy.$$escapeHtml('\u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0432 \u043d\u0430\u0448\u0435\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432.') + '</a></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderMessageHolder.soyTemplateName = 'GH.tpl.rapid.notification.renderMessageHolder';
}


GH.tpl.rapid.notification.renderAuiMessage = function(opt_data, opt_ignored) {
  return '<div class="aui-message ' + soy.$$escapeHtml(opt_data.type) + ((opt_data.className) ? ' aui-message-' + soy.$$escapeHtml(opt_data.className) : '') + '">' + ((opt_data.title) ? '<p class="title">' + ((opt_data.icon) ? '<span class="aui-icon icon-' + soy.$$escapeHtml(opt_data.type) + '"></span>' : '') + '<strong>' + soy.$$escapeHtml(opt_data.title) + '</strong></p>' : '') + ((opt_data.message) ? '<p>' + ((opt_data.messageHtml) ? soy.$$filterNoAutoescape(opt_data.message) : soy.$$escapeHtml(opt_data.message)) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderAuiMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderAuiMessage';
}


GH.tpl.rapid.notification.renderGHtvMessage = function(opt_data, opt_ignored) {
  return '<div id="ghx-update-message" class="ghx-tv-message"><p>' + soy.$$escapeHtml('\u041f\u0430\u043d\u0435\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430') + ': <a href="" class="js-refresh-now" data-track-click="gh.rapidboard.updated.message.refresh.click">' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c') + '</a><span class="ghx-divider" role="presentation">&bull;</span><a href="" class="js-ignore-refresh" data-track-click="gh.rapidboard.updated.message.cancel.click">' + soy.$$escapeHtml('\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + '</a></p></div>';
};
if (goog.DEBUG) {
  GH.tpl.rapid.notification.renderGHtvMessage.soyTemplateName = 'GH.tpl.rapid.notification.renderGHtvMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_11', location = '11.d3c1ebed56de87d7d822.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[11],{10:function(e,s,a){"use strict";var r,t;r=[a(140),a(37),a(244),a(2),a(1),a(0),a(13),a(48),a(383),a(21),a(35)],void 0===(t=function(e,s,a,r,t,n,o,i,d,c,u){var g={showErrors:function(e){var s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,t="\u041e\u0448\u0438\u0431\u043a\u0430",n=i.renderErrorMessages(e);g.showError(t,n,s,a)},showError:function(e,s){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,t={autoHide:!1,closeable:a,showTitle:!0,type:"error"};l(s,e,r=n.extend({},t,r))},showWarnings:function(e,s){l((s=n.extend({},{preRendered:!1,autoHide:!0,closeable:!0,showTitle:!1,type:"warning"},s)).preRendered?e:i.renderErrorMessages({errors:e}),"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",s)},showWarning:function(e){g.showWarnings(e,{preRendered:!0})},showSuccess:function(e,s){l(e,null,s=n.extend({},{closeable:!0,autoHide:!0,showTitle:!1,type:"success"},s))},clear:function(){t("#aui-flag-container").empty()},handleDateFormatMismatchError:function(e){var s='<a href="'+o()+'/secure/admin/AdvancedApplicationProperties.jspa">';s+="\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",s+="</a>";var a=r.format("\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0434\u0430\u0442\u044b \u0432 Jira \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 {0} \u0438 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 jira.date.time.picker.java.format \u0438 jira.date.time.picker.javascript.format \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442.",s);g.showWarnings(a,{autoHide:!1,preRendered:!0})},auiMessage:function(){c.warn("[deprecated] GH.Notification.auiMessage has no effect")},showIssueMessage:function(e){var s=a,r=null,t=null;e||(e=s.getItem("selectedIssueId")),e&&(t=s.getItem("selectedIssueKey"),r=s.getItem("selectedIssueMsg"),g.showIssueMessageImpl(e,r,t)),s.removeItem("selectedIssueId"),s.removeItem("selectedIssueKey"),s.removeItem("selectedIssueMsg")},showIssueMessageImpl:function(s,a,r){a||(a="thanks_issue_updated");var t=AJS.params[a];t&&r&&(t=e(t,r),g.showSuccess(t))},addPageLoadMessage:function(e,a){var r=s.get("gh.pageloadmessages",!0)||[];r.push({message:e,type:a||"success"}),s.put("gh.pageloadmessages",r,!0)},_displayPageLoadMessages:function(){var e=s.get("gh.pageloadmessages",!0);if(e){var a=e[0].type,r="";switch(n.each(e,(function(e){r.length>0&&(r+="<br>"),r+=e.message})),a){case"warning":g.showWarning(r);break;case"success":default:g.showSuccess(r)}s.put("gh.pageloadmessages",null,!0)}},showBoardUpdatedMessage:function(){g.triggerShowMessageAnalytics(),g.clearBoardUpdatedMessage();var e=t.Deferred(),s=t(i.renderGHtvMessage()).appendTo("#gh");return s.data("deferred",e),s.find(".js-refresh-now").click((function(a){a.preventDefault(),s.removeData("deferred"),g.clearBoardUpdatedMessage(),e.resolve()})),s.find(".js-ignore-refresh").click((function(e){e.preventDefault(),g.clearBoardUpdatedMessage()})),e.promise()},clearBoardUpdatedMessage:function(){var e=t("#ghx-update-message");if(e.length){var s=e.data("deferred");s&&s.reject&&s.reject(),e.remove()}},isBoardUpdatedMessageVisible:function(){return t("#ghx-update-message").length>0},triggerShowMessageAnalytics:function(){u.send({name:"gh.rapidboard.updated.message.show",properties:{initial:!g.isBoardUpdatedMessageVisible()}})}};function l(e,s,a){return p(d({body:e,title:a.showTitle?s:void 0,close:a.autoHide?"auto":a.closeable?"manual":"never",type:a.type}))}function p(e){var s=t(e).find(".title");return""===t.trim(s.text())&&s.remove(),e}AJS.namespace("GH.Notification",null,g),t(document).ready((function(){g.showIssueMessage(),s&&g._displayPageLoadMessages()}));var f=Array.from(arguments).map((function(e,s){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:s}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return f.length&&(window.__circulars=window.__circulars||0,window.__circulars+=f.length,console.error("[circ deps] in ","/jira-agile/rapid/ui/notification/Notification.js",f)),g}.apply(s,r))||(e.exports=t)},113:function(e,s){e.exports=require("jira/ajs/ajax/smart-ajax")},244:function(e,s){e.exports=require("jira/data/session-storage")},35:function(e,s){e.exports=require("jira/analytics")},383:function(e,s){e.exports=require("aui/flag")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_12', location = '12.60f9574f6b8714376cef.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[12],{31:function(a,b){a.exports=require("jira/util/data/meta")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_13', location = '13.9cab4e4ac5b891388411.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[13],{3:function(e,r,t){"use strict";var n,o;n=[t(12),t(75),t(10),t(48),t(2),t(113),t(31),t(0),t(13),t(1)],void 0===(o=function(e,r,n,o,a,s,i,u,l,c){t(47);var d={};d.CONTEXT_PATH=l(),d.REST_URL_BASE="/rest/greenhopper/1.0",d.PUBLIC_REST_URL_BASE="/rest/agile/1.0",d.xhrRegistery={},d.stallTimeout=300,d.get=function(e,r){return c.extend(e,{type:"GET",headers:{"X-Atlassian-GreenHopper-Gadget":!u.isUndefined(GH.gadget)}}),d._executeGet(e,r).pipe((function(e,r,t){return c.Deferred().resolveWith(this,[e.success,r,t])}))},d.post=function(e){return e=d._getSettings(e,!0),c.extend(e,{type:"POST",contentType:"application/json"}),d._executeStore(e)},d.put=function(e){return(e=d._getSettings(e,!0)).type="PUT",d._executeStore(e)},d.del=function(e){return(e=d._getSettings(e,!0)).type="DELETE",d._executeStore(e)},d._getSettings=function(e,r){return!e.bareUrl&&e.url&&(e.bareUrl=d.buildRestUrl(e.url)),e.bareUrl&&(e.url=e.bareUrl),e.dataType||(e.dataType="json"),e.data&&r&&(e.data=JSON.stringify(e.data)),e.contentType="application/json",e},d._getXhrData=function(e){var r={timestamp:0};return e&&(r=d.xhrRegistery[e]?d.xhrRegistery[e]:d.xhrRegistery[e]=r),r},d._executeGet=function(r,t){r=d._getSettings(r);var n=d._getXhrData(t);n.xhr&&(e.log("aborting request for "+t,e.Contexts.ajax),n.xhr.abort(),delete n.xhr,delete n.xhrAbort,delete n.timeoutId);var o=n.timestamp;if(n.timestamp=(new Date).getTime(),n.timestamp-o<d.stallTimeout){e.log("stalling request for "+t+", time since last request: "+(n.timestamp-o),e.Contexts.ajax);var a,s=c.Deferred();n.timeoutId=window.setTimeout((function(){(a=d._executeGet(r,t)).done(s.resolve).fail(s.reject)}),d.stallTimeout),n.xhr=s.promise(),n.xhr.abort=function(){a?a.abort.apply(a,arguments):clearTimeout(n.timeoutId)}}else e.log("executing request for "+t,e.Contexts.ajax),n.xhr=d.makeRequest(r);return n.xhrAbort=n.xhr.abort,n.xhr.abort=function(){var e=n.xhr,r=n.xhrAbort;if(e&&r)return r.apply(e,arguments)},n.xhr.done((function(){n.xhr&&delete n.xhr})).fail((function(){n.xhr&&delete n.xhr})),n.xhr},d._executeStore=function(e){if((e=e||{}).data&&"string"==typeof e.data&&/\?\?/.test(e.data)){e.data=e.data.replace(/\?\?/g,"\\u003F\\u003F")}return e.dataType="json",d.makeRequest(e)},d.makeRequest=function(e){var r=c.Deferred();e=u.extend(e,{success:function(){r.resolveWith(this,arguments)},error:function(){r.rejectWith(this,arguments)}});var t=r.promise(s.makeRequest(e)),n=t.abort;t.abort=function(e){return t.abortMarker="timeout"!==e,n.apply(t,arguments)};var o=t.pipe(d._generateDoneInterceptor(),d._generateFailInterceptor(e.errorsNoAutoEscape));return e.deferErrorHandling||o.fail(d._generateErrorHandler(e.onGlobalError,e.errorContextMap,e.contextualErrorRenderer,e.globalErrorDismissable)),o},d._generateDoneInterceptor=function(){return function(e,r,t){return e=e||{},e=d._createExtendedResult(e),d.matchesCurrentUser(t)?e.isSuccess()?c.Deferred().resolveWith(this,[e,r,t]):c.Deferred().rejectWith(this,[e,t,r,null]):d._handleCurrentUserChanged(t)}},d._generateFailInterceptor=function(e){return function(r,t,n){if(r.abortMarker)return c.Deferred();if(!d.matchesCurrentUser(r))return d._handleCurrentUserChanged(r);var o={},a=null;if(r.responseText)try{o=JSON.parse(r.responseText)}catch(e){}return o.errors||o.errorMessages?a=d._convertJiraErrors(o,e):o.message&&(a=d._convertFrameworkErrors(o)),a||(a=d._convertGenericErrors(r,n)),c.Deferred().rejectWith(this,[a,r,t,n])}},d.handleContextualErrors=function(e,r,t){return r=r||{},!!e.hasContextualErrors()&&(c(e.getContextualErrors()).each((function(n,a){var s=r[a.contextId];if(s)if(c.isFunction(s))s(a,e);else{var i;(s=c(s)).siblings(".ghx-error").remove(),i=t?t(a):o.renderContextualErrors({errors:a.errors}),s.after(i)}else c(a.errors).each((function(r,t){e.addGlobalError(t)}))})),!0)},d.handleGlobalErrors=function(e,r,t){return!!e.hasGlobalErrors()&&(n.showErrors({errors:e.getGlobalErrors()},t),r&&r instanceof Function&&r(e),!0)},d.buildRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),d.buildBareRestUrl(d.REST_URL_BASE+e)},d.buildPublicRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),d.buildBareRestUrl(d.PUBLIC_REST_URL_BASE+e)},d.buildBareRestUrl=function(e){return 0!==e.indexOf("/")&&(e="/"+e),d.CONTEXT_PATH+e},d._createExtendedResult=function(e){return e?d._extendResult({success:e}):d._extendResult({success:!0})},d._extendResult=function(e){return c.extend(e,{getGlobalErrors:function(){return e.error?e.error.errors:null},getContextualErrors:function(){return e.error?e.error.contextualErrors:null},hasGlobalErrors:function(){return e.error&&e.error.errors&&e.error.errors.length>0},hasContextualErrors:function(){return e.error&&e.error.contextualErrors},addGlobalError:function(r){e.error||(e.error={}),e.error.errors||(e.error.errors=[]),e.error.errors[e.error.errors.length]=r},getSuccessObject:function(){return e.success},isSuccess:function(){return!e.error}})},d._generateErrorHandler=function(e,r,t,n){return function(o){d.handleContextualErrors(o,r,t),d.handleGlobalErrors(o,e,n)}},d._convertJiraErrors=function(e,r){var t=e.errorMessages?e.errorMessages:[];t=u.map(t,(function(e){return{message:e,noAutoescape:r}}));var n=e.errors?e.errors:{},o={error:{errors:t,contextualErrors:n=u.map(n,(function(e,t){return{contextId:t,errors:[{message:e,noAutoescape:r}]}}))}};return d._extendResult(o)},d._convertFrameworkErrors=function(e){var r={error:{errors:[{message:e.message}],contextualErrors:[]}};return d._extendResult(r)},d._convertGenericErrors=function(r,t){var n=d._extendResult({});return r.responseText&&e.log("Got an error response with text that we don't know how to parse: "+r.responseText),504===r.status||0===r.status&&c.contains(["abort","timeout"],t)?n.addGlobalError({status:504,message:"\u0418\u0441\u0442\u0435\u043a\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"}):t?n.addGlobalError({status:r.status,message:t}):e.log("Got an Ajax request error response with empty 'errorThrown' value. Silently logging"),n},d._hasUsernameResponseHeader=function(e){return!!e.getResponseHeader("X-AUSERNAME")},d._getUserForResponse=function(e){return e.getResponseHeader("X-AUSERNAME")?decodeURIComponent(e.getResponseHeader("X-AUSERNAME")):"anonymous"},d.getUserFromAJS=function(){var e=i.get("remote-user");return e||"anonymous"},d.matchesCurrentUser=function(e){return!e.getResponseHeader||!e.getAllResponseHeaders||!d._hasUsernameResponseHeader(e)||d.getUserFromAJS()===d._getUserForResponse(e)||204===e.status&&!e.getAllResponseHeaders()&&c.browser.msie},d._handleCurrentUserChanged=function(t){var n=d.getUserFromAJS(),o=d._getUserForResponse(t);return"anonymous"!==n&&"anonymous"===o?(e.log("User changed. original: "+n+" new: "+o+". Redirecting to the login page"),location.href=r.getLoginUrl()):(e.log("User changed. original: "+n+" new: "+o+". Reloading the page"),location.reload()),c.Deferred()},AJS.namespace("GH.Ajax",null,d);var g=Array.from(arguments).map((function(e,r){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:r}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return g.length&&(window.__circulars=window.__circulars||0,window.__circulars+=g.length,console.error("[circ deps] in ","/jira-agile/rapid/ajax.js",g)),d}.apply(r,n))||(e.exports=o)},75:function(e,r,t){"use strict";var n,o;n=[t(0),t(13)],void 0===(o=function(e,r){t(47);var n={gotoDefaultRapidBoardPage:function(e,r){window.location.href=n.getDefaultRapidBoardPageUrl(e,r)},getDefaultRapidBoardPageUrl:function(r,t){var o=e.isUndefined(t)?"":"&view="+t;return n.getCanonicRapidBoardPageUrl(r)+o},getCanonicRapidBoardPageUrl:function(e){return r()+"/secure/RapidBoard.jspa?rapidView="+e},getLoginUrl:function(){return r()+"/login.jsp?os_destination="+encodeURIComponent(window.location.href)},updateWindowLocation:function(e){return window.location.assign(e)}};AJS.namespace("GH.Navigation",null,n);var o=Array.from(arguments).map((function(e,r){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:r}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return o.length&&(window.__circulars=window.__circulars||0,window.__circulars+=o.length,console.error("[circ deps] in ","/jira-agile/rapid/navigation.js",o)),n}.apply(r,n))||(e.exports=o)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_15', location = '15.3161b86cc3fb2fcc91ee.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[15],{17:function(b,a){b.exports=require("jira/util/strings")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_17', location = '17.71bff0d4990e151db994.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[17],{40:function(a,b){a.exports=require("jira/ajs/select/single-select")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_21', location = '21.56dd2a8a7ab7d7096b4f.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[21],{32:function(b,a){b.exports=require("jira/util/events")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_23', location = '23.f462879bf83fe67660ba.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[23],{38:function(a,b){a.exports=require("jira/ajs/list/item-descriptor")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_29', location = '29.cd3a6a48aa6afba57629.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[29],{73:function(a,b){a.exports=require("jira/ajs/list/group-descriptor")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_30', location = '30.c95a98f99773cb80230d.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[30],{82:function(b,a){b.exports=require("jira/util/events/types")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_46', location = '46.8548f666d70889ff4aed.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[46],{205:function(e,r,t){"use strict";var n,i;n=[t(48),t(206),t(73),t(38),t(40),t(2),t(17),t(1),t(0),t(13)],void 0===(i=function(e,r,t,n,i,a,o,s,c,l){var p=i.extend({init:function(i){var p,h=i.element,u=this;s.extend(i,{submitInputVal:!0,showDropdownButton:!0,removeDuplicates:!0,ajaxOptions:{url:l()+"/rest/greenhopper/1.0/epics",data:function(e){var r=!f();return{searchQuery:e,projectKey:s(h).attr("data-project-key"),maxResults:100,hideDone:r}},formatResponse:function(e){if(!e||!e.epicLists||0===e.total)return[];for(var r=[],i=u.getQueryVal(),s=0,l=function(l){var p,h,u=e.epicLists[l],g=u.epicNames,d=(p=l+1,h=u.listDescriptor,new t({weight:p,label:h,replace:!0}));g.length>0&&(c.each(g,(function(e){d.addItem(function(e,r){var t=e.key,i=e.name,s=e.isDone,c=function(e,r,t,n){e=o.escapeHtml(String(e)),r=o.escapeHtml(String(r));var i=(n=o.escapeHtml(String(n))).toUpperCase(),s=e.toUpperCase(),c=r.toUpperCase();i=(i+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1");var l,p=new RegExp("("+i+")","gi"),h=s.search(p);h>-1&&(l=e.slice(h,h+n.length),e=e.replace(l,"<em>"+l+"</em>"));(h=c.search(p))>-1&&(l=r.slice(h,h+n.length),r=r.replace(l,"<em>"+l+"</em>"));var u=t?" &#8226; "+"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"";return e+" - <span class='epic-menu-metadata'>("+r+u+")</span>"}(i,t,s,r);return new n({value:"key:"+t,fieldText:i,label:c,html:c,allowDuplicate:!1,highlighted:!0})}(e,i))})),r.push(d)),s+=g.length},p=0;p<e.epicLists.length;p++)l(p);if(s>0){var h=new t({weight:0,showLabel:!1,items:[new n({label:i,highlighted:!0,styleClass:"ghx-epic-menu-header",customItem:!0,html:"<li><h5>"+a.format("\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u044d\u043f\u0438\u043a\u043e\u0432: {0} \u0438\u0437 {1}",s,e.total)+"</h5><label for='chkShowDoneEpic'><input type='checkbox' id='chkShowDoneEpic'"+(f()?" checked":"")+">"+"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u044d\u043f\u0438\u043a\u043e\u0432"+"</label></li>"})]});r.unshift(h)}return r},error:function(r,t,n){var i=s(h);i.siblings(".ghx-error").remove(),i.before(e.renderAuiMessage({message:"\u041e\u0448\u0438\u0431\u043a\u0430"+": "+n,type:"error",className:"ghx-error aui-ss"}))}}});var g=this.setSelection;function d(e){var r;p.apply(u,[e]),e=e||s.trim(u.$field.val()),!u.model.getDescriptor(e)&&u.$container.hasClass("aui-ss-editing")&&((r=function(e){var r="",t=!1;return e&&e.length>0&&(r=a.format("\u042d\u043f\u0438\u043a \u0441 \u043a\u043b\u044e\u0447\u043e\u043c \u00ab{0}\u00bb \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.",e),t=!0),{isError:t,message:r}}(e)).isError?(u.options.errorMessage=r.message,u.showErrorMessage(e)):u.hideErrorMessage())}function f(){return"true"===localStorage.getItem("gh.epicpicker.showdone")}function m(e){e.preventDefault();var r=!f();try{localStorage.setItem("gh.epicpicker.showdone",r)}catch(e){}return u.$field.click(),!1}this.setSelection=function(e,r){e.properties.customItem||g.apply(this,arguments)},u._super(i),p=u.handleFreeInput,u.handleFreeInput=d,u.dropdownController.bind(r.EVENTS.show,(function(e,r){r.off("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',m),r.on("click",'.ghx-epic-menu-header label[for="chkShowDoneEpic"]',m)}))}});p.READY_EVENT="gh.epic-picker.ready",AJS.namespace("JIRA.EpicPicker",null,p);var h=Array.from(arguments).map((function(e,r){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:r}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return h.length&&(window.__circulars=window.__circulars||0,window.__circulars+=h.length,console.error("[circ deps] in ","/jira-agile/field/EpicPicker.js",h)),p}.apply(r,n))||(e.exports=i)},206:function(e,r){e.exports=require("jira/ajs/layer/inline-layer")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_53', location = '53.a69d7b89fa4ef9f15e19.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[53],{303:function(e,i,n){"use strict";var s,t;s=[n(205),n(32),n(3),n(38),n(505),n(2),n(1),n(0),n(13)],void 0===(t=function(e,i,n,s,t,a,o,r,c){var u={epicKey:null,epicName:null,init:function(){i.unbind("QuickCreateIssueInEpic.sessionComplete"),i.bind("QuickCreateIssueInEpic.sessionComplete",(function(i,n){o(document).off(e.READY_EVENT),u.handleIssuesCreated(n)}))},createQuickCreateIssueForEpicDialog:function(){(u.epicKey=o("#ghx-epic-key").text(),u.epicName=o("#ghx-epic-name").text(),"true"===o("#ghx-hide-table").text())&&o("#ghx-issues-in-epic-table").addClass("hidden");var i=new JIRA.Forms.Container((function(){var e={title:a.format("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432 \u044d\u043f\u0438\u043a\u0435 : {0}",u.epicKey),id:"create-issue-in-epic-form",globalEventNamespaces:["QuickCreateIssueInEpic"]},i=new JIRA.Forms.CreateIssueModel({projectId:e.pid,issueType:e.issueType}),n=new JIRA.Forms.ConfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces}),s=new JIRA.Forms.UnconfigurableCreateIssueForm({model:i,title:e.title,globalEventNamespaces:e.globalEventNamespaces});return{globalEventNamespaces:e.globalEventNamespaces,model:i,errorHandler:new JIRA.Forms.CreateIssueError,configurableForm:n,unconfigurableForm:s}}));i.bind("contentRefreshed",(function(){o(document).off("QuickCreateIssueInEpic.validationError"),o(document).off(e.READY_EVENT),o(document).on(e.READY_EVENT,(function(e,i){i.setSelection(new s({value:"key:"+u.epicKey,label:u.epicName})),setTimeout((function(){i.disable()}),0),o(document).on("QuickCreateIssueInEpic.validationError",(function(){i.disable()}))}))}));var n=i.asDialog({windowTitle:a.format("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432 \u044d\u043f\u0438\u043a\u0435 : {0}",u.epicKey),id:"create-issue-dialog"});return n.bind("Dialog.hide",(function(){o(document).off(e.READY_EVENT),o(document).off("QuickCreateIssueInEpic.validationError")})),n},handleIssuesCreated:function(e){var i=r.pluck(e,"issueKey");u.addIssuesToEpic(e).done((function(){u.refreshIssuesInEpicTable(i)}))},addIssuesToEpic:function(e){var i={ignoreEpics:!0,issueKeys:r.pluck(e,"issueKey")};return n.put({url:"/epics/"+u.epicKey+"/add",data:i})},refreshIssuesInEpicTable:function(e){var i=o("#greenhopper-epics-issue-web-panel");i.addClass("updating"),o.ajax({url:c()+"/secure/ViewIssuesInEpic.jspa?epicKey="+u.epicKey+"&decorator=none"}).done((function(n){i.find(".mod-content").html(n),t.bindIssueActionsDds(i),o.each(e,(function(e,n){i.find('.issuerow[data-issuekey="'.concat(n,'"]')).fadeInBackground()}));var s=o("#ghx-issues-in-epic-table");"true"===o("#ghx-hide-table").text()?s.addClass("hidden"):(o("#ghx-issues-in-epic-empty-message").remove(),s.removeClass("hidden")),i.removeClass("updating")}))}};AJS.namespace("GH.QuickCreateIssueInEpic",null,u);var d=Array.from(arguments).map((function(e,i){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:i}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return d.length&&(window.__circulars=window.__circulars||0,window.__circulars+=d.length,console.error("[circ deps] in ","/jira-agile/viewissue/QuickCreateIssueInEpic.js",d)),u}.apply(i,s))||(e.exports=t)},505:function(e,i){e.exports=require("jira/dropdown/dropdown-factory")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_72', location = '72.edaca74cbb5f3db4354c.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[72],{212:function(a,b){a.exports=require("jira/util/events/reasons")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.dialog2', location = 'aui.chunk.0d2c6c5cb681728690ac--c8927d5818dd30c0cead.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[8447],{4220:(e,t,i)=>{i.r(t),i.d(t,{dialog2:()=>p});i(1649);var a=i(7159),o=i(9689),n=i(6862),s=i(8388),u=i(2949),r=i(2031),l=i(8706),d=i(3581);const c={"aui-focus":"false","aui-blanketed":"true"};function f(e){var t;this._handlers=new WeakMap,this.$el=e?(0,a.default)(e):(0,a.default)(`\n        <section role="dialog" aria-modal="true" class="aui-layer aui-dialog2 aui-dialog2-medium">\n            <header class="aui-dialog2-header">\n                <h2 class="aui-dialog2-header-main"></h2>\n                ${l.CLOSE_BUTTON}\n                </button>\n            </header>\n            <div class="aui-dialog2-content"></div>\n            <footer class="aui-dialog2-footer"></footer>\n        </section>`),t=this.$el,a.default.each(c,(function(e,i){const a="data-"+e;t[0].hasAttribute(a)||t.attr(a,i)}))}f.prototype.on=function(e,t){const i=this.$el;if(!this._handlers.get(t)){const a=function(e){e.target===i.get(0)&&t.apply(this,arguments)};(0,s.default)(i).on(e,a),this._handlers.set(t,a)}return this},f.prototype.off=function(e,t){const i=this.$el,a=this._handlers.get(t);return a&&((0,s.default)(i).off(e,a),this._handlers.delete(t)),this},f.prototype.show=function(){return(0,s.default)(this.$el).show(),this},f.prototype.hide=function(){return(0,s.default)(this.$el).hide(),this},f.prototype.remove=function(){return(0,s.default)(this.$el).remove(),this},f.prototype.isVisible=function(){return(0,s.default)(this.$el).isVisible()};var h=(0,u.default)("dialog2",f),g=new Set;h.on=function(e,t){return g.has(t)||(s.default.on(e,".aui-dialog2",t),g.add(t)),this},h.off=function(e,t){return g.has(t)&&(s.default.off(e,".aui-dialog2",t),g.delete(t)),this},(0,a.default)(document).on("click keydown",`.aui-dialog2-header ${l.CLOSE_BUTTON_CLASS_SELECTOR}`,(function(e){("click"===e.type||e.keyCode===r.default.ENTER||e.keyCode===r.default.SPACE)&&(e.preventDefault(),h((0,a.default)(e.target).closest(".aui-dialog2")).hide())})),h.on("show",(function(e,t){!function(e){const t=e.querySelector(l.CLOSE_BUTTON_CLASS_SELECTOR);t&&(d.getMessageLogger(`Dialog2 [${l.CLOSE_BUTTON_CLASS_SELECTOR}]`,{removeInVersion:"10.0.0",sinceVersion:"9.6.0",extraInfo:"Replace it with another actionable element inside your Dialog which will trigger closing of the modal.",deprecationType:"MARKUP"})(),t.setAttribute("tabindex","0"));e.setAttribute("tabindex","-1");const i=e.hasAttribute("data-aui-focus-selector");i&&d.getMessageLogger("Dialog2 [data-aui-focus-selector] attribute",{removeInVersion:"10.0.0",alternativeName:"initialisation on DOM insertion",sinceVersion:"9.6.0",extraInfo:"Replace [data-aui-focus-selector] attribute with HTML [autofocus] attribute",deprecationType:"ATTRIBUTE"})();const a=e.querySelector("[autofocus]");if(a)return document.activeElement.blur(),void setTimeout((()=>a.focus()),0);if(i){const t=e.querySelector(i);if(t)return t.blur(),void setTimeout((()=>t.focus()),0)}const o=[...e.querySelectorAll('a[href], button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter((e=>!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")));if(o.length){let e=o.shift();return e.classList.contains(l.CLOSE_BUTTON_CLASS)&&(e=o.shift()),void(e&&(e.blur(),setTimeout((()=>e.focus()),0)))}e.focus()}(t[0])})),h.on("hide",(function(e,t){const i=(0,s.default)(t);t.data("aui-remove-on-hide")&&i.remove()})),(0,o.default)("aui/dialog2",h),(0,n.default)("dialog2",h);const p=h}},e=>{e.O(0,[7224,7035,8196,3469,2276,4271,4678,7981,2554,8877,7201,4544,7991,3136,113,9110,2990,9009,5260,7524,5396,7690],(()=>{return t=4220,e(e.s=t);var t}));e.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-dialog-core-2', location = '/includes/jira/dialog/Dialog2.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira/dialog/dialog2",["require"],(function(t){"use strict";var e=t("jira/dialog/dialog-stack"),i=t("aui/dialog2"),n=t("jira/ajs/control"),o=t("jira/ajs/layer/inline-layer"),s=t("jira/util/data/meta"),r=t("jira/ajs/ajax/smart-ajax"),a=t("jira/loading/loading"),h=t("jira/xsrf"),c=t("jira/util/browser"),d=t("jira/util/events"),l=t("aui/dropdown"),p=t("jquery"),u=t("jira/jquery/deferred"),g=t("jira/jquery/plugins/isdirty"),f=t("underscore"),_=t("wrm/require"),v=t("jira/util/key-code"),m=AJS.dim,C=AJS.LayerManager.global,y=n.extend({_getDefaultOptions:function(){return{cached:!1,widthClass:"medium",ajaxOptions:{data:{inline:!0,decorator:"dialog"}}}},init:function(t){"string"==typeof t||t instanceof p?t={trigger:t}:t&&t.width&&(t.widthClass="custom");this.classNames=y.ClassNames;this.OPEN_DIALOG_SELECTOR=y.getSelector("DIALOG")+y.getSelector("DIALOG_OPEN");this.options=p.extend(!0,this._getDefaultOptions(),t);this.options.width=y.WIDTH_PRESETS[this.options.widthClass]||t.width;this._setType();if(this.options.trigger){var e=p.makeArray(this.options.trigger),i=this;p.each(e,(function(t,e){i._assignEvents("trigger",e)}))}this.onContentReadyCallbacks=[];this.defineResources();this.options.prefetchResources&&this.downloadResources()},_setType:function(){"function"==typeof this.options.content?this.options.type="builder":this.options.content instanceof p||"object"===_typeof(this.options.content)&&this.options.nodeName?this.options.type="element":(!this.options.type&&!this.options.content||"object"===_typeof(this.options.content)&&this.options.content.url)&&(this.options.type="ajax")},_getDialogSelector:function(){if(!this.options.id){this.options.id="new-dialog-id";this.get$popup().attr("id",this.options.id)}return"#"+this.options.id},_runContentReadyCallbacks:function(){var t=this;p.each(this.onContentReadyCallbacks,(function(){this.call(t)}))},_setContent:function(t,i){var n;if("resolved"===this.resourcesReady().state())if(t)if(e.current===this){this.$content=t;this.get$popupContent().html(t);!1!==i&&this.decorateContent&&this.decorateContent();if(this.get$popup().find("."+this.classNames.FOOTER_AREA).length)this.get$popupContent().find("."+this.classNames.FOOTER_AREA).length&&this.get$popup().append(this.get$popupContent().find("."+this.classNames.FOOTER_AREA));else{var o=this.get$popup().find(".buttons");this.moveFooterToDialog2(o)}(n=this.get$popupContent().find("."+this.classNames.HEADING_AREA.split(" ").join("."))).size()>0&&this.get$popupHeading().replaceWith(n);if((n=this.get$popupContent().find("."+this.classNames.CONTENT_AREA.split(" ").join("."))).size()>0){n.contents().insertAfter(n);n.remove()}if(!1!==i){p(document).trigger("dialogContentReady",[this]);this._runContentReadyCallbacks()}!1!==i&&p.isFunction(this.options.onContentRefresh)&&this.options.onContentRefresh.call(this);this._onShowContent()}else!1===this.options.cached&&delete this.$content;else this._contentRetrievers[this.options.type].call(this,this._setContent);else{this._showloadingIndicator();this.resourcesReady().done(this._setContent.bind(this,t,i))}},moveFooterToDialog2:function(t){if(t&&t.length){this.get$popup().children("footer").eq(0).remove();var e=p('<footer class="'+this.classNames.FOOTER_AREA+'"></footer>');e.append(t);this.get$popup().append(e);var i=this.get$popupContent().find("form"),n=t.find('[type="submit"]'),o=i.attr("id")||"dialog-form";i.attr("id",o);n.attr("form",o)}},_initAuiDialog2:function(){i(this._getDialogSelector()).show();this._listenOnAuiBlanket();this._listenOnEscape()},_listenOnAuiBlanket:function(){var t=this;p(".aui-blanket").on("click."+this._getNamespace(),(function(e){e.stopImmediatePropagation();t.handleCancel()}))},_listenOnEscape:function(){var t=this;p("body").off("keydown."+this._getNamespace());p("body").on("keydown."+this._getNamespace(),(function(e){var i=C.getTopLayer();if(!(i&&(i[0]&&"AUI-INLINE-DIALOG"===i[0].nodeName||i.hasClass("wiki-edit-dropdown")||i.hasClass("wiki-edit-picker"))||e.keyCode!==v.ESCAPE)){e.stopPropagation();t.handleCancel()}}))},_getNamespace:function(){return this._getDialogSelector().substring(1)},_ellipsify:function(t){t instanceof p||(t=this.get$popup());p(".overflow-ellipsis",t).textOverflow({className:"ellipsified"})},_handleInitialDoneResponse:function(t,e,i){},getRequestUrlFromTrigger:function(){if(this.$activeTrigger&&this.$activeTrigger.length)return this.$activeTrigger.attr("href")||this.$activeTrigger.data("url")},_getRequestOptions:function(){var t={};if(!1===this._getAjaxOptionsObject())return!1;(t=p.extend(!0,t,this._getAjaxOptionsObject())).url||(t.url=this.getRequestUrlFromTrigger());return t},_getAjaxOptionsObject:function(){var t=this.options.ajaxOptions;return p.isFunction(t)?t.call(this):t},_contentRetrievers:{element:function(t){this.$content||(this.$content=p(this.options.content).clone(!0));t.call(this,this.$content)},builder:function(t){var e=this;if(!this.$content){this._showloadingIndicator();this.options.content.call(this,(function(i){e.$content=p(i);t.call(e,e.$content)}),(function(){e._hideloadingIndicator()}))}},ajax:function(t){var e,i=this;if(!this.$content){e=this._getRequestOptions();this._showloadingIndicator();this.serverIsDone=!1;e.complete=function(n,o,s){if(s.successful){var a=i._detectRedirectInstructions(n);i.serverIsDone=a.serverIsDone;if(a.redirectUrl)i._performRedirect(a.redirectUrl);else{e.dataType&&"json"===e.dataType.toLowerCase()&&i._buildContentFromJSON?i.$content=i._buildContentFromJSON(s.data):i.$content=s.data;i.serverIsDone||t.call(i,i.$content)}}else{var h=r.buildDialogErrorContent(s);t.call(i,h)}};r.makeRequest(e)}}},_detectRedirectInstructions:function(t){var e={serverIsDone:!1,redirectUrl:""},i=t.getResponseHeader("X-Atlassian-Dialog-Control");if(i){e.serverIsDone=!0;0===i.indexOf("redirect:")?e.redirectUrl=i.substr(9):"permissionviolation"===i&&(e.redirectUrl=window.location.href)}return e},_performRedirect:function(t){c.reloadViaWindowLocation(t)},_renders:{popupHeading:function(){return p("<header />").addClass(this.classNames.HEADING_AREA)},popupContent:function(){return p("<div />").addClass(this.classNames.CONTENT_AREA)},popup:function(){var t=p("<section />").attr("id",this.options.id||"").addClass(this.classNames.DIALOG).attr("role","dialog").attr("aria-labelledby","jira-dialog2__heading").hide();this._setDialogSize(t);return t}},_events:{trigger:{simpleClick:function(t,e){this.$activeTrigger=e;this.$activeTrigger.is("a")||(this.$activeTrigger=e.find("a"));this.show();t.preventDefault()}}},handleCancel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.HIDE_REASON.escape;return this.hide(!0,{reason:t})},_showloadingIndicator:function(){a.showLoadingIndicator()},_hideloadingIndicator:function(){a.hideLoadingIndicator()},_setDialogSize:function(t){var e=this._getDialogSizeClass(this.options.width);t&&!t.hasClass(e)&&t.addClass(e)},_getDialogSizeClass:function(t){switch(!0){case t<=400:return"aui-dialog2-small";case t<=600:return"aui-dialog2-medium";default:return"aui-dialog2-large"}},getContentArea:function(){return this.$popup.find(".form-body")},getContentContainer:function(){var t=this.$popup.find(".content-area-container");return 1===t.length?t:this.$popup.find(".form-body")},get$popup:function(){this.$popup||(this.$popup=this._render("popup").appendTo("body"));return this.$popup},bindAnchorsToDialog:function(t){var e=this;t.click((function(t){e.$activeTrigger=p(this);delete e.$content;e._setContent();t.preventDefault()}))},get$popupContent:function(){this.$popupContent||(this.$popupContent=this._render("popupContent").appendTo(this.get$popup()));return this.$popupContent},get$popupHeading:function(){this.$popupHeading||(this.$popupHeading=this._render("popupHeading").prependTo(this.get$popup()));return this.$popupHeading},getLoadingIndicator:function(){return this.get$popup().find(".throbber:last")},showFooterLoadingIndicator:function(){var t=this.getLoadingIndicator();t.length&&(t.data("spinner")?t.hasClass("loading")||t.addClass("loading"):t.addClass("loading").spin())},hideFooterLoadingIndicator:function(){var t=this.getLoadingIndicator();if(t.length){t.removeClass("loading");f.defer((function(){t.hasClass("loading")||t.spinStop()}))}},_show:function(t){o.current&&o.current.hide();l.current&&l.current.hide();var n=e.current;if(n){var s;if(n.options.stacked){(s=n).stacked=!0;this.prev=s}else{e.stackroot=this;s=n._removeStackState();n.hide(!1);for(;s;){s=(n=s)._removeStackState();n._destroyIfNecessary()}}}else if(!0!==this.stacked){e.stackroot=this;e.originalWindowTitle=document.title}!0!==this.stacked&&m(!1);e.current=this;var r=this.get$popup().addClass(this.classNames.DIALOG_OPEN);if(t||"blank"!==this.options.type&&!this.$content&&!0!==this.stacked){delete this.$content;this._setContent()}else{r.show();this._onShowContent();i(this._getDialogSelector()).show()}this._assignEvents("container",document);p(this).trigger("Dialog.show",[this.$popup,this,this.id]);d.trigger("Dialog.show",[this.$popup,this,this.id]);this.stacked=!1},show:function(t){var i=this.options.delayShowUntil,n=this;if(e.current===this)return!1;var o=new p.Event("beforeShow"),s=new p.Event("beforeShow");p(this).trigger(o);d.trigger(s,[this.options.id]);if(o.isDefaultPrevented()||s.isDefaultPrevented())return!1;this.downloadResources();if(i){var r=i();if("resolved"===r.state())n._show(t);else{m(!1);this._showloadingIndicator();r.done((function(){n._show(t)}))}}else n._show(t)},_setWindowTitle:function(){var t,e,i=this.options.windowTitle,n=this.get$popup();if(!1!==i){"string"==typeof i?t=i:"function"==typeof i?t=i.call(this):(e=n.find("."+this.classNames.HEADING_AREA)).length&&(t=e.text());if(t){var o=s.get("app-title"),r=[t];o&&r.push(o);document.title=r.join(" - ")}}},_onShowContent:function(){this._initAuiDialog2();this._setWindowTitle();this._hideloadingIndicator();this._ellipsify();this.get$popup().addClass(this.classNames.CONTENT_READY)},_resetWindowTitle:function(){if(!0!==this.stacked&&e.stackroot===this&&e.originalWindowTitle){document.title!==e.originalWindowTitle&&(document.title=e.originalWindowTitle);e.originalWindowTitle=void 0}},notifyOfNewContent:function(){if(this.$content){this.decorateContent();this._setDialogSize(this.get$popup());this._onShowContent();p(document).trigger("dialogContentReady",[this])}},destroy:function(){this.$popup&&this.$popup.remove();delete this.$popup;delete this.$popupContent;delete this.$popupHeading;delete this.$content},_destroyIfNecessary:function(){!this.options.cached&&this.destroy()},_removeStackState:function(){var t=this.prev;delete this.prev;delete this.stacked;return t},isCurrent:function(){return e.current===this},hide:function(t,n){if(e.current===this){var o=new p.Event("Dialog.beforeHide"),s=new p.Event("Dialog.beforeHide");n=n||{};d.trigger(o,[this.$popup,n.reason,this.options.id]);p(this).trigger(s,[this.$popup,n.reason,this.options.id]);if(o.isDefaultPrevented()||s.isDefaultPrevented())return!1;p(".aui-blanket").off("click."+this._getNamespace());p("body").off("keydown."+this._getNamespace());var r=p("input[name=atl_token]",this.OPEN_DIALOG_SELECTOR).attr("value");void 0!==r&&h.updateTokenOnPage(r);i(this._getDialogSelector()).hide();this.get$popup().removeClass(this.classNames.DIALOG_OPEN).removeClass(this.classNames.CONTENT_READY).hide();this._hideloadingIndicator();this._resetWindowTitle();this._unassignEvents("container",document);p(document).trigger("hideAllLayers",[this.$popup,n.reason,this.options.id]);p(this).trigger("Dialog.hide",[this.$popup,n.reason,this.options.id]);d.trigger("Dialog.hide",[this.$popup,n.reason,this.options.id]);e.current=null;!1===this.options.cached&&!0!==this.stacked&&this.destroy();if(!0!==this.stacked)if(this.prev){this.prev.show(!!this.prev.options.reloadOnPop);this.prev._listenOnAuiBlanket();delete this.prev}else e.stackroot===this&&(e.stackroot=void 0)}},addHeading:function(t){var e=p("<div/>").html(t).contents(),i=p("<h2/>").attr("id","jira-dialog2__heading"),n=[i];e.each((function(){"div"===this.nodeName.toLowerCase()?n.push(this):i.append(this)}));this.get$popupHeading().html(n);i.attr("title",p.trim(i.text()))},onContentReady:function(t){p.isFunction(t)&&this.onContentReadyCallbacks.push(t)},defineResources:function(){f.isFunction(this.options.defineResources)&&this.options.defineResources.call(this)},requireContext:function(t){this.requireResource(t,"wrc!")},requireResource:function(t,e){this.wrmResources=this.wrmResources||[];this.wrmResources.push((e||"wr!")+t)},getRequiredResources:function(){return this.wrmResources||[]},downloadResources:function(){this.getRequiredResources().length>0&&!this.deferredResources&&(this.deferredResources=_(this.getRequiredResources()))},resourcesReady:function(){return this.deferredResources?this.deferredResources.promise():(new u).resolve().promise()}});y.fn.dirtyFormWarning=function(){return this.bind("Dialog.beforeHide",(function(t,e,i){if(!t.isDefaultPrevented()&&(i===y.HIDE_REASON.cancel||i===y.HIDE_REASON.escape)){var n=g.getDirtyWarning();n&&!confirm(n)&&t.preventDefault()}}))};y.ClassNames={DIALOG:"aui-dialog2 aui-layer jira-dialog2 jira-dialog-core",HEADING_AREA:"aui-dialog2-header jira-dialog-core-heading",CONTENT_AREA:"aui-dialog2-content jira-dialog-core-content",FOOTER_AREA:"aui-dialog2-footer",DIALOG_OPEN:"jira-dialog-open",CONTENT_READY:"jira-dialog-content-ready"};y.getSelector=function(t){var e=(y.ClassNames[t]||"").split(" ")[0];return e?"."+e:""};y.WIDTH_PRESETS={small:360,medium:540,large:810};y.HIDE_REASON={cancel:"cancel",escape:"esc",submit:"submit"};Object.defineProperty(y,"current",{get:function(){console.warn(e.currentDeprecationMsg);return e.current},set:function(t){console.warn(e.currentDeprecationMsg);e.current=t}});return y}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-dialog-core-2', location = '/includes/jira/dialog/FormDialog2.js' */
define("jira/dialog/form-dialog2",["jira/util/formatter","jira/dialog/dialog2","jira/flag","jira/message","jira/ajs/ajax/smart-ajax","jira/focus/set-focus","jira/util/browser","jira/util/events","jquery","jira/libs/parse-uri"],(function(t,e,s,i,n,o,r,a,u,l){"use strict";return e.extend({defineResources:function(){this._super.apply(this,arguments);this.isIssueDialog()&&this.requireContext("jira.edit.issue")},_getDefaultOptions:function(){return u.extend(this._super(),{autoClose:!1,targetUrl:"",refreshOnSubmit:!0,onUnSuccessfulSubmit:function(){},onSuccessfulSubmit:function(){},onDialogFinished:function(){var t=this._getTargetUrlValue();this.hide();if(t){a.trigger("page-unload.location-change.from-dialog",[this.$popup]);window.location.href=t}else if(this.options.refreshOnSubmit){a.trigger("page-unload.refresh.from-dialog",[this.$popup]);r.reloadViaWindowLocation()}},submitAjaxOptions:{type:"post",data:{inline:!0,decorator:"dialog"},dataType:"html"},isIssueDialog:!1})},_getFormDataAsObject:function(){var t={};u(this.$form.serializeArray()).each((function(){var e=t[this.name];e?u.isArray(e)?e.push(this.value):e=[e,this.value]:e=this.value;t[this.name]=e}));return t},_getRelativePath:function(){var t=this._getRequestOptions();return l(t.url).directory},_getPath:function(t){var e=this._getRelativePath();return 0===t.indexOf(e)?t:e+t},_submitForm:function(t){this.cancelled=!1;this.xhr=null;this.redirected=!1;this.serverIsDone=!1;var e=this,s=u.extend(!0,{},this.options.submitAjaxOptions),i=u.extend(!0,s,{url:this._getPath(this.$form.attr("action")),data:this._getFormDataAsObject(),complete:function(t,s,i){e.hideFooterLoadingIndicator();if(!e.cancelled){e._showMessagesFromXhrResponse(t);if(i.successful){e.$form.trigger("fakesubmit");e._handleServerSuccess(i.data,t,s,i);e.redirected||e._handleSubmitResponse(i.data,t,i)}else e._handleServerError(t,s,i.errorThrown,i)}e.$form.removeClass("submitting")}});i.data.decorator="dialog";i.data.inline=!0;this.showFooterLoadingIndicator();this.xhr=n.makeRequest(i);t.preventDefault()},_showMessagesFromXhrResponse:function(t){var e=t.getResponseHeader("X-Atlassian-Messages");if(e){var i=JSON.parse(e);s.showMessages(i)}},_handleServerError:function(t,e,s,i){this.options.onUnSuccessfulSubmit&&this.options.onUnSuccessfulSubmit.call(t,e,s,i);var o=n.buildDialogErrorContent(i,!0),r=this.get$popupContent().find(".form-body");1!==r.length&&(r=this.get$popupContent());1===r.length&&!i.hasData?r.prepend(o):this.setSubmitResponseContent(o)},setSubmitResponseContent:function(t){this.options.formatSubmitResponseContent&&(t=this.options.formatSubmitResponseContent.call(this,t));this._setContent(t)},isIssueDialog:function(){return!!this.options.isIssueDialog},_handleServerSuccess:function(t,e,s,n){var o=this._detectMsgInstructions(e),r=this._detectRedirectInstructions(e);this.serverIsDone=r.serverIsDone;o&&(r.redirectUrl||this._getTargetUrlValue()||this.options.refreshOnSubmit?i.showMsgOnReload(o.msg,{type:o.type,closeable:o.closeable,target:o.target}):i.showMsg(o.msg,{type:o.type.toLowerCase(),closeable:o.closeable,target:o.target}));if(r.redirectUrl){this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,t,e,s,n);this._performRedirect(r.redirectUrl)}else this.serverIsDone||this.setSubmitResponseContent(t)},_detectMsgInstructions:function(t){var e={msg:t.getResponseHeader("X-Atlassian-Dialog-Msg-Html")};if(e.msg){e.type=t.getResponseHeader("X-Atlassian-Dialog-Msg-Type").toUpperCase();e.closeable="true"===t.getResponseHeader("X-Atlassian-Dialog-Msg-Closeable");e.target=t.getResponseHeader("X-Atlassian-Dialog-Msg-Target");return e}},_handleInitialDoneResponse:function(t,e,s){this._handleSubmitResponse(t,e,s)},_handleSubmitResponse:function(t,e,s){if(this.serverIsDone){this.options.onSuccessfulSubmit&&this.options.onSuccessfulSubmit.call(this,t,e,s);this.options.autoClose&&this.hide();this.options.onDialogFinished&&this.options.onDialogFinished.call(this,t,e,s)}},_performRedirect:function(t){this.options.stayVisibleOnRedirect||this.hide();this.redirected=!0;this._super(t)},_hasTargetUrl:function(){return this._getTargetUrlHolder().length>0},_getTargetUrlHolder:function(){return u(this.options.targetUrl)},_getTargetUrlValue:function(){return this._getTargetUrlHolder().val()},decorateContent:function(){var s,i,n,o,r,a=this;this.$form=u("form",this.get$popupContent());this._constructHeading();this.$form.submit((function(t){var e=new u.Event("before-submit");a.$form.trigger(e,[t,a]);if(e.isDefaultPrevented())t.preventDefault();else{a.$form.addClass("submitting");u(":submit",a).attr("disabled","disabled");if(a.options.submitHandler){a.showFooterLoadingIndicator();a.options.submitHandler.call(a,t,(function(){if(a.isCurrent()){a.hideFooterLoadingIndicator();a.$form.removeClass("submitting")}}))}else a._submitForm(t)}}));(i=u(".cancel",this.get$popupContent())).click((function(t){a.xhr&&a.xhr.abort();a.xhr=null;a.cancelled=!0;a.hide(!0,{reason:e.HIDE_REASON.cancel});t.preventDefault()}));s=this.get$popupContent().find(".button, .aui-button");n=this.get$popupContent().find("div.buttons");if(0===i.length&&0===s.length){0===n.length&&(n=(o=u('<div class="buttons-container form-footer"><div class="buttons"/></div>').appendTo(this.get$popupContent())).find(".buttons"));AJS.populateParameters();r=u("<button class='aui-button aui-button-link cancel' id='aui-dialog-close'>"+"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"+"</button>");n.append(r);(r=u(".cancel",this.get$popupContent())).click((function(t){a.hide(!0,{reason:e.HIDE_REASON.cancel});t.preventDefault()}))}n.prepend(u("<span class='throbber'/>"));this.get$popupContent().on("click",".shortcut-tip-trigger",(function(e){e.preventDefault();if(!a.get$popupContent().isDirty()||confirm("\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u0432 \u044d\u0442\u043e \u043e\u043a\u043d\u043e \u043d\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. \u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0439\u0434\u0435\u0442\u0435 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u043e\u043a\u043d\u0430, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0432 \u0434\u0430\u043d\u043d\u044b\u0435, \u0432\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b. \u0427\u0442\u043e\u0431\u044b \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043e\u043a\u043d\u0443, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u00ab\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c\u00bb.")){a.hide();u("#keyshortscuthelp").click()}}));o instanceof u||(o=n.closest(".buttons-container, .form-footer")).size()||(o=n);this.moveFooterToDialog2(o);this.$buttonContainer=o},getButtonsContainer:function(){return this.$buttonContainer},_constructHeading:function(){var t,e;if((t=u(":header:first",this.get$popupContent())).length>0){this.addHeading(t.contents());e=t.parent();t.remove();for(;e.is(":empty");){t=e.parent();e.remove();e=t}}},hide:function(t,e){if(!1===this._super(t,e))return!1;o.popConfiguration()}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:create-issue-data', location = 'js/form/model/create-issue-data.js' */
define("quick-edit/form/model/create-issue-data",["wrm/data"],function(a){return a.claim("com.atlassian.jira.jira-quick-edit-plugin:create-issue-data.data")||{configurableSystemFieldIds:[]}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/quickform.soy' */
// This file was automatically generated from quickform.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.QuickForm.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.QuickForm == 'undefined') { JIRA.Templates.QuickForm = {}; }


JIRA.Templates.QuickForm.field = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(opt_data.editHtml);
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.field.soyTemplateName = 'JIRA.Templates.QuickForm.field';
}


JIRA.Templates.QuickForm.configurablePickerButton = function(opt_data, opt_ignored) {
  return '<li><label data-field-id="' + soy.$$escapeHtml(opt_data.fieldId) + '" class="qf-picker-button' + ((opt_data.isActive) ? ' qf-active' : '') + '"><input type="checkbox"' + ((opt_data.isActive) ? ' checked' : '') + ((opt_data.required) ? ' required' : '') + ((opt_data.disabled) ? ' disabled' : '') + '/>' + soy.$$escapeHtml(opt_data.label) + '</label></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.configurablePickerButton.soyTemplateName = 'JIRA.Templates.QuickForm.configurablePickerButton';
}


JIRA.Templates.QuickForm.unconfigurablePickerButton = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.QuickForm.configurablePickerButton({isActive: opt_data.isActive, fieldId: opt_data.fieldId, label: opt_data.label, required: opt_data.required, disabled: true});
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.unconfigurablePickerButton.soyTemplateName = 'JIRA.Templates.QuickForm.unconfigurablePickerButton';
}


JIRA.Templates.QuickForm.errorMessage = function(opt_data, opt_ignored) {
  return '' + aui.message.error({closeable: 'true', content: opt_data.message});
};
if (goog.DEBUG) {
  JIRA.Templates.QuickForm.errorMessage.soyTemplateName = 'JIRA.Templates.QuickForm.errorMessage';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form-templates', location = 'soy/issue.soy' */
// This file was automatically generated from issue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issue == 'undefined') { JIRA.Templates.Issue = {}; }


JIRA.Templates.Issue.editIssueError = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438') + '</h2><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.errorHtml) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.editIssueError.soyTemplateName = 'JIRA.Templates.Issue.editIssueError';
}


JIRA.Templates.Issue.editIssueForm = function(opt_data, opt_ignored) {
  return '<div><h2>' + ((opt_data.showFieldConfigurationToolBar) ? JIRA.Templates.Issue.fieldConfigurationToolbar(null) : '') + soy.$$filterNoAutoescape(opt_data.title) + '</h2><form action="#" name="jiraform" class="aui"><div class="form-body"><p class="qf-required-fields-message">' + soy.$$escapeHtml('\u0412\u0441\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439 (*), \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438') + '</p><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.issueId) + '" /><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '" /><div class="content">' + ((opt_data.fieldsHtml) ? soy.$$filterNoAutoescape(opt_data.fieldsHtml) : '') + ((opt_data.commentField) ? soy.$$filterNoAutoescape(opt_data.commentField.editHtml) : '') + '<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="button aui-button aui-button-primary" id="edit-issue-submit" name="Edit" type="submit" value="' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c') + '" /><button type="button" accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</button></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.editIssueForm.soyTemplateName = 'JIRA.Templates.Issue.editIssueForm';
}


JIRA.Templates.Issue.fieldConfigurationToolbar = function(opt_data, opt_ignored) {
  return '' + aui.toolbar2.toolbar2({extraClasses: 'qf-form-operations', content: '' + aui.toolbar2.item({item: 'secondary', content: aui.buttons.button({text: ' ' + soy.$$escapeHtml('\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043e\u043b\u044f'), id: 'qf-field-picker-trigger', iconType: 'aui', iconClass: 'aui-icon-small aui-iconfont-configure', extraAttributes: 'data-aui-trigger aria-controls="qf-fieldpicker-inline" data-test-id="create-issue-dialog.config.fields"'}) + '<aui-inline-dialog id="qf-fieldpicker-inline" alignment="bottom center" aria-labelledby="#qf-picker-heading"><div class="qf-picker"><h3 id="qf-picker-heading" class="visually-hidden">' + soy.$$escapeHtml('\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043e\u043b\u044f') + '</h3><div class="qf-picker-header"><form class="aui"><label for="configure-fields">' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c') + '</label><select class="select" id="configure-fields"><option class="qf-unconfigurable" data-test-id="create-issue-dialog.config.fields.show-all">' + soy.$$escapeHtml('\u0412\u0441\u0435 \u043f\u043e\u043b\u044f') + '</option><option class="qf-configurable" data-test-id="create-issue-dialog.config.fields.show-custom">' + soy.$$escapeHtml('\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043f\u043e\u043b\u044f') + '</option></select></form></div><div class="qf-picker-content"></div><div class="qf-picker-appcan"><button type="button" id="qf-apply-btn" class="aui-button aui-button-primary">' + soy.$$escapeHtml('\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f') + '</button><button type="button" id="qf-cancel-btn" class="aui-button cancel2">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</button></div><div class="qf-picker-footer"></div></div></aui-inline-dialog>'})});
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.fieldConfigurationToolbar.soyTemplateName = 'JIRA.Templates.Issue.fieldConfigurationToolbar';
}


JIRA.Templates.Issue.issueFields = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.hasTabs) {
    output += '<div class="aui-tabs horizontal-tabs" id="horizontal"><ul class="tabs-menu">';
    var tabList78 = opt_data.tabs;
    var tabListLen78 = tabList78.length;
    for (var tabIndex78 = 0; tabIndex78 < tabListLen78; tabIndex78++) {
      var tabData78 = tabList78[tabIndex78];
      output += (tabData78) ? '<li class="menu-item ' + ((tabData78.isFirst) ? 'first active-tab' : '') + '"><a href="#tab-' + soy.$$escapeHtml(tabData78.position) + '"><strong>' + soy.$$escapeHtml(tabData78.label) + '</strong></a></li>' : '';
    }
    output += '</ul>';
    var tabList92 = opt_data.tabs;
    var tabListLen92 = tabList92.length;
    for (var tabIndex92 = 0; tabIndex92 < tabListLen92; tabIndex92++) {
      var tabData92 = tabList92[tabIndex92];
      if (tabData92) {
        output += '<div class="tabs-pane ' + ((tabData92.isFirst) ? 'active-pane' : '') + '" id="tab-' + soy.$$escapeHtml(tabData92.position) + '">';
        var fieldList102 = tabData92.fields;
        var fieldListLen102 = fieldList102.length;
        for (var fieldIndex102 = 0; fieldIndex102 < fieldListLen102; fieldIndex102++) {
          var fieldData102 = fieldList102[fieldIndex102];
          output += (fieldData102.editHtml) ? soy.$$filterNoAutoescape(fieldData102.editHtml) : '';
        }
        output += '</div>';
      }
    }
    output += '</div>';
  } else {
    var fieldList112 = opt_data.fields;
    var fieldListLen112 = fieldList112.length;
    for (var fieldIndex112 = 0; fieldIndex112 < fieldListLen112; fieldIndex112++) {
      var fieldData112 = fieldList112[fieldIndex112];
      output += (fieldData112.editHtml) ? soy.$$filterNoAutoescape(fieldData112.editHtml) : '';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.issueFields.soyTemplateName = 'JIRA.Templates.Issue.issueFields';
}


JIRA.Templates.Issue.createIssueForm = function(opt_data, opt_ignored) {
  var output = '<div><h2>' + ((opt_data.showFieldConfigurationToolBar) ? JIRA.Templates.Issue.fieldConfigurationToolbar(null) : '') + soy.$$escapeHtml(opt_data.title) + '</h2><form name="jiraform" action="#" class="aui"><div class="form-body"><p class="qf-required-fields-message">' + soy.$$escapeHtml('\u0412\u0441\u0435 \u043f\u043e\u043b\u044f, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439 (*), \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c\u0438') + '</p>';
  if (opt_data.issueSetupFields) {
    output += '<div class="issue-setup-fields">';
    var fieldList130 = opt_data.issueSetupFields;
    var fieldListLen130 = fieldList130.length;
    for (var fieldIndex130 = 0; fieldIndex130 < fieldListLen130; fieldIndex130++) {
      var fieldData130 = fieldList130[fieldIndex130];
      output += '<div class="qf-field qf-field-' + soy.$$escapeHtml(fieldData130.id) + ' qf-required" data-field-id="' + soy.$$escapeHtml(fieldData130.id) + '">' + soy.$$filterNoAutoescape(fieldData130.editHtml) + '</div>';
    }
    output += '</div>';
  }
  output += ((opt_data.parentIssueId) ? '<input type="hidden" name="parentIssueId" value="' + soy.$$escapeHtml(opt_data.parentIssueId) + '" />' : '') + '<input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '" /><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '" /><div class="content">' + ((opt_data.fieldsHtml) ? soy.$$filterNoAutoescape(opt_data.fieldsHtml) : '') + '<!-- fields inserted here via javascript --></div></div><div class="buttons-container form-footer"><div class="buttons">' + ((! opt_data.disallowCreateAnother) ? '<label for="qf-create-another" class="qf-create-another"><input id="qf-create-another" type="checkbox" ' + ((opt_data.multipleMode) ? 'checked="checked"' : '') + ' />' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0449\u0435 \u043e\u0434\u043d\u0443') + '</label>' : '') + '<input accesskey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="aui-button aui-button-primary" id="create-issue-submit" name="Edit" type="submit" value="' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c') + '" /><button type="button" accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</button></div></div></form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.createIssueForm.soyTemplateName = 'JIRA.Templates.Issue.createIssueForm';
}


JIRA.Templates.Issue.checkBoxField = function(opt_data, opt_ignored) {
  return '<fieldset class="group"><legend><span></span></legend><div class="checkbox"><input class="checkbox" type="checkbox" name="' + soy.$$escapeHtml(opt_data.name) + '" id="' + soy.$$escapeHtml(opt_data.name) + '" value="true" ' + ((opt_data.checked) ? 'checked' : '') + '><label for="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.label) + '</label></div></fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.checkBoxField.soyTemplateName = 'JIRA.Templates.Issue.checkBoxField';
}


JIRA.Templates.Issue.createIssueError = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438') + '</h2><div class="form-footer">' + soy.$$filterNoAutoescape(opt_data.errorHtml) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.createIssueError.soyTemplateName = 'JIRA.Templates.Issue.createIssueError';
}


JIRA.Templates.Issue.undealtErrors = function(opt_data, opt_ignored) {
  var output = '<div>' + soy.$$escapeHtml('\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u044d\u0442\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430') + '</div><ul>';
  var errorList203 = opt_data.errors;
  var errorListLen203 = errorList203.length;
  for (var errorIndex203 = 0; errorIndex203 < errorListLen203; errorIndex203++) {
    var errorData203 = errorList203[errorIndex203];
    output += '<li>' + soy.$$escapeHtml(errorData203) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issue.undealtErrors.soyTemplateName = 'JIRA.Templates.Issue.undealtErrors';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/form.js' */
define("quick-edit/templates/form",function(){return JIRA.Templates.QuickForm});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/templates/issue.js' */
define("quick-edit/templates/issue",function(){return JIRA.Templates.Issue});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/extension-mixin.js' */
define("quick-edit/util/extension-mixin",["jquery"],function(a){return{triggerEvent:function(b,c,d){a(this).trigger(b,c);d&&this.globalEventNamespaces&&a.each(this.globalEventNamespaces,function(d,e){a(document).trigger(e+"."+b,c)});return this}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/class.js' */
define("quick-edit/util/class",["quick-edit/util/extension-mixin","jira/lib/class"],function(a,b){return b.extend(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/control.js' */
define("quick-edit/util/control",["quick-edit/util/extension-mixin","jira/ajs/control"],function(a,b){return b.extend(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/dialog.js' */
define("quick-edit/util/dialog",["jira/dialog/dialog-stack","jira/issue","jira/issuenavigator/issue-navigator"],function(h,f,c){var d=JIRA.Issues,e=function(a){var b=h.current.$activeTrigger;if(b)return b.attr(a)},g=function(){var a=e("data-issueKey");!a&&f.getIssueKey()&&(a=f.getIssueKey());!a&&c.getSelectedIssueKey()&&(a=c.getSelectedIssueKey());!a&&d&&(a=d.Api.getSelectedIssueKey());return a};return{getActionIssueKey:g,getAttrFromActiveTrigger:e,getIssueActionTitle:function(a){var b=g();return b?
a+" : "+b:a},shouldShowIssueKeyInTitle:function(){return d||c.isNavigator()||e("data-issueKey")}}});AJS.namespace("JIRA.Dialog.getActionIssueKey",null,require("quick-edit/util/dialog").getActionIssueKey);AJS.namespace("JIRA.Dialog.getAttrFromActiveTrigger",null,require("quick-edit/util/dialog").getAttrFromActiveTrigger);AJS.namespace("JIRA.Dialog.getIssueActionTitle",null,require("quick-edit/util/dialog").getIssueActionTitle);AJS.namespace("JIRA.Dialog.shouldShowIssueKeyInTitle",null,require("quick-edit/util/dialog").shouldShowIssueKeyInTitle);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/jira.js' */
define("quick-edit/util/jira",["quick-edit/templates/issue","jira/util/data/meta","aui/message","jquery"],function(m,n,p,g){var k=function(a){var b=a.closest(".tabs-pane");b.length&&(a=b.closest(".aui-tabs"),b=b.attr("id"),a=a.find("a[href\x3d'#"+b+"']"),a.click())},q=function(a,b){return e("error",a,b,!1)},e=function(a,b,f,h){var c=b.find(".aui-message-context");c.length||(c=g("\x3cdiv class\x3d'aui-message-context' /\x3e"),b.find(".qf-required-fields-message")?c.insertAfter(b.find(".qf-required-fields-message")):
c.prependTo(b.find(".form-body")));c.empty();p[a](c,{shadowed:!1,closeable:h,body:f})},l=function(a,b,f){b=a.find(b);return 0<b.length?b.removeAttr(f):a},r=function(a){l(a,":input[aria-invalid\x3dtrue]","aria-describedby");l(a,":input[aria-invalid\x3dtrue]","aria-invalid")};return{activateTabWithChild:k,applyErrorMessageToForm:function(a,b){return e("error",a,AJS.escapeHtml(b),!1)},applyErrorsToForm:function(a,b){var f,h=[];r(a);if(Object.keys(b).length){var c=1===Object.keys(b).length?"\u041e\u0448\u0438\u0431\u043e\u043a \u0432 \u0444\u043e\u0440\u043c\u0435: 1.":
AJS.format("\u041e\u0448\u0438\u0431\u043e\u043a \u0432 \u0444\u043e\u0440\u043c\u0435: {0}.",Object.keys(b).length);c=g("\x3cdiv class\x3d'aui-message aui-message-error qf-message-error'/\x3e").append(c);var e=a.find(".aui-message-context");e.length?e.attr("role","status").append(c):(c=g("\x3cdiv class\x3d'aui-message-context'/\x3e").attr("role","status").append(c),a.find(".qf-required-fields-message").after(c))}g.each(b,function(b,c){var d=a.find(":input[name\x3d'"+b+"']").last();if(1===d.length){var e=d.attr("id")+"-description-error";
f||(f=d);b=g("\x3cdiv class\x3d'error' /\x3e").attr("data-field",b).attr("id",e).text(c);d.attr("data-clone-to")?(c=d.attr("data-clone-to"),c=a.find("#"+c),c.attr("aria-invalid",!0),c.attr("aria-describedby",e)):(d.attr("aria-invalid",!0),d.attr("aria-describedby",e));d=d.closest(".field-group, .group");d.find(".error").remove();d.append(b)}else 0===d.length&&h.push(c)});0<h.length&&q(a,m.undealtErrors({errors:h}));k(a.find(".error:first"));f&&f.focus()},applyMessageToForm:e,applySuccessMessageToForm:function(a,
b){return e("success",a,b,!0)},getModifierKey:function(){return n.get("keyboard-accesskey-modifier")},extractScripts:function(a){var b=new DOMParser;a=g(b.parseFromString(a,"text/html"));b=a.find("script").remove();return{html:a.find("body").children(),scripts:b}},makePropertyFunc:function(a){return g.isFunction(a)?a:function(){return a}}}});AJS.namespace("JIRA.activateTabWithChild",null,require("quick-edit/util/jira").activateTabWithChild);AJS.namespace("JIRA.applyErrorMessageToForm",null,require("quick-edit/util/jira").applyErrorMessageToForm);
AJS.namespace("JIRA.applyErrorsToForm",null,require("quick-edit/util/jira").applyErrorsToForm);AJS.namespace("JIRA.applyMessageToForm",null,require("quick-edit/util/jira").applyMessageToForm);AJS.namespace("JIRA.applySuccessMessageToForm",null,require("quick-edit/util/jira").applySuccessMessageToForm);AJS.namespace("JIRA.extractScripts",null,require("quick-edit/util/jira").extractScripts);AJS.namespace("JIRA.makePropertyFunc",null,require("quick-edit/util/jira").makePropertyFunc);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/util/feature-flag.js' */
define("quick-edit/util/feature-flag",["jira/featureflags/feature-manager","wrm/data"],function(b,c){let a=null;return{showAllFieldsOnCreateLinked:function(){null==a&&(a=c.claim("com.atlassian.jira.jira-quick-edit-plugin:license-type.data"));return void 0!==a&&a.isDcLicense&&b.isFeatureEnabled("jira.create.linked.issue.show.all.fields")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field/configurable.js' */
define("quick-edit/form/field/configurable","quick-edit/util/jira quick-edit/util/control quick-edit/templates/form jira/util/events jira/util/events/types jquery".split(" "),function(b,c,d,e,f,g){return c.extend({init:function(a){this.descriptor=a;this.$element=g("\x3cdiv id\x3d'qf-field-"+this.getId()+"'/\x3e")},focus:function(){this.$element.find(":input:first").focus()},highlight:function(){var a=this;this.$element.css("backgroundColor","#fff").animate({backgroundColor:"lightyellow"},function(){a.$element.animate({backgroundColor:"#fff"},
function(){a.$element.css("backgroundColor","")})})},getLabel:function(){return this.descriptor.label},getId:function(){return this.descriptor.id},activate:function(a){this.active=!0;this.$element.addClass("qf-field-active").show();this.$element.find("textarea").trigger("refreshInputHeight");a||(a=this.render(),this.$element.append(a.scripts),this.focus(),e.trigger(f.NEW_CONTENT_ADDED,[this.$element]),this.$element.scrollIntoView(),this.triggerEvent("activated"))},hasVisibilityFeature:function(){return!!this.descriptor.hasVisibilityFeature},
hasRetainFeature:function(){return!!this.descriptor.hasRetainFeature},isActive:function(){return this.active},disable:function(a){this.render();this.active=!1;this.$element.removeClass("qf-field-active").hide();a||this.triggerEvent("disabled")},render:function(){var a=d.field(this.descriptor);a=b.extractScripts(a);this.$element.html(a.html).addClass("qf-field").data("model",this);return{element:this.$element,scripts:a.scripts}}})});AJS.namespace("JIRA.Forms.ConfigurableField",null,require("quick-edit/form/field/configurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/model.js' */
define("quick-edit/form/model","quick-edit/util/class jira/util/data/meta jira/util/objects jira/util/urls jira/ajs/ajax/smart-ajax jquery".split(" "),function(k,l,g,m,h,c){return k.extend({init:function(a){this.atlToken=a.initialAtlToken||m.atl_token();this.userFieldsResource=a.userFieldsResource;this.fieldsResource=a.fieldsResource;this.retainedFields=[];this._hasRetainFeature=!1;this._hasVisibilityFeature=!0},getFieldsResource:function(){return this.fieldsResource},getAtlToken:function(){return this.atlToken},
getFormToken:function(){return this.formToken},getActiveFieldIds:function(){return this.getUserFields()},addFieldToRetainValue:function(a){if(this._hasRetainFeature)this.removeFieldToRetainValue(a),this.retainedFields.push(a);else throw Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},clearRetainedFields:function(){this.retainedFields=[]},removeFieldToRetainValue:function(a){if(this._hasRetainFeature)a=c.inArray(a,
this.retainedFields),-1!=a&&this.retainedFields.splice(a,1);else throw Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},getFieldsWithRetainedValues:function(){if(this._hasRetainFeature)return this.retainedFields;throw Error("getFieldsWithRetainedValues: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},hasRetainedValue:function(a){if(this._hasRetainFeature)return-1!==
c.inArray(a.id,this.retainedFields);throw Error("HasRetainedValue: cannot be called. Must enable retain feature first by specifiying [_hasRetainFeature\x3dtrue]");},refresh:function(a){var b=this,d=c.Deferred();a=a?a+"\x26retainValues\x3dtrue\x26atl_token\x3d"+this.getAtlToken():"atl_token\x3d"+this.getAtlToken();h.makeRequest({url:this.getFieldsResource(),type:"POST",data:a,success:function(a){b._update(a)},complete:function(a,n,e){e.successful?d.resolveWith(b,arguments):(b.triggerEvent("serverError",
[e]),d.rejectWith(b,[e]))}});return d.promise()},_update:function(a){this.atlToken=a.atl_token;this.formToken=a.formToken;this.fields=this.removeAriaAttributes(a.fields);this.sortedTabs=a.sortedTabs;this.userPreferences=a.userPreferences},setFields:function(a){this.fields=this.removeAriaAttributes(a)},getConfigurableFields:function(){return this.getFields()},getFields:function(){var a=this,b=c.Deferred();this.fields?b.resolve(a.fields):this.refresh().done(function(){b.resolve(a.fields)});return b.promise()},
removeAriaAttributes:function(a){if(a){var b=document.createElement("div");c.each(a,function(a,f){!f.editHtml||f.editHtml&&-1===f.editHtml.indexOf("data-qe-no-aria-label")||(b.innerHTML=f.editHtml,(a=b.querySelectorAll('[data-qe-no-aria-label\x3d"true"],[data-qe-no-aria-labelled-by\x3d"true"]'))&&0!==a.length&&(c.each(a,function(a,b){b.hasAttribute("aria-label")&&b.removeAttribute("aria-label");b.hasAttribute("aria-labelledby")&&!b.hasAttribute("data-aria-labelled-by")&&b.removeAttribute("aria-labelledby");
b.hasAttribute("data-aria-labelled-by")&&b.removeAttribute("data-aria-labelled-by")}),f.editHtml=b.innerHTML))})}return a},_mungeTabs:function(a){var b=0,d=[];c.each(a,function(a,c){b++;c.tab&&(d[c.tab.position]||(d[c.tab.position]=g.copyObject(c.tab)),0===c.tab.position&&(d[c.tab.position].isFirst=!0),d[c.tab.position].fields||(d[c.tab.position].fields=[]),d[c.tab.position].fields.push(g.copyObject(c)))});return d},getTabs:function(){var a=this,b=c.Deferred();this.getFields().done(function(c){c=
a._mungeTabs(c);b.resolve(c)});return b.promise()},getSortedTabs:function(){var a=c.Deferred();this.sortedTabs?a.resolve(this.sortedTabs):this.refresh().done(function(){a.resolve(this.sortedTabs)});return a.promise()},getUserFields:function(){var a=this,b=c.Deferred();this.userPreferences?b.resolve(a.userPreferences.fields):this.refresh().done(function(){b.resolve(a.userPreferences.fields)});return b.promise()},setUserFields:function(a){var b={};b.fields=a;return this.updateUserPrefs(b)},hasRetainFeature:function(){return!!this._hasRetainFeature},
hasVisibilityFeature:function(){return!!this._hasVisibilityFeature},getUseConfigurableForm:function(){var a=this,b=c.Deferred();this.userPreferences?b.resolve(a.userPreferences.useQuickForm):this.refresh().done(function(){b.resolve(a.userPreferences.useQuickForm)}).fail(function(){b.reject()});return b.promise()},setUseConfigurableForm:function(a){var b={};b.useQuickForm=a;return this.updateUserPrefs(b)},updateUserPrefs:function(a){var b=c.Deferred(),d=this;if(""===l.get("remote-user"))return b.done(),
b.promise();if(!this.userPreferences)return b.reject(),b.promise();a.fields||(a.fields=this.userPreferences.fields);"undefined"===typeof a.showWelcomeScreen&&(a.showWelcomeScreen=this.userPreferences.showWelcomeScreen);"undefined"===typeof a.useQuickForm&&(a.useQuickForm=this.userPreferences.useQuickForm);return h.makeRequest({url:this.userFieldsResource,type:"POST",data:JSON.stringify(a),dataType:"json",contentType:"application/json",complete:function(b,c,e){e.successful?d.userPreferences=a:d.triggerEvent("serverError",
[e])}})}})});AJS.namespace("JIRA.Forms.Model",null,require("quick-edit/form/model"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/create-issue.js' */
define("quick-edit/form/model/create-issue","quick-edit/form/model jira/util/urls wrm/context-path underscore jquery quick-edit/form/model/create-issue-data".split(" "),function(g,h,f,e,b,k){const l=k.configurableSystemFieldIds;return g.extend({DEFAULT_NON_RETAINED_FIELDS:"summary description timetracking timetracking_originalestimate timetracking_remainingestimate worklog worklog_startDate worklog_timeLogged worklog_newEstimate worklog_adjustmentAmount attachment".split(" "),CUSTOMFIELD_PATTERN:/^(customfield_(\d+))(?:|:(?:\d+))$/,
TIMETRACKING_PATTERN:/^timetracking_/,init:function(a){a=a||{};this.atlToken=a.initialAtlToken||h.atl_token();this.userFieldsResource=f()+"/rest/quickedit/1.0/userpreferences/create";this._hasVisibilityFeature=this._hasRetainFeature=!0;this.retainedFields=[];this.dirtyFields=[];this.initIssueType=a.issueType;this.initProjectId=a.projectId;this.parentIssueId=a.parentIssueId;this.sourceIssueKey=a.sourceIssueKey;this.nonRetainedFields=this.DEFAULT_NON_RETAINED_FIELDS;a.nonRetainedFields&&(this.nonRetainedFields=
e.union(a.nonRetainedFields,this.DEFAULT_NON_RETAINED_FIELDS))},getParentIssueId:function(){return this.parentIssueId},isInMultipleMode:function(){return this.multipleMode},setIsMultipleMode:function(a){this.multipleMode=a},getActiveFieldIds:function(){var a=this,c=b.Deferred(),d=[];this.getUserFields().done(function(m){b.each(m,function(a,c){d.push(c)});a.getRequiredFields().done(function(a){b.each(a,function(a,c){-1===b.inArray(c.id,d)&&d.push(c.id)});c.resolve(d)})});return c.promise()},hasVisibilityFeature:function(a){return!a.required},
getFieldsResource:function(){var a=f()+"/secure/QuickCreateIssue!default.jspa?decorator\x3dnone";if(this.parentIssueId)return a+"\x26parentIssueId\x3d"+this.parentIssueId;this.initIssueType&&(a=a+"\x26issuetype\x3d"+this.initIssueType,delete this.initIssueType);this.initProjectId&&(a=a+"\x26pid\x3d"+this.initProjectId,delete this.initProjectId);return a},addFieldToRetainValue:function(a,c){var d=!e.contains(this.nonRetainedFields,a),b=null!==a.match(/^filetoconvert/);(d||b||c)&&this._super(a)},getRequiredFields:function(){var a=
b.Deferred(),c=[];this.getFields().done(function(d){b.each(d,function(a,b){b.required&&c.push(b)});a.resolve(c)});return a.promise()},getConfigurableFields:function(){var a=b.Deferred(),c=[];this.getFields().done(function(d){b.each(d,function(a,b){"project"!==b.id&&"issuetype"!==b.id&&c.push(b)});a.resolve(c)});return a.promise()},getIssueSetupFields:function(){var a=b.Deferred(),c=[];this.getFields().done(function(d){b.each(d,function(a,b){"project"!==b.id&&"issuetype"!==b.id||c.push(b)});a.resolve(c)});
return a.promise()},markFieldAsDirty:function(a){a=this.normalizeCustomFieldId(a);this.fieldIsDirty(a)||this.dirtyFields.push(a)},fieldIsDirty:function(a){return e.contains(this.dirtyFields,a)},clearDirtyFields:function(a){a&&(this.dirtyFields=e.difference(this.dirtyFields,a))},removeNonRetainedFromDirtyFields:function(){this.clearDirtyFields(this.nonRetainedFields)},isCustomFieldId:function(a){return a&&!!a.match(this.CUSTOMFIELD_PATTERN)},isConfigurableFieldId:function(a){return this.isCustomFieldId(a)||
l.includes(a)},isTimetrackingFieldId:function(a){return a&&!!a.match(this.TIMETRACKING_PATTERN)},normalizeCustomFieldId:function(a){return this.isCustomFieldId(a)?a.match(this.CUSTOMFIELD_PATTERN)[1]:a},normalizeFieldParam:function(a,b){return"filetoconvert"==a?a+"-"+b:this.isCustomFieldId(a)?this.normalizeCustomFieldId(a):this.isTimetrackingFieldId(a)?"timetracking":a}})});AJS.namespace("JIRA.Forms.CreateIssueModel",null,require("quick-edit/form/model/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/edit-issue.js' */
define("quick-edit/form/model/edit-issue",["quick-edit/form/model","underscore","jquery"],function(e,f,b){return e.extend({getUnconfigurableTabs:function(){var a=b.Deferred();this.getTabs().done(function(c){var d=c.slice(0);d[0].fields=d[0].fields.slice(0);b.each(d[0].fields,function(a,b){if("comment"===b.id)return d[0].fields.splice(a,1),!1});a.resolve(d)});return a.promise()},getCommentField:function(){var a=b.Deferred();this.getFields().done(function(c){b.each(c,function(b,c){"comment"===c.id&&
a.resolve(c)});a.reject()});return a.promise()}})});AJS.namespace("JIRA.Forms.EditIssueModel",null,require("quick-edit/form/model/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/model/factory/edit-issue.js' */
define("quick-edit/form/model/factory/edit-issue",["quick-edit/form/model/edit-issue","wrm/context-path"],function(b,a){return function(c){return new b({fieldsResource:a()+"/secure/QuickEditIssue!default.jspa?issueId\x3d"+c+"\x26decorator\x3dnone",userFieldsResource:a()+"/rest/quickedit/1.0/userpreferences/edit"})}});AJS.namespace("JIRA.Forms.Model.createQuickEditIssueModel",null,require("quick-edit/form/model/factory/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/helper/helper.js' */
define("quick-edit/form/helper/helper","quick-edit/util/jira quick-edit/form/model quick-edit/util/class jira/jquery/plugins/isdirty jira/util/events jira/dialog/dialog-stack underscore jquery quick-edit/form/model/create-issue-data".split(" "),function(m,e,n,p,f,l,q,c,r){var t=AJS.escapeHTML;e=r.configurableSystemFieldIds;const u=0<e.length?","+e.map(a=>`#${a}`).join(","):"";return n.extend({init:function(a){this.form=a},handleSubmitSuccess:function(a){var b=this,c=this.form.$element.find("#summary").val();
a.summary=c;this.form.triggerEvent("submitted",[a,this]);this.form.triggerEvent("issueCreated",[a,this],!0);this.form.model.removeNonRetainedFromDirtyFields();b.form.model.isInMultipleMode()?this.form.render().done(function(){var d='\x3ca href\x3d"'+(contextPath+"/browse/"+a.issueKey)+'"\x3e'+a.issueKey+" - "+t(c)+"\x3c/a\x3e";d='\x3cp id\x3d"success-issue-message" role\x3d"alert" tabindex\x3d"0" aria-live\x3d"polite"\x3e\x3cspan\x3e'+AJS.format("\u0417\u0430\u043f\u0440\u043e\u0441 {0} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",d)+"\x3c/span\x3e\x3c/p\x3e";
m.applySuccessMessageToForm(b.form.getForm(),d);b.form.$element.find("#success-issue-message").focus()}):this.form.triggerEvent("sessionComplete")},getCreateAnotherCheckbox:function(){return this.form.$element.find("#qf-create-another")},isInMultipleMode:function(){return this.getCreateAnotherCheckbox().is(":checked")},getProjectField:function(){return this.form.$element.find(".issue-setup-fields #project")},getIssueTypeField:function(){return this.form.$element.find(".issue-setup-fields #issuetype")},
serializeForToggle:function(a){if(!this.form.model.hasRetainFeature())return this.form.getForm().serialize();var b=this.form.model.prevActiveFields||[],e=this.form.getForm().serializeArray(),d=function(a){return this.form.model.normalizeFieldParam(a.name,a.value)}.bind(this),k=this.form.getActiveFieldIds(),h=c.grep(e,function(a){return-1!==c.inArray(d(a),k)}),f=c.grep(b,function(a){return-1===c.inArray(d(a),k)});b=c.map(f,function(a){return d(a)});h=c.merge(h,f);b=c.merge(k,b);this.form.model.prevActiveFields=
c.extend(!0,[],h);a&&(b=this.executeProjectChangedSecuritySettingAction(b));b=b.filter(function(a){return!this.form.model.isConfigurableFieldId(a)||this.form.model.fieldIsDirty(a)}.bind(this));var g=c.merge([{name:"retainValues",value:!0}],h);c.each(e,function(a,b){"pid"!==b.name&&"issuetype"!==b.name||g.push(b)});g.push({name:"toggle",value:!0});c.each(b,function(a,b){g.push({name:"fieldsToRetain",value:b})});g.push({name:"formToken",value:this.form.model.getFormToken()});return c.param(g)},executeProjectChangedSecuritySettingAction:function(a){return q.reject(a,
function(a){return"security"===a})},prepareFieldsToRetain:function(a,b){c.each(a,function(a,c){b.push({name:"fieldsToRetain",value:c})});return b},setIssueType:function(){var a=this,b=this.serializeForToggle();this.form.invalidateFieldsCache();this.form.disable();this.form.render(b).done(function(){a.form.enable();a.form.$element.find("#issuetype-field").focus()})},setProjectId:function(){var a=this,b=this.serializeForToggle(!0);this.form.invalidateFieldsCache();this.form.disable();this.form.render(b).done(function(){a.form.enable();
a.form.$element.find("#project-field").focus()})},saveFormDirtyStatus:function(){this.form.isDirty=this.form.getForm().isDirty()},restoreFormDirtyStatus:function(){this.form.isDirty&&this.form.getForm().addClass(p.ClassNames.BY_DEFAULT)},decorate:function(){var a=this;this.getProjectField().change(function(){a.saveFormDirtyStatus();f.trigger("dialogBeforeContentChange",["projectId",this.value,l.current.options.id]);a.setProjectId(this.value)});this.getIssueTypeField().change(function(){a.saveFormDirtyStatus();
f.trigger("dialogBeforeContentChange",["issueType",this.value,l.current.options.id]);a.setIssueType(this.value)});this.getCreateAnotherCheckbox().change(function(){a.form.model.setIsMultipleMode(this.checked)})},decorateFields:function(){var a=this;this.form.$element.find('*[id^\x3d"customfield_"]'+u).off("change.configurableField input.configurableField").on("change.configurableField input.configurableField",function(){a.form.model.isConfigurableFieldId(this.name)&&a.form.model.markFieldAsDirty(this.name)})},
sendQuickEditAnalyticsEvent:function(a){if(!a||!a.name)throw"Supply at least the event name";let b={};void 0!==a.allFieldsShown&&(b.allFieldsShown=a.allFieldsShown);AJS.trigger("analyticsEvent",{name:a.name,data:b})}})});AJS.namespace("JIRA.Forms.CreateIssueHelper",null,require("quick-edit/form/helper/helper"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/abstract.js' */
define("quick-edit/form/abstract","quick-edit/util/jira quick-edit/util/control jira/ajs/ajax/smart-ajax jira/dialog/form-dialog2 jira/dialog/dialog-stack jira/util/events/types jira/util/events jira/util/browser jquery underscore".split(" "),function(k,q,l,r,t,m,n,u,g,f){var v=AJS.extractBodyFromResponse,w=AJS.log,x=function(a,c){var b="***** Analytics log ["+a+"]";c&&(b+="["+JSON.stringify(c)+"]");w(b);AJS.EventQueue&&AJS.EventQueue.push({name:a,properties:c||{}})},y=function(a){var c={};a=f.filter(a,
function(a){return!f.contains(["isCreateIssue","isEditIssue","atl_token","hasWorkStarted"],a.name)});a=f.filter(a,function(a){return""!=a.value});f.each(a,function(a){var b=a.name;f.has(c,b)||(c[b]=[]);c[b].push(a.value)});return c},p=function(a){return a.classList.contains("aui-ss-field")||a.classList.contains("textarea")&&a.classList.contains("long-field")};return q.extend({submit:function(){var a=this;a.getForm().addClass("submitting");this.triggerEvent("submitting",[],!0);return l.makeRequest({url:this.getAction(),
type:"POST",beforeSend:function(){a.disableSubmit(a.getForm());setTimeout(()=>{a.disable()},0)},data:this.serialize(),complete:function(c,b,d){b=d.data;a.getForm().find(".aui-message-context").remove();a.enable();a.getForm().find(".error").remove();if(d.successful)if(a.performAnalytics(),b&&b.fields&&(a.invalidateFieldsCache(),a.model.setFields(b.fields)),"string"===typeof b){c=g(v(b));if(d=c.find("#atl_token").val())a.model.atlToken=d,a.getForm().find('input[name\x3d"atl_token"]').val(d);var e=new r({offsetTarget:"body",
content:c});e._handleServerSuccess=function(){e.prev&&(e.prev._removeStackState(),e.prev._resetWindowTitle(),e._removeStackState());e.hide();a.triggerEvent("sessionComplete",[],!0);a.handleSubmitSuccess()};e._handleServerError=function(b){e.hide();a.handleSubmitError(b)};e.show()}else a.handleSubmitSuccess(d.data);else a.handleSubmitError(c);a.getForm().removeClass("submitting")}})},disableSubmit:function(a){a[0]&&a[0].querySelectorAll('[type\x3d"submit"]').forEach(a=>a.disabled=!0)},disable:function(){var a=
this.getForm(),c=a.find(":input");c.each((a,d)=>{d.disabled=!0;p(d)&&c.eq(a).trigger("disable")});this.disableSubmit(a)},enable:function(){var a=this.getForm(),c=a.find(":input");c.each((a,d)=>{d.disabled=!1;p(d)&&c.eq(a).trigger("enable")});a[0]&&a[0].querySelectorAll('[type\x3d"submit"]').forEach(a=>a.disabled=!1)},getActiveFieldIds:function(){throw Error("getActiveFieldIds: Abstract, must be implemented by sub class");},serialize:function(a){var c=this,b=this.getForm().serialize();this.model.isInMultipleMode&&
this.model.isInMultipleMode()&&(b+="\x26multipleMode\x3dtrue");this.model.hasRetainFeature()&&(this.model.clearRetainedFields(),g.each(this.getActiveFieldIds(),function(b,e){c.model.addFieldToRetainValue(e,a)}),g.each(this.model.getFieldsWithRetainedValues(),function(a,c){b=b+"\x26fieldsToRetain\x3d"+c}));return b},invalidateFieldsCache:function(){delete this.fields},setInitialFocus:function(){this.getFormContent().find(":input:first").focus()},handleSubmitSuccess:function(){this.triggerEvent("submitted");
u.reloadViaWindowLocation()},performAnalytics:function(){this.previousAnalytics=function(a,c){var b=y(a),d=f.keys(b),e=f.keys(c.data);a=f.difference(d,e);var z=f.difference(e,d);e=f.intersection(e,d);d=f.filter(e,function(a){return f.isEqual(c.data[a],b[a])});e=f.difference(e,d);var g=c.count+1,h={"atlassian.numCreates":g,"edit.form":"edit-issue-dialog"===t.current.options.id};f.each(a,function(a){h[a]="added"});f.each(z,function(a){h[a]="removed"});f.each(d,function(a){h[a]="same"});f.each(e,function(a){h[a]=
"changed"});x("quick.create.fields",h);return{data:b,count:g}}(this.getForm().serializeArray(),this.previousAnalytics||{data:{},count:0})},addErrorMessage:function(a){k.applyErrorMessageToForm(this.getForm(),[a])},handleSubmitError:function(a){var c=this;if(a.responseText){try{var b=JSON.parse(a.responseText)}catch(d){}b&&(b.errorMessages&&b.errorMessages.length&&k.applyErrorMessageToForm(this.getForm(),b.errorMessages[0]),b&&b.errors&&400===a.status&&(this.getFieldById&&g.each(b.errors,function(a){/^timetracking/.test(a)?
c.getFieldById("timetracking").done(function(a){n.trigger(m.VALIDATE_TIMETRACKING,[c.$element]);a.activate(!0)}):/^worklog/.test(a)?c.getFieldById("worklog").done(function(a){n.trigger(m.VALIDATE_TIMETRACKING,[c.$element]);a.activate(!0)}):c.getFieldById(a).done(function(a){a.activate(!0)})}),k.applyErrorsToForm(this.getForm(),b.errors),this.triggerEvent("validationError",[this,b.errors],!0)),a=c.$element.find(".error"),a.length&&a[0].scrollIntoView(!1))}else a=l.SmartAjaxResult(a,void 0,a.statusText,
"",!1,void 0),a=l.buildSimpleErrorContent(a),c.addErrorMessage(a)},getAction:function(){return this.action},getFormContent:function(){return this.$element.find("div.content")},getForm:function(){return this.$element.find("form")},createField:function(){throw Error("AbstractForm: You must implement [createField] method in subclass.");},_getActiveAttachments:function(a){var c=[];if(!a)return c;a=a.split("\x26");for(var b=0;b<a.length;b++){var d=a[b].split("\x3d");"filetoconvert"==d[0]&&c.push(d[1])}return c},
_setActiveAttachments:function(a){this.$element.find("input[name\x3dfiletoconvert]").each(function(){var c=g(this),b=f.contains(a,c.attr("value"));c.prop("checked",b)})},render:function(a){var c=g.Deferred(),b=this,d=b._getActiveAttachments(a);a?(this.invalidateFieldsCache(),this.model.refresh(a).done(function(){b._render().done(function(a,d){b.$element.append(d);b.triggerEvent("rendered",[b.$element]);c.resolveWith(b,[b.$element,d])})})):b._render().done(function(a,d){b.$element.append(d);b.triggerEvent("rendered",
[b.$element]);c.resolveWith(b,[b.$element,d])});c.always(function(){b._setActiveAttachments(d)});return c.promise()}})});AJS.namespace("JIRA.Forms.AbstractForm",null,require("quick-edit/form/abstract"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/configurable.js' */
define("quick-edit/form/abstract/configurable",["quick-edit/form/abstract","quick-edit/form/field/configurable","quick-edit/form/helper/helper","jquery"],function(e,g,h,c){return e.extend({getFields:function(){var b=c.Deferred(),a=this;this.fields?b.resolveWith(this,[this.fields]):(this.fields=[],this.model.getConfigurableFields().done(function(d){c.each(d,function(b,d){b=a.createField(d);a.fields.push(b)});b.resolveWith(a,[a.fields])}));return b.promise()},getActiveFieldIds:function(){var b=[],a=
this.$element.find(".qf-field.qf-field-active:not(.qf-required), .qf-field.qf-required:not(.qf-field-active)");c.each(a,function(d,a){d=c(a);a=d.data("model");a=d.data("field-id")||a&&a.getId();null!=a&&b.push(a);"attachment"===a&&d.find("input[name\x3dfiletoconvert]").each(function(){b.push(this.id)})});return b},createField:function(b){b.hasVisibilityFeature=this.model.hasVisibilityFeature(b);this.model.hasRetainFeature(b)&&(b.hasRetainFeature=!0,b.retainValue=this.model.hasRetainedValue(b));var a=
this,d=new g(b),c=new h(a);b.hasVisibilityFeature&&d.bind("activated",function(){a.model.setUserFields(a.getActiveFieldIds());d.highlight();a.triggerEvent("QuickForm.fieldAdded",[d]);c.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.added"})}).bind("disabled",function(){a.model.setUserFields(a.getActiveFieldIds());a.triggerEvent("QuickForm.fieldRemoved",[d]);c.sendQuickEditAnalyticsEvent({name:"quickeditform.custom.removed"})});return d},getFieldById:function(b){var a=this,d=c.Deferred();
this.getFields().done(function(c){(c=c.find(a=>a.getId()===b))?d.resolveWith(a,[c]):d.rejectWith(a,[])});return d.promise()},hasNoVisibleFields:function(){var b=c.Deferred();b.resolve(0===this.getActiveFieldIds().length);return b.promise()},renderFormContents:function(){var b=c.Deferred(),a=c(),d=this;d.getFields().done(function(e){var f=d.reorderFieldsToRender(e);d.model.getActiveFieldIds().done(function(e){c.each(f,function(){var b=this.render();a=a.add(b.scripts);d.getFormContent().append(b.element)});
c.each(e,function(b,a){c.each(f,function(){this.getId()===a&&this.activate(!0)})});c.each(f,function(){this.isActive()||this.disable(!0)});d.hasNoVisibleFields().done(function(c){if(!0===c)for(c=0;3>c;c++)f[c]&&f[c].activate(!0);b.resolveWith(this,[d.$element,a])})})});return b.promise()},reorderFieldsToRender:function(b){return b}})});AJS.namespace("JIRA.Forms.AbstractConfigurableForm",null,require("quick-edit/form/abstract/configurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/abstract/unconfigurable.js' */
define("quick-edit/form/abstract/unconfigurable",["quick-edit/form/abstract","quick-edit/templates/issue","jquery"],function(f,g,d){return f.extend({getFieldsHtml:function(){var a=this,b=d.Deferred(),c={};this.model.getTabs().done(function(e){1===e.length?c.fields=e[0].fields:(c.tabs=e,c.hasTabs=!0);b.resolveWith(a,[g.issueFields(c)])});return b.promise()},getActiveFieldIds:function(){var a=[];this.model.getFields().done(function(b){d.each(b,function(b,c){a.push(c.id)})});if(a.indexOf("attachment")){var b=
this.$element.find("input[name\x3dfiletoconvert]").map(function(b,a){return a.id}).toArray();a.push.apply(a,b)}return a},getFields:function(){var a=d.Deferred(),b=this;this.fields?a.resolveWith(this,[this.fields]):(this.fields=[],this.model.getFields().done(function(c){d.each(c,function(a,c){a=b.createField(c);b.fields.push(a)});a.resolveWith(b,[b.fields])}));return a.promise()}})});AJS.namespace("JIRA.Forms.AbstractUnconfigurableForm",null,require("quick-edit/form/abstract/unconfigurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/create-issue.js' */
define("quick-edit/form/configurable/create-issue","quick-edit/form/abstract/configurable quick-edit/form/helper/helper quick-edit/templates/issue quick-edit/util/jira jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(e,f,g,h,k,l,c){return e.extend({init:function(b){this.model=b.model;this.helper=new f(this);this.globalEventNamespaces=b.globalEventNamespaces||[];this.issueId=b.issueId;this.title=b.title;this._serialization={};this.action=l()+"/secure/QuickCreateIssue.jspa?decorator\x3dnone";
this.$element=c("\x3cdiv class\x3d'qf-form qf-configurable-form' /\x3e")},handleSubmitSuccess:function(b){return this.helper.handleSubmitSuccess(b)},_render:function(){var b=c.Deferred(),a=this;a.model.getIssueSetupFields().done(function(d){d=g.createIssueForm({issueSetupFields:d,atlToken:a.model.getAtlToken(),formToken:a.model.getFormToken(),isConfigurable:!0,title:a.title,parentIssueId:a.model.getParentIssueId(),multipleMode:a.model.isInMultipleMode(),showFieldConfigurationToolBar:!k.isAnonymous(),
modifierKey:h.getModifierKey()});a.$element.html(d);a.helper.decorate();a.renderFormContents().done(function(d,c){a.helper.decorateFields();b.resolveWith(a,[a.$element,c])});a.bind("QuickForm.fieldAdded",function(){a.helper.decorateFields()})});return b.promise()}})});AJS.namespace("JIRA.Forms.ConfigurableCreateIssueForm",null,require("quick-edit/form/configurable/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/configurable/edit-issue.js' */
define("quick-edit/form/configurable/edit-issue","quick-edit/form/abstract/configurable quick-edit/util/jira quick-edit/templates/issue jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(e,f,g,h,k,c){return e.extend({init:function(a){this.model=a.model;this.globalEventNamespaces=a.globalEventNamespaces||[];this.issueId=a.issueId;this.title=a.title;this.action=k()+"/secure/QuickEditIssue.jspa?issueId\x3d"+a.issueId+"\x26decorator\x3dnone";this.$element=c("\x3cdiv class\x3d'qf-form qf-configurable-form'/\x3e")},
handleSubmitSuccess:function(a){this.triggerEvent("submitted",[a]);this.triggerEvent("issueEdited",[a],!0);this.triggerEvent("sessionComplete")},hasNoVisibleFields:function(){var a=c.Deferred(),b=this.getActiveFieldIds();this.model.getUserFields().done(function(d){1===d.length&&"comment"===d[0]?a.resolve(!1):0===b.length||1===b.length&&"comment"===b[0]?a.resolve(!0):a.resolve(!1)});return a.promise()},_render:function(){var a=c.Deferred(),b=this,d=g.editIssueForm({issueId:this.issueId,title:this.title,
atlToken:b.model.getAtlToken(),formToken:b.model.getFormToken(),isConfigurable:!0,modifierKey:f.getModifierKey(),showFieldConfigurationToolBar:!h.isAnonymous()});this.$element.html(d);b.renderFormContents().done(function(d,c){b.getFieldById("comment").done(function(a){b.getFormContent().append(a.$element)});a.resolveWith(b,[b.$element,c])});return a.promise()}})});AJS.namespace("JIRA.Forms.ConfigurableEditIssueForm",null,require("quick-edit/form/configurable/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/configurable.js' */
define("quick-edit/form/field-picker/button/configurable",["quick-edit/util/control","quick-edit/templates/form"],function(c,d){return c.extend({init:function(a){var b=this;this.field=a.field;this.field.bind("disabled",function(){b.$element.removeClass("qf-active")}).bind("activated",function(){b.$element.addClass("qf-active")})},toggle:function(){this.field.isActive()?this.field.disable():this.field.activate()},getId:function(){return this.field.getId()},render:function(){this.$element=jQuery(d.configurablePickerButton({required:this.field.descriptor.required,
label:this.field.getLabel(),fieldId:this.field.getId(),isActive:this.field.isActive()}));this._assignEvents("button",this.$element);return this.$element},_events:{button:{click:function(a){"INPUT"===a.target.nodeName&&(a=jQuery(a.target),a.attr("data-ismodified",a.attr("data-ismodified")?null:!0),a.is(":checked")?a.parent().addClass("qf-active"):a.parent().removeClass("qf-active"))},toggleOnApply:function(a){jQuery(a.target).removeAttr("data-ismodified");this.toggle()}}}})});
AJS.namespace("JIRA.Forms.FieldPicker.ConfigurableButton",null,require("quick-edit/form/field-picker/button/configurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/button/unconfigurable.js' */
define("quick-edit/form/field-picker/button/unconfigurable",["quick-edit/templates/form","jquery"],function(b,c){return function(a){return c(b.unconfigurablePickerButton({required:a.required,label:a.label,fieldId:a.id,isActive:!0}))}});AJS.namespace("JIRA.Forms.FieldPicker.UnconfigurableButton",null,require("quick-edit/form/field-picker/button/unconfigurable"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/field-picker/field-picker.js' */
define("quick-edit/form/field-picker",["quick-edit/form/field-picker/button/configurable","quick-edit/form/field-picker/button/unconfigurable","quick-edit/templates/form","quick-edit/util/control","jquery"],function(g,h,l,k,d){return k.extend({switchToAll:function(a){this.isConfigurable=!1;!0!==a&&(this.hideCallback=function(){this.remove()},this.hide(),this.triggerEvent("switchedToAll"))},setForm:function(a){this.form=a},_findModifiedCheckboxes:function(){return $('.qf-picker-content input[data-ismodified\x3d"true"]')},
_saveCheckboxValues:function(){this._findModifiedCheckboxes().each(function(a,b){$(b).trigger("toggleOnApply")})},_restoreCheckboxValues:function(){this._findModifiedCheckboxes().each(function(a,b){$(b).click()})},_postBtnClick:function(){this.hide();this.getInlineDialogTrigger().focus()},switchToCustom:function(a){this.isConfigurable=!0;!0!==a&&(this.hideCallback=function(){this.remove()},this.hide(),this.triggerEvent("switchedToCustom"))},hideCallback:function(){},setInlineDialogContent:function(){const a=
this.getInlineDialog(),b=this;this.render().done(function(){a.on("aui-hide",function(){b.getInlineDialogTrigger().removeClass("active")});a.on("aui-show",function(){b.getInlineDialogTrigger().addClass("active")})})},getInlineDialogTrigger:function(){return d("#qf-field-picker-trigger")},getInlineDialog:function(){return this.form.$element.find("#qf-fieldpicker-inline")},renderButtons:function(a){const b=this,c=a.fields;a=d("\x3cfieldset\x3e\x3clegend\x3e"+AJS.escapeHtml(a.label)+'\x3c/legend\x3e\x3cul class\x3d"qf-picker-buttons" /\x3e\x3c/fieldset\x3e');
const f=a.find(".qf-picker-buttons"),e=[];d.each(c,function(a,c){b.isConfigurable?b.form.getFieldById(c.id).done(function(a){a&&a.hasVisibilityFeature()&&(a=new g({field:a}),e.push(a.render()))}):(a=new h(c),e.push(a))});0===e.length?f.addClass("qf-no-fields").append("\x3cli\x3e\x3cem\x3e"+"\u041d\u0435\u0442 \u043f\u043e\u043b\u0435\u0439 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"+"\x3c/em\x3e\x3c/li\x3e"):f.append(e);a.appendTo(this.$content)},renderContents:function(){const a=this,b=d.Deferred();this.form.model.getSortedTabs().done(function(c){1===
c.length?a.renderButtons(c[0]):d.each(c,function(b,c){0<c.fields.length&&a.renderButtons(c)});b.resolveWith(a,[a.getInlineDialog()])});return b.promise()},show:function(){document.getElementById("qf-fieldpicker-inline").open=!0},showInNextEventCycle:function(){const a=this;setTimeout(function(){a.show()})},hide:function(){document.getElementById("qf-fieldpicker-inline").open=!1},render:function(){const a=this.getInlineDialog();this.$content=a.find(".qf-picker-content");const b=a.find(".qf-configurable"),
c=a.find(".qf-unconfigurable");this.isConfigurable?(b.attr("selected",!0),this.$content.removeClass("qf-picker-unconfigurable")):(c.attr("selected",!0),this.$content.addClass("qf-picker-unconfigurable"));this._assignEvents("switchMode",a.find("#configure-fields"));this._assignEvents("qfCancelBtnEvt",a.find("#qf-cancel-btn"));this._assignEvents("qfApplyBtnEvt",a.find("#qf-apply-btn"));return this.renderContents()},_events:{switchMode:{change:function(a){$("option.qf-unconfigurable").attr("selected")?
this.switchToAll():this.switchToCustom()}},qfCancelBtnEvt:{click:function(a){this._restoreCheckboxValues();this._postBtnClick()}},qfApplyBtnEvt:{click:function(a){this._saveCheckboxValues();this._postBtnClick()}}}})});AJS.namespace("JIRA.Forms.FieldPicker",null,require("quick-edit/form/field-picker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/container/container.js' */
define("quick-edit/form/container","quick-edit/form/field-picker quick-edit/util/jira quick-edit/util/control quick-edit/form/helper/helper jira/dialog/form-dialog2 jira/dialog/dialog2 jira/util/navigator jira/issue jira/issuenavigator/issue-navigator jquery".split(" "),function(h,k,l,m,f,g,n,p,q,d){return l.extend({init:function(a){this.$element=d("\x3cdiv class\x3d'qf-container'/\x3e");this.options=k.makePropertyFunc(a);this.fieldPicker=new h;this.successData=[];this.helper=new m(this)},decorateRenderers:function(){var a=
this;this.fieldPicker.decorated||(this.fieldPicker.bind("switchedToAll",function(){a.unconfigurableForm.render(a.currentView.serialize(!0)).done(function(){a.fieldPicker.showInNextEventCycle()});a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.switched.all",allFieldsShown:!0})}),this.fieldPicker.bind("switchedToCustom",function(){a.configurableForm.render(a.currentView.serialize(!0)).done(function(){a.fieldPicker.showInNextEventCycle()});a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.switched.custom",
allFieldsShown:!1})}),this.fieldPicker.decorated=!0);this.configurableForm.decorated||(this.configurableForm.bind("rendered",function(b,c){a.currentView=a.configurableForm;a.fieldPicker.switchToCustom(!0);a.fieldPicker.setForm(a.configurableForm);a.fieldPicker.setInlineDialogContent();a.applyGlobalDecorator(c);a.model.setUseConfigurableForm(!0);a.triggerEvent("configurableFormRendered")}),this.configurableForm.bind("submitted",function(b,c){a.successData.push(c);a.triggerEvent("configurableFormSubmitted");
a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.submit.success",allFieldsShown:!1})}),this.configurableForm.decorated=!0);this.unconfigurableForm.decorated||(this.unconfigurableForm.bind("rendered",function(b,c){a.fieldPicker.switchToAll(!0);a.fieldPicker.setForm(a.unconfigurableForm);a.fieldPicker.setInlineDialogContent();a.currentView=a.unconfigurableForm;a.applyGlobalDecorator(c);a.model.setUseConfigurableForm(!1);a.triggerEvent("unconfigurableFormRendered")}),this.unconfigurableForm.bind("submitted",
function(b,c){a.successData.push(c);a.triggerEvent("unconfigurableFormSubmitted");a.helper.sendQuickEditAnalyticsEvent({name:"quickeditform.submit.success",allFieldsShown:!0})}),this.unconfigurableForm.decorated=!0)},applyGlobalDecorator:function(a){function b(){c.currentView.setInitialFocus&&c.currentView.setInitialFocus()}var c=this;a.detach();this.$element.html(a);this.triggerEvent("contentRefreshed",[this.$element]);n.isIE()?window.setTimeout(b,0):b()},asDialog:function(a){a=d.extend(!0,{},a);
var b=this,c,e=!!a.modeless;this.dialog=c=new f({id:a.id,trigger:a.trigger,windowTitle:void 0!==a.windowTitle?a.windowTitle:!e,width:e?g.WIDTH_PRESETS.medium:g.WIDTH_PRESETS.large,defineResources:function(){this.requireContext("jira.create.issue")},content:function(a){b.render().done(function(){a(b.$element);$(".aui-toolbar2.qf-form-operations").removeAttr("role")});b.triggerEvent("dialogShown")},submitHandler:function(a,c){a.preventDefault();b.currentView.submit().done(c).fail(c)},stacked:!0,modeless:e});
if("edit-issue-dialog"===a.id)d(this.dialog).on("beforeShow",function(a){p.getIssueKey()||q.isRowSelected()||a.preventDefault()});this.dialog._focusFirstField=function(){f.prototype._focusFirstField.apply(this,["div.content :input:visible:first"])};this.bind("initialized",function(){this.unconfigurableForm.bind("sessionComplete",function(){c.hide()});this.configurableForm.bind("sessionComplete",function(){c.hide()})}).bind("contentRefreshed",function(){c.notifyOfNewContent()});c.bind("Dialog.hide",
function(){b.successData.length&&(b.triggerEvent("sessionComplete",[b.successData],!0),b.successData=[])});b.$element.ajaxStart(function(){c.showFooterLoadingIndicator()}).ajaxStop(function(){c.hideFooterLoadingIndicator()});c.getQuickForm=function(){return b};c.dirtyFormWarning();return c},lazyInit:function(){var a=this,b=this.options.call(this);this.model=b.model;this.errorHandler=b.errorHandler;this.globalEventNamespaces=b.globalEventNamespaces;this.configurableForm=b.configurableForm;this.unconfigurableForm=
b.unconfigurableForm;this.sessionComplete=b.sessionComplete;this.model.clearRetainedFields();this.configurableForm.invalidateFieldsCache();this.model.bind("serverError",function(b,e){a.$element.html(a.errorHandler.render(e));a.triggerEvent("contentRefreshed",[this.$element])});this.triggerEvent("initialized");this.decorateRenderers()},render:function(){var a=this,b=d.Deferred();this.lazyInit();a.model.getUseConfigurableForm().done(function(c){!0===c?a.configurableForm.render().done(function(c,d){a.$element.append(d);
b.resolveWith(a,[a.$element])}):a.unconfigurableForm.render().done(function(c,d){a.$element.append(d);b.resolveWith(a,[a.$element,d])})}).fail(function(){b.resolveWith(a,[a.$element])});return b.promise()}})});AJS.namespace("JIRA.Forms.Container",null,require("quick-edit/form/container"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/error.js' */
define("quick-edit/form/error",["quick-edit/util/control","quick-edit/templates/form","jira/ajs/ajax/smart-ajax"],function(e,f,b){return e.extend({getErrorMessageFromSmartAjax:function(a){if(a.hasData&&401!==a.status)try{var c=JSON.parse(a.data);var d=c.errorMessages&&0<c.errorMessages.length?f.errorMessage({message:c.errorMessages[0]}):b.buildDialogErrorContent(a,!0).html()}catch(g){d=b.buildDialogErrorContent(a,!0).html()}else d=b.buildDialogErrorContent(a,!0).html();return d},render:function(a){a=
this.getErrorMessageFromSmartAjax(a);return this._render(a)}})});AJS.namespace("JIRA.Forms.Error",null,require("quick-edit/form/error"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/create-issue.js' */
define("quick-edit/form/error/create-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(a,b,c){return a.extend({_render:function(a){return c(b.createIssueError({errorHtml:a}))}})});AJS.namespace("JIRA.Forms.CreateIssueError",null,require("quick-edit/form/error/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/error/edit-issue.js' */
define("quick-edit/form/error/edit-issue",["quick-edit/form/error","quick-edit/templates/issue","jquery"],function(a,b,c){return a.extend({_render:function(a){return c(b.editIssueError({errorHtml:a}))}})});AJS.namespace("JIRA.Forms.EditIssueError",null,require("quick-edit/form/error/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/create-issue.js' */
define("quick-edit/form/unconfigurable-create-issue","quick-edit/form/abstract/unconfigurable quick-edit/form/helper/helper quick-edit/templates/issue quick-edit/util/jira jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(f,g,h,e,k,l,d){return f.extend({init:function(b){this._serialization={};this.globalEventNamespaces=b.globalEventNamespaces||[];this.model=b.model;this.helper=new g(this);this.title=b.title;this.action=l()+"/secure/QuickCreateIssue.jspa?decorator\x3dnone";
this.$element=d("\x3cdiv class\x3d'qf-unconfigurable-form' /\x3e")},handleSubmitSuccess:function(b){this.helper.handleSubmitSuccess(b)},_render:function(){var b=d.Deferred(),a=this;this.getFieldsHtml().done(function(d){a.model.getIssueSetupFields().done(function(c){c=h.createIssueForm({issueSetupFields:c,fieldsHtml:d,parentIssueId:a.model.getParentIssueId(),atlToken:a.model.getAtlToken(),formToken:a.model.getFormToken(),title:a.title,multipleMode:a.model.isInMultipleMode(),showFieldConfigurationToolBar:!k.isAnonymous(),
modifierKey:e.getModifierKey()});c=e.extractScripts(c);a.$element.empty().append(c.html);a.helper.restoreFormDirtyStatus();a.helper.decorate();a.helper.decorateFields();b.resolveWith(a,[a.$element,c.scripts])})});return b.promise()}})});AJS.namespace("JIRA.Forms.UnconfigurableCreateIssueForm",null,require("quick-edit/form/unconfigurable-create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/unconfigurable/edit-issue.js' */
define("quick-edit/form/unconfigurable-edit-issue","quick-edit/form/abstract/unconfigurable quick-edit/util/jira quick-edit/templates/issue jira/util/users/logged-in-user wrm/context-path jquery".split(" "),function(k,f,g,l,m,h){return k.extend({init:function(a){this.globalEventNamespaces=a.globalEventNamespaces||[];this.model=a.model;this.issueId=a.issueId;this.title=a.title;this.action=m()+"/secure/QuickEditIssue.jspa?issueId\x3d"+a.issueId+"\x26decorator\x3dnone";this.$element=h("\x3cdiv class\x3d'qf-unconfigurable-form' /\x3e")},
getFieldsHtml:function(){var a=this,b=h.Deferred(),e={};this.model.getUnconfigurableTabs().done(function(d){1===d.length?e.fields=d[0].fields:(e.tabs=d,e.hasTabs=!0);b.resolveWith(a,[g.issueFields(e)])});return b.promise()},handleSubmitSuccess:function(a){this.triggerEvent("submitted",[a]);this.triggerEvent("issueEdited",[a],!0);this.triggerEvent("sessionComplete")},_render:function(){var a=h.Deferred(),b=this;this.getFieldsHtml().done(function(e){var d={fieldsHtml:e,title:b.title,issueId:b.issueId,
atlToken:b.model.getAtlToken(),formToken:b.model.getFormToken(),modifierKey:f.getModifierKey(),showFieldConfigurationToolBar:!l.isAnonymous()};this.model.getCommentField().done(function(c){d.commentField=c;c=g.editIssueForm(d);c=f.extractScripts(c);b.$element.html(c.html);a.resolveWith(b,[b.$element,c.scripts])}).fail(function(){var c=g.editIssueForm(d);c=f.extractScripts(c);b.$element.html(c.html);a.resolveWith(b,[b.$element,c.scripts])})});return a.promise()}})});
AJS.namespace("JIRA.Forms.UnconfigurableEditIssueForm",null,require("quick-edit/form/unconfigurable-edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-issue.js' */
define("quick-edit/form/factory/create-issue",["quick-edit/form/container","quick-edit/form/configurable/create-issue","quick-edit/form/unconfigurable-create-issue","quick-edit/form/error/create-issue","quick-edit/form/model/create-issue"],function(c,e,f,g,h){return function(a){a=a||{};return new c(function(){a.globalEventNamespaces=a.globalEventNamespaces||["QuickCreateIssue"];var b="\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",d=new h({projectId:a.pid,issueType:a.issueType}),c=new e({model:d,
title:b,globalEventNamespaces:a.globalEventNamespaces});b=new f({model:d,title:b,globalEventNamespaces:a.globalEventNamespaces});return{globalEventNamespaces:a.globalEventNamespaces,model:d,errorHandler:new g,configurableForm:c,unconfigurableForm:b}})}});AJS.namespace("JIRA.Forms.createCreateIssueForm",null,require("quick-edit/form/factory/create-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/create-subtask.js' */
define("quick-edit/form/factory/create-subtask","quick-edit/form/container quick-edit/form/configurable/create-issue quick-edit/form/error/create-issue quick-edit/form/model/create-issue quick-edit/form/unconfigurable-create-issue quick-edit/util/dialog jira/issue jira/issuenavigator/issue-navigator".split(" "),function(d,e,f,g,h,k,l,m){return function(a){a=a||{};return new d(function(){a.globalEventNamespaces=a.globalEventNamespaces||["QuickCreateSubtask"];var b=a.parentIssueId||l.getIssueId()||
m.getSelectedIssueId(),c=k.getIssueActionTitle("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0443");b=new g({parentIssueId:b,projectId:a.pid,issueType:a.issueType});var d=new e({model:b,title:c,globalEventNamespaces:a.globalEventNamespaces});c=new h({model:b,title:c,globalEventNamespaces:a.globalEventNamespaces});return{globalEventNamespaces:a.globalEventNamespaces,model:b,errorHandler:new f,configurableForm:d,unconfigurableForm:c}})}});AJS.namespace("JIRA.Forms.createSubtaskForm",null,require("quick-edit/form/factory/create-subtask"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-form', location = 'js/form/factory/edit-issue.js' */
define("quick-edit/form/factory/edit-issue","quick-edit/form/container quick-edit/form/configurable/edit-issue quick-edit/form/error/edit-issue quick-edit/util/dialog quick-edit/form/model/factory/edit-issue quick-edit/form/unconfigurable-edit-issue jira/issue jira/issuenavigator/issue-navigator jquery".split(" "),function(c,g,h,d,k,l,m,n,p){return function(e){e=e||{};return new c(function(){var a=e;var b=d.getAttrFromActiveTrigger("data-issueId");a=p.isFunction(a.issueId)?a.issueId(a):a.issueId?
a.issueId:b?b:m.getIssueId()||n.getSelectedIssueId();b="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";var f=d.shouldShowIssueKeyInTitle()?d.getIssueActionTitle(b):b;b=k(a);var c=new g({title:f,model:b,issueId:a,globalEventNamespaces:["QuickEdit"]});a=new l({title:f,model:b,issueId:a,globalEventNamespaces:["QuickEdit"]});return{globalEventNamespaces:["QuickEdit"],model:b,errorHandler:new h,configurableForm:c,unconfigurableForm:a}})}});AJS.namespace("JIRA.Forms.createEditIssueForm",null,require("quick-edit/form/factory/edit-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue-bootstrap', location = 'js/init/create-bootstrap-wrm.js' */
require(["jquery","underscore","wrm/require","quick-edit/util/loading-indicator","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"],function(f,k,g,c,a){var h,d=!1;f(document).on("simpleClick",".create-issue, .create-issue-type",function(b){b.preventDefault();d||(d=!0,a.disable(),c.showLoadingIndicator(),g(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).done(function(){require("quick-edit/init/create").initIssueDialog(b);a.enable();d=!1}).fail(function(){c.hideLoadingIndicator(!0);
a.enable();d=!1}))});f(function(){if(h=document.getElementById("stqc_show"))h.onclick=null});var e=!1;f(document).on("simpleClick",".issueaction-create-subtask",function(b){b.preventDefault();e||(e=!0,a.disable(),c.showLoadingIndicator(),g(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).done(function(){require("quick-edit/init/create").initSubtaskDialog(b);a.enable();e=!1}).fail(function(){c.hideLoadingIndicator(!0);a.enable();e=!1}))})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue', location = 'js/init/create.js' */
define("quick-edit/init/create",["quick-edit/form/factory/create-issue","quick-edit/form/factory/create-subtask","quick-edit/util/dialog","jquery"],function(d,e,f,c){return{initIssueDialog:function(a){a=c(a.target);var b=a.is("a")?a:a.find("a");b=parseUri(b.attr("href")).queryKey;b={pid:b.pid,issueType:b.issuetype};b=c.extend(b,{pid:a.attr("data-pid"),issueType:a.attr("data-issue-type")});d(b).asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}).show()},
initSubtaskDialog:function(a){a=c(a.target);a={parentIssueId:(a.is("a")?a:a.find("a")).attr("data-issueid")};e(a).asDialog({windowTitle:function(){return f.getIssueActionTitle("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0443")},trigger:document.createElement("a"),id:"create-subtask-dialog"}).show()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_98', location = '98.8bb27f5b9c55cbc4350d.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[98],{324:function(b,a,n){b.exports=void 0}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_greenhopper-epics-issue-web-panel-resources', location = 'greenhopper-epics-issue-web-panel-resources.03a15d6928e1455f4596.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[139],{708:function(e,i,n){"use strict";var a,c,t,s,o;a=n(32),c=n(212),t=n(82),s=n(303),o=n(1),n(324),s.init(),a.bind(t.NEW_CONTENT_ADDED,(function(e,i,n){n===c.pageLoad&&s.init()})),o(document).off("click","#gh-create-issue-in-epic-lnk"),o(document).on("click","#gh-create-issue-in-epic-lnk",(function(e){s.createQuickCreateIssueForEpicDialog().show(),e.preventDefault()}))}},[[708,0,1,2,3,4,6,5,7,8,9,10,11,12,13,15,17,21,23,29,30,46,53,72,98]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-view-issue', location = 'gh-view-issue.bad7b0d9d48c4a5b5552.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[137],{788:function(b,a,n){"use strict";n(789)},789:function(b,a,n){b.exports=void 0}},[[788,0]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-find-on-board', location = 'gh-find-on-board.e6b784b02a081b0658aa.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[111],{792:function(n,i,o){"use strict";o(793)},793:function(n,i,o){"use strict";var r,e;r=[o(794)],void 0===(e=function(n){var i=function(){var i=this;this.get$popup().on("click",".js-select-rapidboard-close",(function(){i.handleCancel(n.HIDE_REASON.cancel)}))},o=new n({id:"gh-find-on-board-dialog-issue",trigger:".js-find-on-board-issue"}),r=new n({id:"gh-find-on-board-dialog-sprint",trigger:".js-find-on-board-sprint"});o.onContentReady(i),r.onContentReady(i);var e=Array.from(arguments).map((function(n,i){return{empty:!n||0===Object.getOwnPropertyNames(n).length&&!n[Symbol.for("soyProxy")],index:i}})).filter((function(n){return n.empty})).map((function(n){return n.index+1}));e.length&&(window.__circulars=window.__circulars||0,window.__circulars+=e.length,console.error("[circ deps] in ","/jira-agile/init-find-on-board-dialogs.js",e))}.apply(i,r))||(n.exports=e)},794:function(n,i){n.exports=require("jira/dialog/dialog2")}},[[792,0]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:css', location = 'templates/plugins/bamboo/script/common.js' */
(function(c,b,d){var a=require("jira/util/events");if(typeof b.CONFIG==="undefined"){b.CONFIG={$planSelect:c(),$buildTypes:c(),buildResultsContainerId:"#bamboo-build-results",stagesContainerId:"#bamboo-plan-stages",variablesContainerId:"#bamboo-override-variables",initialised:false,updateTimeout:null,init:function(){if(b.CONFIG.initialised){return}b.CONFIG.initialised=true}};b.CONFIG.Spinner=function(e,f){this.beforeShow=f;this.add=function(){return c(bamboo.components.icon({type:"loading"})).appendTo(e)}};b.CONFIG.Spinner.prototype.show=function(){var e=this.$spinner;this.beforeShow();if(!e||(e&&(!e.length||!e.parent().length))){this.$spinner=this.add()}else{e.show()}return this};b.CONFIG.Spinner.prototype.hide=function(){if(this.$spinner){this.$spinner.hide()}return this}}b.CONFIG.Stages=(function(){var f={container:{id:null,insertAfter:null,i18n:{legend:"Stages"}},selectedStages:null},m,l,h,i=function(){l=c("<fieldset/>",{id:m.container.id,"class":"group",html:h}).insertAfter(m.container.insertAfter).delegate("input:checkbox","click",j)},e=function(o){var n=false,x,q,z;for(q=0,z=o.length;q<z;q++){var s=o[q],t=!!(s.state&&s.state!="Unknown"),y=!!(s.manual),p=!!(!s.manual||t),r,v,w="stage-"+q,u;if(!n&&s.manual&&!t){n=true}v=c('<input type="checkbox" />').attr({name:"selectedStages",id:w,"class":"checkbox",checked:y,disabled:p}).val(s.name);u=c("<label />",{text:s.name,"for":w});r=c("<div/>",{"class":"checkbox"+(s.manual?(t?" already-run":" manual"):"")+(!n?" selected":"")}).append(v).append(u).appendTo(l);if(!t&&y){x=r}}if(x){x.find("input:checkbox").trigger("click",true)}},g=function(){l.find("div.checkbox,p").remove()},j=function(r,n){if(n){r.preventDefault()}var o=c(this),q=o.is(":checked"),p=false;o.closest("div.checkbox").toggleClass("selected",q).prevAll("div.checkbox").each(function(u){var t=c(this),v=t.children("input:checkbox"),s=t.hasClass("manual");if(q){t.addClass("selected");if(s){v.attr("checked","checked").attr("disabled","disabled")}}else{if(s&&!p){v.removeAttr("disabled");p=true}}}).end().nextAll("div.checkbox").each(function(t){var s=c(this);if(s.hasClass("manual")){return false}else{s.toggleClass("selected",q)}})},k;return{init:function(n){m=c.extend(true,f,n);h="<legend><span>"+m.container.i18n.legend+"</span></legend>";i();k=new b.CONFIG.Spinner(l,g)},show:function(n){l.html(h).show();e(n)},hide:function(){l.hide().html(h)},showNoStagesMsg:function(){k.hide();l.append(c("<p/>",{text:"No stages found."}))},showSpinner:function(){k.show()},updateSelectedStages:function(n){m.selectedStages=n}}})();b.CONFIG.Variables=(function(){var e={container:{id:null,insertAfter:null,i18n:{legend:"Build Variables"}},selectedVariables:null},n,l,m,i,j=function(){l=c("<fieldset/>",{id:n.container.id,"class":"group",html:i}).insertAfter(n.container.insertAfter).delegate("#override-another","click",k).delegate(".bamboo-icon-variable-delete","click",h).delegate("select","change",g)},f=function(t){var o,s,q,r;m=c("<select/>",{"class":"select"});for(q=0,r=t.length;q<r;q++){var p=t[q];if(o!=p.variableType){o=p.variableType;s=c("<optgroup/>",{label:o}).appendTo(m)}c("<option/>",{text:p.key,data:{"server-value":p.value}}).appendTo(s)}},k=function(){var p=m.clone(true),q,r,s,o="";if(arguments.length==2){r=p.find("option[text='"+arguments[0]+"']");o=arguments[1]}else{r=p.find("option:first")}r.attr("selected","selected");s=c('<input type="text" />').attr({name:"variable_"+r.val(),placeholder:r.data("server-value"),"class":"text medium-field"}).val(o);q=c("<div/>",{"class":"field-group"}).append(p).append(s).append(bamboo.components.icon({type:"variable-delete"})).insertBefore(l.children("a"))},h=function(o){c(this).closest(".field-group").remove()},g=function(q){var o=c(this),p=o.find("option:selected");o.nextAll(".text").attr({name:"variable_"+p.val(),placeholder:p.data("server-value")})};return{init:function(o){n=c.extend(true,e,o);i="<legend><span>"+n.container.i18n.legend+'</span></legend><a id="override-another" class="aui-button aui-button-link">Override variable<span class="icon icon-edit-sml"></span></a>';j()},show:function(o){f(o);if(n.selectedVariables&&n.selectedVariables.variables){c.each(n.selectedVariables.variables,k)}l.show()},hide:function(){l.hide().html(i)},updateSelectedVariables:function(o){n.selectedVariables=o}}})();b.CONFIG.BuildResults=(function(){var h={container:{id:null,insertAfter:null,i18n:{legend:"Existing build"}},selectedBuildResult:null},n,m,j,k=function(){m=c("<fieldset/>",{id:n.container.id,"class":"group",html:j}).insertAfter(n.container.insertAfter).delegate("input:radio","change",i).delegate("a","click",function(o){o.preventDefault();window.open(this.href)})},g=function(u){var s,v,q="build-result-"+u.number,o,p=(u.lifeCycleState=="Finished"?(u.continuable?"SuccessfulPartial":u.state):u.lifeCycleState),r=(u.key==n.selectedBuildResult),t=(u.stages.stage&&u.stages.stage.length?u.stages.stage:[]);v=c('<input type="radio" />').attr({name:"buildResult",id:q,"class":"radio",checked:r}).val(u.key).data("stages",t);o=c("<label />",{html:'<a href="'+b.bambooBaseURL+"/browse/"+u.key+'" class="'+p+'">#'+u.number+'</a><span class="trigger-reason">'+b.replaceWithBambooIcon(u.buildReason)+"</span>","for":q}).prepend(bamboo.components.icon({type:p}));s=c("<div/>",{"class":"radio"}).append(v).append(o).appendTo(m);if(r){f(t)}},f=function(o){if(o&&o.length){b.CONFIG.Stages.show(o)}else{b.CONFIG.Stages.showNoStagesMsg()}},e=function(){m.find("div.radio,p").remove()},i=function(o){var p=c(this).data("stages");f(p)},l;return{init:function(o){n=c.extend(true,h,o);j="<legend><span>"+n.container.i18n.legend+"</span></legend>";k();l=new b.CONFIG.Spinner(m,e)},show:function(q){m.html(j).show();if(q.length>0&&!n.selectedBuildResult){n.selectedBuildResult=q[0].key}for(var o=0,p=q.length;o<p;o++){g(q[o])}},hide:function(){m.hide().html(j)},showNoResultsMsg:function(){l.hide();m.append(c("<p/>",{text:"No builds found with unbuilt manual stages."})).show()},showSpinner:function(){l.show()},updateSelectedBuildResult:function(o){n.selectedBuildResult=o}}})();b.flagNotification=function(g,f,e){require(["aui/flag"],function(h){h({type:g,title:f,close:"manual",body:e})})};b.getNewUrlObject=function(f,h){var k=URI.parse(f);var j=URI.parseQuery(k.query);if(h&&h.length>0){for(var g=0;g<h.length;g++){delete j[h[g]];if(k.fragment){var e=new URI("?"+k.fragment);e.removeQuery(h[g]);k.fragment=e.toString().substring(1)}}}k.query=URI.buildQuery(j);return k};b.excludeParamsFromUrl=function(e,f){var g=b.getNewUrlObject(e,f);return URI.build(g)};b.getReloadUrl=function(){return b.excludeParamsFromUrl(window.location.href,["showReleaseDialog"])};b.replaceState=function(e,f){if(window.history.replaceState){var h=b.getNewUrlObject(e,f);var g=URI.build(h);window.history.replaceState(h,"",g)}};b.CheckReleaseBuildStatus=function(f,e){c.ajax({url:b.restURL+"status/"+b.jiraVersionId+"/"+f,dataType:"json",success:function(j){var h=j.bamboo,i=(h.lifeCycleState=="Finished"?(h.continuable?"SuccessfulPartial":h.state):h.lifeCycleState),g;if((h.lifeCycleState!="InProgress"&&h.lifeCycleState!="Queued")||(j.jira&&j.jira.forceRefresh)){AJS.reloadViaWindowLocation(b.getReloadUrl());return}else{if(h.lifeCycleState=="InProgress"&&h.progress){if(!e){g=c("#build-details");e=c(bamboo.components.buildDetail({key:"Duration",keyClass:"duration",value:h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>"})).appendTo(g).find("dd");g.find(".build + dd > span.bamboo-icon").replaceWith(bamboo.components.icon({type:i}))}else{e.html(h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>")}clearTimeout(b.CONFIG.updateTimeout);b.CONFIG.updateTimeout=setTimeout(function(){b.CheckReleaseBuildStatus(f,e)},5000)}}},error:function(m,n){var j,l,h,i,g=c("#build-details").empty();try{i=m.responseText||m.response;if(i){j=c.parseJSON(i);l=j.message;h=(j.messageBody?"<p>"+j.messageBody+"</p>":"");if(j.oauthCallback){h+='<p><a href="'+j.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a></p>'}}else{throw"noJSONResponse"}}catch(k){l="An error occurred while trying to retrieve the build information."}b.flagNotification("warning",l,h)}})};b.ShowBuildReleaseDetails=function(g){var f=c("#build-details"),e=c(bamboo.components.icon({type:"loading"}));if(f.length){e.appendTo(f);c.ajax({url:b.restURL+"status/"+b.jiraVersionId+"/"+g,dataType:"json",success:function(m){var h=m.bamboo,i=(h.lifeCycleState=="Finished"?(h.continuable?"SuccessfulPartial":h.state):h.lifeCycleState),l;if(m.jira&&m.jira.forceRefresh){AJS.reloadViaWindowLocation(b.getReloadUrl());return}e.remove();var k=(h.plan.master===undefined);var j=k?h.planName:h.plan.master.shortName+" - "+h.planName;f.append(bamboo.components.buildDetail({key:"Build",keyClass:"build",value:bamboo.components.icon({type:i})+' <a class="build-link" href="'+b.bambooBaseURL+"/browse/"+g+'" title="'+j+'"><span class="'+i+'">#'+h.number+"</span> "+(k?h.planName:h.plan.master.shortName+'<span class="aui-icon aui-icon-small aui-iconfont-devtools-branch"/> '+h.planName)+"</a>"}));if(h.lifeCycleState=="InProgress"||h.lifeCycleState=="Queued"){if(h.lifeCycleState=="InProgress"&&h.progress){l=c(bamboo.components.buildDetail({key:"Duration",keyClass:"duration",value:h.progress.prettyBuildTime+" &ndash; <span>"+h.progress.prettyTimeRemaining+"</span>"})).appendTo(f).find("dd")}clearTimeout(b.CONFIG.updateTimeout);b.CONFIG.updateTimeout=setTimeout(function(){b.CheckReleaseBuildStatus(g,l)},5000)}else{if(h.lifeCycleState=="Finished"){if(h.buildCompletedTime){f.append(bamboo.components.buildDetail({key:"Completed",keyClass:"completed",value:'<time datetime="'+h.buildCompletedTime+'">'+h.buildRelativeTime+"</time>"}))}}else{if(h.lifeCycleState=="NotBuilt"){if(h.buildCompletedTime){f.append(bamboo.components.buildDetail({key:"Completed",keyClass:"completed",value:'<time datetime="'+h.buildCompletedTime+'">'+h.buildRelativeTime+"</time>"}))}}}}if(h.artifacts.artifact&&h.artifacts.artifact.length){f.append(bamboo.components.buildDetail({key:"Artifacts",keyClass:"artifacts",value:bamboo.components.artifacts({artifacts:h.artifacts.artifact})}))}},error:function(m,n){var j,l,h,i;e.remove();try{i=m.responseText||m.response;if(i){j=c.parseJSON(i);l=j.message;h=(j.messageBody?"<p>"+j.messageBody+"</p>":"");if(j.oauthCallback){h+='<p><a href="'+j.oauthCallback+"&amp;redirectUrl="+encodeURIComponent(b.baseURL)+'">Login &amp; Approve</a></p>'}}else{throw"noJSONResponse"}}catch(k){l="An error occurred while trying to retrieve the build information."}b.flagNotification("warning",l,h)}})}};b.replaceWithBambooIcon=function(e){return e.replace(/(\b)icon(\b)/g,"$1bamboo-icon$2")};b.clearReleaseErrors=function(){var e=b.restURL+"errors/"+b.jiraVersionId;c.ajax({url:e,type:"DELETE"}).done(function(f){})};b.publishAnalyticsForReleaseClicked=function(f,g,e){AJS.trigger("analyticsEvent",{name:"jira.project.versions.version-detail.release.clicked",data:{versionId:f,overdue:g,daysRemaining:e}})};b.publishAnalyticsForReleaseDialogClicked=function(f,e){AJS.trigger("analyticsEvent",{name:"jira.project.versions.version-detail.release.dialog.clicked",data:{versionId:f,released:e}})};b.init=function(f){b.CONFIG.init();var e=c("#runRelease",f);if(e.length){b.CONFIG.FormDialog=new JIRA.FormDialog({trigger:e,widthClass:"large",autoClose:true});a.bind("dialogContentReady",function(g,p,l){var n=AJS.$('#release-form-date-picker input[title="currentReleaseDate"]').val();var j=AJS.$('#release-form-date-picker input[title="formattedReleaseDate"]').val();var k=AJS.$('#release-form-date-picker input[title="firstDay"]').val();var o=AJS.$('#release-form-date-picker input[title="currentMillis"]').val();var i=AJS.$('#release-form-date-picker input[title="useISO8601"]').val();var h=AJS.$('#release-form-date-picker input[title="dateFormat"]').val();var m=AJS.$("#release-form-release-date-field")[0];d.setup({singleClick:true,align:"Bl",firstDay:k,button:AJS.$("#release-form-release-date-trigger")[0],inputField:m,currentMillis:o,useISO8601WeekNumbers:i,ifFormat:h});if(typeof j==="string"&&j.length>0){m.value=j}});if(e.attr("href").indexOf("redirectUrlOnSuccess")===-1){e.attr("href",e.attr("href")+"&redirectUrlOnSuccess="+URI.encode(b.getReloadUrl()))}if(/showReleaseDialog=true/.test(window.location.href)){b.replaceState(window.location.href,["showReleaseDialog"]);e.click()}}};c(function(){b.init(AJS.$(document))});JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(h,f,g){if(g===JIRA.CONTENT_ADDED_REASON.tabUpdated){b.init(f)}})}(AJS.$,window.JBAM=(window.JBAM||{}),Calendar));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:css', location = 'templates/plugins/bamboo/script/uri/URI.js' */
/*! URI.js v1.14.1 http://medialize.github.io/URI.js/ */
(function(b,a){"object"===typeof exports?module.exports=a(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],a):b.URI=a(b.punycode,b.IPv6,b.SecondLevelDomains,b)})(this,function(R,o,K,S){function U(e,d){if(!(this instanceof U)){return new U(e,d)}void 0===e&&(e="undefined"!==typeof location?location.href+"":"");this.href(e);return void 0!==d?this.absoluteTo(d):this}function N(d){return d.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(d){return void 0===d?"Undefined":String(Object.prototype.toString.call(d)).slice(8,-1)}function T(d){return"Array"===g(d)}function i(l,d){var q,p;if(T(d)){q=0;for(p=d.length;q<p;q++){if(!i(l,d[q])){return !1}}return !0}var m=g(d);q=0;for(p=l.length;q<p;q++){if("RegExp"===m){if("string"===typeof l[q]&&l[q].match(d)){return !0}}else{if(l[q]===d){return !0}}}return !1}function Q(l,d){if(!T(l)||!T(d)||l.length!==d.length){return !1}l.sort();d.sort();for(var p=0,m=l.length;p<m;p++){if(l[p]!==d[p]){return !1}}return !0}function s(d){return escape(d)}function c(d){return encodeURIComponent(d).replace(/[!'()*]/g,s).replace(/\*/g,"%2A")}function k(d){return function(e,l){if(void 0===e){return this._parts[d]||""}this._parts[d]=e||null;this.build(!l);return this}}function O(e,d){return function(m,l){if(void 0===m){return this._parts[e]||""}null!==m&&(m+="",m.charAt(0)===d&&(m=m.substring(1)));this._parts[e]=m;this.build(!l);return this}}var n=S&&S.URI;U.version="1.14.1";var V=U.prototype,P=Object.prototype.hasOwnProperty;U._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:U.duplicateQueryParameters,escapeQuerySpace:U.escapeQuerySpace}};U.duplicateQueryParameters=!1;U.escapeQuerySpace=!0;U.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;U.idn_expression=/[^a-z0-9\.-]/i;U.punycode_expression=/(xn--)/i;U.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;U.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;U.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;U.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};U.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};U.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;U.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};U.getDomAttribute=function(e){if(e&&e.nodeName){var d=e.nodeName.toLowerCase();return"input"===d&&"image"!==e.type?void 0:U.domAttributes[d]}};U.encode=c;U.decode=decodeURIComponent;U.iso8859=function(){U.encode=escape;U.decode=unescape};U.unicode=function(){U.encode=c;U.decode=decodeURIComponent};U.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};U.encodeQuery=function(e,d){var l=U.encode(e+"");void 0===d&&(d=U.escapeQuerySpace);return d?l.replace(/%20/g,"+"):l};U.decodeQuery=function(e,d){e+="";void 0===d&&(d=U.escapeQuerySpace);try{return U.decode(d?e.replace(/\+/g,"%20"):e)}catch(l){return e}};U.recodePath=function(e){e=(e+"").split("/");for(var d=0,l=e.length;d<l;d++){e[d]=U.encodePathSegment(U.decode(e[d]))}return e.join("/")};U.decodePath=function(e){e=(e+"").split("/");for(var d=0,l=e.length;d<l;d++){e[d]=U.decodePathSegment(e[d])}return e.join("/")};var M={encode:"encode",decode:"decode"},a,L=function(e,d){return function(m){try{return U[d](m+"").replace(U.characters[e][d].expression,function(p){return U.characters[e][d].map[p]})}catch(l){return m}}};for(a in M){U[a+"PathSegment"]=L("pathname",M[a])}U.encodeReserved=L("reserved","encode");U.parse=function(e,d){var l;d||(d={});l=e.indexOf("#");-1<l&&(d.fragment=e.substring(l+1)||null,e=e.substring(0,l));l=e.indexOf("?");-1<l&&(d.query=e.substring(l+1)||null,e=e.substring(0,l));"//"===e.substring(0,2)?(d.protocol=null,e=e.substring(2),e=U.parseAuthority(e,d)):(l=e.indexOf(":"),-1<l&&(d.protocol=e.substring(0,l)||null,d.protocol&&!d.protocol.match(U.protocol_expression)?d.protocol=void 0:"//"===e.substring(l+1,l+3)?(e=e.substring(l+3),e=U.parseAuthority(e,d)):(e=e.substring(l+1),d.urn=!0)));d.path=e;return d};U.parseHost=function(l,d){var p=l.indexOf("/"),m;-1===p&&(p=l.length);"["===l.charAt(0)?(m=l.indexOf("]"),d.hostname=l.substring(1,m)||null,d.port=l.substring(m+2,p)||null,"/"===d.port&&(d.port=null)):l.indexOf(":")!==l.lastIndexOf(":")?(d.hostname=l.substring(0,p)||null,d.port=null):(m=l.substring(0,p).split(":"),d.hostname=m[0]||null,d.port=m[1]||null);d.hostname&&"/"!==l.substring(p).charAt(0)&&(p++,l="/"+l);return l.substring(p)||"/"};U.parseAuthority=function(e,d){e=U.parseUserinfo(e,d);return U.parseHost(e,d)};U.parseUserinfo=function(e,d){var m=e.indexOf("/"),l=e.lastIndexOf("@",-1<m?m:e.length-1);-1<l&&(-1===m||l<m)?(m=e.substring(0,l).split(":"),d.username=m[0]?U.decode(m[0]):null,m.shift(),d.password=m[0]?U.decode(m.join(":")):null,e=e.substring(l+1)):(d.username=null,d.password=null);return e};U.parseQuery=function(l,e){if(!l){return{}}l=l.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!l){return{}}for(var u={},q=l.split("&"),p=q.length,r,m,t=0;t<p;t++){r=q[t].split("="),m=U.decodeQuery(r.shift(),e),r=r.length?U.decodeQuery(r.join("="),e):null,P.call(u,m)?("string"===typeof u[m]&&(u[m]=[u[m]]),u[m].push(r)):u[m]=r}return u};U.build=function(e){var d="";e.protocol&&(d+=e.protocol+":");e.urn||!d&&!e.hostname||(d+="//");d+=U.buildAuthority(e)||"";"string"===typeof e.path&&("/"!==e.path.charAt(0)&&"string"===typeof e.hostname&&(d+="/"),d+=e.path);"string"===typeof e.query&&e.query&&(d+="?"+e.query);"string"===typeof e.fragment&&e.fragment&&(d+="#"+e.fragment);return d};U.buildHost=function(e){var d="";if(e.hostname){d=U.ip6_expression.test(e.hostname)?d+("["+e.hostname+"]"):d+e.hostname}else{return""}e.port&&(d+=":"+e.port);return d};U.buildAuthority=function(d){return U.buildUserinfo(d)+U.buildHost(d)};U.buildUserinfo=function(e){var d="";e.username&&(d+=U.encode(e.username),e.password&&(d+=":"+U.encode(e.password)),d+="@");return d};U.buildQuery=function(l,e,u){var q="",p,r,m,t;for(r in l){if(P.call(l,r)&&r){if(T(l[r])){for(p={},m=0,t=l[r].length;m<t;m++){void 0!==l[r][m]&&void 0===p[l[r][m]+""]&&(q+="&"+U.buildQueryParameter(r,l[r][m],u),!0!==e&&(p[l[r][m]+""]=!0))}}else{void 0!==l[r]&&(q+="&"+U.buildQueryParameter(r,l[r],u))}}}return q.substring(1)};U.buildQueryParameter=function(e,d,l){return U.encodeQuery(e,l)+(null!==d?"="+U.encodeQuery(d,l):"")};U.addQuery=function(e,d,m){if("object"===typeof d){for(var l in d){P.call(d,l)&&U.addQuery(e,l,d[l])}}else{if("string"===typeof d){void 0===e[d]?e[d]=m:("string"===typeof e[d]&&(e[d]=[e[d]]),T(m)||(m=[m]),e[d]=(e[d]||[]).concat(m))}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}};U.removeQuery=function(l,e,t){var q;if(T(e)){for(t=0,q=e.length;t<q;t++){l[e[t]]=void 0}}else{if("object"===typeof e){for(q in e){P.call(e,q)&&U.removeQuery(l,q,e[q])}}else{if("string"===typeof e){if(void 0!==t){if(l[e]===t){l[e]=void 0}else{if(T(l[e])){q=l[e];var r={},p,m;if(T(t)){for(p=0,m=t.length;p<m;p++){r[t[p]]=!0}}else{r[t]=!0}p=0;for(m=q.length;p<m;p++){void 0!==r[q[p]]&&(q.splice(p,1),m--,p--)}l[e]=q}}}else{l[e]=void 0}}else{throw new TypeError("URI.removeQuery() accepts an object, string as the first parameter")}}}};U.hasQuery=function(l,e,q,m){if("object"===typeof e){for(var p in e){if(P.call(e,p)&&!U.hasQuery(l,p,e[p])){return !1}}return !0}if("string"!==typeof e){throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter")}switch(g(q)){case"Undefined":return e in l;case"Boolean":return l=Boolean(T(l[e])?l[e].length:l[e]),q===l;case"Function":return !!q(l[e],e,l);case"Array":return T(l[e])?(m?i:Q)(l[e],q):!1;case"RegExp":return T(l[e])?m?i(l[e],q):!1:Boolean(l[e]&&l[e].match(q));case"Number":q=String(q);case"String":return T(l[e])?m?i(l[e],q):!1:l[e]===q;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}};U.commonPath=function(l,d){var p=Math.min(l.length,d.length),m;for(m=0;m<p;m++){if(l.charAt(m)!==d.charAt(m)){m--;break}}if(1>m){return l.charAt(0)===d.charAt(0)&&"/"===l.charAt(0)?"/":""}if("/"!==l.charAt(m)||"/"!==d.charAt(m)){m=l.substring(0,m).lastIndexOf("/")}return l.substring(0,m+1)};U.withinString=function(y,x,w){w||(w={});var u=w.start||U.findUri.start,v=w.end||U.findUri.end,t=w.trim||U.findUri.trim,r=/[a-z0-9-]=["']?$/i;for(u.lastIndex=0;;){var e=u.exec(y);if(!e){break}e=e.index;if(w.ignoreHtml){var q=y.slice(Math.max(e-3,0),e);if(q&&r.test(q)){continue}}var q=e+y.slice(e).search(v),p=y.slice(e,q).replace(t,"");w.ignore&&w.ignore.test(p)||(q=e+p.length,p=x(p,e,q,y),y=y.slice(0,e)+p+y.slice(q),u.lastIndex=e+p.length)}u.lastIndex=0;return y};U.ensureValidHostname=function(d){if(d.match(U.invalid_hostname_characters)){if(!R){throw new TypeError('Hostname "'+d+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available')}if(R.toASCII(d).match(U.invalid_hostname_characters)){throw new TypeError('Hostname "'+d+'" contains characters other than [A-Z0-9.-]')}}};U.noConflict=function(d){if(d){return d={URI:this.noConflict()},S.URITemplate&&"function"===typeof S.URITemplate.noConflict&&(d.URITemplate=S.URITemplate.noConflict()),S.IPv6&&"function"===typeof S.IPv6.noConflict&&(d.IPv6=S.IPv6.noConflict()),S.SecondLevelDomains&&"function"===typeof S.SecondLevelDomains.noConflict&&(d.SecondLevelDomains=S.SecondLevelDomains.noConflict()),d}S.URI===this&&(S.URI=n);return this};V.build=function(d){if(!0===d){this._deferred_build=!0}else{if(void 0===d||this._deferred_build){this._string=U.build(this._parts),this._deferred_build=!1}}return this};V.clone=function(){return new U(this)};V.valueOf=V.toString=function(){return this.build(!1)._string};V.protocol=k("protocol");V.username=k("username");V.password=k("password");V.hostname=k("hostname");V.port=k("port");V.query=O("query","?");V.fragment=O("fragment","#");V.search=function(e,d){var l=this.query(e,d);return"string"===typeof l&&l.length?"?"+l:l};V.hash=function(e,d){var l=this.fragment(e,d);return"string"===typeof l&&l.length?"#"+l:l};V.pathname=function(e,d){if(void 0===e||!0===e){var l=this._parts.path||(this._parts.hostname?"/":"");return e?U.decodePath(l):l}this._parts.path=e?U.recodePath(e):"/";this.build(!d);return this};V.path=V.pathname;V.href=function(l,e){var q;if(void 0===l){return this.toString()}this._string="";this._parts=U._parts();var m=l instanceof U,p="object"===typeof l&&(l.hostname||l.path||l.pathname);l.nodeName&&(p=U.getDomAttribute(l),l=l[p]||"",p=!1);!m&&p&&void 0!==l.pathname&&(l=l.toString());if("string"===typeof l||l instanceof String){this._parts=U.parse(String(l),this._parts)}else{if(m||p){for(q in m=m?l._parts:l,m){P.call(this._parts,q)&&(this._parts[q]=m[q])}}else{throw new TypeError("invalid input")}}this.build(!e);return this};V.is=function(x){var w=!1,v=!1,t=!1,u=!1,r=!1,q=!1,p=!1,e=!this._parts.urn;this._parts.hostname&&(e=!1,v=U.ip4_expression.test(this._parts.hostname),t=U.ip6_expression.test(this._parts.hostname),w=v||t,r=(u=!w)&&K&&K.has(this._parts.hostname),q=u&&U.idn_expression.test(this._parts.hostname),p=u&&U.punycode_expression.test(this._parts.hostname));switch(x.toLowerCase()){case"relative":return e;case"absolute":return !e;case"domain":case"name":return u;case"sld":return r;case"ip":return w;case"ip4":case"ipv4":case"inet4":return v;case"ip6":case"ipv6":case"inet6":return t;case"idn":return q;case"url":return !this._parts.urn;case"urn":return !!this._parts.urn;case"punycode":return p}return null};var j=V.protocol,h=V.port,f=V.hostname;V.protocol=function(e,d){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(U.protocol_expression))){throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]")}return j.call(this,e,d)};V.scheme=V.protocol;V.port=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/)))){throw new TypeError('Port "'+e+'" contains characters other than [0-9]')}return h.call(this,e,d)};V.hostname=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0!==e){var l={};U.parseHost(e,l);e=l.hostname}return f.call(this,e,d)};V.host=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){return this._parts.hostname?U.buildHost(this._parts):""}U.parseHost(e,this._parts);this.build(!d);return this};V.authority=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){return this._parts.hostname?U.buildAuthority(this._parts):""}U.parseAuthority(e,this._parts);this.build(!d);return this};V.userinfo=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){if(!this._parts.username){return""}var l=U.buildUserinfo(this._parts);return l.substring(0,l.length-1)}"@"!==e[e.length-1]&&(e+="@");U.parseUserinfo(e,this._parts);this.build(!d);return this};V.resource=function(e,d){var l;if(void 0===e){return this.path()+this.search()+this.hash()}l=U.parse(e);this._parts.path=l.path;this._parts.query=l.query;this._parts.fragment=l.fragment;this.build(!d);return this};V.subdomain=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,l)||""}l=this._parts.hostname.length-this.domain().length;l=this._parts.hostname.substring(0,l);l=new RegExp("^"+N(l));e&&"."!==e.charAt(e.length-1)&&(e+=".");e&&U.ensureValidHostname(e);this._parts.hostname=this._parts.hostname.replace(l,e);this.build(!d);return this};V.domain=function(e,d){if(this._parts.urn){return void 0===e?"":this}"boolean"===typeof e&&(d=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.match(/\./g);if(l&&2>l.length){return this._parts.hostname}l=this._parts.hostname.length-this.tld(d).length-1;l=this._parts.hostname.lastIndexOf(".",l-1)+1;return this._parts.hostname.substring(l)||""}if(!e){throw new TypeError("cannot set domain empty")}U.ensureValidHostname(e);!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(l=new RegExp(N(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(l,e));this.build(!d);return this};V.tld=function(e,d){if(this._parts.urn){return void 0===e?"":this}"boolean"===typeof e&&(d=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP")){return""}var l=this._parts.hostname.lastIndexOf("."),l=this._parts.hostname.substring(l+1);return !0!==d&&K&&K.list[l.toLowerCase()]?K.get(this._parts.hostname)||l:l}if(e){if(e.match(/[^a-zA-Z0-9-]/)){if(K&&K.is(e)){l=new RegExp(N(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(l,e)}else{throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]')}}else{if(!this._parts.hostname||this.is("IP")){throw new ReferenceError("cannot set TLD on non-domain host")}l=new RegExp(N(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(l,e)}}else{throw new TypeError("cannot set TLD empty")}this.build(!d);return this};V.directory=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname){return""}if("/"===this._parts.path){return"/"}var l=this._parts.path.length-this.filename().length-1,l=this._parts.path.substring(0,l)||(this._parts.hostname?"/":"");return e?U.decodePath(l):l}l=this._parts.path.length-this.filename().length;l=this._parts.path.substring(0,l);l=new RegExp("^"+N(l));this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e));e&&"/"!==e.charAt(e.length-1)&&(e+="/");e=U.recodePath(e);this._parts.path=this._parts.path.replace(l,e);this.build(!d);return this};V.filename=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path){return""}var m=this._parts.path.lastIndexOf("/"),m=this._parts.path.substring(m+1);return e?U.decodePathSegment(m):m}m=!1;"/"===e.charAt(0)&&(e=e.substring(1));e.match(/\.?\//)&&(m=!0);var l=new RegExp(N(this.filename())+"$");e=U.recodePath(e);this._parts.path=this._parts.path.replace(l,e);m?this.normalizePath(d):this.build(!d);return this};V.suffix=function(e,d){if(this._parts.urn){return void 0===e?"":this}if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path){return""}var m=this.filename(),l=m.lastIndexOf(".");if(-1===l){return""}m=m.substring(l+1);m=/^[a-z0-9%]+$/i.test(m)?m:"";return e?U.decodePathSegment(m):m}"."===e.charAt(0)&&(e=e.substring(1));if(m=this.suffix()){l=e?new RegExp(N(m)+"$"):new RegExp(N("."+m)+"$")}else{if(!e){return this}this._parts.path+="."+U.recodePath(e)}l&&(e=U.recodePath(e),this._parts.path=this._parts.path.replace(l,e));this.build(!d);return this};V.segment=function(m,l,u){var r=this._parts.urn?":":"/",t=this.path(),q="/"===t.substring(0,1),t=t.split(r);void 0!==m&&"number"!==typeof m&&(u=l,l=m,m=void 0);if(void 0!==m&&"number"!==typeof m){throw Error('Bad segment "'+m+'", must be 0-based integer')}q&&t.shift();0>m&&(m=Math.max(t.length+m,0));if(void 0===l){return void 0===m?t:t[m]}if(null===m||void 0===t[m]){if(T(l)){t=[];m=0;for(var p=l.length;m<p;m++){if(l[m].length||t.length&&t[t.length-1].length){t.length&&!t[t.length-1].length&&t.pop(),t.push(l[m])}}}else{if(l||"string"===typeof l){""===t[t.length-1]?t[t.length-1]=l:t.push(l)}}}else{l?t[m]=l:t.splice(m,1)}q&&t.unshift("");return this.path(t.join(r),u)};V.segmentCoded=function(l,e,q){var p,m;"number"!==typeof l&&(q=e,e=l,l=void 0);if(void 0===e){l=this.segment(l,e,q);if(T(l)){for(p=0,m=l.length;p<m;p++){l[p]=U.decode(l[p])}}else{l=void 0!==l?U.decode(l):void 0}return l}if(T(e)){for(p=0,m=e.length;p<m;p++){e[p]=U.decode(e[p])}}else{e="string"===typeof e||e instanceof String?U.encode(e):e}return this.segment(l,e,q)};var b=V.query;V.query=function(l,e){if(!0===l){return U.parseQuery(this._parts.query,this._parts.escapeQuerySpace)}if("function"===typeof l){var p=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace),m=l.call(this,p);this._parts.query=U.buildQuery(m||p,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!e);return this}return void 0!==l&&"string"!==typeof l?(this._parts.query=U.buildQuery(l,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):b.call(this,l,e)};V.setQuery=function(l,e,q){var p=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"===typeof l||l instanceof String){p[l]=void 0!==e?e:null}else{if("object"===typeof l){for(var m in l){P.call(l,m)&&(p[m]=l[m])}}else{throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")}}this._parts.query=U.buildQuery(p,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(q=e);this.build(!q);return this};V.addQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);U.addQuery(m,l,void 0===e?null:e);this._parts.query=U.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(p=e);this.build(!p);return this};V.removeQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);U.removeQuery(m,l,e);this._parts.query=U.buildQuery(m,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof l&&(p=e);this.build(!p);return this};V.hasQuery=function(l,e,p){var m=U.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return U.hasQuery(m,l,e,p)};V.setSearch=V.setQuery;V.addSearch=V.addQuery;V.removeSearch=V.removeQuery;V.hasSearch=V.hasQuery;V.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};V.normalizeProtocol=function(d){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!d));return this};V.normalizeHostname=function(d){this._parts.hostname&&(this.is("IDN")&&R?this._parts.hostname=R.toASCII(this._parts.hostname):this.is("IPv6")&&o&&(this._parts.hostname=o.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!d));return this};V.normalizePort=function(d){"string"===typeof this._parts.protocol&&this._parts.port===U.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!d));return this};V.normalizePath=function(l){if(this._parts.urn||!this._parts.path||"/"===this._parts.path){return this}var e,r=this._parts.path,q="",m,p;"/"!==r.charAt(0)&&(e=!0,r="/"+r);r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");e&&(q=r.substring(1).match(/^(\.\.\/)+/)||"")&&(q=q[0]);for(;;){m=r.indexOf("/..");if(-1===m){break}else{if(0===m){r=r.substring(3);continue}}p=r.substring(0,m).lastIndexOf("/");-1===p&&(p=m);r=r.substring(0,p)+r.substring(m+3)}e&&this.is("relative")&&(r=q+r.substring(1));r=U.recodePath(r);this._parts.path=r;this.build(!l);return this};V.normalizePathname=V.normalizePath;V.normalizeQuery=function(d){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(U.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!d));return this};V.normalizeFragment=function(d){this._parts.fragment||(this._parts.fragment=null,this.build(!d));return this};V.normalizeSearch=V.normalizeQuery;V.normalizeHash=V.normalizeFragment;V.iso8859=function(){var e=U.encode,d=U.decode;U.encode=escape;U.decode=decodeURIComponent;this.normalize();U.encode=e;U.decode=d;return this};V.unicode=function(){var e=U.encode,d=U.decode;U.encode=c;U.decode=unescape;this.normalize();U.encode=e;U.decode=d;return this};V.readable=function(){var l=this.clone();l.username("").password("").normalize();var e="";l._parts.protocol&&(e+=l._parts.protocol+"://");l._parts.hostname&&(l.is("punycode")&&R?(e+=R.toUnicode(l._parts.hostname),l._parts.port&&(e+=":"+l._parts.port)):e+=l.host());l._parts.hostname&&l._parts.path&&"/"!==l._parts.path.charAt(0)&&(e+="/");e+=l.path(!0);if(l._parts.query){for(var t="",r=0,p=l._parts.query.split("&"),q=p.length;r<q;r++){var m=(p[r]||"").split("="),t=t+("&"+U.decodeQuery(m[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==m[1]&&(t+="="+U.decodeQuery(m[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}e+="?"+t.substring(1)}return e+=U.decodeQuery(l.hash(),!0)};V.absoluteTo=function(l){var e=this.clone(),q=["protocol","username","password","hostname","port"],p,m;if(this._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}l instanceof U||(l=new U(l));e._parts.protocol||(e._parts.protocol=l._parts.protocol);if(this._parts.hostname){return e}for(p=0;m=q[p];p++){e._parts[m]=l._parts[m]}e._parts.path?".."===e._parts.path.substring(-2)&&(e._parts.path+="/"):(e._parts.path=l._parts.path,e._parts.query||(e._parts.query=l._parts.query));"/"!==e.path().charAt(0)&&(l=l.directory(),e._parts.path=(l?l+"/":"")+e._parts.path,e.normalizePath());e.build();return e};V.relativeTo=function(l){var e=this.clone().normalize(),r,q,m,p;if(e._parts.urn){throw Error("URNs do not have any generally defined hierarchical components")}l=(new U(l)).normalize();r=e._parts;q=l._parts;m=e.path();p=l.path();if("/"!==m.charAt(0)){throw Error("URI is already relative")}if("/"!==p.charAt(0)){throw Error("Cannot calculate a URI relative to another relative URI")}r.protocol===q.protocol&&(r.protocol=null);if(r.username===q.username&&r.password===q.password&&null===r.protocol&&null===r.username&&null===r.password&&r.hostname===q.hostname&&r.port===q.port){r.hostname=null,r.port=null}else{return e.build()}if(m===p){return r.path="",e.build()}l=U.commonPath(e.path(),l.path());if(!l){return e.build()}q=q.path.substring(l.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");r.path=q+r.path.substring(l.length);return e.build()};V.equals=function(l){var e=this.clone();l=new U(l);var r={},q={},m={},p;e.normalize();l.normalize();if(e.toString()===l.toString()){return !0}r=e.query();q=l.query();e.query("");l.query("");if(e.toString()!==l.toString()||r.length!==q.length){return !1}r=U.parseQuery(r,this._parts.escapeQuerySpace);q=U.parseQuery(q,this._parts.escapeQuerySpace);for(p in r){if(P.call(r,p)){if(!T(r[p])){if(r[p]!==q[p]){return !1}}else{if(!Q(r[p],q[p])){return !1}}m[p]=!0}}for(p in q){if(P.call(q,p)&&!m[p]){return !1}}return !0};V.duplicateQueryParameters=function(d){this._parts.duplicateQueryParameters=!!d;return this};V.escapeQuerySpace=function(d){this._parts.escapeQuerySpace=!!d;return this};return U});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:backbone-1.4', location = '/static/lib/amd-shims/backbone-1.4-amd.js' */
define("jira/backbone-1.4",["jquery","atlassian/libs/underscore-1.13","atlassian/libs/factories/backbone-1.4"],(function(a,e,n){return n(e,a)}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:brace-1.1.0-factory', location = 'factories/brace/1.1.0/brace-1.1.0-factory.js' */
/*
 Backbone Brace - 2017-01-20
  Copyright 2017 Atlassian Software Systems Pty Ltd
  Licensed under the Apache License, Version 2.0
*/
'use strict';(function(c){define("atlassian/libs/factories/brace-1.1.0",function(){return function(e,k){e={_:e,Backbone:k};c.call(e);e=e.Brace.noConflict();e.VERSION="1.1.0";return e}})})(function(){(function(c,e){var k=c.Brace;e=e(c._,c.Backbone);e.noConflict=function(){c.Brace=k;return this};c.Brace=e})(this,function(c,e){function k(a){return c.isArray(a)?c.reduce(a,function(b,a){b[a]=null;return b},{}):a}function n(a,b){if(!a||null==b||a===String&&c.isString(b)||a===Number&&c.isNumber(b)||a===
Boolean&&c.isBoolean(b))return b;if("string"===typeof a||a instanceof String){if(typeof b!==""+a)throw"The typeof "+b+" is "+typeof b+" but expected it to be "+a;return b}if(c.isArray(a)||a===Array){if(!c.has(b,"length")||b instanceof String||c.has({string:1,"function":1},typeof b)||b instanceof e.Collection)throw"Array type expected, but nonnull, non-Array value provided.";return a!==Array&&a[0]?c.map(b,c.bind(n,null,a[0])):b}if("function"!==typeof a)throw"Invalid expected type "+a+". Should be falsy, String, Array, Backbone.Collection constructor, or function.";
return b instanceof a?b:p(a)?new a(n([a.model],b)):new a(b)}function p(a,b){return a&&(a.__super__ instanceof(b||e.Collection)||a.__super__===(b||e.Collection).prototype||a===(b||e.Collection))}function t(a,b){var d={};c.each(a,function(a,c){if(!b[c]||q(a,b[c]))d[c]=a;else if(a&&!q(b[c],a))throw c+" has conflicted type descriptors.";});return d}function q(a,b){return b&&b!==a?a&&"string"!==typeof a?a instanceof Array?b===Array||b instanceof Array&&q(a[0],b[0]):"function"!==typeof b?!1:p(b)?p(a,b):
a.prototype instanceof b:!1:!0}function v(a){return c.isObject(a)?c.reduce(a,function(a,d,g){d&&c.isFunction(d.toJSON)?a[g]=d.toJSON():c.isArray(d)&&(a[g]=c.map(d,function(a){return a&&c.isFunction(a.toJSON)?a.toJSON():a}));return a},a):a}function w(a){return function(){var b=a.call(this);return v(b)}}function x(a){return function u(d,g){var e=c.extend({},d);if(d&&d.mixins){var l=d.mixins;delete e.mixins}var h=a.call(this,e,g);this.prototype.namedEvents&&f.Mixins.applyMixin(h,{namedEvents:this.prototype.namedEvents});
this.prototype.namedAttributes&&f.Mixins.applyMixin(h,{namedAttributes:this.prototype.namedAttributes});this.prototype.ignoreUnknownAttributes&&f.Mixins.applyMixin(h,{ignoreUnknownAttributes:this.prototype.ignoreUnknownAttributes});l&&c.each(d.mixins,function(a){f.Mixins.applyMixin(h,a)});h.prototype.namedEvents&&f.Mixins.applyMixin(h,f.EventsMixinCreator.create(h.prototype.namedEvents));h.prototype.namedAttributes&&(h.prototype.namedAttributes=k(h.prototype.namedAttributes),f.Mixins.applyMixin(h,
f.AttributesMixinCreator.create(h.prototype.namedAttributes,h.prototype.idAttribute)));h.prototype.toJSON&&(h.prototype.toJSON=w(h.prototype.toJSON));h.extend=u;return h}}function y(a,b){a=a.prototype;b=b.prototype;var d=a.set;b.set=function(a,b,g){var h=this.namedAttributes;if(!h||null==a)return d.apply(this,arguments);if(c.isObject(a)){var e=c.clone(a);g=b}else e={},e[a]=b;for(var f in e)if(c.has(e,f)){if(!c.has(h,f)&&!this.ignoreUnknownAttributes)throw"Attribute '"+f+"' does not exist";e[f]=n(h[f],
e[f])}return d.call(this,e,g)};var g=a.get;b.get=function(a){if(this.namedAttributes&&!c.has(this.namedAttributes,a)&&!this.ignoreUnknownAttributes)throw"Attribute '"+a+"' does not exist";return g.apply(this,arguments)}}function z(a,b){var d=a.prototype.parse;b.prototype.parse=function(a,b){return c.pick(d(a,b),c.keys(this.namedAttributes))}}function m(a){var b=a.extend();b.extend=x(a.extend);return b}var f={Mixins:{createMethodName:function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)},applyMixin:function(a,
b){c.forEach(c.keys(b),function(d){var g=a.prototype;if("initialize"===d){var e=g.initialize;g.initialize=function(){e&&e.apply(this,arguments);b.initialize.apply(this,arguments)}}else if("validate"===d){var f=g.validate;g.validate=function(){if(f){var a=f.apply(this,arguments);if(a)return a}return b.validate.apply(this,arguments)}}else if("defaults"===d){g=g.defaults||(g.defaults={});d=b[d];for(var l in d){if(g.hasOwnProperty(l))throw"Mixin error: class already has default '"+l+"' defined";g[l]=
d[l]}}else if("namedAttributes"===d)l=k(g.namedAttributes)||{},d=k(b[d]),g.namedAttributes=c.extend(l,t(d,l));else if("namedEvents"===d){if(!c.isArray(b[d]))throw"Expects events member on mixin to be an array";g.namedEvents||(g.namedEvents=[]);g.namedEvents=c.uniq(g.namedEvents.concat(b[d]))}else if("ignoreUnknownAttributes"===d)g.hasOwnProperty(d)||(g.ignoreUnknownAttributes=b[d]||!1);else{if(g.hasOwnProperty(d))throw"Mixin error: class already has property '"+d+"' defined";g[d]=b[d]}},this)}}};
f.AttributesMixinCreator={create:function(a,b){var d={};a||(a={});c.has(a,"id")||(a.id=null);c.each(a,function(a,b){a=f.Mixins.createMethodName("set",b);d[a]=function(a,c){return this.set(b,a,c)};a=f.Mixins.createMethodName("get",b);d[a]=function(){return this.get(b)}});if("string"===typeof b&&"undefined"!==typeof a[b]&&"id"!==b){a.id=a[b];var e=f.Mixins.createMethodName("get",b),k=f.Mixins.createMethodName("set",b);d.getId=function(){return this[e]()};d.setId=function(a,b){return this[k](a,b)}}return d},
ensureType:n};f.EventsMixinCreator={create:function(a){var b={};c.each(a,c.bind(function(a){var d=f.Mixins.createMethodName("on",a);b[d]=function(){return this.on.apply(this,[a].concat(c.toArray(arguments)))};d=f.Mixins.createMethodName("trigger",a);b[d]=function(){return this.trigger.apply(this,[a].concat(c.toArray(arguments)))}},this));return b}};f.Model=function(a){var b=m(a);y(a,b);z(a,b);return b}(e.Model);f.Collection=m(e.Collection);f.View=m(e.View);f.Router=m(e.Router);var r=function(){this.initialize.apply(this,
arguments)};c.extend(r.prototype,e.Events,{initialize:function(){}});r.extend=e.Model.extend;f.Evented=m(r);return f})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:brace-resources', location = '/templates/plugins/bamboo/script/backbone-brace/brace-amd.js' */
define("jira/bamboo-plugin/brace",["jira/backbone-1.4","atlassian/libs/underscore-1.13","atlassian/libs/factories/brace-1.1.0"],function(c,a,b){return b(a,c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/script/deployments.js' */
require(["jquery","atlassian/libs/underscore-1.13","jira/bamboo-plugin/brace"],function(d,a,c){window.JBAM_DEPLOYMENT=(window.JBAM_DEPLOYMENT||{});JBAM_DEPLOYMENT.Model={};JBAM_DEPLOYMENT.Model.DeploymentProject=c.Model.extend({namedAttributes:{name:"string",bambooId:"number",url:"string",environmentCount:"number",upToDateEnvironmentCount:"number",applinkId:"string"}});JBAM_DEPLOYMENT.Model.Version=c.Model.extend({namedAttributes:{name:"string",id:"number",url:"string"}});JBAM_DEPLOYMENT.Model.Environment=c.Model.extend({namedAttributes:{name:"string",id:"number",issueStatus:"string",statusOk:"boolean",url:"string",version:JBAM_DEPLOYMENT.Model.Version}});JBAM_DEPLOYMENT.Model.IssueDeploymentStatus=c.Model.extend({fetchUrl:"",namedAttributes:{deploymentProject:JBAM_DEPLOYMENT.Model.DeploymentProject,versions:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.Version}),environments:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.Environment})},url:function(){return this.fetchUrl},initialize:function(f,e){this.fetchUrl=e.fetchUrl}});JBAM_DEPLOYMENT.Model.ErrorMessage=c.Model.extend({namedAttributes:{message:"string",messageBody:"string"}});JBAM_DEPLOYMENT.Model.OauthCallback=c.Model.extend({namedAttributes:{oauthCallback:"string",serverName:"string"}});JBAM_DEPLOYMENT.Model.RelatedDeploymentProjects=c.Model.extend({fetchUrl:"",namedAttributes:{deploymentProjects:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.DeploymentProject}),errorMessages:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.ErrorMessage}),oauthCallbacks:c.Collection.extend({model:JBAM_DEPLOYMENT.Model.OauthCallback})},url:function(){return this.fetchUrl},initialize:function(f,e){this.fetchUrl=e.fetchUrl}});JBAM_DEPLOYMENT.IssueDeploymentStatus={};JBAM_DEPLOYMENT.IssueDeploymentStatus.View=c.View.extend({oAuthDanceReturnUrl:"",initialize:function(e){this.options=e;this.options.bootstrap=e.bootstrap||[];this.oAuthDanceReturnUrl=e.oAuthDanceReturnUrl||"";this.model=new JBAM_DEPLOYMENT.Model.IssueDeploymentStatus(this.options.bootstrap,{fetchUrl:e.fetchUrl});this.update()},render:function(){this.$el.html(bamboo.deployments.issueDetailsDialogContent({data:this.model.toJSON()}));return this},update:function(){return this.model.fetch({cache:false}).done(a.bind(this.render,this)).fail(a.bind(this.removeSpinner,this)).fail(a.bind(this.clearError,this)).fail(a.bind(this.displayError,this))},displayError:function(e,g,f){b(e,g,f,this.$el)},clearError:function(){this.$el.children(".aui-message").remove()},removeSpinner:function(){this.$el.children(".bamboo-icon-loading").remove()}});JBAM_DEPLOYMENT.RelatedDeploymentProjects={};JBAM_DEPLOYMENT.RelatedDeploymentProjects.PopupDialog=JBAM_DEPLOYMENT.RelatedDeploymentProjects.PopupDialog||new JIRA.FormDialog({trigger:".bamboo-deployments-details-link",width:640,autoClose:true});JBAM_DEPLOYMENT.RelatedDeploymentProjects.View=c.View.extend({initialize:function(e){this.options=e;this.options.bootstrap=e.bootstrap||[];this.oAuthDanceReturnUrl=e.oAuthDanceReturnUrl||"";this.issueId=e.issueId||"";this.selector=e.el;this.model=new JBAM_DEPLOYMENT.Model.RelatedDeploymentProjects(this.options.bootstrap,{fetchUrl:e.fetchUrl});this.update()},render:function(){d(this.selector).html(bamboo.deployments.issuePanelContent({data:this.model.toJSON(),issueId:this.issueId,oAuthDanceReturnUrl:encodeURIComponent(this.oAuthDanceReturnUrl)}));return this.showPanelIfNotEmpty()},showPanelIfNotEmpty:function(){if(!d(this.selector).is(":empty")){d("#bamboo-deployment-projects-right").show()}else{d("#bamboo-deployment-projects-right").hide()}return this},update:function(){return this.model.fetch({cache:false}).done(a.bind(this.render,this)).fail(a.bind(this.displayError,this))},displayError:function(e,g,f){d(this.selector).children(".aui-message").remove();b(e,g,f,d(this.selector))}});function b(i,m,k,h){var g,l,f;try{f=i.responseText||i.response;if(f){g=d.parseJSON(f);h.append(bamboo.components.errorResponseMessage({errorMessage:g,oAuthDanceReturnUrl:encodeURIComponent(this.oAuthDanceReturnUrl)}))}else{l="Unknown error: no response from server"}}catch(j){l="An error occurred while trying to retrieve the deployment project information."}if(l){AJS.messages.warning(h,{title:l,closeable:false})}d("#bamboo-deployment-projects-right").show()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:deployments-resources', location = '/templates/plugins/bamboo/deployments/deployments.soy' */
(k=>{k.set('bamboo.deployments.current.release','\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0440\u0435\u043b\u0438\u0437');k.set('bamboo.deployments.deployment.project','\u041f\u0440\u043e\u0435\u043a\u0442 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f');k.set('bamboo.deployments.dialog.title','\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b');k.set('bamboo.deployments.environment','\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435');k.set('bamboo.deployments.issue.availability','\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b');k.set('bamboo.deployments.issue.environments.allUpToDate','\u0412\u043e \u0432\u0441\u0435\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\u0445 \u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.');k.set('bamboo.deployments.issue.environments.details','\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435&hellip;');k.set('bamboo.deployments.issue.environments.none','\u041d\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0440\u0435\u0434');k.set('bamboo.deployments.issue.environments.noneUpToDate','\u041d\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0439 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.');k.set('bamboo.deployments.issue.environments.notAllUpToDate','\u0412 {0} \u0438\u0437 {1} \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0439 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.');k.set('bamboo.deployments.issue.status.available','\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u043e');k.set('bamboo.deployments.issue.status.not.available','\u041d\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u043e');k.set('bamboo.deployments.issue.status.partially.available','\u0427\u0430\u0441\u0442\u0438\u0447\u043d\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u043e');k.set('bamboo.deployments.never.deployed','\u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u043b\u043e\u0441\u044c');k.set('bamboo.deployments.oauth.required','\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438 \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c:');k.set('bamboo.deployments.related.environments.title','\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\u0445');k.set('bamboo.deployments.related.releases.title','\u0412\u044b\u043f\u0443\u0441\u043a\u0438 Bamboo \u0441\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u044f\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439');k.set('bamboo.deployments.releases.with.commits','\u0420\u0435\u043b\u0438\u0437\u044b \u0441 \u043a\u043e\u043c\u043c\u0438\u0442\u0430\u043c\u0438');k.set('bamboo.deployments.releases.with.commits.none','\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0440\u0435\u043b\u0438\u0437\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b');})(WRM.I18n.km);
// This file was automatically generated from deployments.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.deployments.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.deployments == 'undefined') { bamboo.deployments = {}; }


bamboo.deployments.issueDetailsDialog = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b') + '</h2><div id=\'bamboo-deployments-issue-status-container\'><span class="bamboo-icon bamboo-icon-loading" title="loading"><span> </span></span></div><script>new JBAM_DEPLOYMENT.IssueDeploymentStatus.View({el: \'#bamboo-deployments-issue-status-container\', fetchUrl: \'' + soy.$$escapeHtml("" + '/rest/bamboo/latest/deploy/' + opt_data.issueKey + '/' + opt_data.applinkId + '/' + opt_data.deploymentProjectId) + '\', oAuthDanceReturnUrl: \'' + soy.$$escapeHtml(opt_data.returnUrl) + '\'});<\/script>';
};
if (goog.DEBUG) {
  bamboo.deployments.issueDetailsDialog.soyTemplateName = 'bamboo.deployments.issueDetailsDialog';
}


bamboo.deployments.issuePanelContent = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.data.deploymentProjects) {
    output += '<ul class=\'property-list\'>';
    var deploymentProjectList14 = opt_data.data.deploymentProjects;
    var deploymentProjectListLen14 = deploymentProjectList14.length;
    for (var deploymentProjectIndex14 = 0; deploymentProjectIndex14 < deploymentProjectListLen14; deploymentProjectIndex14++) {
      var deploymentProjectData14 = deploymentProjectList14[deploymentProjectIndex14];
      output += '<li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml(deploymentProjectData14.name) + '</strong><span class=\'value\'>' + ((deploymentProjectData14.environmentCount == 0) ? '<span class="aui-icon aui-icon-info"> </span> ' + soy.$$escapeHtml('\u041d\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0440\u0435\u0434') : (deploymentProjectData14.upToDateEnvironmentCount == 0) ? '<span class="aui-icon aui-icon-warning"> </span> ' + soy.$$escapeHtml('\u041d\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0439 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.') : (deploymentProjectData14.environmentCount > deploymentProjectData14.upToDateEnvironmentCount) ? '<span class="aui-icon aui-icon-warning"> </span> ' + soy.$$escapeHtml(AJS.format('\u0412 {0} \u0438\u0437 {1} \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u043d\u0435\u0442 \u0432\u0441\u0435\u0445 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0439 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.',deploymentProjectData14.environmentCount - deploymentProjectData14.upToDateEnvironmentCount,deploymentProjectData14.environmentCount)) : '<span class="aui-icon aui-icon-success"> </span> ' + soy.$$escapeHtml('\u0412\u043e \u0432\u0441\u0435\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\u0445 \u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.')) + ' <a id="bamboo-deployment-details_' + soy.$$escapeHtml(deploymentProjectData14.bambooId) + '" class="bamboo-deployments-details-link" href="' + soy.$$escapeHtml("") + '/secure/ViewIssueDeploymentStatus.jspa?id=' + soy.$$escapeHtml(opt_data.issueId) + '&deploymentProjectId=' + soy.$$escapeHtml(deploymentProjectData14.bambooId) + '&applicationLinkId=' + soy.$$escapeHtml(deploymentProjectData14.applinkId) + '">' + soy.$$filterNoAutoescape('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435\x26hellip;') + '</a></span></div></li>';
    }
    output += '</ul>';
  }
  if (opt_data.data.errorMessages) {
    var errorMessageList49 = opt_data.data.errorMessages;
    var errorMessageListLen49 = errorMessageList49.length;
    for (var errorMessageIndex49 = 0; errorMessageIndex49 < errorMessageListLen49; errorMessageIndex49++) {
      var errorMessageData49 = errorMessageList49[errorMessageIndex49];
      output += bamboo.components.errorResponseMessage({errorMessage: errorMessageData49, oAuthDanceReturnUrl: opt_data.oAuthDanceReturnUrl});
    }
  }
  if (opt_data.data.oauthCallbacks && opt_data.data.oauthCallbacks.length) {
    output += '<div class="aui-message aui-message-warning no-border no-background"> ' + soy.$$escapeHtml('\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438 \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c:') + '<ul>';
    var oauthCallbackList59 = opt_data.data.oauthCallbacks;
    var oauthCallbackListLen59 = oauthCallbackList59.length;
    for (var oauthCallbackIndex59 = 0; oauthCallbackIndex59 < oauthCallbackListLen59; oauthCallbackIndex59++) {
      var oauthCallbackData59 = oauthCallbackList59[oauthCallbackIndex59];
      output += '<li><a href="' + soy.$$filterNoAutoescape(oauthCallbackData59.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '">' + soy.$$escapeHtml(oauthCallbackData59.serverName) + '</a></li>';
    }
    output += '</ul></div>';
  }
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.issuePanelContent.soyTemplateName = 'bamboo.deployments.issuePanelContent';
}


bamboo.deployments.issueDetailsDialogContent = function(opt_data, opt_ignored) {
  var output = '<h3>' + soy.$$escapeHtml('\u0412\u044b\u043f\u0443\u0441\u043a\u0438 Bamboo \u0441\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u044f\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439') + '</h3><ul class=\'property-list\'><li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml('\u041f\u0440\u043e\u0435\u043a\u0442 \u0432\u043d\u0435\u0434\u0440\u0435\u043d\u0438\u044f') + '</strong><span class=\'value\'>' + bamboo.deployments.itemLink({item: opt_data.data.deploymentProject}) + '</span></div></li><li class=\'item\'><div class=\'wrap\'><strong class=\'name\'>' + soy.$$escapeHtml('\u0420\u0435\u043b\u0438\u0437\u044b \u0441 \u043a\u043e\u043c\u043c\u0438\u0442\u0430\u043c\u0438') + '</strong><span class=\'value\'>';
  var versionList82 = opt_data.data.versions;
  var versionListLen82 = versionList82.length;
  if (versionListLen82 > 0) {
    for (var versionIndex82 = 0; versionIndex82 < versionListLen82; versionIndex82++) {
      var versionData82 = versionList82[versionIndex82];
      output += bamboo.deployments.itemLink({item: versionData82}) + ((! (versionIndex82 == versionListLen82 - 1)) ? ', ' : '');
    }
  } else {
    output += soy.$$escapeHtml('\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0440\u0435\u043b\u0438\u0437\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b');
  }
  output += '</span></div></li></ul>' + bamboo.deployments.environmentsTable({environments: opt_data.data.environments});
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.issueDetailsDialogContent.soyTemplateName = 'bamboo.deployments.issueDetailsDialogContent';
}


bamboo.deployments.environmentsTable = function(opt_data, opt_ignored) {
  var output = '<h3>' + soy.$$escapeHtml('\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\u0445') + '</h3>';
  if (opt_data.environments.length > 0) {
    output += '<table width=\'100%\' class=\'aui\'><colgroup><col width=\'45%\'><col width=\'30%\'><col width=\'25%\'></colgroup><thead><tr><th>' + soy.$$escapeHtml('\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435') + '</th><th>' + soy.$$escapeHtml('\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b') + '</th><th>' + soy.$$escapeHtml('\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0440\u0435\u043b\u0438\u0437') + '</th></tr></thead><tbody>';
    var environmentList107 = opt_data.environments;
    var environmentListLen107 = environmentList107.length;
    for (var environmentIndex107 = 0; environmentIndex107 < environmentListLen107; environmentIndex107++) {
      var environmentData107 = environmentList107[environmentIndex107];
      output += '<tr><td>' + bamboo.deployments.itemLink({item: environmentData107}) + ((! environmentData107.statusOk) ? ' <span class="aui-icon aui-icon-error">Error</span>' : '') + '</td><td>' + bamboo.deployments.issueAvailabilityLozenge({issueStatus: environmentData107.issueStatus}) + '</td><td>' + ((environmentData107.version) ? bamboo.deployments.itemLink({item: environmentData107.version}) : '<em>' + soy.$$escapeHtml('\u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u043b\u043e\u0441\u044c') + '</em>') + '</td></tr>';
    }
    output += '</tbody></table>';
  } else {
    output += '<p>' + soy.$$escapeHtml('\u041d\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0440\u0435\u0434') + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  bamboo.deployments.environmentsTable.soyTemplateName = 'bamboo.deployments.environmentsTable';
}


bamboo.deployments.issueAvailabilityLozenge = function(opt_data, opt_ignored) {
  return '' + ((opt_data.issueStatus == 'AVAILABLE') ? '<span class="aui-lozenge aui-lozenge-success">' + soy.$$escapeHtml('\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u043e') + '</span>' : (opt_data.issueStatus == 'PARTIALLY_AVAILABLE') ? '<span class="aui-lozenge aui-lozenge-current">' + soy.$$escapeHtml('\u0427\u0430\u0441\u0442\u0438\u0447\u043d\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u043e') + '</span>' : '<span class="aui-lozenge">' + soy.$$escapeHtml('\u041d\u0435 \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u043e') + '</span>');
};
if (goog.DEBUG) {
  bamboo.deployments.issueAvailabilityLozenge.soyTemplateName = 'bamboo.deployments.issueAvailabilityLozenge';
}


bamboo.deployments.itemLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.item.url) ? '<a href="' + soy.$$filterNoAutoescape(opt_data.item.url) + '">' + soy.$$escapeHtml(opt_data.item.name) + '</a>' : soy.$$escapeHtml(opt_data.item.name));
};
if (goog.DEBUG) {
  bamboo.deployments.itemLink.soyTemplateName = 'bamboo.deployments.itemLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-jslibs-1.13.js' */
define('applinks/lib/lodash', ['atlassian/libs/underscore-1.13'], function(lodash) {
    return lodash;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
// NOTE: this is in "lib" because it's required by aui-amd.js. This module _cannot_ have any dependencies on non-lib
// modules (like "common")
define('applinks/lib/version', [
    'applinks/lib/lodash'
], function(
    _
) {

    function checkIntValue(value, desc) {
        if (_.isUndefined(value)) {
            return 0;
        } else if (typeof value !== 'number' || isNaN(value)) {
            throw new Error(desc + ': expected a number, was: <' + value + '>');
        } else {
            return Math.floor(value);
        }
    }

    function checkVersionObject(object, desc) {
        if (!object || !(object instanceof Version)) {
            throw new Error(desc + ': expected a Version object, was: <' + object + '>');
        }
        return object;
    }

    function compareInt(intOne, intTwo) {
        return intOne > intTwo ? 1 : intOne == intTwo ? 0 : -1;
    }

    /**
     * Constructs a version object that contains version information and can be compared with other version objects.
     *
     * @param major major version component
     * @param minor minor version component
     * @param bugfix bugfix version component
     * @constructor
     */
    function Version(major, minor, bugfix) {
        this.major = checkIntValue(major, 'major');
        this.minor = checkIntValue(minor, 'minor');
        this.bugfix = checkIntValue(bugfix, 'bugfix');
    }

    /**
     * Constructs a Version by parsing a version string.
     *
     * @param versionString version string to parse, expected to be in the form of <major>.<minor>.<bugfix>
     * @param versionDesc what version does the `versionString` represent
     */
    Version.parse = function(versionString, versionDesc) {
        versionDesc = versionDesc || 'versionString';
        if (!versionString) {
            throw new Error(versionDesc + ': expected a non-empty string');
        }
        var versionSplit = versionString.split('.');
        if (versionSplit.length !== 3) {
            throw new Error(versionDesc + ': expected <major>.<minor>.<bugfix> string, was: <' + versionString + '>');
        }
        return new Version(parseInt(versionSplit[0]), parseInt(versionSplit[1]), parseInt(versionSplit[2]));
    };

    /**
     * Comparator function to sort Version objects.
     *
     * @param versionOne first version object
     * @param versionTwo second version object
     * @returns {Number} comparison result
     * @see Version.compareTo(that)
     */
    Version.comparator = function(versionOne, versionTwo) {
        return checkVersionObject(versionOne, 'versionOne').compareTo(checkVersionObject(versionTwo, 'versionTwo'));
    };

    /**
     * Return -1, 0 or 1 as this Version object represents a version less than, equal to, or greater than `that`.
     *
     * @param that the other version to compare to
     * @returns {Number} comparison result
     */
    Version.prototype.compareTo = function(that) {
        checkVersionObject(that, 'that');
        var majorResult = compareInt(this.major, that.major);
        if (majorResult != 0) {
            return majorResult;
        }
        var minorResult = compareInt(this.minor, that.minor);
        if (minorResult != 0) {
            return minorResult;
        }
        return compareInt(this.bugfix, that.bugfix);
    };

    Version.prototype.greaterThan = function(that) {
        return this.compareTo(that) > 0;
    };

    Version.prototype.greaterThanOrEqual = function(that) {
        return this.compareTo(that) >= 0;
    };

    Version.prototype.lessThan = function(that) {
        return this.compareTo(that) < 0;
    };

    Version.prototype.lessThanOrEqual = function(that) {
        return this.compareTo(that) <= 0;
    };

    Version.prototype.equals = function(that) {
        return this.compareTo(that) == 0;
    };

    Version.prototype.toMinor = function() {
        return new Version(this.major, this.minor);
    };

    Version.prototype.toMajor = function() {
        return new Version(this.major);
    };

    Version.prototype.toString = function() {
        return this.major + '.' + this.minor + '.' + this.bugfix;
    };

    return Version;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define('applinks/lib/aui-version-details', [
    'applinks/lib/version'
], function(
    Version
) {
    // minimum 5.9.x AUI versions - lower versions ship with bugs that break some of the Applinks functionality.
    var MINIMUM_59_VERSION = new Version(5, 9, 13);
    var VERSION_58 = new Version(5, 8);
    var VERSION_59 = new Version(5, 9);

    function checkVersion(version) {
        // if 5.9, must be >= the minimum required 5.9.x version
        if (version.lessThan(MINIMUM_59_VERSION) || version.lessThan(VERSION_59)) {
            throw new Error('AUI version ' + version + ' is too low, you need to upgrade AUI to ' + MINIMUM_59_VERSION
                + ' for Applinks to work');
        }
    }

    function addVersionDetails(AJS) {
        var ajsVersion = Version.parse(AJS.version, 'AUI version');
        checkVersion(ajsVersion);

        AJS.versionDetails = ajsVersion;
        AJS.versionDetails.is58 = ajsVersion.toMinor().equals(VERSION_58);
        AJS.versionDetails.is59 = ajsVersion.toMinor().equals(VERSION_59);

        return AJS;
    }

    return  {
        /**
         * Check AUI version for compatibility with Applinks and add `versionDetails` field.
         */
        addVersionDetails: addVersionDetails
    };
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define('applinks/lib/console', function() {
    return window.console;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define('applinks/lib/jquery', function() {
   return window.jQuery;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define('applinks/lib/aui', [
    'applinks/lib/window',
    'applinks/lib/aui-version-details'
], function(
    window,
    VersionDetails
) {
    var AJS = window.AJS;
    if (!AJS) {
        throw new Error('window.AJS not defined, cannot load AUI');
    }

    return VersionDetails.addVersionDetails(AJS);
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
/**
 * Define Web resource manager as an AMD dependency. This should also be present in apps using Atlassian Plugins Web
 * Resources framework.
 */
define('applinks/lib/wrm', function() {
   return window.WRM;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define('applinks/lib/skate', function() {
   // window.skate is not exposed as a global from AUI 5.9, this will return undefined with that version or later
   return window.skate;
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
/**
 * Define window as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/window', function() {
    return window;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/spi-amd.js' */
/**
 * Define the Applinks SPI functions as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/spi', function() {
    return {get:
        function (){
            //required since code that depends on this global is run before the global is defined,
            // can be eliminated once this module is made properly AMD
            return AppLinks.SPI;
    }}
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/applinks-creation-amd.js' */
/**
 * Define the Applinks creation resources  as AMD module to facilitate unit testing of some modules
 */
define('applinks/lib/creation', function() {
    return {
        get: function () {
            //required since code that depends on this global is run before the global is defined,
            // can be eliminated once this module is made properly AMD
            return AppLinks.Creation;
        }
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-public', location = 'js/applinks.public.js' */
(k=>{k.set('applinks.util.auth.confirmation','\u042d\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u003ca href=\u0022{0}\u0022\u003e{1}\u003c/a\u003e. \u041e\u0442\u0437\u043e\u0432\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0432 \u043b\u044e\u0431\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u0432\u044b\u0431\u0440\u0430\u0432 \u003ca href=\u0022{2}\u0022\u003e\u0416\u0435\u0442\u043e\u043d\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u0430 OAuth\u003c/a\u003e.');k.set('applinks.util.auth.request','\u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u003ca class=\u0022applink-authenticate\u0022 href=\u0022{0}\u0022\u003e\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043f\u043e\u0434\u043b\u0438\u043d\u043d\u043e\u0441\u0442\u0438\u003c/a\u003e \u0441 \u003ca href=\u0022{1}\u0022\u003e{2}\u003c/a\u003e .');k.set('applinks.util.auth.request.inline','\u003ca class=\u0022applink-authenticate\u0022 href=\u0022{0}\u0022\u003e\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044c\u003c/a\u003e , \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e.');k.set('aui.words.close','\u0417\u0430\u043a\u0440\u044b\u0442\u044c');})(WRM.I18n.km);
// NOTE: this is used outside of Applinks. See atlassian-plugin.xml for more details about the associated restrictions

/**
 * Support code to provide appropriate behavior for HTML elements created by
 * ApplicationLinkUIService; also, public functions that can be used from JS code
 * in other plugins to create the same kinds of HTML elements, in case it's not
 * convenient to do so on the back end.
 */
var ApplinksUtils = ApplinksUtils || (function($) {

    var pendingRequests = {},
        pendingConfirmations = {};
    
    // Provide a well-defined name for the authentication window/tab we create with
    // window.open() - may be useful in debugging, and is used by integration tests.
    // Note, IE8 does not allow this name to contain hyphens or periods.
    var authWindowName = "com_atlassian_applinks_authentication";

    /**
     * This function is basically duplicated from messages.js in AJS, because some products
     * only provide a stub version of messages.js within gadgets.
     */
    function makeCloseable(message) {
        var closeButton = '<button type="button" class="aui-close-button" aria-label="'+AJS.I18n.getText("aui.words.close")+'" />';
        var $icon = $(closeButton).on('click', function () {
            message.trigger("messageClose", [this]).remove();
        });
        message.append($icon);
    }

    /**
     * Helper function to get the DOM object of the current iframe.
     * @return {Object} a DOM object, or null if we are not in an iframe
     */
    function getCurrentIframe() {
        if (window === parent.window) {
            return null;
        }
        var ret = null,
            myFrameWindow = window;
        $('iframe', parent.document.body).each(function(index) {
            if (this.contentWindow.window === myFrameWindow) {
                ret = this;
            }
        });
        return ret;
    }

    /**
     * Event handler that is called by the applinks authorization completion servlet.  It triggers
     * the completion function for any pending authorization request that matches the given applink
     * ID, and also redispatches the event to any other iframes in the current window.
     * @param {Object} eventObject  JQuery event object
     * @param {string} applinkId  application link ID
     * @param {boolean} success  true if the request was approved
     * @param {string} authAdminUri  URI of the "OAuth Access Tokens" page (will be displayed in the
     *   confirmation message)
     * @param {boolean} wasRedispatched  true if the event has been retriggered from another frame
     * @param {Object} [messages]
     *      'userError': an error message relevant to a non-admin user,
     *      'adminError': an error message relevant to an admin user,
     *      'adminErrorDetails': a list of details related to the admin message if there is one 
     */
    function onAuthCompletion(eventObject, applinkId, success, authAdminUri, wasRedispatched, messages) {
        if (applinkId in pendingRequests) {
            var request = pendingRequests[applinkId];
            if (success) {
                request.authAdminUri = authAdminUri;
                delete pendingRequests[applinkId];
            }
            completeAuthRequest(request, success, messages);
        }
        if (!wasRedispatched && parent && (parent !== window)) {
            var myWindow = window;
            $('iframe', parent.document.body).each(function(index, frame) {
                var scope = frame.contentWindow;
                if (scope !== myWindow) {
                    if (scope.AJS && scope.AJS.$) {
                        scope.AJS.$(scope.document).trigger('applinks.auth.completion',
                            [applinkId, success, authAdminUri, true, messages]);
                    }
                }
            });
        }
    }
      
    /**
     * Fires the appropriate event when the authorization flow has completed.  On approval, reloads
     * the window/frame unless an event handler calls {@code preventDefault()} on the event.
     * @param {Object} applinkProperties  has the same properties passed to {@link createAuthRequestBanner}
     * @param {boolean} approved  true if the request was approved
     * @param {Object} [messages]
     *      'userError': an error message relevant to a non-admin user,
     *      'adminError': an error message relevant to an admin user,
     *      'adminErrorDetails': a list of details related to the admin message if there is one
     */
    function completeAuthRequest(applinkProperties, approved, messages) {
        var $scope = $(document);
        if (approved) {
            // Temporarily bind an event handler so our handler runs after any other handlers that
            // may exist.
            var defaultApprovalHandler = function (eventObject) {
                if (eventObject.isDefaultPrevented()) {
                    // Don't reload, just show the confirmation message
                    showAuthConfirmationBanner(applinkProperties);
                } else {
                    // Reload, but first save a reminder to make us show a confirmation message
                    // after we've reloaded.
                    registerPendingConfirmation(applinkProperties);
                    document.location.reload(true);
                }
            };
            $scope.bind('applinks.auth.approved', defaultApprovalHandler);
            $scope.trigger('applinks.auth.approved', applinkProperties);
            $scope.unbind('applinks.auth.approved', defaultApprovalHandler);
        } else {
            // There's no default behavior for a request that was denied, but fire an event in case
            // anyone is interested.
            $scope.trigger('applinks.auth.denied', [applinkProperties, messages]);
        }
    }

    /**
     * Used internally to make the applink support code aware of a "please authenticate" message
     * element that has been displayed, by wiring the appropriate event handlers and adding the
     * applink's properties to an internal list of authentication requests.
     * @param $element {Object}  a JQuery object
     * @param applinkProperties {Object}  has the same properties passed to {@link createAuthRequestBanner}
     */
    function initAuthRequest($element, applinkProperties) {
        var $authLink = $element.find("a.applink-authenticate");
        
        if ($element.hasClass('aui-message')) {
            // Workaround for incomplete AJS availability in some products
            makeCloseable($element);
        }

        $authLink.on('click', function(e) {
            window.open(applinkProperties.authUri, authWindowName);
            e.preventDefault();
        });
        
        pendingRequests[applinkProperties.id] = applinkProperties;
        
        return $element;
    }
    
    /**
     * Used internally to ensure that {@link initAuthRequest} is called for every
     * authorisation request element that was generated as HTML from the back end,
     * rather than by calling {@link createAuthRequestBanner} or
     * {@link createAuthRequestInline}.  The parameters of the request are passed
     * from the back end in hidden input elements.
     */
    function initAuthRequestElements() {
        $('.applinks-auth-request').each(function(index) {
            var $e = $(this),
                applinkId = $e.find(".applinkId").val(),
                appName = $e.find(".appName").val(),
                appUri = $e.find(".appUri").val(),
                authUri = $e.find(".authUri").val();
            // Ignore request banners that have already been created (by {@link createAuthRequestBanner} or
            // {@link createAuthRequestInline})
            if (applinkId && authUri) {
                initAuthRequest($e, {
                    id: applinkId,
                    appName: appName,
                    appUri: appUri,
                    authUri: authUri});
            }
        });
    }

    /**
     * Builds a "please authenticate" banner (in a standard AUI message box) containing a link that
     * that will start authorization for an application link that needs credentials.
     * <p>
     * On completion of the authorization flow, a JQuery event will be triggered on the document,
     * with the event type "applinks.auth.approved" or "applinks.auth.denied", and an additional
     * parameter equal to the {@code applinkProperties} parameter that was passed here.
     * <p>
     * If authorization is granted (event "applinks.auth.approved"), the default behavior is for the
     * window or frame to be reloaded; also, a confirmation banner will be displayed either within
     * a &lt;div&gt; element of class "applinks-auth-confirmation-container" if one exists, or at the top of
     * the document otherwise.  Reloading of the window/frame can be disabled by having an event
     * handler call {@code preventDefault()} on the event.
     *
     * @param {Object} applinkProperties contains the following application link properties:
     *   {@code id}: the application link identifier;
     *   {@code appName}: the name of the remote application;
     *   {@code appUri}: the base URI of the remote application;
     *   {@code authUri}: the URI for starting the authorization flow
     * @return {Object} a JQuery object referring to a {@code <div>} element, which has not yet
     *   been inserted anywhere on the page; its class is "applinks-auth-request"
     */
    function createAuthRequestBanner(applinkProperties) {
        // Note that we can't just use the AJS.messages.warning() function, because it will put a
        // standard warning icon in the message box and we want a custom icon.
        var message = AJS.I18n.getText("applinks.util.auth.request",
            AJS.escapeHtml(applinkProperties.authUri),
            AJS.escapeHtml(applinkProperties.appUri),
            AJS.escapeHtml(applinkProperties.appName))
        var $banner = $('<div class="aui-message aui-message-warning closeable applinks-auth-request"><p><span class="aui-icon icon-applinks-key"></span> '
            + message + '</p></div>');
        initAuthRequest($banner, applinkProperties);
        return $banner;
    }

    /**
     * Builds a "please authenticate" message suitable for displaying inline (in a span
     * with the class "applinks-auth-request"), containing a link that will start authorization.
     * This behaves identically to {@link createAuthRequestBanner}, except it creates a {@code <span>}
     * element instead of a {@code div} and also allows additional text to be displayed.
     * 
     * @param {string} content  optional HTML content to be displayed within the inline
     *   element (e.g. a description of the entity for which authorization is required);
     *   will not be escaped; may be null
     * @param {Object} applinkProperties  see {@link createAuthRequestBanner}
     * @return {Object} a JQuery object referring to a {@code <span>} element, which has not yet
     *   been inserted anywhere on the page; its class is "applinks-auth-request"
     */
    function createAuthRequestInline(content, applinkProperties) {
        var $lozenge = $('<span class="applinks-auth-request"></span>'),
            $contentSpan = $('<span class="applinks-request-description"></span>'),
            message = AJS.I18n.getText("applinks.util.auth.request.inline", AJS.escapeHtml(applinkProperties.authUri));
        if (content) {
            $contentSpan.append(content);
            $contentSpan.append(" - ");
        }
        $contentSpan.append(message);
        $lozenge.append($contentSpan);
        initAuthRequest($lozenge, applinkProperties);
        return $lozenge;
    }

    /**
     * Used internally to remember the fact that we have just completed authorizing an
     * applink and are about to refresh the iframe associated with it, so that we can
     * display a confirmation message after the iframe is refreshed.
     */
    function registerPendingConfirmation(applinkProperties) {
        var frame = getCurrentIframe();
        if ((!frame) || (!frame.id)) {
            return;
        }
        if (! parent.ApplinksUtils.pendingConfirmations) {
            parent.ApplinksUtils.pendingConfirmations = { };
        }
        if (!(frame.id in parent.ApplinksUtils.pendingConfirmations)) {
            parent.ApplinksUtils.pendingConfirmations[frame.id] = [];
        }
        parent.ApplinksUtils.pendingConfirmations[frame.id].push(applinkProperties);
        return;
    }

    /**
     * Called after a page load, to see if we've been refreshed due to a successful authorization.
     * If we're in an iframe, a variable will have been set on the parent window to tell us that
     * this happened.  If so, insert a confirmation banner at the top of the iframe.
     */
    function checkForPendingConfirmations() {
        if (parent && parent.ApplinksUtils && parent.ApplinksUtils.pendingConfirmations) {
            var myFrame = getCurrentIframe();
            if (myFrame) {
                if (myFrame.id in parent.ApplinksUtils.pendingConfirmations) {
                    var pendingConfirmations = parent.ApplinksUtils.pendingConfirmations[myFrame.id];
                    delete parent.ApplinksUtils.pendingConfirmations[myFrame.id];
                    for (var i = 0, n = pendingConfirmations.length; i < n; i++) {
                        showAuthConfirmationBanner(pendingConfirmations[i]);
                    }
                }
            }
        }
    }

    /**
     * Displays a confirmation banner.  If an element exists with the class
     * "applinks-auth-confirmation-contianer", it is inserted there, otherwise at the top of the
     * document.
     */
    function showAuthConfirmationBanner(applinkProperties) {
        var scope = $(document),
            banner = $('<div class="aui-message aui-message-success closeable applinks-auth-confirmation"><p><span class="aui-icon icon-applinks-key-success"></span></p></div>'),
            container = scope.find('div.applinks-auth-confirmation-container');
        if (!container.length) {
            container = scope.find('body');
        }
        banner.append(AJS.I18n.getText("applinks.util.auth.confirmation",
                                        AJS.escapeHtml(applinkProperties.appUri),
                                        AJS.escapeHtml(applinkProperties.appName),
                                        AJS.escapeHtml(applinkProperties.authAdminUri)));
        makeCloseable(banner);
        container.prepend(banner);
        setTimeout(function() {
            banner.fadeOut(1000, function() {
                $(this).remove();
            });
        }, 5000);
    }
    
    /**
     * Initialization function to be called once at document ready time.
     */
    function setup() {
        // If we're in an iframe, set up an object in the parent window that we can use to
        // keep track of state even if the iframe is refreshed.
        if (parent && !(parent === window)) {
            if (! parent.ApplinksUtils) {
                parent.ApplinksUtils = { };
            }
        }
        
        $(document).bind('applinks.auth.completion', onAuthCompletion);

        initAuthRequestElements();
        checkForPendingConfirmations();
    }

    // initialise on document ready
    $(setup);

    return {
        createAuthRequestBanner: createAuthRequestBanner,
        createAuthRequestInline: createAuthRequestInline
    };
})(AJS.$);

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/buildLink/auth-link-component.js' */
define("jira/bamboo-plugin/component/issue-link/auth-link",["jira/skate","jquery"],function(a,b){return a("jbp-issue-link-auth",{type:a.type.CLASSNAME,attached:function(c){ApplinksUtils.createAuthRequestInline(null,{id:c.getAttribute("data-app-link-id"),appName:c.getAttribute("data-application-name"),appUri:c.getAttribute("data-application-url"),authUri:c.getAttribute("data-authentication-url")}).each(function(d,e){b(c).append(e)})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/deployments/panel-component.js' */
define("jira/bamboo-plugin/component/deployments/panel",["jira/skate"],function(a){return a("jbp-deployments-panel",{type:a.type.CLASSNAME,attached:function(b){new JBAM_DEPLOYMENT.RelatedDeploymentProjects.View({el:".jbp-deployments-panel",fetchUrl:b.getAttribute("data-fetch-url"),oAuthDanceReturnUrl:b.getAttribute("data-oauth-dance-return-url"),issueId:b.getAttribute("data-issue-id")})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:issue-view-components', location = '/templates/plugins/bamboo/view-issue-components-init.js' */
require(["jira/bamboo-plugin/component/issue-link/auth-link","jira/bamboo-plugin/component/deployments/panel"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:underscore', location = 'js/lib/underscore-adapter.js' */
define("workflow-designer/underscore",["underscore"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-loader', location = 'js/require.js' */
define("workflow-designer/application-loader",["wrm/require","require"],function(b,c){return{load:function(a){return new Promise(function(d,e){b(["wrc!com.atlassian.jira.plugins.jira-workflow-designer.workflow-designer"],function(){a&&a(c("workflow-designer/application"))}).done(d).fail(e)})}}});AJS.namespace("JIRA.WorkflowDesigner.require",null,require("workflow-designer/application-loader").load);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-templates', location = 'js/templates-amd.js' */
define("workflow-designer/templates",[],function(){AJS.namespace("JIRA.WorkflowDesigner.Templates");return JIRA.WorkflowDesigner.Templates});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'js/util/DialogSizeCalculator.js' */
define("workflow-designer/dialog-size-calculator",["workflow-designer/underscore","jquery"],function(d,c){return{DISTANCE_FROM_EDGE:100,calculateDialogSize:function(b,a){this.dialog=b;a=d.defaults(a||{},{windowHeight:this._getWindowHeight(),windowWidth:this._getWindowWidth(),dialogHeaderHeight:this._getDialogHeaderHeight(),dialogFooterHeight:this._getDialogFooterHeight()});return{height:this._calculateDialogHeight(a.windowHeight,a.dialogHeaderHeight,a.dialogFooterHeight),width:this._calculateDialogWidth(a.windowWidth)}},
_calculateDialogHeight:function(b,a,c){return b-a-c-2*this.DISTANCE_FROM_EDGE},_calculateDialogWidth:function(b){return b-2*this.DISTANCE_FROM_EDGE},_getWindowHeight:function(){return c(window).height()},_getWindowWidth:function(){return c(window).width()},_getDialogHeaderHeight:function(){return this.dialog.$popupHeading.outerHeight()},_getDialogFooterHeight:function(){return this.dialog.$buttonContainer.outerHeight()}}});AJS.namespace("JIRA.WorkflowDesigner.DialogSizeCalculator",null,require("workflow-designer/dialog-size-calculator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'js/views/dialogs/Dialog.js' */
define("workflow-designer/dialog","workflow-designer/dialog-size-calculator jira/dialog/form-dialog workflow-designer/application-loader workflow-designer/templates jira/dialog/dialog workflow-designer/underscore jquery".split(" "),function(e,f,g,c,h,b,d){return f.extend({init:function(a){b.bindAll(this,"_sizeAndPositionDialog");this.options=a=b.defaults({},a,{content:this.createDialogContent,isDraft:!1,onContentRefresh:this._showWorkflowDesigner,widthClass:"large"});this.sizeAndPositionDialog=b.throttle(this._sizeAndPositionDialog,
100);this._super(a);this.onContentReady(this._addLabelHint)},createDialogContent:function(a){a(c.Dialog.workflowDialog({title:b.result(this.options,"workflowId")}))},show:function(){this._super.apply(this,arguments);d(window).on("resize",this.sizeAndPositionDialog)},hide:function(){this._designer&&this._designer.destroy();this._super.apply(this,arguments);d(window).off("resize",this.sizeAndPositionDialog)},_sizeAndPositionDialog:function(){if(h.current===this){var a=e.calculateDialogSize(this);this.options.width=
a.width;var b=this.$popup.find(".form-body");b.css({height:a.height,maxHeight:""});this._positionInCenter()}},_showWorkflowDesigner:function(){var a=this;this._sizeAndPositionDialog();g.load(function(c){a.isCurrent()&&(a._designer=new c({actions:!1,element:a.get$popup().find(".form-body"),immutable:!0,draft:b.result(a.options,"isDraft"),layoutData:b.result(a.options,"layoutData"),workflowId:b.result(a.options,"workflowId"),currentStepId:b.result(a.options,"currentStepId")}))})},_addLabelHint:function(){this.getButtonsContainer().prepend(c.Dialog.labelMouseOverHint())}})});
AJS.namespace("JIRA.WorkflowDesigner.Dialog",null,require("workflow-designer/dialog"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:dialog', location = 'soy/Dialog.soy' */
// This file was automatically generated from Dialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.WorkflowDesigner.Templates.Dialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.WorkflowDesigner == 'undefined') { JIRA.WorkflowDesigner = {}; }
if (typeof JIRA.WorkflowDesigner.Templates == 'undefined') { JIRA.WorkflowDesigner.Templates = {}; }
if (typeof JIRA.WorkflowDesigner.Templates.Dialog == 'undefined') { JIRA.WorkflowDesigner.Templates.Dialog = {}; }


JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2><div class="form-body"></div></div>';
};
if (goog.DEBUG) {
  JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog.soyTemplateName = 'JIRA.WorkflowDesigner.Templates.Dialog.workflowDialog';
}


JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint = function(opt_data, opt_ignored) {
  return '<div class="buttons-container-left"><small>' + soy.$$escapeHtml('\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440 \u043c\u044b\u0448\u0438 \u043d\u0430 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0435\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435.') + '</small></div>';
};
if (goog.DEBUG) {
  JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint.soyTemplateName = 'JIRA.WorkflowDesigner.Templates.Dialog.labelMouseOverHint';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:workflow-designer-browser-is-supported', location = 'js/browserIsSupported.js' */
define("workflow-designer/browser-support",["jira/util/navigator"],function(a){return{browserIsSupported:function(){return!(a.isIE()&&10>parseInt(a.majorVersion(),10))}}});AJS.namespace("JIRA.WorkflowDesigner.browserIsSupported",null,require("workflow-designer/browser-support").browserIsSupported);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer', location = 'js/views/ViewIssue.js' */
(function(){function n(){g=require("workflow-designer/io/workflow-data-reader");h=require("workflow-designer/io/ajax/workflow-ajax-manager");k=require("workflow-designer/messages")}function l(a,b){a=parseUri(a).queryKey[b]||"";return decodeURIComponent(a.replace(/\+/g,"%20"))}function p(){return d?Promise.resolve():new Promise(function(a,b){h.load(e).done(function(b,c){d=c;a()}).fail(b)})}var q=require("workflow-designer/application-loader"),r=require("workflow-designer/dialog"),c=require("jira/skate"),
g,h,k,m,d,e;var f=new r({content:function(a){var b=this;q.load().then(n).then(p).then(function(){b.createDialogContent(a)}).catch(function(a){a=a||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c Jira. \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0441\u0431\u043e\u0439 \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.";k.showErrorMessage(a);f.hide(!0)})},id:"view-workflow-dialog",workflowId:function(){return e},currentStepId:function(){return m},layoutData:function(){return g.read(d)}});c("jira-workflow-designer-link",{type:c.type?c.type.CLASSNAME:c.types.CLASS,template:function(a){if("AUI-ITEM-LINK"!==a.nodeName)return a;
a.innerHTML='\x3ca role\x3d"menuitem" href\x3d"'+a.href+'" tabIndex\x3d"-1"\x3e'+a.innerHTML+"\x3c/a\x3e";return a},created:function(a){(this instanceof Element?this:a).classList.add("new-workflow-designer")},attached:function(a){a=(this instanceof Element?this:a).getAttribute("href");e=l(a,"workflowName");m=parseInt(l(a,"stepId"),10);d=null},events:{click:function(a,b){f&&f.show();b.preventDefault()}}})})();AJS.namespace("JIRA.WorkflowDesigner.ViewIssue.replaceViewWorkflowLink",null,jQuery.noop);
AJS.namespace("JIRA.WorkflowDesigner.Templates.ViewIssue.viewWorkflowLink",null,jQuery.noop);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/rpc.js' */
var gadgets=gadgets||{};gadgets.rpc=function(){var CALLBACK_NAME="__cb";var DEFAULT_NAME="";var FE_G2C_CHANNEL="__g2c_rpc";var FE_C2G_CHANNEL="__c2g_rpc";var services={};var iframePool=[];var relayUrl={};var useLegacyProtocol={};var authToken={};var callId=0;var callbacks={};var setup={};var sameDomain={};var params={};if(gadgets.util){params=gadgets.util.getUrlParameters()}authToken[".."]=params.rpctoken||params.ifpctok||0;function getRelayChannel(){return typeof window.postMessage==="function"?"wpm":typeof document.postMessage==="function"?"dpm":navigator.product==="Gecko"?"fe":"ifpc"}function setupChannel(){if(relayChannel==="dpm"||relayChannel==="wpm"){window.addEventListener("message",function(packet){try{if(packet&&packet.origin&&packet.origin!=="null"&&typeof packet.data==="string"){if(packet.origin===location.origin){process(gadgets.json.parse(packet.data))}else{AJS.$.get(AJS.contextPath()+"/rest/whitelist/1/check",{url:packet.origin}).done(function(result){if(result&&result.inbound&&result.inbound===true){process(gadgets.json.parse(packet.data))}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}).fail(function(jqXHR,textStatus,errorThrown){AJS.log("RPC: REST "+textStatus,errorThrown)})}}else{if(AJS.debug){AJS.log("RPC: request rejected (bad origin): "+(packet&&packet.origin?packet.origin:"undefined origin"))}}}catch(e){if(AJS.debug){var origin=packet&&packet.origin?packet.origin:"undefined origin";AJS.log("Error processing gadget rpc message from '"+origin+"': "+e)}}},false)}}var relayChannel=getRelayChannel();setupChannel();services[DEFAULT_NAME]=function(){throw new Error("Unknown RPC service: "+this.s)};services[CALLBACK_NAME]=function(callbackId,result){var callback=callbacks[callbackId];if(callback){delete callbacks[callbackId];callback(result)}};function setupFrame(frameId){if(setup[frameId]){return }if(relayChannel==="fe"){try{var frame=document.getElementById(frameId);frame[FE_G2C_CHANNEL]=function(args){process(gadgets.json.parse(args))}}catch(e){}}setup[frameId]=true}function encodeLegacyData(args){var stringify=gadgets.json.stringify;var argsEscaped=[];for(var i=0,j=args.length;i<j;++i){argsEscaped.push(encodeURIComponent(stringify(args[i])))}return argsEscaped.join("&")}function process(rpc){if(rpc&&typeof rpc.s==="string"&&typeof rpc.f==="string"&&rpc.a instanceof Array){if(authToken[rpc.f]){if(authToken[rpc.f]!=rpc.t){if(AJS.debug){console.log("Invalid auth token received for operation: "+rpc.s)}return }}if(rpc.c){rpc.callback=function(result){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}var result=(services[rpc.s]||services[DEFAULT_NAME]).apply(rpc,rpc.a);if(rpc.c&&typeof result!="undefined"){gadgets.rpc.call(rpc.f,CALLBACK_NAME,null,rpc.c,result)}}}function callFrameElement(targetId,serviceName,from,rpcData,callArgs){try{if(from!=".."){var fe=window.frameElement;if(typeof fe[FE_G2C_CHANNEL]==="function"){if(typeof fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]!=="function"){fe[FE_G2C_CHANNEL][FE_C2G_CHANNEL]=function(args){process(gadgets.json.parse(args))}}fe[FE_G2C_CHANNEL](rpcData);return }}else{var frame=document.getElementById(targetId);if(typeof frame[FE_G2C_CHANNEL]==="function"&&typeof frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL]==="function"){frame[FE_G2C_CHANNEL][FE_C2G_CHANNEL](rpcData);return }}}catch(e){}callIfpc(targetId,serviceName,from,rpcData,callArgs)}function callIfpc(targetId,serviceName,from,rpcData,callArgs){var relay=gadgets.rpc.getRelayUrl(targetId);if(!relay){throw new Error("No relay file assigned for IFPC")}var src=null;if(useLegacyProtocol[targetId]){src=[relay,"#",encodeLegacyData([from,callId,1,0,encodeLegacyData([from,serviceName,"","",from].concat(callArgs))])].join("")}else{src=[relay,"#",targetId,"&",from,"@",callId,"&1&0&",encodeURIComponent(rpcData)].join("")}emitInvisibleIframe(src)}function emitInvisibleIframe(src){var iframe;for(var i=iframePool.length-1;i>=0;--i){var ifr=iframePool[i];try{if(ifr&&(ifr.recyclable||ifr.readyState==="complete")){ifr.parentNode.removeChild(ifr);if(window.ActiveXObject){iframePool[i]=ifr=null;iframePool.splice(i,1)}else{ifr.recyclable=false;iframe=ifr;break}}}catch(e){}}if(!iframe){iframe=document.createElement("iframe");iframe.style.border=iframe.style.width=iframe.style.height="0px";iframe.style.visibility="hidden";iframe.style.position="absolute";iframe.onload=function(){this.recyclable=true};iframePool.push(iframe)}iframe.src=src;setTimeout(function(){document.body.appendChild(iframe)},0)}function callSameDomain(target,rpc){if(typeof sameDomain[target]==="undefined"){sameDomain[target]=false;var targetEl=null;if(target===".."){targetEl=parent}else{targetEl=frames[target]}try{sameDomain[target]=targetEl.gadgets.rpc.receiveSameDomain}catch(e){}}if(typeof sameDomain[target]==="function"){sameDomain[target](rpc);return true}return false}if(gadgets.config){function init(config){if(config.rpc.parentRelayUrl.substring(0,7)==="http://"){relayUrl[".."]=config.rpc.parentRelayUrl}else{var params=document.location.search.substring(0).split("&");var parentParam="";for(var i=0,param;param=params[i];++i){if(param.indexOf("parent=")===0){parentParam=decodeURIComponent(param.substring(7));break}}relayUrl[".."]=parentParam+config.rpc.parentRelayUrl}useLegacyProtocol[".."]=!!config.rpc.useLegacyProtocol}var requiredConfig={parentRelayUrl:gadgets.config.NonEmptyStringValidator};gadgets.config.register("rpc",requiredConfig,init)}return{register:function(serviceName,handler){if(serviceName==CALLBACK_NAME){throw new Error("Cannot overwrite callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot overwrite default service:"+" use registerDefault")}services[serviceName]=handler},unregister:function(serviceName){if(serviceName==CALLBACK_NAME){throw new Error("Cannot delete callback service")}if(serviceName==DEFAULT_NAME){throw new Error("Cannot delete default service:"+" use unregisterDefault")}delete services[serviceName]},registerDefault:function(handler){services[""]=handler},unregisterDefault:function(){delete services[""]},call:function(targetId,serviceName,callback,var_args){++callId;targetId=targetId||"..";if(callback){callbacks[callId]=callback}var from="..";if(targetId===".."){from=window.name}var rpc={s:serviceName,f:from,c:callback?callId:0,a:Array.prototype.slice.call(arguments,3),t:authToken[targetId]};if(callSameDomain(targetId,rpc)){return }var rpcData=gadgets.json.stringify(rpc);var channelType=relayChannel;if(useLegacyProtocol[targetId]){channelType="ifpc"}switch(channelType){case"dpm":var targetDoc=targetId===".."?parent.document:frames[targetId].document;targetDoc.postMessage(rpcData);break;case"wpm":var targetWin=targetId===".."?parent:frames[targetId];targetWin.postMessage(rpcData,relayUrl[targetId]);break;case"fe":callFrameElement(targetId,serviceName,from,rpcData,rpc.a);break;default:callIfpc(targetId,serviceName,from,rpcData,rpc.a);break}},getRelayUrl:function(targetId){return relayUrl[targetId]},setRelayUrl:function(targetId,url,opt_useLegacy){relayUrl[targetId]=url;useLegacyProtocol[targetId]=!!opt_useLegacy},setAuthToken:function(targetId,token){authToken[targetId]=token;setupFrame(targetId)},getRelayChannel:function(){return relayChannel},receive:function(fragment){if(fragment.length>4){process(gadgets.json.parse(decodeURIComponent(fragment[fragment.length-1])))}},receiveSameDomain:function(rpc){rpc.a=Array.prototype.slice.call(rpc.a);window.setTimeout(function(){process(rpc)},0)}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/util.js' */
Function.prototype.inherits=function(parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;this.superClass_=parentCtor.prototype;this.prototype=new tempCtor();this.prototype.constructor=this};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/json.js' */
var gadgets=gadgets||{};gadgets.json=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i])||"null")}return"["+a.join(",")+"]"}for(k in value){if(value.hasOwnProperty(k)){if(typeof k==="string"){v=stringify(value[k]);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text){if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return eval("("+text+")")}return false}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-core-resources', location = 'js/gadgets-core.js' */
var gadgets=gadgets||{};gadgets.error={};gadgets.error.SUBCLASS_RESPONSIBILITY="subclass responsibility";gadgets.error.TO_BE_DONE="to be done";gadgets.log=function(message){if(window.console&&console.log){console.log(message)}else{var logEntry=document.createElement("div");logEntry.className="gadgets-log-entry";logEntry.innerHTML=message;document.body.appendChild(logEntry)}};gadgets.Extensible=function(){};gadgets.Extensible.prototype.setDependencies=function(dependencies){for(var p in dependencies){this[p]=dependencies[p]}};gadgets.Extensible.prototype.getDependencies=function(name){return this[name]};gadgets.UserPrefStore=function(){};gadgets.UserPrefStore.prototype.getPrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.UserPrefStore.prototype.savePrefs=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.DefaultUserPrefStore=function(){gadgets.UserPrefStore.call(this)};gadgets.DefaultUserPrefStore.inherits(gadgets.UserPrefStore);gadgets.DefaultUserPrefStore.prototype.getPrefs=function(gadget){};gadgets.DefaultUserPrefStore.prototype.savePrefs=function(gadget){};gadgets.GadgetService=function(){};gadgets.GadgetService.prototype.setHeight=function(elementId,height){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setTitle=function(gadget,title){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.GadgetService.prototype.setUserPref=function(id){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.IfrGadgetService=function(){gadgets.GadgetService.call(this);var service=this;gadgets.rpc.register("resize_iframe",function(){service.setHeight.apply(this,arguments)});gadgets.rpc.register("set_pref",function(){service.setUserPref.apply(this,arguments)});gadgets.rpc.register("set_title",function(){service.setTitle.apply(this,arguments)});gadgets.rpc.register("requestNavigateTo",function(){service.requestNavigateTo.apply(this,arguments)})};gadgets.IfrGadgetService.inherits(gadgets.GadgetService);gadgets.IfrGadgetService.prototype.setHeight=function(height){if(height>gadgets.container.maxheight_){height=gadgets.container.maxheight_}var element=document.getElementById(this.f);if(element){element.style.height=height+"px"}};gadgets.IfrGadgetService.prototype.requestNavigateTo=function(view,opt_params){var id=this.getGadgetIdFromModuleId(this.f);var url=this.getUrlForView(view);if(opt_params){var paramStr=JSON.stringify(opt_params);if(paramStr.length>0){url+="&appParams="+encodeURIComponent(paramStr)}}if(url&&document.location.href.indexOf(url)==-1){document.location.href=url}};gadgets.IfrGadgetService.prototype.getUrlForView=function(view){if(view==="canvas"){return"/canvas"}else{if(view==="profile"){return"/profile"}else{return null}}};gadgets.IfrGadgetService.prototype.getGadgetIdFromModuleId=function(moduleId){return parseInt(moduleId.match(/_([0-9]+)$/)[1],10)};gadgets.LayoutManager=function(){};gadgets.LayoutManager.prototype.getGadgetChrome=function(gadget){throw Error(gadgets.error.SUBCLASS_RESPONSIBILITY)};gadgets.StaticLayoutManager=function(){gadgets.LayoutManager.call(this)};gadgets.StaticLayoutManager.inherits(gadgets.LayoutManager);gadgets.StaticLayoutManager.prototype.setGadgetChromeIds=function(gadgetChromeIds){this.gadgetChromeIds_=gadgetChromeIds};gadgets.StaticLayoutManager.prototype.getGadgetChrome=function(gadget){var chromeId=this.gadgetChromeIds_[gadget.id];return chromeId?document.getElementById(chromeId):null};gadgets.FloatLeftLayoutManager=function(layoutRootId){gadgets.LayoutManager.call(this);this.layoutRootId_=layoutRootId};gadgets.FloatLeftLayoutManager.inherits(gadgets.LayoutManager);gadgets.FloatLeftLayoutManager.prototype.getGadgetChrome=function(gadget){var layoutRoot=document.getElementById(this.layoutRootId_);if(layoutRoot){var chrome=document.createElement("div");chrome.className="gadgets-gadget-chrome";chrome.style.cssFloat="left";layoutRoot.appendChild(chrome);return chrome}else{return null}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-container-resources', location = 'js/gadgets-container.js' */
gadgets.Container=function(){this.parentUrl_="http://"+document.location.host;this.country_="ALL";this.language_="ALL";this.view_="default";this.nocache_=1;this.maxheight_=2147483647};gadgets.Container.inherits(gadgets.Extensible);gadgets.Container.prototype.userPrefStore=new gadgets.DefaultUserPrefStore();gadgets.Container.prototype.gadgetService=new gadgets.GadgetService();gadgets.Container.prototype.layoutManager=new gadgets.StaticLayoutManager();gadgets.Container.prototype.setParentUrl=function(url){this.parentUrl_=url};gadgets.Container.prototype.setCountry=function(country){this.country_=country};gadgets.Container.prototype.setNoCache=function(nocache){this.nocache_=nocache};gadgets.Container.prototype.setLanguage=function(language){this.language_=language};gadgets.Container.prototype.setView=function(view){this.view_=view};gadgets.Container.prototype.setMaxHeight=function(maxheight){this.maxheight_=maxheight};gadgets.Container.prototype.getGadgetKey_=function(instanceId){return"gadget_"+instanceId};gadgets.IfrContainer=function(){gadgets.Container.call(this)};gadgets.IfrContainer.inherits(gadgets.Container);gadgets.IfrContainer.prototype.gadgetService=new gadgets.IfrGadgetService();gadgets.IfrContainer.prototype.setParentUrl=function(url){if(!url.match(/^http[s]?:\/\//)){url=document.location.href.match(/^[^?#]+\//)[0]+url}this.parentUrl_=url};gadgets.container=new gadgets.IfrContainer();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.gadgets.embedded:gadget-standalone-resources', location = 'js/gadgets-standalone.js' */
new gadgets.IfrGadgetService();gadgets.IfrGadgetService.prototype.setTitle=function(title){};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.splitchunk.4331a05956', location = 'aui.chunk.47d87598df2797f0ec9b--165838bd8aa6f5ccd32c.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[5290],{9319:(u,e,i)=>{i.r(e),i.d(e,{INPUT_SUFFIX:()=>n});const n="-input"}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form.single-select', location = 'aui.chunk.2108c8d5952de190a0b4--2b58dbea6bd64bb48d9e.js' */
(k=>{k.set('aui.select.new.suggestions','\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u043e\u0432\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u0414\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438 \u0432\u0432\u0435\u0440\u0445 \u0438 \u0432\u043d\u0438\u0437.');k.set('aui.select.new.value','\u043d\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435');k.set('aui.select.no.suggestions','\u041d\u0435\u0442 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439');})(WRM.I18n.km);
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[2072],{9920:(e,t,i)=>{i.r(t),i.d(t,{SelectEl:()=>Y});i(8316);var n=i(7159),u=(i(3924),i(6110)),s=(i(1062),i(7843)),o=i(7944);const l=(0,s.default)("aui-option",{created:function(e){Object.defineProperty(e,"value",{get:function(){return e.getAttribute("value")||(0,o.default)(this.textContent)},set:function(t){e.setAttribute("value",t)}})},prototype:{serialize:function(){var e={};return this.hasAttribute("img-src")&&(e["img-src"]=encodeURI(this.getAttribute("img-src"))),e.value=this.value,e.label=(0,o.default)(this.textContent),e}}});var a=i(9689),r=i(4266),c=i(6862),d=i(2031),g=i(3415),h=i(8979),f=i(2841);const v=i.n(f)().Model.extend({idAttribute:"value",getLabel:function(){return this.get("label")||this.get("value")}});function _(){this._suggestions=[],this._activeIndex=-1}_.prototype={onChange:function(){},onHighlightChange:function(){},get:function(e){return this._suggestions[e]},set:function(e){var t=this._suggestions;return this._suggestions=e||[],this.onChange(t),this},getNumberOfResults:function(){return this._suggestions.length},setHighlighted:function(e){if(e)for(var t=0;t<this._suggestions.length;t++)this._suggestions[t].id===e.id&&this.highlight(t);return this},highlight:function(e){return this._activeIndex=e,this.onHighlightChange(),this},highlightPrevious:function(){const e=this._activeIndex,t=0===e?this._suggestions.length-1:e-1;return this.highlight(t),this},highlightNext:function(){const e=this._activeIndex,t=e===this._suggestions.length-1?0:e+1;return this.highlight(t),this},highlighted:function(){return this.get(this._activeIndex)},highlightedIndex:function(){return this._activeIndex}};const p=_;var b=i(3830),m=i(8388);function y(e,t){return e+"-"+t}function w(e,t){this.el=e,this.anchor=t}function A(e){(0,n.default)(e).find(".aui-select-active").removeClass("aui-select-active")}w.prototype={render:function(e,t,i,n){this.currListId=i;let s="";if(e.length){for(let o=0;o<e.length;o++){const l=e[o],a=o+t,r=l.getLabel(),c=l.get("img-src"),d=c?`<img src="${encodeURI(c)}"/>`:"",g=l.get("new-value")?` (<em>${u.I18n.getText("aui.select.new.value")}</em>)`:"";s+=`<li role="option" class="aui-select-suggestion" aria-selected="${n===a}" id="${y(i,a)}">${d}${r}${g}</li>`}t?this.el.querySelector("ul").innerHTML+=s:this.el.querySelector("ul").innerHTML=s}else t||(this.el.querySelector("ul").innerHTML=`<li role="option" class="aui-select-no-suggestions">${u.I18n.getText("aui.select.no.suggestions")}</li>`);return this},setActive:function(e){A(this.el),(0,n.default)(this.el).find("#"+y(this.currListId,e)).addClass("aui-select-active")},getActive:function(){return this.el.querySelector(".aui-select-active")},show:function(){var e;e=this,(0,n.default)(e.el).css("min-width",(0,n.default)(e.anchor).outerWidth()),(0,m.default)(this.el).show(),function(e){e.anchor&&!e._auiAlignment&&(e._auiAlignment=new b.default(e.el,e.anchor,{flipContainer:"scrollParent",positionFixed:!1,preventOverflow:!1,flip:!1})),e._auiAlignment&&(e._auiAlignment.enable(),e._auiAlignment.scheduleUpdate())}(this)},hide:function(){var e;A(this.el),(0,m.default)(this.el).hide(),(e=this)._auiAlignment&&e._auiAlignment.disable()},destroy:function(){var e;this.hide(),(e=this)._auiAlignment&&(e._auiAlignment.destroy(),delete e._auiAlignment),delete this.currListId},isVisible:function(){return(0,n.default)(this.el).is(":visible")}};const x=w;var S=i(2596);const C=i.n(S)()('\n    <input type="text" class="text" role="combobox" aria-expanded="false">\n    <select></select>\n    <datalist>\n        <content select="aui-option"></content>\n    </datalist>\n    <button class="aui-button" tabindex="-1" type="button"></button>\n    <div class="aui-popover" data-aui-alignment="bottom left" hidden>\n        <ul role="listbox" class="aui-optionlist"></ul>\n    </div>\n    <div class="aui-select-status assistive" aria-live="polite" role="status"></div>\n');var I=i(8660),M=i(9319),q=i(8745);const k=-1,T=-1,V=50;function D(e){e._select.selectedIndex=k,function(e){e._input.removeAttribute("style"),(0,n.default)(e._input).removeClass("aui-select-has-inline-image")}(e)}function E(e){return e._suggestionModel.getNumberOfResults()}function L(e,t){return 0===e.get("label").toLowerCase().indexOf(t.toLowerCase())}function H(e){e._input.setAttribute("aria-expanded","false"),e._button.setAttribute("aria-expanded","false"),e._input.removeAttribute("aria-activedescendant"),B(e,"")}function O(e){e._suggestionsView.hide(),H(e)}function $(e,t,i){e._autoHighlight=t,void 0===i&&(i=e._input.value),e._progressiveDataSet.query(i)}function R(e){var t=e._suggestionModel.highlighted()&&e._suggestionModel.highlighted().get("img-src");t&&function(e,t){(0,n.default)(e._input).addClass("aui-select-has-inline-image"),e._input.setAttribute("style","background-image: url("+encodeURI(t)+")")}(e,t)}function N(e,t){if(t){var i,n=document.createElement("option"),u=e._select,s=t.get("value")||t.get("label"),o=(i=t.getLabel(),(new DOMParser).parseFromString(i,"text/html").documentElement.textContent);n.setAttribute("selected",""),n.setAttribute("value",s),n.textContent=o,e._input.value=o,u.innerHTML="",u.options.add(n),u.dispatchEvent(new r.default("change",{bubbles:!0}))}}function P(e){N(e,e._suggestionModel.highlighted()),R(e),O(e)}function U(e){return new v(e.serialize())}function W(e){for(var t=[],i=0;i<e._datalist.children.length;i++){var n=e._datalist.children[i];t.push(U(n))}return t}function F(e){var t=e._dropdown.querySelector(".aui-select-active");return t&&t.id}function Q(e,t){return n.default.map(t,(function(e){return e.id})).indexOf(e)}function z(e){e._progressiveDataSet=new g.default(W(e),{model:v,matcher:L,queryEndpoint:e._queryEndpoint,maxResults:20}),e._isSync=!e._queryEndpoint,e._progressiveDataSet.on("activity",(function(){e._progressiveDataSet.activeQueryCount&&!e._isSync?(!function(e){e._button.isBusy()||(e._button.busy(),e._input.setAttribute("aria-busy","true"),e._dropdown.setAttribute("aria-busy","true"))}(e),(0,h.default)(e).set("should-flag-new-suggestions",!1)):(!function(e){e._button.idle(),e._input.setAttribute("aria-busy","false"),e._dropdown.setAttribute("aria-busy","false")}(e),(0,h.default)(e).set("should-flag-new-suggestions",!0))})),e._progressiveDataSet.on("respond",(function(t){if(t.query&&!e._input.value)return;if((0,h.default)(e).get("should-cancel-response"))return void(e._progressiveDataSet.activeQueryCount||(0,h.default)(e).set("should-cancel-response",!1));t.query||(t.results=W(e));var i=-1!==Q(e._input.value,t.results),n=!e._input.value;!e.hasAttribute("can-create-values")||i||n||t.results.push(function(e){var t=new l;t.setAttribute("value",e._input.value);var i=U(t);return i.set("new-value",!0),i}(e));let s=Q(e.value,t.results);s=-1===s?0:s;const o=function(e,t){const i=e._suggestionModel.getNumberOfResults();return e._suggestionModel.set(),e._suggestionModel.set(t.results),i!==e._suggestionModel.getNumberOfResults()}(e,t),a=t.results[s];e._autoHighlight&&(e._suggestionModel.setHighlighted(a),setTimeout((function(){const t=F(e);null!=t?e._input.setAttribute("aria-activedescendant",t):e._input.removeAttribute("aria-activedescendant")}),V)),e._input.setAttribute("aria-expanded","true"),e._button.setAttribute("aria-expanded","true"),!e._isSync&&o&&e._suggestionsView.getActive()&&(0,h.default)(e).get("should-flag-new-suggestions")&&(e.querySelector(".aui-select-status").innerHTML=u.I18n.getText("aui.select.new.suggestions")),e._suggestionsView.show()}))}function B(e,t){clearTimeout(e.assistiveStatusTimerId),e.assistiveStatusTimerId=setTimeout((()=>{const i=e._assistiveStatus.innerText;t!==i&&(e._assistiveStatus.innerText=t)}),V)}function j(e){$(e,!0,e.value?"":e._input.value)}function G(e){(function(e){return e._progressiveDataSet.activeQueryCount>0})(e)&&(0,h.default)(e).set("should-cancel-response",!0)}function X(e){if(e._select.selectedIndex>=0)return e._select.options[e._select.selectedIndex].textContent}function J(e){G(e),function(e){var t=!e.hasAttribute("no-empty-values"),i=!e._input.value,n=e._input.value!==X(e);if(i||n)if(t)D(e);else{var u=X(e);void 0===u?D(e):e._input.value=u}}(e),function(e){e._suggestionModel.highlight(T)}(e),O(e)}const K=(0,s.default)("aui-select",{template:C,created:function(e){e._listId=(0,I.default)(),e._input=e.querySelector("input"),e._select=e.querySelector("select"),e._dropdown=e.querySelector(".aui-popover"),e._datalist=e.querySelector("datalist"),e._button=e.querySelector("button"),e._assistiveStatus=e.querySelector(".aui-select-status.assistive"),e._suggestionsView=new x(e._dropdown,e._input),e._suggestionModel=new p,e._suggestionModel.onChange=function(t){const i=[];e._suggestionModel._suggestions.forEach((function(e){t.some((t=>e.id===t.id))||i.push(e)}));const n=W(e),s=Q(e.value,n),o=t.length+i.length?"":`${u.I18n.getText("aui.select.no.suggestions")}`;e._suggestionsView.render(i,t.length,e._listId,s),B(e,o)},e._suggestionModel.onHighlightChange=function(){const t=e._suggestionModel.highlightedIndex();e._suggestionsView.setActive(t);const i=F(e);null!=i?e._input.setAttribute("aria-activedescendant",i):e._input.removeAttribute("aria-activedescendant")}},attached:function(e){s.default.init(e),z(e),function(e){e._dropdown.id=e._listId,e.querySelector("button").setAttribute("aria-controls",e._listId)}(e),e._input.setAttribute("aria-controls",e._listId),function(e){(0,n.default)(e._dropdown).on("mouseover","li",(function(t){E(e)&&e._suggestionModel.highlight((0,n.default)(t.target).index())}))}(e),function(e){let t=!1;(0,n.default)(document).on("aui-close-layers-on-outer-click.single-select",(e=>{t&&(e.preventDefault(),t=!1)})),(0,n.default)(e._dropdown).on("mousedown","li",(function(i){if(!E(e))return!1;e._suggestionModel.highlight((0,n.default)(i.target).index()),P(e),(0,n.default)(e).closest(".aui-layer").length>0&&(t=!0)}))}(e),function(e){var t=e._datalist.querySelector("aui-option[selected]");t&&N(e,U(t))}(e),function(e){var t=E(e)?0:T;e._suggestionModel.highlight(t),O(e)}(e),R(e)},detached:function(e){(0,n.default)(document).off("aui-close-layers-on-outer-click"),(0,q.ifGone)(e).then((()=>{O(e),e._suggestionsView.destroy()}))},attributes:{id(e,t){e.id&&(e.querySelector("input").id=t.newValue+M.INPUT_SUFFIX)},name(e,t){e.querySelector("select").setAttribute("name",t.newValue),e.querySelector("select").setAttribute("aria-label",`${t.newValue} list`),e.querySelector("button").setAttribute("aria-label",`${t.newValue} list`),e.querySelector('ul[role="listbox"]').setAttribute("aria-label",`${t.newValue} list`)},placeholder(e,t){e.querySelector("input").setAttribute("placeholder",t.newValue)},src(e,t){e._queryEndpoint=t.newValue}},events:{"blur input":function(e){J(e)},"mousedown button":function(e){document.activeElement!==e._input||e._dropdown.hasAttribute("hidden")||(0,h.default)(e).set("prevent-open-on-button-click",!0)},"click input":function(e){j(e)},"click button":function(e){var t=(0,h.default)(e);t.get("prevent-open-on-button-click")?t.set("prevent-open-on-button-click",!1):((0,h.default)(e).set("button-clicked-prevent-dropdown-hide",!0),e.focus())},input:function(e){e._input.value?$(e,!0):(0,h.default)(e).get("button-clicked-prevent-dropdown-hide")?(0,h.default)(e).set("button-clicked-prevent-dropdown-hide",!1):O(e)},"keydown input":function(e,t){var i=e._input.value,n=!1;if(t.keyCode===d.default.ESCAPE)return G(e),void H(e);e._suggestionsView.isVisible()&&E(e)?t.keyCode===d.default.ENTER?(G(e),P(e),t.preventDefault()):t.keyCode===d.default.TAB?(P(e),n=!0):t.keyCode===d.default.UP?(e._suggestionModel.highlightPrevious(),t.preventDefault()):t.keyCode===d.default.DOWN&&(e._suggestionModel.highlightNext(),t.preventDefault()):t.keyCode!==d.default.UP&&t.keyCode!==d.default.DOWN||(j(e),t.preventDefault()),n=n||t.defaultPrevented,setTimeout((function(){e._input.value===i||n||e.dispatchEvent(new r.default("input",{bubbles:!0}))}),0)}},prototype:{get value(){var e=this._select.options[this._select.selectedIndex];return e?e.value:""},set value(e){if(""===e)(n=this)._input.value="",n._select.innerHTML="";else if(e){var t=this._progressiveDataSet,i=t.findWhere({value:e})||t.findWhere({label:e});!i&&this.hasAttribute("can-create-values")&&(i=new v({value:e,label:e})),N(this,i)}var n;return this},get displayValue(){return this._input.value},blur:function(){return this._input.blur(),J(this),this},focus:function(){return this._input.focus(),j(this),this}}});(0,a.default)("aui/select",K),(0,c.default)("select",K);const Y=K}},e=>{e.O(0,[7224,9378,1356,2582,715,7035,8196,3469,3039,2276,713,4271,4678,7981,2554,8877,7201,7501,4544,7991,3136,9030,8313,113,3022,9110,2990,9009,7825,5260,7524,3042,3108,4191,8106,7428,7598,7792,9228,5290,4217,4379],(()=>{return t=9920,e(e.s=t);var t}));e.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/Analytics.js' */
define("jira/components/analytics",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/marionette-1.4.1/controller"),e=b("jira/components/analytics/services/trigger"),f=b("jira/components/analytics/services/domtracker");return d.extend({initialize:function(a){this.triggerService=new e(a);this.trackerService=new f(this.triggerService)},trigger:function(a,g){this.triggerService.trigger(a,g)},registerEvent:function(a){a=[].concat(a);c.each(a,function(a){this.triggerService.registerEvent(a)},
this)},registerTracker:function(a){a=[].concat(a);c.each(a,function(a){this.trackerService.registerTracker(a)},this)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/AnalyticsAppModule.js' */
define("jira/components/analytics/appmodule",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/appmodule"),c=a("jira/components/libs/underscore"),d=a("jira/components/analytics");return b.extend({name:"analytics",generateMasterRequest:!0,create:function(a){a=c.defaults({},a,{useLog:!1});return new d(a)},commands:{trigger:!0,registerEvent:!0,registerTracker:!0}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/services/Trigger.js' */
define("jira/components/analytics/services/trigger",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/controller"),c=a("jira/components/utils/ajshelper");return b.extend({initialize:function(){},trigger:function(a,b){c.trigger("analyticsEvent",{name:a,data:b})},registerEvent:function(){}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-amd', location = 'issuenav-analytics/services/DomTracker.js' */
define("jira/components/analytics/services/domtracker",["require"],function(b){var e=b("jira/components/libs/marionette-1.4.1/controller"),c=b("jquery"),d=b("jira/components/libs/underscore");return e.extend({initialize:function(a){this.triggerService=a;this.trackers=[]},registerTracker:function(a){var b=this.triggerService;d.defaults(a,{type:"click",handler:function(a,c){b.trigger(this.name,c)},context:document});b.registerEvent(a.name);a.domHandler=function(b){b.preventFurtherAnalytics||a.handler.apply(a,
Array.prototype.slice.call(arguments))};c(a.context).on(a.type,a.selector,a.domHandler);this.trackers.push(a)},clear:function(){d.each(this.trackers,function(a){c(a.context).off(a.type,a.selector,a.domHandler)})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:analytics-ajs-namespace', location = 'issuenav-analytics/namespace.js' */
AJS.namespace("JIRA.Components.Analytics",null,require("jira/components/analytics"));AJS.namespace("JIRA.Components.Analytics.AppModule",null,require("jira/components/analytics/appmodule"));AJS.namespace("JIRA.Components.Analytics.Services.Trigger",null,require("jira/components/analytics/services/trigger"));AJS.namespace("JIRA.Components.Analytics.Services.DomTracker",null,require("jira/components/analytics/services/domtracker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:brace', location = 'libs/brace.js' */
define("jira/components/libs/brace",["atlassian/libs/factories/brace-2014.09.03","jira/components/libs/backbone","jira/components/libs/underscore"],function(a,b,c){return a(c,b)});AJS.namespace("JIRA.Issues.Brace",null,require("jira/components/libs/brace"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:user-parms', location = 'content/js/util/UserParams.js' */
define("jira/issues/user-params",function(){var a=WRM.data.claim("com.atlassian.jira.jira-issue-nav-plugin:user-parms.userParms");return{createSharedObjects:function(){return a.createSharedObjects},get:function(){return a}}});AJS.namespace("JIRA.Issues.UserParms",null,require("jira/issues/user-params"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:resize-utils', location = 'content/js/util/Resize.js' */
define("jira/issues/utils/resize",[],function(){var c=require("jira/components/libs/underscore"),a=require("jquery");return{offHorizontalResize:function(b){a(document).off("horizontalResize",b)},onHorizontalResize:function(b){a(document).on("horizontalResize",b)},triggerHorizontalResize:c.throttle(function(){a(document).trigger("horizontalResize")},100),offVerticalResize:function(b){a(document).off("verticalResize",b)},onVerticalResize:function(b){a(document).on("verticalResize",b)},triggerVerticalResize:c.throttle(function(){a(document).trigger("verticalResize")},
100),init:function(){a(window).resize(this.triggerVerticalResize)}}});(function(){require("jira/issues/utils/resize").init()})();AJS.namespace("JIRA.Issues.offHorizontalResize",null,require("jira/issues/utils/resize").offHorizontalResize);AJS.namespace("JIRA.Issues.onHorizontalResize",null,require("jira/issues/utils/resize").onHorizontalResize);AJS.namespace("JIRA.Issues.triggerHorizontalResize",null,require("jira/issues/utils/resize").triggerHorizontalResize);
AJS.namespace("JIRA.Issues.offVerticalResize",null,require("jira/issues/utils/resize").offVerticalResize);AJS.namespace("JIRA.Issues.onVerticalResize",null,require("jira/issues/utils/resize").onVerticalResize);AJS.namespace("JIRA.Issues.triggerVerticalResize",null,require("jira/issues/utils/resize").triggerVerticalResize);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:trace', location = 'libs/trace.js' */
define("jira/issues/libs/trace",[],function(){return function(){return window.JIRA.trace.apply(window.JIRA,arguments)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:url-serializer', location = 'content/js/util/URLSerializer.js' */
define("jira/issues/utils/url-serializer",["underscore"],function(c){var d=function(a){return a};return{getURLFromState:function(a){a=a||{};var b=[];var c=a.selectedIssueKey?"browse/"+a.selectedIssueKey:"issues/";null!=a.filter&&b.push("filter\x3d"+a.filter);null==a.jql||null!=a.filterJql&&a.jql===a.filterJql||b.push("jql\x3d"+encodeURIComponent(a.jql));a.startIndex&&!a.selectedIssueKey&&b.push("startIndex\x3d"+a.startIndex);return c+(b.length?"?"+b.join("\x26"):"")},getStateFromURL:function(a){var b=
{},d=a.split("?")[0];var e={filter:null,jql:null,selectedIssueKey:null,startIndex:0};0===a.indexOf("browse/")&&(e.selectedIssueKey=d.split("/")[1]);-1!==a.indexOf("?")&&(a=a.substr(a.indexOf("?")),b=JIRA.Issues.QueryStringParser.parse(a),a=c.pick(b,"focusedCommentId","attachmentSortBy","attachmentOrder","attachmentViewMode"),c.isEmpty(a)||(e.viewIssueQuery=a));return c.inject(this.PARAMETER_TRANSFORM,function(a,c,d){var e=b[d];void 0!==e&&(a[d]=c(e));return a},c.extend(e))},PARAMETER_TRANSFORM:{filter:d,
jql:d,startIndex:function(a){return"string"===typeof a?parseInt(a,10):a}}}});AJS.namespace("JIRA.Issues.URLSerializer",null,require("jira/issues/utils/url-serializer"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/State.js' */
define("jira/issues/modules/navigation/state",["require"],function(a){var c=a("jira/issues/utils/url-serializer"),b=a("jira/components/libs/underscore");a=function(a){this.jql=this.filter=null;a&&b.extend(this,a.toJSON())};b.extend(a.prototype,{toUrl:function(){return c.getURLFromState(this)},isStandaloneIssue:function(){return!!this.selectedIssueKey&&!b.isString(this.jql)&&!this.filter},getStateFromUrl:function(a){return c.getStateFromURL(a)}});return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/NavigationController.js' */
define("jira/issues/modules/navigation/controller",["require"],function(b){var e=b("jira/issues/application"),d=b("jira/issues/modules/navigation/state"),f=b("jira/components/libs/marionette-1.4.1/controller"),c=b("jira/components/libs/underscore"),g=b("jira/components/issueviewer/services/darkfeatures");return f.extend({initialize:function(a){a=c.defaults(a,{isFullPageLoad:!0});this.state=a.model||new d;this.isFullPageLoad=a.isFullPageLoad;this.eventQueue=[]},reset:function(){this.state=new d},navigate:function(a,
c){e.request("issueEditor:canDismissComment")&&this.updateState(a,c)},navigateToUrl:function(a,h,b){b=b||{};a=c.extend(this.state.getStateFromUrl(a),b);this.navigate(a,h)},updateState:function(a,b){b=b||{};var d=c.pick(this.state,c.keys(this.state));b.reset&&this.reset();c.extend(this.state,a);g.REDIRECT_FROM_GLOBAL_TO_PROJECT.enabled()&&this.state.isStandaloneIssue()&&(b.forceFullPageLoad=!0);c.isEqual(d,c.pick(this.state,c.keys(this.state)))&&!b.forceRefresh||this._triggerStateChangedEvent(b)},
_triggerStateChangedEvent:function(a){this.isFullPageLoad&&(c.extend(a,{fullPageLoad:!0}),this.isFullPageLoad=!1);a=c.omit(a,"forceRefresh");this.eventQueue.push({state:c.clone(this.state),options:a});this._processEvents()},_processEvents:function(){if(!this.processingEvent){this.processingEvent=!0;var a=this.eventQueue.shift();this.trigger("stateChanged",a.state,a.options);this.processingEvent=!1;this.eventQueue.length&&this._processEvents()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:navigation', location = 'content/js/modules/navigation/NavigationAppModule.js' */
define("jira/issues/modules/navigation/module",["require"],function(a){var b=a("jira/issues/modules/navigation/controller");return a("jira/components/libs/marionette-1.4.1/appmodule").extend({name:"navigation",create:function(){return new b},commands:{reset:!0,updateState:!0,navigate:!0,navigateToUrl:!0},events:["stateChanged"]})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:ajshelper', location = 'libs/ajshelper.js' */
define("jira/issues/libs/ajshelper",["jira/ajs/keyboardshortcut/init-keyboard-shortcut"],function(b){var a=window.AJS;return{trigger:a.trigger.bind(a),escapeHtml:a.escapeHtml.bind(a),LEFT:a.LEFT,whenIType:function(){return a.whenIType},activeShortcuts:function(){return b.keyboardShortcuts}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerTemplate.soy' */
// This file was automatically generated from PagerTemplate.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ViewIssue.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ViewIssue == 'undefined') { JIRA.Templates.ViewIssue = {}; }
if (typeof JIRA.Templates.ViewIssue.Header == 'undefined') { JIRA.Templates.ViewIssue.Header = {}; }


JIRA.Templates.ViewIssue.Header.pager = function(opt_data, opt_ignored) {
  return '<div class="pager issue-list-view"><div class="showing">' + ((opt_data.position && opt_data.resultCount) ? soy.$$escapeHtml(AJS.format('{0} \u0438\u0437 {1}',opt_data.position,opt_data.resultCount)) : '') + '</div><div class="previous">' + ((opt_data.previousIssue && opt_data.position != 1) ? '<button data-id="' + soy.$$escapeHtml(opt_data.previousIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" id="previous-issue" class="aui-button aui-button-subtle" rel="' + soy.$$escapeHtml(opt_data.previousIssue.key) + '" title="' + soy.$$escapeHtml('\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + ' \'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml('\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '\'' + soy.$$escapeHtml(opt_data.previousIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-up">' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '</span></button>' : '') + '</div><div class="next">' + ((opt_data.nextIssue && opt_data.position != opt_data.resultCount) ? '<button id="next-issue" data-id="' + soy.$$escapeHtml(opt_data.nextIssue.id) + '" data-key="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" class="aui-button aui-button-subtle" title="' + soy.$$escapeHtml('\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + ' \'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.nextIssue.key) + '" rel="' + soy.$$escapeHtml(opt_data.nextIssue.key) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml('\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '\'' + soy.$$escapeHtml(opt_data.nextIssue.key) + '\'</span></button>' : (opt_data.position && opt_data.resultCount) ? '<button class="aui-button aui-button-subtle" aria-disabled="true" title="' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-down">' + soy.$$escapeHtml('\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e - \u044d\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '</span></button>' : '') + '</div></div>' + ((opt_data.isError || opt_data.hasSearchLink) ? '<div class="return"><a id="return-to-search" href="' + soy.$$escapeHtml("") + '/issues/" title="' + soy.$$escapeHtml('\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443') + '">' + soy.$$escapeHtml('\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443') + '</a></div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.ViewIssue.Header.pager.soyTemplateName = 'JIRA.Templates.ViewIssue.Header.pager';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/Pager.js' */
define("jira/issues/modules/pager",["require"],function(c){var d=c("jira/issues/modules/pager/model"),f=c("jira/issues/modules/pager/controller");return function(e){var b,a;this.initialize=function(){b=new d};this.update=function(a){a?b.update(a):!0!==b.get("isError")&&b.clear()};this.show=function(c,d){a||(a=new f({model:b}),a.on("goBack",e.goBack),a.on("nextItem",e.nextItem),a.on("previousItem",e.previousItem));a.show(c,d)};this.close=function(){a&&a.close();a=null;b.clear()}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerModel.js' */
define("jira/issues/modules/pager/model",["require"],function(b){return b("jira/issues/basemodel").extend({properties:"nextIssue previousIssue position resultCount hasSearchLink isError".split(" "),update:function(a){a.hasSearchLink=!a.isSplitView;delete a.isSplitView;this.set(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerView.js' */
define("jira/issues/modules/pager/view",["require"],function(b){var c=b("jquery"),d=b("jira/components/libs/marionette-1.4.1/itemview"),e=b("jira/issues/modules/pager/templates"),f=b("jira/issues/libs/ajshelper");return d.extend({template:function(a){return e.pager(a||{})},events:{"simpleClick #return-to-search":"_onReturnToSearchClick"},triggers:{"simpleClick #next-issue":"nextItem","simpleClick #previous-issue":"previousItem"},ui:{nextIssue:"#next-issue",previousIssue:"#previous-issue",returnToSearch:"#return-to-search"},
modelEvents:{change:"render"},onRender:function(){f.activeShortcuts().then(function(a){a.j&&a.j._addShortcutTitle(this.$el.find(this.ui.nextIssue));a.k&&a.k._addShortcutTitle(this.$el.find(this.ui.previousIssue));a.u&&a.u._addShortcutTitle(this.$el.find(this.ui.returnToSearch))}.bind(this))},_onReturnToSearchClick:function(a){a.preventDefault();this.trigger("goBack");c("body").focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerController.js' */
define("jira/issues/modules/pager/controller",["require"],function(b){var c=b("jira/components/libs/marionette-1.4.1/controller"),d=b("jira/issues/modules/pager/view");return c.extend({initialize:function(a){this.model=a.model},getView:function(a){this.pagerView?a&&this.pagerView.setElement(a):(this.pagerView=new d({model:this.model,el:a}),this.listenTo(this.pagerView,"close",this.destroyView),this.listenAndRethrow(this.pagerView,["goBack","nextItem","previousItem"]));return this.pagerView},show:function(a){var b=
this.getView(a.pager);this.model.set("isError",a.isError);b.render()},onClose:function(){this.pagerView.close()},destroyView:function(){delete this.pagerView}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/PagerAppModule.js' */
define("jira/issues/modules/pager/appmodule",["require"],function(b){var e=b("jira/issues/modules/pager"),d=b("jira/issues/api");return function(b,c){var a=new e({nextItem:function(){d.nextIssue()},previousItem:function(){d.prevIssue()},goBack:function(){c.execute("returnToSearch")}});c.addInitializer(function(){a.initialize();c.commands.setHandlers({"pager:update":a.update,"pager:render":a.show,"pager:close":a.close})})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/amd-wrapper.js' */
define("jira/issues/modules/pager/templates",function(){return JIRA.Templates.ViewIssue.Header});AJS.namespace("JIRA.Templates.ViewIssue.Header",null,require("jira/issues/modules/pager/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:pager', location = 'content/js/modules/pager/namespace.js' */
AJS.namespace("JIRA.Components.Pager",null,require("jira/issues/modules/pager"));AJS.namespace("JIRA.Components.Pager.AppModule",null,require("jira/issues/modules/pager/appmodule"));AJS.namespace("JIRA.Components.Pager.Controller",null,require("jira/issues/modules/pager/controller"));AJS.namespace("JIRA.Components.Pager.Model",null,require("jira/issues/modules/pager/model"));AJS.namespace("JIRA.Components.Pager.View",null,require("jira/issues/modules/pager/view"));
AJS.namespace("JIRA.Templates.ViewIssue.Header",null,require("jira/issues/modules/pager/templates"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-application', location = 'content/js/Application.js' */
define("jira/issues/application",["require"],function(b){var c=b("jira/components/util/inlineeditparams"),a=new JIRA.Marionette.Application;a.addInitializer(function(){this.module("JIRA.Components.Pager",JIRA.Components.Pager.AppModule);c.isEnabled()?this.module("JIRA.Components.IssueEditor",(new JIRA.Components.IssueEditor.AppModule).definition):this.module("JIRA.Components.IssueEditor",(new JIRA.Components.IssueEditor.NoInlineAppModule).definition);this.module("JIRA.Components.Analytics",(new JIRA.Components.Analytics.AppModule).definition);
JIRA.Issues.AnalyticsLoader.init();var a=b("jira/issues/modules/navigation/module");this.module("JIRA.Components.Navigation",(new a).definition)});return a});AJS.namespace("JIRA.Issues.Application",null,require("jira/issues/application"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/Notifications.js' */
define("jira/issues/notifications",[],function(){var d={thanks_issue_updated:"{0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_transitioned:"{0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_assigned:"{0} \u0431\u044b\u043b \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d.",thanks_issue_commented:"{0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d \u0441 \u0412\u0430\u0448\u0438\u043c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u043c.",thanks_issue_worklogged:"\u0421\u0434\u0435\u043b\u0430\u043d\u0430 \u043e\u0442\u043c\u0435\u0442\u043a\u0430 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b {0}.",thanks_issue_voted:"\u0412\u0430\u0448 \u0433\u043e\u043b\u043e\u0441 \u043d\u0430 {0} \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",
thanks_issue_watched:"\u0412\u0430\u0448 \u0441\u0442\u0430\u0442\u0443\u0441 \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f {0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d.",thanks_issue_moved:"{0} \u0431\u044b\u043b \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d.",thanks_issue_linked:"\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 {0} \u0431\u044b\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.",thanks_issue_cloned:"{0} \u0431\u044b\u043b \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d.",thanks_issue_labelled:"\u041c\u0435\u0442\u043a\u0438 \u0434\u043b\u044f {0} \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b.",thanks_issue_deleted:"{0} \u0431\u044b\u043b\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430.",thanks_issue_restored:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430.",
thanks_issue_archived:"\u0417\u0430\u0434\u0430\u0447\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0430\u0440\u0445\u0438\u0432.",thanks_issue_attached:"\u0424\u0430\u0439\u043b(\u044b) \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u044b \u0432 {0}."};return function(a,c){var b;a||(a="thanks_issue_updated");(b=d[a])&&c&&(b=AJS.format(b,c));JIRA.Messages.showSuccessMsg(b||a,{closeable:!0})}});AJS.namespace("JIRA.Issues.showNotification",null,require("jira/issues/notifications"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/IssueNavRouter.js' */
define("jira/issues/issue-nav-router",["underscore","jira/components/libs/backbone"],function(c,e){return JIRA.Issues.BaseRouter.extend({initialize:function(a){c.extend(this,a);c.bindAll(this,"_restoreSessionSearch","_route");this.route(/^(.*?)([?]{1}.*)?$/,this._route);this.route(/^(issues\/)?$/,this._restoreSessionSearch);delete e.Router.arrayValueSplit;this.listenTo(JIRA.Issues.Application,"navigation:stateChanged",this.onStateChanged)},navigate:function(){JIRA.Issues.Tipsy.revalidate();this.trigger("navigate");
JIRA.Issues.BaseRouter.prototype.navigate.apply(this,arguments)},onStateChanged:function(a,b){b=b||{};b.forceFullPageLoad?c.defer(this._redirectToUrl,a.toUrl()):(b={trigger:!1,replace:b.replace||!1},this._setStatePermalink(a),this.navigate(a.toUrl(),b))},pushState:function(a){this._setStatePermalink(a);this.navigate(JIRA.Issues.URLSerializer.getURLFromState(a),{trigger:!1})},replaceState:function(a){this._setStatePermalink(a);this.navigate(JIRA.Issues.URLSerializer.getURLFromState(a),{trigger:!1,
replace:!0})},_restoreSessionSearch:function(){JIRA.Issues.Application.execute("navigation:updateState",this.initialSessionSearchState,{replace:!0,reset:!0,resetQuery:!0})},_route:function(a,b){a=this.toFragment(a,b);b=AJS.Meta.get("jql");null!=b&&AJS.Meta.set("jql",null);JIRA.Issues.Application.execute("navigation:navigateToUrl",a,{checkPermission:!0,replace:!0,reset:!0,routerEvent:!0},null!=b?{jql:b}:void 0)},_setStatePermalink:function(a){var b=c.pick(a,"selectedIssueKey"),d=AJS.Meta.get("jira-base-url");
c.isEmpty(b)||AJS.Meta.set("viewissue-permlink",d+"/"+JIRA.Issues.URLSerializer.getURLFromState(b));a=c.omit(a,"selectedIssueKey");c.isEmpty(a)||AJS.Meta.set("issuenav-permlink",d+"/"+JIRA.Issues.URLSerializer.getURLFromState(a))},_redirectToUrl:function(a){window.location.assign(JIRA.Issues.IssueNavRouter.getBackboneRoot()+a)}},{getBackboneRoot:function(){return AJS.contextPath()+"/"}})});AJS.namespace("JIRA.Issues.IssueNavRouter",null,require("jira/issues/issue-nav-router"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/ViewIssueCreator.js' */
define("jira/issues/view-issue-creator",["jquery","jira/util/events","jira/issues/navigator/metrics"],function(b,c,d){JIRA.Events.LAYOUT_RENDERED="layoutRendered";return{create:function(f,e){this.$issueContainer=b(".issue-container");this.$searchContainer=b(".navigator-container");this.fullScreenIssue=new JIRA.Issues.FullScreenIssue({issueContainer:this.$issueContainer,searchContainer:this.$searchContainer});this.issueNavRouter=new JIRA.Issues.IssueNavRouter({initialSessionSearchState:e.initialSessionSearchState});
JIRA.Issues.enhanceLinks.toIssueNav();JIRA.Issues.enhanceLinks.toIssue();JIRA.Issues.enhanceLinks.withPushState({});JIRA.Issues.Application.on("issueEditor:linkToIssue",function(a){d.notifyIssueView();JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:a.issueKey},{reset:!0})});JIRA.Issues.Application.on("issueEditor:saveSuccess",function(a){c.trigger(JIRA.Events.ISSUE_REFRESHED,[a.issueId])});JIRA.Issues.Application.on("issueEditor:saveError",function(a){a.deferred||c.trigger(JIRA.Events.ISSUE_REFRESHED,
[a.issueId])});JIRA.Issues.Application.on("issueEditor:render",function(a){JIRA.Issues.Application.execute("pager:render",a)});JIRA.Dialogs.BeforeShowIssueDialogHandler.add(JIRA.Issues.Api.waitForSavesToComplete);return this}}});AJS.namespace("JIRA.Issues.ViewIssueCreator",null,require("jira/issues/view-issue-creator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/IssueNavCreator.js' */
define("jira/issues/issue-nav-creator","jquery underscore jira/util/data/meta jira/util/events jira/issues/search/legacyissuenavigator jira/issues/search/legacyissuenavigatorshortcuts".split(" "),function(d,p,m,q,r,t){function n(){var e=JIRA.Issues.LoginUtils.redirectUrlToCurrent();d(".login-link").attr("href",e)}return{create:function(e,b){b=p.defaults(b,{standaloneIssue:!1});e=b.viewIssueComponents||JIRA.Issues.ViewIssueCreator.create(e,b);this.fullScreenIssue=e.fullScreenIssue;var a=this.searchPageModule=
new JIRA.Issues.SearchPageModule({},{initialIssueTableState:b.initialIssueTableStatea});a.registerViewContainers({issueContainer:e.$issueContainer,searchContainer:e.$searchContainer});var g=this.searchHeaderModule=new JIRA.Issues.SearchHeaderModule({searchPageModule:a}),u=new JIRA.Issues.FilterModule({searchPageModule:a,systemFilters:a.addOwnerToSystemFilters(b.systemFilters)}),h=this.fullScreenIssue.searchContainer.find("form.navigator-search");h=JIRA.Components.Query.create({el:h,searchers:b.initialSearcherCollectionState,
preferredSearchMode:m.get("user.search.mode"),layoutSwitcher:!0,autocompleteEnabled:m.getBoolean("autocomplete-enabled"),basicAutoUpdate:m.getBoolean("hasCriteriaAutoUpdate"),columnConfig:g._searchPageModule.columnConfig});q.bind(JIRA.Events.ISSUE_TABLE_REORDER,function(a){JIRA.Issues.Application.request("issueEditor:canDismissComment")||a.preventDefault()});this.layoutSwitcherView=new JIRA.Issues.LayoutSwitcherView({searchPageModule:a});var f=this.fullScreenIssue.searchContainer.find("#layout-switcher-toggle");
this.layoutSwitcherView.setElement(f).render();f=JIRA.Issues.Application.request("issueEditor");JIRA.Issues.Application.on("issueEditor:refineViewer",function(a){a.preventDefault();JIRA.Issues.Application.execute("issueEditor:updateIssueWithQuery",a.query)});JIRA.Issues.Application.commands.setHandler("returnToSearch",function(){JIRA.Issues.Application.execute("issueEditor:close")});JIRA.Issues.FocusShifter.init();var k=f.viewIssueData;f=new JIRA.Issues.IssueSearchManager({initialIssueTableState:b.initialIssueTableState,
initialIssueIds:b.initialIssueIds});var l=new JIRA.Issues.SearchModule({searchPageModule:a,queryModule:h,issueSearchManager:f,initialSelectedIssue:b.initialSelectedIssue});k=new JIRA.Issues.Cache.IssueCacheManager({searchResults:l.getResults(),viewIssueData:k});this.fullScreenIssue.registerIssueCacheManager(k);var v=this.fullScreenIssue.searchContainer.find(".saved-search-selector");a.registerSearch(l);a.registerSearchHeaderModule(g);a.registerFilterModule(u);a.registerQueryModule(h);a.registerFullScreenIssue(e.fullScreenIssue);
a.registerIssueSearchManager(f);a.registerIssueCacheManager(k);a.registerLayoutSwitcher(this.layoutSwitcherView);g.registerSearch(l);g.createToolsView(v);b.standaloneIssue&&(a.standalone=!0);JIRA.Issues.enhanceLinks.registerSearchPageModule(a);JIRA.Issues.dialogCleaner();JIRA.Issues.Api.initialize({searchPageModule:a});JIRA.Issues.overrideIssueDialogs({getIssueId:p.bind(a.getEffectiveIssueId,a),isNavigator:!0,updateIssue:function(c){c=JIRA.Issues.Utils.getUpdateCommandForDialog(c);return a.updateIssue(c)}});
r.initialize();t.initialize();d(document).keydown(function(c){if(!c.isDefaultPrevented()){var b=0<d(".aui-blanket[hidden]").length,e=c.which===d.ui.keyCode.ENTER||c.which===d.ui.keyCode.LEFT||c.which===d.ui.keyCode.UP||c.which===d.ui.keyCode.RIGHT||c.which===d.ui.keyCode.DOWN;!b&&e&&(b=d(c.target),e=b.is(":not(:input)")||b.is(document),null==b||e)&&(c.which===d.ui.keyCode.ENTER?(null==b||b.is(":not(a)")||b.is(document))&&JIRA.Issues.Api.viewSelectedIssue():c.which===d.ui.keyCode.LEFT?a.focusIssueList():
c.which===d.ui.keyCode.RIGHT?a.focusIssueEditor():c.which===d.ui.keyCode.UP?a.handleUp()&&c.preventDefault():c.which===d.ui.keyCode.DOWN&&a.handleDown()&&c.preventDefault())}});this.searchResults=l.getResults();this.searchPageModule.on("change",n);this.searchResults.on("change",n);this.searchResults.getSelectedIssue().on("change",n);return this}}});AJS.namespace("JIRA.Issues.IssueNavCreator",null,require("jira/issues/issue-nav-creator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-utils', location = 'content/js/search/GlobalIssueNavCreator.js' */
define("jira/issues/global-issue-nav-creator",["jquery","jira/message"],function(c,f){return{create:function(a,b){a=JIRA.Issues.IssueNavCreator.create(a,b);b=a.searchPageModule.filterModule;var d=a.fullScreenIssue.searchContainer.find(".navigator-sidebar"),g=a.fullScreenIssue.searchContainer.find("#search-header-view");b.createView({$filterPanelEl:d});b.filtersComponent.showFilterHeader({el:g,model:a.searchPageModule.getFilter(),isEdited:a.searchPageModule.isDirty()});b=c("#quicksearch-message");
if(b.length){var e=f.showWarningMsg(b.find("p").html(),{closeable:!0});c("a",e).click(function(){e.remove()})}return a},readInitialData:function(){var a={},b=c(".navigator-content");a.initialIssueTableState=b.data("issue-table-model-state");if(a.initialIssueTableState&&!a.initialIssueTableState.table){var d=c("\x3cdiv\x3e\x3c/div\x3e").append(b.children().clone());a.initialIssueTableState.issueTable.table=d.html()}a.initialIssueIds=AJS.$("#stableSearchIds").data("ids");a.initialSelectedIssue=b.data("selected-issue");
a.initialSearcherCollectionState=c.parseJSON(c("#criteriaJson").text());require("jira/components/issueviewer/services/darkfeatures").HTTP_SESSIONS_DISABLED.enabled()?((d=require("jira/components/search/latestStorage").get())&&(d.jql||d.filter)&&(a.initialSessionSearchState=d),a.initialSessionSearchState||(a.initialSessionSearchState=b.data("session-search-state"))):a.initialSessionSearchState=b.data("session-search-state");a.systemFilters=c.parseJSON(c("#systemFiltersJson").text());return a}}});
AJS.namespace("JIRA.Issues.GlobalIssueNavCreator",null,require("jira/issues/global-issue-nav-creator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/IssueNavFeatures.js' */
define("jira/issues/feature",["require"],function(a){var b=a("jira/ajs/dark-features");return Class.extend({init:function(a){this.featureKey=a},enabled:function(){return b.isEnabled(this.featureKey)}})});define("jira/issues/dark-features",["require"],function(a){return{NO_PREFETCH:new (a("jira/issues/feature"))("ka.NO_PREFETCH")}});AJS.namespace("JIRA.Issues.Feature",null,require("jira/issues/feature"));AJS.namespace("JIRA.Issues.DarkFeatures",null,require("jira/issues/dark-features"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/analytics.js' */
define("jira/issues/analytics-loader",function(){return{init:function(){function c(){var a=1===AJS.$.find('[data-analytics-id\x3d"empty-jql-warning"]').length;JIRA.Issues.Application.execute("analytics:trigger",this.name,{isJqlEmpty:a})}JIRA.Issues.Application.execute("analytics:registerEvent","kickass.search kickass.switchtobasic kickass.switchtoadvanced kickass.returntosearch kickass.editField kickass.editMultipleFields kickass.editClientDuration kickass.editClientCancelledDuration kickass.editSaveonserverDuration kickass.issueLoadDuration kickass.openIssueFromTable kickass.issueTotalSaveDuration kickass.focusshifteropened kickass.queryTooComplexSwitchToAdvanced kickass.basicModeCriteriaCountWhenSearching kickass.criteriaAutoUpdateEnabled kickass.issueTableRefresh kickass.conditionalLoading kickass.viewIssue kickass.inlineEdit kickass.inlineEdit.start kickass.inlineEdit.cancel kickass.viewIssueNavigationPageReload kickass.viewIssueNavigationRequested".split(" "));
JIRA.Issues.Application.execute("analytics:trigger","kickass.criteriaAutoUpdateEnabled",{enabled:AJS.Meta.getBoolean("hasCriteriaAutoUpdate")});JIRA.Issues.Application.execute("analytics:registerTracker",[{name:"kickass.clickedOnSystemFilter",selector:".system-filters a",handler:function(a){a=AJS.$(a.target);JIRA.Issues.Application.execute("analytics:trigger",this.name,{name:parseUri(a.attr("href")).queryKey.filter})}},{name:"kickass.clickedOnFavouriteFilter",selector:".favourite-filters a.filter-link"},
{name:"kickass.clickedOnFavouriteFilterActionsMenu",selector:".favourite-filters a.filter-actions"},{name:"kickass.renamedFilterFromActionsMenu",selector:"#rename-filter-form",type:"submit"},{name:"kickass.deletedFilterFromActionsMenu",selector:"#delete-filter-form",type:"submit"},{name:"kickass.copiedFilterFromActionsMenu",selector:"#copy-filter-dialog form",type:"submit",handler:c},{name:"kickass.removeFilterFromFavouritesViaActionsMenu",selector:".unfavourite-filter"},{name:"kickass.issue-navigator.jql-search",
type:"jql-search-requested",handler:function(){JIRA.Issues.Application.execute("analytics:trigger",this.name)}},{name:"kickass.saveACopyOfFilterFromSearchHeader",selector:"#save-filter-dialog form",type:"submit",handler:c},{name:"kickass.filterChangesSaved",selector:".header-section-primary .save-changes"},{name:"kickass.clickedOnShowFiltersDetailsDropDown",selector:".show-filter-details",type:"mousedown"},{name:"kickass.clickedOnChangePermissions",selector:".filter-permissions .change-permissions"},
{name:"kickass.clickedOnUnfavouriteStar",selector:".filter-operations .fav-link.aui-iconfont-unstar"},{name:"kickass.clickedOnSaveFilterAs",selector:".save-as-new-filter",handler:function(){var a=1===AJS.$(".system-filters a.active").length,b=1===AJS.$(".favourite-filters a.active").length;JIRA.Issues.Application.execute("analytics:trigger",this.name,{systemFilterSelected:a,favouriteFilterSelected:b})}},{name:"kickass.clickedOnPagniationLink",selector:".pagination a",handler:function(a){a=AJS.$(a.target).text();
JIRA.Issues.Application.execute("analytics:trigger",this.name,{page:a})}},{name:"kickass.inbrowsersearch",type:"keydown",handler:function(a){70===a.keyCode&&(a.metaKey||a.ctrlKey)&&JIRA.Issues.Application.execute("analytics:trigger",this.name)}},{name:"kickass.reloadPage",type:"keydown",handler:function(a){82===a.keyCode&&(a.metaKey||a.ctrlKey)&&JIRA.Issues.Application.execute("analytics:trigger",this.name)}},{name:"kickass.moreCriteriaNewlySelectedCount",type:AJS.InlineLayer.EVENTS.beforeHide,handler:function(a,
b){b&&b.find("#criteria-multi-select").length&&(a=AJS.$("#criteria-multi-select"),a=a.find("input[checked]").length-a.find(".selected-group input[checked]").length,JIRA.Issues.Application.execute("analytics:trigger",this.name,{count:a}))}},{name:"kickass.createdNewSearch",selector:".new-search"},{name:"kickass.sortByColumn",selector:".sortable",handler:function(a){a=jQuery(a.target);a.is("th")||(a=a.parent("th"));a.length&&JIRA.Issues.Application.execute("analytics:trigger",this.name,{direction:a.hasClass("ascending")?
"descending":"ascending",column:a.data("id")})}},{name:"kickass.findFiltersClicked",selector:".find-filters"}]);JIRA.Issues.Application.on("issueEditor:loadComplete",function(a,b){if(!b.fromCache){var c=b.issueKey;JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:a.getId(),loadReason:b.loadReason,duration:b.duration,loadedFromDom:!1,projectId:a.getProjectId(),projectType:a.getProjectType()||"unknown",issueMatchesProjectContext:null==c?!1:0===c.indexOf(a.getProjectKey()+
"-")})}JIRA.Issues.Application.execute("analytics:trigger","kickass.issueLoadDuration",{issueId:b.issueId,duration:b.duration,loadReason:b.loadReason,fromCache:b.fromCache})});JIRA.Issues.Application.on("issueEditor:render",function(a,b){b.loadedFromDom&&(a=b.issueKey,JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssue",{issueId:b.issueId,loadedFromDom:!0,projectId:b.projectId,projectType:b.projectType||"unknown",issueMatchesProjectContext:null==a?!1:0===a.indexOf(b.projectKey+
"-")}))});JIRA.Issues.Application.on("issueEditor:saveSuccess",function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit",{issueId:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,duration:a.duration})});JIRA.Issues.Application.on("issueEditor:editField",function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.start",{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType})});JIRA.Issues.Application.on("issueEditor:editFieldCancel",
function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.cancel",{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType})})}}});AJS.namespace("JIRA.Issues.AnalyticsLoader",null,require("jira/issues/analytics-loader"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/Stalker.js' */
(function(f){var b;f.fn.stalker=function(c){function h(){b&&(a.css({position:"",top:"",left:"",right:"",height:""}).removeClass("detached"),a.unbind("stalkerHeightUpdated",k),b.remove(),b=null)}function k(){b.height(a.height())}function g(){a.is(":visible")&&(d||(d=a.offset()),f(window).scrollTop()+c.offsetTop>=d.top?b||(b=jQuery("\x3cdiv class\x3d'stalker-placeholder' /\x3e").css("visibility","hidden").addClass(a[0].className).height(a.outerHeight()).width(a.outerWidth()).insertBefore(a),a.bind("stalkerHeightUpdated",
k),a.css({position:"fixed",top:c.offsetTop,left:d.left,right:d.right}).addClass("detached"),"undefined"===typeof e.timeout&&e()):h())}function e(){b?(g(),e.timeout=setTimeout(e,250)):delete e.timeout}var a=this,d;if(a.length&&!a.data("stalker-applied"))return a.data("stalker-applied",!0),c=c||{},c.offsetTop=c.offsetTop||0,f(window).bind("resize scroll",g),g(),{unstalk:function(){h();f(window).unbind("resize scroll",g)}}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/Sidebar.js' */
/*
 Modified by Atlassian

 jQuery UI Sidebar
 http://jqueryui.com

 Depends:
   jquery.ui.widget.js
*/
(function(c){c.widget("ui.sidebar",{version:"0.1",options:{minWidth:function(a){return 50},maxWidth:function(a){return window.innerWidth},resize:c.noop,easeOff:0},_create:function(){_.bindAll(this,"_handleDrag","_persist","_setContainment","_setHandlePosition","updatePosition");this.options.easeOff&&(this.updatePosition=_.debounce(this.updatePosition,this.options.easeOff));this.options.id||console.error("ui.sidebar: You must specify an id");this._addHandle();this._restore();c(window).resize(_.debounce(this.updatePosition,
30))},_restore:function(){if(window.localStorage){var a=localStorage.getItem("ui.sidebar."+this.options.id);a&&this._setWidth(a)}},_persist:function(){window.localStorage&&localStorage.setItem("ui.sidebar."+this.options.id,this.element.outerWidth())},_setContainment:function(){var a=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth(this);this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth(this));this.handle.draggable({containment:[this._minLeft,
a,this._maxLeft,a]})},_handleDrag:function(a,b){this._setWidth(b.position.left-this._elementLeft,!0)},_setWidth:function(a,b){if(!b){b=this.options.maxWidth(this);var c=this.options.minWidth(this);a>b?a=b:a<c&&(a=c)}a-=this.element.outerWidth()-this.element.width();this.element.width(a);this.options.resize(a)},_addHandle:function(){var a=document.createElement("div");a.setAttribute("class","ui-sidebar");this.handle=c(a).appendTo(this.element);this.handle.draggable({axis:"x",drag:this._handleDrag,
stop:this._persist});this.handle.mousedown(this._setContainment);_.defer(this._setHandlePosition)},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft)this.handle.hide();else{var a=this.element.offset(),b=a.left+this.element.outerWidth();this.handle.css({top:a.top,left:b,height:this.element.outerHeight()}).show()}},updatePosition:function(){this._setHandlePosition();this._setWidth(this.handle.offset().left-this._elementLeft-window.pageXOffset);this._persist()}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/PopoutSidebar.js' */
(function(d){var c=require("underscore"),h=require("internal/util/navigator"),k=require("jira/dialog/dialog-stack"),g=require("jira/util/assistive");d.widget("ui.popoutSidebar",{version:"0.1",options:{renderExpanded:d.noop,renderCollapsed:d.noop,persist:d.noop,collapsedWidth:30,expandedWidth:200,minWidth:function(){return 200},maxWidth:function(){return 500},resize:d.noop,dockText:"Dock",dockAnnouncementText:"The sidebar was docked",undockText:"Undock",undockAnnouncementText:"The sidebar was undocked",
dockTitle:"Dock the filter panel so you can always see the list of filters",undockTitle:"Undock the filter panel so it is hidden when not being focused"},CLASS_NAMES:{popout:"ui-popout",placeholder:"ui-popout-placeholder",detached:"ui-popout-detached",expanding:"ui-popout-expanding",expanded:"ui-popout-expanded",collapsed:"ui-popout-collapsed",collapsing:"ui-popout-collapsing"},_create:function(){c.bindAll(this,"_handleDropdown","_registerMousePos","collapse","expand","updateOffsets");if(!this.element.data("popoutsidebar")){this.element.data("popoutsidebar",
!0);this.element.bind("updateOffsets.popout",this.updateOffsets);var a=this;this.element.delegate(".ui-dock","click keydown",function(b){g.handleClickSpaceEnter(b,function(){a.dock(!0);b.preventDefault()})});this.element.delegate(".ui-undock","click keydown",function(b){g.handleClickSpaceEnter(b,function(){a.undock(!0);b.preventDefault()})});this.isDocked=this.options.isDocked;this.expandedWidth=this.options.expandedWidth;this.useTransitions=!h.isIE()||8<h.majorVersion();this.options.isDocked?this._renderUnDock():
this._enableUndockedMode();this.updateOffsets()}},_init:function(){this.options.isDocked&&this._setupHandle()},_persistState:function(){this.expandedWidth=this.element.outerWidth();this.options.persist(this.isDocked,this.expandedWidth)},_setContainment:function(){var a=window.innerHeight;this._elementLeft=this.element.offset().left;this._minLeft=this._elementLeft+this.options.minWidth();this._maxLeft=Math.max(this._minLeft,this._elementLeft+this.options.maxWidth());this.handle.draggable({containment:[this._minLeft,
a,this._maxLeft,a]});this.handle.css("position","absolute")},_setWidth:function(a){a=Math.min(Math.max(this.options.minWidth(),a),this.options.maxWidth());this.element.css({width:a})},_setupHandle:function(){this._getContents();this.handle=jQuery("\x3cdiv /\x3e").addClass("ui-sidebar").appendTo(this.element);this._setWidth(this.expandedWidth);this._setHandlePosition();this.handle.mousedown(c.bind(this._setContainment,this));this.handle.draggable({axis:"x",drag:c.bind(this._handleDrag,this),stop:c.bind(this._persistState,
this)})},_setHandlePosition:function(){this._setContainment();if(this._minLeft===this._maxLeft)this.handle.hide();else{var a=this.element.offset().left+this.element.outerWidth();this.handle.css({left:a}).show()}},_handleDrag:function(a,b){this._setWidth(b.position.left);this.options.resize()},_getUndockedClasses:function(){return[this.CLASS_NAMES.detached].join(" ")},_getUndockedStates:function(){return[this.CLASS_NAMES.collapsed,this.CLASS_NAMES.collapsing,this.CLASS_NAMES.expanding,this.CLASS_NAMES.expanded].join(" ")},
_setUndockedState:function(a){this.element.removeClass(this._getUndockedStates());this.element.addClass(a)},unbindHoverIntent:function(){this.element.off("mouseleave mouseenter mousemove");this.element[0].hoverIntent_s=0},bindHoverIntent:function(){this.element.hoverIntent({interval:40,over:this.expand,out:this.collapse,sensitivity:8})},_unbindUnDockedEvents:function(){this.unbindHoverIntent();JIRA.unbind(AJS.InlineLayer.EVENTS.show,this._handleDropdown);d(window).unbind("scroll",this.updateOffsets)},
_bindUnDockedEvents:function(a){this.bindHoverIntent();d(window).scroll(this.updateOffsets);this.element[0].hoverIntent_s=a?1:0},isUndocked:function(){return this.element.hasClass(this.CLASS_NAMES.detached)},_registerMousePos:function(a){this._clientX=a.clientX;this._clientY=a.clientY},_handleDropdown:function(){d(document).mousemove(this._registerMousePos);this.isUndocked()&&AJS.InlineLayer.current.offsetTarget().closest(this.element).length&&(this.unbindHoverIntent(),JIRA.one(AJS.InlineLayer.EVENTS.hide,
c.bind(function(){c.defer(c.bind(function(){AJS.InlineLayer.current||(k.current||this._clientX>this.element.offset().left+this.element.outerWidth()?(this.collapse(k.current?!1:!0),this.bindHoverIntent()):(this.bindHoverIntent(),this.element[0].hoverIntent_s=1),d(document).unbind("mousemove",this._registerMousePos))},this))},this)))},updateOffsets:function(a){if(this.element.is(":visible")){var b=window.innerHeight,c=d("body").height()>b;c?this.element.addClass("ui-sidebar-scrollable"):this.element.removeClass("ui-sidebar-scrollable");
if(this.isUndocked()){var e=this._getPlaceholder().offset().top,f=jQuery(window).scrollTop();e=Math.max(e-f,0);b=c?b-e:Math.min(this._getPlaceholder().outerHeight(),b-this._getPlaceholder().offset().top);b={top:e,height:b};a&&(b.width=a);this.element.css(b)}}},_renderUnDock:function(){this.isDocked&&!this.element.find(".ui-undock").length&&(this.element.find(".ui-dock").remove(),this._renderDockingLink(this.options.undockText,this.options.undockTitle,"ui-undock",'\x3cspan class\x3d"aui-icon aui-icon-small aui-iconfont-chevron-double-left"\x3e\x3c/span\x3e'))},
_renderDock:function(){this.isUndocked()&&!this.element.find(".ui-dock").length&&(this.element.find(".ui-undock").remove(),this._renderDockingLink(this.options.dockText,this.options.dockTitle,"ui-dock",'\x3cspan class\x3d"aui-icon aui-icon-small aui-iconfont-chevron-double-right"\x3e\x3c/span\x3e'))},_renderDockingLink:function(a,b,c,e){e=e?d(e).text(a):d("\x3cspan class\x3d'icon'/\x3e").text(a);var f=d("\x3ca class\x3d'aui-button aui-button-subtle' href\x3d'#'/\x3e").addClass(c).append(e);Promise.resolve(b).then(a=>
{f.attr("title",a);this.dockTipsy=new JIRA.Issues.Tipsy({el:f})});this._getContents().find(this.options.toggleTarget).append(f)},renderDockState:function(){this.isDocked?this._renderUnDock():this._renderDock()},_enableUndockedMode:function(a){this.element.addClass(this.CLASS_NAMES.popout);this.isUndocked()||(this._getPlaceholder().insertBefore(this.element),this.element.addClass(this.CLASS_NAMES.detached).addClass(this.CLASS_NAMES.collapsed));this.updateOffsets();this._bindUnDockedEvents(a);JIRA.bind(AJS.InlineLayer.EVENTS.show,
this._handleDropdown)},_getPlaceholder:function(){this.placeholder||(this.placeholder=d("\x3cdiv class\x3d'navigator-sidebar collapsed' /\x3e"));return this.placeholder},toggle:function(){this.isExpanding()||this.isCollapsing()||(this.isDocked?this.undock(!1):this.dock(!1))},undock:function(a){this.isUndocked()||(this.isDocked=!1,this.dockTipsy&&(this.dockTipsy.remove(),this.dockTipsy=null),this._persistState(),this._getPlaceholder().insertBefore(this.element),this.element.addClass(this._getUndockedClasses()+
" "+this.CLASS_NAMES.expanded),!1!==a&&this.useTransitions?(this._getPlaceholder().width(this.expandedWidth),this._getPlaceholder().animate({width:this.options.collapsedWidth},200,this._unDockingComplete.bind(this))):this._getPlaceholder().width(this.options.collapsedWidth),this.updateOffsets(this.expandedWidth),this.collapse(a,c.bind(function(){this._enableUndockedMode(!1)},this)))},_unDockingComplete:function(){this.element.find(".ui-dock").focus();g.readText(this.options.undockAnnouncementText)},
dock:function(a){this.isUndocked()&&(this.isDocked=!0,this.dockTipsy&&(this.dockTipsy.remove(),this.dockTipsy=null),this._unbindUnDockedEvents(),this._persistState(),!1!==a&&this.useTransitions?this._getPlaceholder().animate({width:this.expandedWidth},200,c.bind(this._dockingComplete,this)):this._dockingComplete())},_dockingComplete:function(){this.element.removeClass(this._getUndockedClasses());this.element.removeClass(this._getUndockedStates());this.element.css({height:"",width:"",top:""}).insertBefore(this._getPlaceholder());
this._getPlaceholder().remove();this.options.renderExpanded(this.element);this._setupHandle();this._renderUnDock();JIRA.Issues.triggerHorizontalResize();this.element.find(".ui-undock").focus();g.readText(this.options.dockAnnouncementText)},_getContents:function(){this.element.find(".ui-sidebar-content").length||this.element.wrapInner("\x3cdiv class\x3d'ui-sidebar-content' /\x3e");return this.element.find(".ui-sidebar-content")},expand:function(a){this.isCollapsed()?(this.updateOffsets(),!1!==a&&this.useTransitions?
(this._setUndockedState(this.CLASS_NAMES.expanding),this.element.animate({width:this.expandedWidth},150,c.bind(function(){this._setUndockedState(this.CLASS_NAMES.expanded);this.options.renderExpanded(this.element);this._renderDock();this._getContents().css("opacity",0).animate({opacity:1},200,c.bind(this._expandingComplete,this))},this))):(this.element.css("width",this.expandedWidth),this.options.renderExpanded(this.element),this._renderDock(),this._expandingComplete())):this.isCollapsing()?this.activityAfterTransition=
"expand":this.isExpanding()&&(this.activityAfterTransition=null)},_expandingComplete:function(){JIRA.Issues.triggerHorizontalResize();this._bindUnDockedEvents(!0);this._setUndockedState(this.CLASS_NAMES.expanded);"collapse"===this.activityAfterTransition&&(this.activityAfterTransition=null,this.collapse(!0))},collapse:function(a,b){this.isExpanded()?!1!==a&&this.useTransitions?(this._setUndockedState(this.CLASS_NAMES.collapsing),this._getContents().animate({opacity:0},150,c.bind(function(){this.options.renderCollapsed(this.element);
this.element.width(this.expandedWidth);this.element.animate({width:this.options.collapsedWidth},150,c.bind(function(){this._collapsingComplete(b)},this))},this))):(this.options.renderCollapsed(this.element),this.element.width(""),this._collapsingComplete(b)):this.isExpanding()?this.activityAfterTransition="collapse":this.isCollapsing()&&(this.activityAfterTransition=null)},_collapsingComplete:function(a){this._setUndockedState(this.CLASS_NAMES.collapsed);JIRA.Issues.triggerHorizontalResize();this._bindUnDockedEvents(!1);
"expand"===this.activityAfterTransition&&(this.activityAfterTransition=null,this.expand(!0));"function"===typeof a&&a()},isCollapsed:function(){return this.element.hasClass(this.CLASS_NAMES.collapsed)},isCollapsing:function(){return this.element.hasClass(this.CLASS_NAMES.collapsing)},isExpanded:function(){return this.element.hasClass(this.CLASS_NAMES.expanded)},isExpanding:function(){return this.element.hasClass(this.CLASS_NAMES.expanding)}})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/HtmlCatchExceptions.js' */
(function(a){var b=function(a){return function(b){try{a.apply(this,arguments)}catch(c){console&&console.error&&"string"===typeof b&&console.error("Error while evaluating HTML: "+c.message+", in: ",b)}return this}};a.fn.htmlCatchExceptions=b(a.fn.html);a.fn.appendCatchExceptions=b(a.fn.append);a.fn.prependCatchExceptions=b(a.fn.prepend);a.catchExceptions=function(b){return a("\x3cdiv\x3e").htmlCatchExceptions(b).children()}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/mixin/SingleSelect.js' */
define("jira/issues/mixin/singleselect",function(){return{properties:["collection"],selectById:function(a){this.setSelected(this.getCollection().get(a))},selectAt:function(a){this.setSelected(this.getCollection().at(a))},clearSelection:function(){this.setSelected()},next:function(){var a=this.getSelected(),b=this.getCollection();a?(a=(b.indexOf(a)+1)%b.length,this.setSelected(b.at(a))):0<b.length&&this.setSelected(b.first())},prev:function(){var a=this.getSelected(),b=this.getCollection();a?(a=(b.indexOf(a)+
b.length-1)%b.length,this.setSelected(b.at(a))):0<b.length&&this.setSelected(b.last())}}});AJS.namespace("JIRA.Issues.Mixin.SingleSelect",null,require("jira/issues/mixin/singleselect"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/SessionTimedOutDialog.js' */
define("jira/issues/session-timed-out-dialog",["jquery"],function(c){return{dialogHasShown:!1,whiteList:["/secure/Search!Jql.jspa","/secure/SearchRendererEdit!Default.jspa","/rest/issueNav/1/issueTable","/rest/issueNav/latest","/rest/api/2/filter"],onRequestResponse:function(b,a,d){!this.dialogHasShown&&this.urlIsInWhiteList(d.url)&&(b=JIRA.Issues.LoginUtils.loggedInUserName(),a=a.getResponseHeader("X-AUSERNAME"),this.userHasChanged(b,a)&&(this.dialogHasShown=!0,(new JIRA.FormDialog({content:c(JIRA.Templates.Issues.Util.anonymousErrorDialog({modifierKey:AJS.Navigator.modifierKey(),
redirect:window.location.href.substring(window.location.href.indexOf(AJS.contextPath())+AJS.contextPath().length)}))})).show()))},userHasChanged:function(b,a){return""===b&&"anonymous"===a||""===b&&a&&"anonymous"!==a&&""!==a?!1:""!==b&&"anonymous"===a?!0:!1},urlIsInWhiteList:function(b){for(var a=0;a<this.whiteList.length;a++)if(-1<b.indexOf(this.whiteList[a]))return!0;return!1}}});
require(["jquery","jira/issues/session-timed-out-dialog"],function(c,b){c(document).ajaxComplete(function(a,c,e){b.onRequestResponse(a,c,e)});AJS.namespace("JIRA.Issues.SessionTimedOutDialog",null,b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/cache/IssueCacheManager.js' */
define("jira/issues/search/cache/cache-manager",["require"],function(b){var c=b("jira/issues/baseevented"),d=b("jira/issues/dark-features");return c.extend({initialize:function(a){this.searchResults=a.searchResults;this.viewIssueData=a.viewIssueData;this.searchResults.bind("issueDeleted",this._onIssueDeleted,this);this.searchResults.bind("nextIssueSelected",this._onNextIssueSelected,this);this.searchResults.bind("prevIssueSelected",this._onPrevIssueSelected,this);this._prefetchCandidate=null},prefetchIssues:function(){this._prefetchCandidate&&
this._prefetchCandidate.key&&(this._prefetchIssue(this._prefetchCandidate.key),this._prefetchCandidate=null)},scheduleIssueToBePrefetched:function(a){this._prefetchCandidate=a},_onIssueDeleted:function(a){this.viewIssueData.remove(a.key)},_onNextIssueSelected:function(a){this._prefetchCandidate=a.nextNextIssue},_onPrevIssueSelected:function(a){this._prefetchCandidate=a.prevPrevIssue},_prefetchIssue:function(a){d.NO_PREFETCH.enabled()||this.viewIssueData.get(a,!1,{prefetch:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/SimpleIssue.js' */
define("jira/issues/search/issue/simple-issue",["require"],function(a){return a("jira/issues/basemodel").extend({properties:["id","key"],defaults:{id:null,key:null},hasIssue:function(){return!!this.getId()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/FullScreenIssue.js' */
define("jira/issues/search/issue/full-screen-issue",["require"],function(b){var d=b("jira/issues/libs/trace"),g=b("jira/issues/baseview"),c=b("jira/issues/application"),h=b("jira/util/events"),k=b("jira/util/events/types"),l=b("jira/util/events/reasons"),f=b("jira/components/libs/underscore"),e=b("jquery"),m=b("jira/issues/notifications");return g.extend({namedEvents:["issueHidden"],initialize:function(a){f.extend(this,a);f.bindAll(this,"onLoadComplete","showError");this.issueContainer.hasClass("hidden")&&
(this.issueContainer.detach(),this.issueContainer.removeClass("hidden"));this.searchContainer.hasClass("hidden")&&(this.searchContainer.detach(),this.searchContainer.removeClass("hidden"))},bindSearchService:function(a){this.listenTo(a,{issueUpdated:function(a,c,b){if("inlineEdit"!==b.action&&"rowUpdate"!==b.action)return this.updateIssue(b)},selectedIssueChanged:function(b){b.hasIssue()?(c.execute("issueEditor:abortPending"),this.show({id:b.getId(),key:b.getKey(),pager:a.getPager()}),this.updatePager(a.getPager())):
this.isVisible()&&(this.hide(),d("jira.returned.to.search"),d("jira.psycho.returned.to.search"),c.execute("analytics:trigger","kickass.returntosearch"))}})},deactivate:function(){this.stopListening();this.active&&(this.stalker&&this.stalker.unstalk(),c.off("issueEditor:loadComplete",this.onLoadComplete),c.off("issueEditor:loadError",this.showError),c.execute("issueEditor:abortPending"),this.active=!1)},activate:function(){this.active||(c.on("issueEditor:loadComplete",this.onLoadComplete),c.on("issueEditor:loadError",
this.showError),this.active=!0)},onLoadComplete:function(a,b){this.stalker=e(".js-stalker",this.issueContainer).stalker();this._makeIssueVisible();b.isNewIssue&&this._scrollToTop()},_makeIssueVisible:function(){c.execute("issueEditor:beforeShow");this._setBodyClasses({error:!1,issue:!0,search:!0});this.isVisible()||(this.issueContainer.insertBefore(this.searchContainer),this.searchContainer.detach(),d("jira.psycho.issue.refreshed",{id:c.request("issueEditor:getIssueId")}),h.trigger(k.NEW_CONTENT_ADDED,
[this.issueContainer,l.pageLoad]))},updateIssue:function(a){var b=a.key===c.request("issueEditor:getIssueKey");if(this.isVisible()){var d=c.request("issueEditor:refreshIssue",a);d.done(function(){!b&&a.message&&m(a.message,a.key)})}else d=(new e.Deferred).resolve().promise();return d},showError:function(){this._setBodyClasses({error:!0,issue:!1,search:!1})},isVisible:function(){return 0<this.issueContainer.closest("body").length},_scrollToTop:function(){e(window).scrollTop(0)},_setBodyClasses:function(a){e("body").toggleClass("page-type-message",
a.error).toggleClass("navigator-issue-only",a.issue).toggleClass("page-type-navigator",a.search)},hide:function(){this._setBodyClasses({error:!1,issue:!1,search:!0});this.isVisible()&&(this.searchContainer.insertBefore(this.issueContainer),this.issueContainer.detach(),this.trigger("issueHidden"))},updatePager:function(a){c.execute("pager:update",a)},show:function(a){this.activate();c.execute("issueEditor:setContainer",this.issueContainer);return c.request("issueEditor:loadIssue",a).always(f.bind(function(){e(".js-stalker",
this.issueContainer).stalker();this.updatePager(a.pager);this.issueCacheManager&&this.issueCacheManager.prefetchIssues()},this))},isLoading:function(){return c.request("issueEditor:isCurrentlyLoading")},registerIssueCacheManager:function(a){this.issueCacheManager=a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/util/QueryStringParser.js' */
define("jira/issues/query-string-parser",function(){return{parser:/(?:^|&)([^&=]*)=?([^&]*)/g,parse:function(a){if(!a&&0!==a)return{};a=""+a;"?"===a.charAt(0)&&(a=a.substring(1));var b={};a.replace(this.parser,function(a,c,d){a=decodeURIComponent((d||"").replace(/\+/g," "));b[decodeURIComponent(c)]=a});return b}}});AJS.namespace("JIRA.Issues.QueryStringParser",null,require("jira/issues/query-string-parser"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/cache/namespace.js' */
AJS.namespace("JIRA.Issues.Cache.IssueCacheManager",null,require("jira/issues/search/cache/cache-manager"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:common', location = 'content/js/search/issue/namespace.js' */
AJS.namespace("JIRA.Issues.FullScreenIssue",null,require("jira/issues/search/issue/full-screen-issue"));AJS.namespace("JIRA.Issues.SimpleIssue",null,require("jira/issues/search/issue/simple-issue"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/util/FocusShifterService.js' */
define("jira/issues/viewissue/focus-shifter",["underscore"],function(c){return{init:function(){return JIRA.Shifter.register(function(){if(JIRA.Issues.Api.issueIsVisible&&!JIRA.Issues.Api.issueIsVisible())var b=[];else{var a=JIRA.Issues.Api.getFieldsOnSelectedIssue();b=a?JIRA.Issues.FocusShifter.getSuggestions(a):[]}return{id:"edit-fields",name:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044f",context:JIRA.Issue.getIssueKey(),weight:100,getSuggestions:function(){return(new jQuery.Deferred).resolve(b)},
onSelection:function(a){JIRA.Issues.Api.editFieldOnSelectedIssue(a)}}})},show:function(){JIRA.Shifter.show()},getSuggestions:function(b){return c.chain(b.models).filter(JIRA.Components.IssueEditor.Models.Field.IS_EDITABLE).filter(function(a){return"comment"!==a.id}).map(function(a){return{label:a.getLabel(),value:a.id}}).value()}}});AJS.namespace("JIRA.Issues.FocusShifter",null,require("jira/issues/viewissue/focus-shifter"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/util/Overrides.js' */
define("jira/issues/viewissue/overrides",function(){return function(b,a){JIRA.one(JIRA.Events.ISSUE_REFRESHED,function(){a.type=JIRA.Messages.Types[a.type];JIRA.Messages.showMsg(b,a)})}});AJS.namespace("JIRA.Messages.showMsgOnReload",null,require("jira/issues/viewissue/overrides"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/templates/util.soy' */
// This file was automatically generated from util.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issues.Util.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issues == 'undefined') { JIRA.Templates.Issues = {}; }
if (typeof JIRA.Templates.Issues.Util == 'undefined') { JIRA.Templates.Issues.Util = {}; }


JIRA.Templates.Issues.Util.simpleLink = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.link.id) ? ' id="' + soy.$$escapeHtml(opt_data.link.id) + '"' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '"' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.Util.simpleLink.soyTemplateName = 'JIRA.Templates.Issues.Util.simpleLink';
}


JIRA.Templates.Issues.Util.issueAnchor = function(opt_data, opt_ignored) {
  return '<a class="issue-key" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '"> ' + soy.$$escapeHtml(opt_data.issueKey) + ' </a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.Util.issueAnchor.soyTemplateName = 'JIRA.Templates.Issues.Util.issueAnchor';
}


JIRA.Templates.Issues.Util.anonymousErrorDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml('\u0421\u0435\u0441\u0441\u0438\u044f \u0417\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430') + '</h2>' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'warning', messages: ['\u041f\u043e\u0445\u043e\u0436\u0435 \u0432\u0430\u0448 \u0441\u0435\u0430\u043d\u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0441\u044f, \u0438\u043b\u0438 \u0432\u044b \u0431\u044b\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u043e\u0442 Jira. \u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u043d\u043e\u0432\u0430 \u0432\u043e\u0439\u0442\u0438 \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c.']}) + '</div><div class="buttons-container form-footer"><div class="buttons"><a accesskey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="aui-button submit" href="' + soy.$$escapeHtml("") + '/login.jsp?os_destination=' + soy.$$escapeHtml(opt_data.redirect) + '">' + soy.$$escapeHtml('\u0412\u043e\u0439\u0442\u0438 \u0441\u043d\u043e\u0432\u0430') + '</a><a accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml('\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + '</a></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.Util.anonymousErrorDialog.soyTemplateName = 'JIRA.Templates.Issues.Util.anonymousErrorDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:viewissue', location = 'content/js/viewissue/IssueNavLoader.js' */
define("jira/issues/viewissue/issuenavloader",["jquery","jira/util/browser"],function(b,c){return{SPA_NAVIGATION_TIMEOUT:6E3,stateChange:void 0,initialize:function(a){this.issueNavOptions=a},requireIssueNav:function(){var a=new b.Deferred;WRM.require(["wrc!com.atlassian.jira.jira-issue-nav-plugin:issuenav"],function(){a.resolve()});return a.promise()},loadIssueNav:function(){JIRA.Issues.Application.on("navigation:stateChanged",this._onStateChanged,this);return this.requireIssueNav().then(function(){JIRA.Issues.GlobalIssueNavCreator.create(b(document),
this.issueNavOptions)}.bind(this)).then(this._onIssueNavInitialized.bind(this))},_onIssueNavInitialized:function(){this.stateChange&&(JIRA.Issues.Application.execute("navigation:updateState",this.stateChange,{replace:!0,reset:!0,forceRefresh:!0}),this.stateChange=void 0);JIRA.Issues.Application.off("navigation:stateChanged",this._onStateChanged)},_onStateChanged:function(a){this.stateChange=a;this._triggerNavigationAnalyticsEvent();setTimeout(function(){if(this.stateChange){JIRA.Issues.Application.execute("analytics:trigger",
"kickass.viewIssueNavigationPageReload",{navigationTimeout:this.SPA_NAVIGATION_TIMEOUT});var a=AJS.contextPath()+"/"+this.stateChange.toUrl();c.reloadViaWindowLocation(a)}}.bind(this),this.SPA_NAVIGATION_TIMEOUT)},_triggerNavigationAnalyticsEvent:function(){var a=parseInt(window.performance.now()-window.performance.timing.loadEventEnd+window.performance.timing.navigationStart);JIRA.Issues.Application.execute("analytics:trigger","kickass.viewIssueNavigationRequested",{navigationTime:a})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/DialogCleanup.js' */
define("jira/issues/dialog-cleaner",["require"],function(b){const c=b("jira/dialog/dialog-stack");return function(){JIRA.Issues.Application.on("navigation:stateChanged",function(b,a){a=a||{};a.fullPageLoad||(c.current&&c.current.hide(),AJS.HelpTip&&AJS.HelpTip.Manager&&(AJS.HelpTip.Manager.hideSequences(),AJS.HelpTip.Manager.clearSequences()))})}});AJS.namespace("JIRA.Issues.dialogCleaner",null,require("jira/issues/dialog-cleaner"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/OverrideIssueDialogUtil.js' */
(function(){JIRA.Dialogs.getDefaultAjaxOptions=function(){var a=this.options.url||this.getRequestUrlFromTrigger();this.issueId=JIRA.Issues.Api.getSelectedIssueId();this.issueKey=JIRA.Issues.Api.getSelectedIssueKey();if(/id=\{0\}/.test(a))if(this.issueId)a=a.replace(/(id=\{0\})/,"id\x3d"+this.issueId);else return!1;return{data:{decorator:"dialog",inline:"true"},url:a}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/util/OverrideIssueDialogs.js' */
define("jira/issues/search/util/overrideissuedialogs",["require","underscore","jira/dialog/form-dialog"],function(m,n,p){function g(){if("clone-issue-dialog"===this.options.id)h.apply(this,arguments);else if("delete-issue-dialog"===this.options.id||"archive-issue-dialog"===this.options.id)if(e)this.hide(),b(this);else{var a=this._getTargetUrlValue();a&&""!==a?AJS.reloadViaWindowLocation(a):0<AJS.$(".page-navigation #next-issue").length?AJS.reloadViaWindowLocation(AJS.$(".page-navigation #next-issue").attr("href")):
0<AJS.$(".page-navigation #return-to-search").length?AJS.reloadViaWindowLocation(AJS.$(".page-navigation #return-to-search").attr("href")):AJS.reloadViaWindowLocation(AJS.$("#find_link").attr("href"))}else{var d=this;this.showFooterLoadingIndicator();b(this).always(function(){JIRA.trace("jira.issue.update");d.hideFooterLoadingIndicator();d.hide()})}}var k,e,b,l=!1;const f=m("jira/dialog/dialog-stack");var q=JIRA.FormDialog.prototype._getDefaultOptions;JIRA.FormDialog.prototype._getDefaultOptions=
function(){var a=q.call(this),d=a.onDialogFinished;a.onDialogFinished=function(){this.isIssueDialog()?g.apply(this,arguments):d.apply(this,arguments)};return a};var h=JIRA.FormDialog.prototype._performRedirect;JIRA.FormDialog.prototype._performRedirect=function(){this.isIssueDialog()?g.apply(this,arguments):h.apply(this,arguments)};return function(a){a=n.defaults({},a,{isNavigator:!1});k=a.getIssueId;e=!!a.isNavigator;b=a.updateIssue;l||(e&&(JIRA.LabelsDialog.prototype._handleSubmitResponse=p.prototype._handleSubmitResponse),
AJS.$(function(){JIRA.bind("QuickEdit.sessionComplete",function(){b(f.current)});JIRA.bind("QuickCreateSubtask.sessionComplete",function(){b(f.current)})}),JIRA.bind("Dialog.show",function(a,b,c){c&&(c.issueId=k(f.current))}),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(a,b){b.find(".issueaction-workflow-transition").each(function(){var a=AJS.$(this),b=a.attr("href");b=b.replace(/atl_token=[^&]*/,"atl_token\x3d"+atl_token());a.attr("href",b)})}),JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(){var a=
AJS.$("#ops-login-lnk");if(0!==a.length){var b=window.location,c=parseUri(a.attr("href"));c.queryKey.os_destination=b.pathname.slice(AJS.contextPath().length)+b.search;a.attr("href",c.path+"?"+AJS.$.param(c.queryKey))}}),l=!0)}});AJS.namespace("JIRA.Issues.overrideIssueDialogs",null,require("jira/issues/search/util/overrideissuedialogs"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-page-changes', location = 'content/js/search/enhanceIssueLinks.js' */
define("jira/issues/enhance-links",["underscore","jira/components/libs/uri"],function(e,f){return{withPushState:function(a){a=e.defaults(a,{selector:".push-state"});AJS.$(document).delegate(a.selector,"simpleClick",function(a){this.href&&(a.preventDefault(),a=(new f(this.href)).fragment("").resource(),a=a.replace(JIRA.Issues.IssueNavRouter.getBackboneRoot(),""),JIRA.Issues.Application.execute("navigation:navigateToUrl",a,{forceRefresh:!0,checkPermission:!0,replace:!0,reset:!0}))})},toIssueNav:function(){AJS.$(document).on("simpleClick",
"a.filter-link[data-filter-id], a.filter-link[data-jql]",function(a){a.preventDefault();var b=AJS.$(a.target).closest("a");a=b.data("filter-id");b=b.data("jql");JIRA.Issues.Application.execute("navigation:navigate",{filter:a,jql:b,searchId:e.uniqueId()},{reset:!0,resetQuery:!0})});AJS.$(document).on("simpleClick","#issues_new_search_link_lnk",function(a){a.preventDefault();JIRA.Issues.Application.execute("navigation:navigate",{jql:"",searchId:e.uniqueId()},{reset:!0,resetQuery:!0})})},isIssueTableDropdown:function(){if(AJS.InlineLayer.current&&
jQuery(AJS.InlineLayer.current.offsetTarget()).closest(".list-view table#issuetable").length)return!0},toIssue:function(){AJS.$(document).on("simpleClick","a.issue-link[data-issue-key]",function(a){if(!a.isDefaultPrevented()){a.preventDefault();a.stopPropagation();var b=AJS.$(a.target).closest("a").data("issue-key"),c=AJS.$(a.target).is(".list-view table#issuetable a.issue-link[data-issue-key]");a=AJS.$(a.target).is(".parentIssue");var d=JIRA.Issues.enhanceLinks.isIssueTableDropdown(".list-view table#issuetable a.issue-link[data-issue-key]");
this.searchPageModule&&(c&&!a||d)?(c=this.searchPageModule.searchResults,a=c._getIssueIdForKey(b),d=parseInt(a,10),JIRA.Issues.Application.execute("analytics:trigger","kickass.openIssueFromTable",{issueId:a,absolutePosition:c.getPositionOfIssueInSearchResults(d)+1,relativePosition:c.getPositionOfIssueInPage(d)+1,source:"jira.issuenav.global"}),JIRA.Issues.Application.execute("navigation:navigate",{selectedIssueKey:b})):(require("jira/issues/navigator/metrics").notifyIssueView(),JIRA.Issues.Application.execute("navigation:navigate",
{selectedIssueKey:b},{reset:!0}))}}.bind(this))},registerSearchPageModule:function(a){this.searchPageModule=a}}});AJS.namespace("JIRA.Issues.enhanceLinks",null,require("jira/issues/enhance-links"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPicker.soy' */
// This file was automatically generated from ColumnPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dialogs.ColumnPicker.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dialogs == 'undefined') { JIRA.Templates.Dialogs = {}; }
if (typeof JIRA.Templates.Dialogs.ColumnPicker == 'undefined') { JIRA.Templates.Dialogs.ColumnPicker = {}; }


JIRA.Templates.Dialogs.ColumnPicker.popup = function(opt_data, opt_ignored) {
  var output = '<div><form action="#" method="post"  class="aui top-label column-picker"><div class="check-list-top-panel"><h3>' + soy.$$escapeHtml('\u041a\u043e\u043b\u043e\u043d\u043a\u0438') + '</h3>';
  if (opt_data.columns.length > 1) {
    output += '<div class="aui-buttons">';
    var columnList9 = opt_data.columns;
    var columnListLen9 = columnList9.length;
    for (var columnIndex9 = 0; columnIndex9 < columnListLen9; columnIndex9++) {
      var columnData9 = columnList9[columnIndex9];
      output += '<button type="button" class="config-chooser aui-button ' + ((columnData9.isActive) ? ' active' : '') + '" id="columns-chooser-' + soy.$$escapeHtml(columnData9.name) + '" data-value="' + soy.$$escapeHtml(columnData9.name) + '"' + ((columnData9.isDisabled) ? 'aria-disabled="true"' : '') + '>' + soy.$$escapeHtml(columnData9.description) + '</button>';
    }
    output += '</div>';
  }
  output += '</div>';
  var columnList28 = opt_data.columns;
  var columnListLen28 = columnList28.length;
  for (var columnIndex28 = 0; columnIndex28 < columnListLen28; columnIndex28++) {
    var columnData28 = columnList28[columnIndex28];
    output += '<div class="' + soy.$$escapeHtml(columnData28.name) + '-column-sparkler hidden"></div>';
  }
  output += ((! opt_data.isAutoUpdate) ? '<div class="button-panel"><input accesskey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="aui-button submit" type="submit" value="' + soy.$$escapeHtml('\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e') + '"/> <a accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link close-dialog" href="javascript:">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</a></div>' : '') + '</form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.ColumnPicker.popup.soyTemplateName = 'JIRA.Templates.Dialogs.ColumnPicker.popup';
}


JIRA.Templates.Dialogs.ColumnPicker.trigger = function(opt_data, opt_ignored) {
  return '<button class="aui-button column-picker-trigger jira-aui-dropdown2-trigger" title="' + soy.$$escapeHtml('\u041a\u043e\u043b\u043e\u043d\u043a\u0438') + '">' + soy.$$escapeHtml('\u041a\u043e\u043b\u043e\u043d\u043a\u0438') + '</button>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.ColumnPicker.trigger.soyTemplateName = 'JIRA.Templates.Dialogs.ColumnPicker.trigger';
}


JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink = function(opt_data, opt_ignored) {
  return '<button class="aui-button aui-button-link restore-defaults">' + soy.$$escapeHtml(opt_data.linkText) + '</button>';
};
if (goog.DEBUG) {
  JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink.soyTemplateName = 'JIRA.Templates.Dialogs.ColumnPicker.restoreDefaultsLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerModel.js' */
define("jira/components/columnpicker/model",["require"],function(d){var c=d("jira/components/libs/underscore"),f=d("jira/components/libs/brace"),g=window.AJS.contextPath(),h=d("jquery");return f.Model.extend({namedAttributes:["columnConfig","savedColumnConfig","search","availableColumns","autoUpdate"],namedEvents:["columnsSync","changeColumnConfigDisabled","destroyColumnConfig"],allColumnsUrl:g+"/rest/gadget/1.0/availableColumns",shouldRefreshSearchOnActivation:function(){return this.getCurrentColumnConfig().shouldRefreshSearchOnActivation()},
shouldCloseOnActivation:function(){return this.getCurrentColumnConfig().shouldCloseOnActivation()},shouldLoadDefaultsOnActivation:function(){return this.getCurrentColumnConfig().shouldLoadDefaultsOnActivation()},shouldRevertOnHide:function(){return this.getCurrentColumnConfig().shouldRevertOnHide()},loadDefaultColumns:function(){this.getCurrentColumnConfig().loadDefaultColumns()},initialize:function(){this.columnsData={}},refreshSearchWithColumns:function(a){a=a||this.getCurrentColumnConfig();this.triggerColumnsSync(a.getName(),
a.getColumns())},fetchAvailableColumnsIfNeeded:function(){this.has("availableColumns")||h.ajax(this.allColumnsUrl).done(c.bind(function(a){this.setAvailableColumns(a.availableColumns)},this))},getCurrentColumnConfig:function(a){a||(a=this.getColumnConfig());return this.columnsData[a]},revertColumnConfig:function(){this.shouldRevertOnHide()&&this.getSavedColumnConfig()!==this.getColumnConfig()&&(this._previousAttributes.columnConfig=this.getSavedColumnConfig(),this.setColumnConfig(this.getSavedColumnConfig(),
{silent:!0}))},setCurrentColumnConfig:function(a){this.setColumnConfig(a);this.setSavedColumnConfig(a)},syncColumns:function(a,b){c.each(this.columnsData,function(e){e.getName()===a&&(e.setColumns(b),e.setSavedColumns(b))})},saveColumns:function(a){this.getCurrentColumnConfig().setColumns(a);this.getCurrentColumnConfig().save();this.getCurrentColumnConfig().triggerColumnsSync()},addColumnProvider:function(a,b){this.columnsData[a]=b;b.on("columnsSync sync destroy",c.bind(function(){this.refreshSearchWithColumns(b)},
this));b.on("change:isDisabled",c.bind(function(a,b){this.triggerChangeColumnConfigDisabled(a,b)},this));b.on("destroy",c.bind(function(a){this.triggerDestroyColumnConfig(a)},this))}})});AJS.namespace("JIRA.Issues.ColumnPickerModel",null,require("jira/components/columnpicker/model"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnConfigModel.js' */
define("jira/components/columnpicker/columnconfigmodel",["require"],function(d){var c=d("jira/components/libs/underscore"),g=d("jira/components/libs/brace"),f=d("jquery"),e=g.Model.extend({namedAttributes:"name columns autoUpdate savedColumns description previousColumns actionBarText isActive".split(" "),namedEvents:["columnsSync"],defaults:{actionBarText:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e:",isActive:!1},idAttribute:"name",initialize:function(a,b){c.extend(this,b)},getDefaultColumns:function(){var a=
new f.Deferred;this.defaultColumns().done(c.bind(function(b){(b=this.parse(b))&&b.columns?a.resolve(b.columns):a.reject(null)},this));return a.promise()},parse:function(a){return a?{columns:c.compact(c.pluck(a,"value"))}:{}},isDisabled:function(){return!1},isEditDisabled:function(){return!1},defaultColumns:function(){var a=new f.Deferred;a.resolve([]);return a.promise()},_sortColumnsUsingOriginalOrder:function(a,b){return c.intersection(a,b).concat(c.difference(b,a))},setUnsortedColumns:function(a,
b){a=this._sortColumnsUsingOriginalOrder(b,a);this.setPreviousColumns(b,{silent:!0});this.setColumns(a)},toJSON:function(){return{columns:this.getColumns()}},revertUnsavedColumns:function(a){this.getSavedColumns()!==this.getColumns()&&this.setColumns(this.getSavedColumns(),a)},loadDefaultColumns:function(){this.getDefaultColumns().done(c.bind(function(a){this.setColumns(a)},this))},shouldRefreshSearchOnActivation:function(){return!0},shouldCloseOnActivation:function(){return!0},shouldLoadDefaultsOnActivation:function(){return!1},
shouldRevertOnHide:function(){return!0}});e.create=function(a,b,c,d){return new e({autoUpdate:d,name:a,description:b},c)};return e});AJS.namespace("JIRA.Issues.ColumnConfigModel",null,require("jira/components/columnpicker/columnconfigmodel"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerSuggestHandler.js' */
define("jira/components/columnpicker/suggesthandler",["require"],function(b){var g=b("jira/components/libs/underscore"),f=b("jira/ajs/list/group-descriptor"),d=b("jquery"),h=b("jira/ajs/select/suggestions/select-suggest-handler"),e=b("jira/ajs/select/suggestions/suggest-helper"),k=window.JIRA.Templates.Dialogs.ColumnPicker;return h.extend({createActionBar:function(a){if(!a)return null;var b=d(k.restoreDefaultsLink({linkText:a}));b.click(function(a){"true"!==d(a.target).attr("aria-disabled")&&b.trigger("actionclick");
a.preventDefault()});return d("\x3cli class\x3d'check-list-group-actions'\x3e\x3c/li\x3e").append(b)},formatSuggestions:function(a,b){var c=e.removeDuplicates(this.model.getDisplayableSelectedDescriptors());c=new f({styleClass:"selected-group",items:c});a.splice(0,0,c);(c=g.find(a,function(a){return a.items().length}))&&c.actionBarHtml(this.createActionBar(this.options.actionBar));0<b.length&&(a=e.removeDuplicates(a),a=e.extractItems(a).sort(function(a,b){a=a.label().toLowerCase();b=b.label().toLowerCase();
return a.localeCompare(b)}),a=[new f({items:a})]);return a}})});AJS.namespace("JIRA.Issues.ColumnPickerSuggestHandler",null,require("jira/components/columnpicker/suggesthandler"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerSparklerView.js' */
define("jira/components/columnpicker/sparklerview",["require"],function(b){var c=b("jira/components/libs/underscore"),e=window.AJS.Templates,f=b("jira/components/libs/brace"),g=b("jira/ajs/select/checkbox-multi-select"),h=b("jira/components/columnpicker/suggesthandler"),k=b("jira/ajs/list/group-descriptor"),l=b("jira/ajs/list/item-descriptor"),m=b("aui/message"),n=b("jquery");return f.View.extend({initialize:function(a){this._maxResults="number"===typeof a.maxResults?a.maxResults:this.MAX_DISPLAYED_ITEMS;
this._autoUpdate=!!a.autoUpdate;this.$el.scrollLock(".aui-list-scroll");if(!this._autoUpdate)this.model.on("change:columns",c.bind(this._setSelectedColumns,this))},MAX_DISPLAYED_ITEMS:25,_sparkler:null,activate:function(){this.model.setIsActive(!0)},deactivate:function(){this.model.setIsActive(!1)},hide:function(){this.model.revertUnsavedColumns({silent:!0});this.$el.addClass("hidden");this.$el.find("input[id *\x3d column-sparkler-input]").val("")},show:function(){this.$el.removeClass("hidden");this._setSelectedColumns();
var a=this.$el.find("input[id *\x3d column-sparkler-input]");a.is(":disabled")||a.focus()},addMessage:function(a){if(0===this.$el.find(".aui-message.aui-message-"+a.type).length)m[a.type](this.$el,{body:a.content,closeable:!1,insert:"prepend",id:a.id})},_disableEditIfNeeded:function(){this.model.isEditDisabled()?this._disableEdit():this._enableEdit()},_showEditDisabledMessage:function(){this._hasEditDisabledMessage()||this.addMessage({content:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430, \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0435\u0439 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e.",
type:"warning",id:this.model.getName()+"-edit-disabled-message"})},_hasEditDisabledMessage:function(){return 0<this.$el.find("#"+this.model.getName()+"-edit-disabled-message").length},_hideEditDisabledMessage:function(){this.$el.find("#"+this.model.getName()+"-edit-disabled-message").remove()},_disableEdit:function(){this._sparkler.disable();this.$el.find("input[type\x3d'checkbox']").attr("disabled","disabled");this.$el.find(".check-list-item").addClass("disabled");this.$el.find(".no-suggestions").addClass("disabled");
this.$el.find(".restore-defaults").attr("aria-disabled","true");this._showEditDisabledMessage()},_enableEdit:function(){this._sparkler.enable();this.$el.find("input[type\x3d'checkbox']").removeAttr("disabled");this.$el.find(".check-list-item").removeClass("disabled");this.$el.find(".no-suggestions").removeClass("disabled");this.$el.find(".restore-defaults").removeAttr("aria-disabled");this._hideEditDisabledMessage()},createSparklerControl:function(a){this._sparkler&&this._sparkler.remove();a=this._buildQueryableSelect(a);
this.$el.append(a);this._sparkler=new g({element:a,maxInlineResultsDisplayed:this._maxResults,suggestionsHandler:h,actionBar:this.model.getActionBarText(),changeFocusAfterSelect:!1,prioritizeExactMatches:!0});this._setSelectedColumns();this._autoUpdate&&(a.bind("selected",c.bind(this.saveColumns,this)),a.bind("unselect",c.bind(this.saveColumns,this)));this._sparkler.$field.focus();this.$el.on("actionclick",c.bind(function(a){a.preventDefault();this.model.unset("columns");this.model.destroy()},this));
this.model.on("change:editDisabled",c.bind(this._disableEditIfNeeded,this))},saveColumns:function(){var a=this.model.getColumns()||$("th.colHeaderLink").map(function(){return $(this).attr("data-id")}).get();this.model.setUnsortedColumns(this._sparkler.model.getSelectedValues(),a);this.model.save(null,{wait:!1})},_setSelectedColumns:function(){var a=this.model.getColumns(),d=this._sparkler;d&&a&&a.length&&(c.each(d.model.getDisplayableUnSelectedDescriptors(),function(b){c.contains(a,b.value())&&d.selectItem(b)}),
c.each(d.model.getDisplayableSelectedDescriptors(),function(b){c.contains(a,b.value())||d.unselectItem(b)}),d.render(),this._disableEditIfNeeded())},_buildQueryableSelect:function(a){a=c.map(a,function(a){return new l(c.extend(a,{title:a.label}))});return n(e.queryableSelect({id:this.model.getName()+"-column-sparkler",descriptors:[new k({items:a})]}))}})});AJS.namespace("JIRA.Issues.ColumnPickerSparklerView",null,require("jira/components/columnpicker/sparklerview"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPickerView.js' */
define("jira/components/columnpicker/view",["require"],function(c){var d=c("jira/components/libs/underscore"),e=c("aui/inline-dialog"),h=c("jira/components/libs/brace"),k=c("jira/components/columnpicker/sparklerview"),f=c("jquery"),g=window.JIRA.Templates.Dialogs.ColumnPicker,l=c("jira/util/data/meta").get("keyboard-accesskey-modifier");return h.View.extend({initialize:function(a){d.extend(this,a);d.bindAll(this,"_generateInlineDialogContent","_onDOMCloseDialogClick","_onDOMConfigChooserClick","_onDOMDialogHide",
"_onDOMFormSubmit","_onDOMTriggerClick","_onModelChangeAvailableColumns","_onModelChangeColumnConfig","_onModelChangeColumnConfigDisabled","_onModelDestroyColumnConfig");this.subViews={}},dialog:null,activeSubview:null,_onDOMConfigChooserClick:function(a){a=f(a.target);a.attr("aria-disabled")||this.columnPickerModel.setColumnConfig(a.data("value")||"user")},_activateNewSubView:function(a){a.activate();this.columnPickerModel.shouldCloseOnActivation()?this.dialog.hide():(this.activeSubview=a,this.activeSubview.show(),
this.adjustHeight());this.columnPickerModel.shouldRefreshSearchOnActivation()&&this.columnPickerModel.refreshSearchWithColumns();this.columnPickerModel.shouldLoadDefaultsOnActivation()&&this.columnPickerModel.loadDefaultColumns()},_onDOMFormSubmit:function(a){a.preventDefault();this.activeSubview.saveColumns();this.dialog.hide()},_onDOMCloseDialogClick:function(){this.dialog.hide()},_onDOMTriggerClick:function(){this.dialog.show();this.activeSubview=this.subViews[this.columnPickerModel.getCurrentColumnConfig().getName()];
this.activeSubview.show();this._activateConfigChooserButton(this.columnPickerModel.getCurrentColumnConfig().getName());this.columnPickerModel.fetchAvailableColumnsIfNeeded()},_activateConfigChooserButton:function(a){this.dialog.find(".config-chooser.active").removeClass("active");this.dialog.find("#columns-chooser-"+a).addClass("active")},_onDOMDialogHide:function(){this.columnPickerModel.revertColumnConfig();this.activeSubview.hide()},_onModelChangeColumnConfig:function(a,b){b=this.subViews[b];this._activateConfigChooserButton(b.model.getName());
a=this.subViews[a.previous("columnConfig")];a!==b&&(a.hide(),a.deactivate(),this._activateNewSubView(b))},_onModelChangeAvailableColumns:function(a,b){d.each(this.subViews,function(a){a.createSparklerControl(b)})},_onModelDestroyColumnConfig:function(){this.dialog.hide()},_onModelChangeColumnConfigDisabled:function(a,b){a=this.dialog.find("#columns-chooser-"+a.getName());b?a.attr("aria-disabled",!0):a.removeAttr("aria-disabled")},render:function(){this.$trigger||(this.$trigger=f(g.trigger()));this.$el.append(this.$trigger);
this.$trigger.click(this._onDOMTriggerClick);this._renderInlineDialog()},adjustHeight:function(){if(e.current&&"column-picker-dialog"===e.current.id&&this.activeSubview){var a=f(this.activeSubview.el).find(".aui-list-scroll"),b=window.innerHeight-this.$trigger.offset().top-90-this.dialog.height();b=Math.max(Math.min(a.height()+b,270),80);a.css("height",b);return!0}return!1},_generateInlineDialogContent:function(a,b,c){this.dialogContent?a.append(this.dialogContent):(a.html(g.popup({modifierKey:l,
isAutoUpdate:this.columnPickerModel.getAutoUpdate(),columns:d.map(this.columnPickerModel.columnsData,d.bind(function(a){return{name:a.getName(),description:a.getDescription(),selected:!1,isDisabled:a.isDisabled(),isActive:this.columnPickerModel.getCurrentColumnConfig()===a}},this))})),a.find(".config-chooser").click(this._onDOMConfigChooserClick),a.find("form").submit(this._onDOMFormSubmit),a.find(".close-dialog").click(this._onDOMCloseDialogClick),a.click(function(a){a.stopPropagation()}),this._createSubViews(a),
this.dialogContent=a.children());c()},_renderInlineDialog:function(){this.dialog||(this.dialog=new e(this.$trigger,"column-picker-dialog",this._generateInlineDialogContent,{offsetY:15,addActiveClass:!0,hideDelay:null,noBind:!0,initCallback:d.bind(function(){var a=this,b=function(){a.adjustHeight()||setTimeout(b,100)};b()},this),hideCallback:this._onDOMDialogHide}))},_createSubViews:function(a){d.each(this.columnPickerModel.columnsData,d.bind(function(b){this.subViews[b.getName()]=new k({el:a.find("."+
b.getName()+"-column-sparkler"),model:b,autoUpdate:this.columnPickerModel.getAutoUpdate()})},this));this.columnPickerModel.has("availableColumns")&&this._onModelChangeAvailableColumns(this.columnPickerModel,this.columnPickerModel.getAvailableColumns());this.columnPickerModel.on("change:availableColumns",this._onModelChangeAvailableColumns);this.columnPickerModel.on("change:columnConfig",this._onModelChangeColumnConfig);this.columnPickerModel.onChangeColumnConfigDisabled(this._onModelChangeColumnConfigDisabled);
this.columnPickerModel.onDestroyColumnConfig(this._onModelDestroyColumnConfig)}})});AJS.namespace("JIRA.Issues.ColumnPickerView",null,require("jira/components/columnpicker/view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:columnpicker', location = 'columnpicker/ColumnPicker.js' */
define("jira/components/columnpicker",["require"],function(c){var d=c("jira/components/libs/underscore"),g=c("jira/components/libs/brace"),f=c("jira/components/columnpicker/columnconfigmodel"),h=c("jira/components/columnpicker/model"),k=c("jira/components/columnpicker/view"),e=g.Model.extend({initialize:function(a,b){this.columnPickerModel=new h({autoUpdate:b.autoUpdate});this.columnPickerView=new k({columnPickerModel:this.columnPickerModel});d.each(b.providers,d.bind(function(a){a instanceof f?this.columnPickerModel.addColumnProvider(a.getName(),
a):(this.columnPickerModel.addColumnProvider(a.id,this._createProviderModel(a)),a.columns&&this.columnPickerModel.syncColumns(a.id,a.columns))},this));this.setCurrentColumnConfig(b.providers[0].id);b.el&&this.columnPickerView.setElement(b.el).render()},_createProviderModel:function(a){return f.create(a.id,a.label,d.omit(a,"id","label","columns"))},getCurrentColumnConfig:function(){return this.columnPickerModel.getCurrentColumnConfig()},setElement:function(a){this.columnPickerView.setElement(a);return this},
render:function(){this.columnPickerView.render();return this},clearFilterConfiguration:function(){this.columnPickerModel.clearFilterConfiguration();return this},adjustHeight:function(){this.columnPickerView.adjustHeight();return this},setCurrentColumnConfig:function(a){this.columnPickerModel.setCurrentColumnConfig(a);return this},saveColumns:function(a){this.columnPickerModel.saveColumns(a);return this},syncColumns:function(a,b){this.columnPickerModel.syncColumns(a,b);return this},getColumnConfig:function(){this.columnPickerModel.getColumnConfig()},
onColumnsSync:function(a,b){this.columnPickerModel.onColumnsSync(a,b);return this},on:function(a,b,c){this.columnPickerModel.on(a,b,c);return this},off:function(a,b){this.columnPickerModel.off(a,b);return this}});e.create=function(a){return new e(null,a)};return e});AJS.namespace("JIRA.Components.ColumnPicker",null,require("jira/components/columnpicker"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-issue-type', location = '/includes/jira/searchers/initIssueTypeSparkler.js' */
define("jira/searchers/element/issuetype-sparkler",["jira/ajs/select/checkbox-multi-select","jira/skate","jquery","jira/searchers/element/issuetype-picker-options"],(function(e,t,r,s){"use strict";return t("js-issuetype-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){var i={element:t,content:"mixed"},a=r.attr(t,"aria-label");a&&(i.ariaLabel=a);new e(s(i))}})}));define("jira/searchers/element/issuetype-picker-options",["wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(e,t,r,s,i){"use strict";return function(a){return Object.assign({},a,{maxInlineResultsDisplayed:i.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:i.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:(a.baseAjaxOptions,{url:e()+"/rest/api/2/issuetype/page",data:{maxResults:i.DEFAULT_MAX_RESULTS},formatResponse:function(e){var i=e.values.map((function(e){return new r({value:e.id,label:e.name,icon:e.iconUrl,allowDuplicate:!1,highlighted:!0})})),a=e.total-i.length,n=a>0?t.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",a):void 0;return[new s({items:i,footerText:n,fetchedThroughAjaxCall:!0})]}})})}}));require(["jira/searchers/element/issuetype-sparkler","jira/searchers/element/issuetype-picker-options"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers-project', location = '/includes/jira/searchers/initProjectSparkler.js' */
define("jira/searchers/element/project-sparkler",["jira/ajs/select/checkbox-multi-select","jira/skate","jquery","jira/searchers/element/project-picker-options"],(function(e,t,r,a){"use strict";return t("js-project-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){var i={element:t,content:"mixed"},s=r.attr(t,"aria-label");s&&(i.ariaLabel=s);new e(a(i))}})}));define("jira/searchers/element/project-picker-options",["wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(e,t,r,a,i){"use strict";var s=new DOMParser;return function(n){return Object.assign({},n,{maxInlineResultsDisplayed:i.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:i.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:(n.baseAjaxOptions,{url:e()+"/rest/api/latest/projects/picker",data:{maxResults:i.DEFAULT_MAX_RESULTS},formatResponse:function(e){var i=e.projects.map((function(e){return new r({value:e.id,label:s.parseFromString(e.html,"text/html").body.innerText||e.name,icon:e.avatar,html:e.html,allowDuplicate:!1,highlighted:!0})})),n=e.total-i.length,o=n>0?t.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",n):void 0;return[new a({items:i,footerText:o,fetchedThroughAjaxCall:!0})]}})})}}));require(["jira/searchers/element/project-picker-options","jira/searchers/element/project-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/datePicker.soy' */
// This file was automatically generated from datePicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.DateSearcher.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.DateSearcher == 'undefined') { JIRA.Templates.DateSearcher = {}; }


JIRA.Templates.DateSearcher.dateMeasurement = function(opt_data, opt_ignored) {
  return '<label><span class="assistive">' + soy.$$escapeHtml('\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u0438') + '</span><select class="js-measurement select medium-field"><option value="m">' + soy.$$escapeHtml('\u043c\u0438\u043d\u0443\u0442\u044b') + '</option><option value="h">' + soy.$$escapeHtml('\u0447\u0430\u0441\u044b') + '</option><option value="d">' + soy.$$escapeHtml('\u0434\u043d\u0438') + '</option><option value="w">' + soy.$$escapeHtml('\u043d\u0435\u0434\u0435\u043b\u0438') + '</option></select></label>';
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dateMeasurement.soyTemplateName = 'JIRA.Templates.DateSearcher.dateMeasurement';
}


JIRA.Templates.DateSearcher.renderWithinTheLast = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 {0} {1}',opt_data.inputField,opt_data.dateMeasurementField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderWithinTheLast.soyTemplateName = 'JIRA.Templates.DateSearcher.renderWithinTheLast';
}


JIRA.Templates.DateSearcher.withinTheLast = function(opt_data, opt_ignored) {
  return '<label for="withinTheLastRadio" class="assistive">' + soy.$$escapeHtml(AJS.format('\u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 {0} {1}','\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d','\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u0438')) + '</label><input type="radio" class="js-dp-type-toggle" id="withinTheLastRadio"/>' + JIRA.Templates.DateSearcher.renderWithinTheLast({inputField: '<label for="withinTheLastValue" class="assistive">' + soy.$$escapeHtml('\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d') + '</label><input id="withinTheLastValue" class="js-val text" type="text" maxlength="15" data-field-name="previous" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.withinTheLast.soyTemplateName = 'JIRA.Templates.DateSearcher.withinTheLast';
}


JIRA.Templates.DateSearcher.nowOverdue = function(opt_data, opt_ignored) {
  return '<label class="field-group-label"><input type="radio" class="js-dp-type-toggle" />' + soy.$$escapeHtml('\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d') + '</label>';
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.nowOverdue.soyTemplateName = 'JIRA.Templates.DateSearcher.nowOverdue';
}


JIRA.Templates.DateSearcher.renderMoreThan = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('\u0411\u043e\u043b\u0435\u0435 \u0447\u0435\u043c {0} {1} \u043d\u0430\u0437\u0430\u0434',opt_data.inputField,opt_data.dateMeasurementField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderMoreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.renderMoreThan';
}


JIRA.Templates.DateSearcher.moreThan = function(opt_data, opt_ignored) {
  return '<label for="moreThanRadio" class="assistive">' + soy.$$escapeHtml(AJS.format('\u0411\u043e\u043b\u0435\u0435 \u0447\u0435\u043c {0} {1} \u043d\u0430\u0437\u0430\u0434','\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d','\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u0438')) + '</label><input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="moreThanRadio"/>' + JIRA.Templates.DateSearcher.renderMoreThan({inputField: '<label for="moreThanValue" class="assistive">' + soy.$$escapeHtml('\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d') + '</label><input id="moreThanValue" class="js-val text" type="text" maxlength="15" data-field-name="next" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.moreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.moreThan';
}


JIRA.Templates.DateSearcher.renderDueMoreThan = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('\u0420\u0430\u043d\u0435\u0435 \u0447\u0435\u043c {0} {1} \u043d\u0430\u0437\u0430\u0434',opt_data.inputField,opt_data.dateMeasurementField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderDueMoreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.renderDueMoreThan';
}


JIRA.Templates.DateSearcher.dueMoreThan = function(opt_data, opt_ignored) {
  return '<label for="dueMoreThanRadio" class="assistive">' + soy.$$escapeHtml(AJS.format('\u0420\u0430\u043d\u0435\u0435 \u0447\u0435\u043c {0} {1} \u043d\u0430\u0437\u0430\u0434','\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d','\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u0438')) + '</label><input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dueMoreThanRadio"/>' + JIRA.Templates.DateSearcher.renderDueMoreThan({inputField: '<label for="dueMoreThanValue" class="assistive">' + soy.$$escapeHtml('\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d') + '</label><input id="dueMoreThanValue" class="js-val text" type="text" maxlength="15" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dueMoreThan.soyTemplateName = 'JIRA.Templates.DateSearcher.dueMoreThan';
}


JIRA.Templates.DateSearcher.renderDueInNext = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('\u0421\u0440\u043e\u043a \u043d\u0430\u0441\u0442\u0443\u043f\u0430\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 {0} {1} {2} \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e',opt_data.inputField,opt_data.dateMeasurementField,opt_data.clauseField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderDueInNext.soyTemplateName = 'JIRA.Templates.DateSearcher.renderDueInNext';
}


JIRA.Templates.DateSearcher.dueInNext = function(opt_data, opt_ignored) {
  return '<label for="dueInNextRadio" class="assistive">' + soy.$$escapeHtml(AJS.format('\u0421\u0440\u043e\u043a \u043d\u0430\u0441\u0442\u0443\u043f\u0430\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 {0} {1} {2} \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e','\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d','\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e')) + '</label><input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dueInNextRadio"/>' + JIRA.Templates.DateSearcher.renderDueInNext({inputField: '<label for="dueInNextValue" class="assistive">' + soy.$$escapeHtml('\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d') + '</label><input id="dueInNextValue" class="js-val text" maxlength="15" type="text" />', dateMeasurementField: '' + JIRA.Templates.DateSearcher.dateMeasurement(null), clauseField: '<label><span class="assistive">' + soy.$$escapeHtml('\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e') + '</span><select class="js-clause select"><option value="orIs">' + soy.$$escapeHtml('\u0438\u043b\u0438') + '</option><option value="andNot">' + soy.$$escapeHtml('\u0438 \u043d\u0435') + '</option></select></label>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dueInNext.soyTemplateName = 'JIRA.Templates.DateSearcher.dueInNext';
}


JIRA.Templates.DateSearcher.renderDateBetween = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('\u041c\u0435\u0436\u0434\u0443 {0} \u0438 {1}',opt_data.startField,opt_data.endField));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderDateBetween.soyTemplateName = 'JIRA.Templates.DateSearcher.renderDateBetween';
}


JIRA.Templates.DateSearcher.dateBetween = function(opt_data, opt_ignored) {
  return '<label for="dateBetweenRadio" class="assistive">' + soy.$$escapeHtml(AJS.format('\u041c\u0435\u0436\u0434\u0443 {0} \u0438 {1}','\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043d\u0430\u0447\u0430\u043b\u0430','\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f')) + '</label><input type="radio" tabIndex="-1" class="js-dp-type-toggle" id="dateBetweenRadio"/>' + JIRA.Templates.DateSearcher.renderDateBetween({startField: '<label for="dateBetweenStart" class="assistive">' + soy.$$escapeHtml('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430') + '</label><input id="dateBetweenStart" class="js-start-date text" maxlength="15" placeholder="11-Jan-2012" type="text" data-field-name="after" /><button class="js-start-date-trigger m-datePicker-btn aui-icon aui-icon-small aui-iconfont-calendar">' + soy.$$escapeHtml('\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043d\u0430\u0447\u0430\u043b\u0430') + '</button>', endField: '<label for="dateBetweenEnd" class="assistive">' + soy.$$escapeHtml('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f') + '</label><input id="dateBetweenEnd" class="js-end-date text" maxlength="12" placeholder="30-Jan-2012" type="text" data-field-name="before" /><button class="js-end-date-trigger m-datePicker-btn aui-icon aui-icon-small aui-iconfont-calendar">' + soy.$$escapeHtml('\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f') + '</button>'});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.dateBetween.soyTemplateName = 'JIRA.Templates.DateSearcher.dateBetween';
}


JIRA.Templates.DateSearcher.renderInRange = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('\u0412 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u043e\u0442 {0} \u0434\u043e {1}',opt_data.startInput,opt_data.endInput));
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.renderInRange.soyTemplateName = 'JIRA.Templates.DateSearcher.renderInRange';
}


JIRA.Templates.DateSearcher.inRange = function(opt_data, opt_ignored) {
  return '<label for="inRangeRadio" class="assistive">' + soy.$$escapeHtml(AJS.format('\u0412 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 \u043e\u0442 {0} \u0434\u043e {1}','\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043d\u0430\u0447\u0430\u043b\u0430','\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f')) + '</label><input type="radio" tabIndex="-1" maxlength="15" class="js-dp-type-toggle" id="inRangeRadio"/>' + JIRA.Templates.DateSearcher.renderInRange({startInput: '<label for="inRangeStartDate" class="assistive">' + soy.$$escapeHtml('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430') + '</label><input id="inRangeStartDate" class="js-start-range text" placeholder="-3w 4d 12h" type="text" data-field-name="previous" />', endInput: '<label for="inRangeEndDate" class="assistive">' + soy.$$escapeHtml('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f') + '</label><input id="inRangeEndDate" class="js-end-range text" maxlength="15" placeholder="3w 4d 12h" type="text" data-field-name="next" />'});
};
if (goog.DEBUG) {
  JIRA.Templates.DateSearcher.inRange.soyTemplateName = 'JIRA.Templates.DateSearcher.inRange';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/DateSearcher.js' */
define("jira/searchers/datesearcher/date-types",["require"],(function(e){"use strict";var t=e("jquery"),a=e("jira/backbone-1.3.3"),r=e("underscore"),n=e("jira/libs/calendar"),i=["js-dp-type-toggle","js-val","js-measurement","js-clause","js-start-date","js-end-date","js-start-range","js-end-range","assistive"],s=function(e){var a=e.radioKey+"Radio",r=e.$el.html(function(e,a){var r=t("<div></div>").html(e).contents(),n=[];r.each((function(e,r){var s=t(r),d=t("<div/>").html(r).html();if(s.attr("class")&&!i.some((function(e){return s.attr("class").split(" ").includes(e)}))){d=d.replace(/^\s+|\s+$/g,"&nbsp;");n.push("<label for='"+a+"'>"+d+"</label>")}else n.push(d)}));return n.join("")}(e.rawTemplate,a));r.find(":not(.js-dp-type-toggle):not(select):input").mousedown((function(){var e=r.find("label");e.length>0&&e[0].click()}));return r},d=a.View.extend({className:"field-group",attributes:{"data-date-type":"nowOverdue"},template:JIRA.Templates.DateSearcher.nowOverdue,getValues:function(){return{to:0}},updateFromValues:function(e){if(!e.from&&"0"===e.to)return!0},render:function(){return this.$el.html(this.template())}}),l=a.View.extend({className:"field-group",attributes:{"data-date-type":"withinTheLast"},template:JIRA.Templates.DateSearcher.withinTheLast,getValues:function(){var e=this.$(".js-val").val();if(e)return{from:"-"+e+this.$el.find(".js-measurement").val()}},updateFromValues:function(e){if(!e.to&&e.from&&"-"===e.from.charAt(0)){var t=this.model.parseRelativeStr(e.from);this.$(".js-val").val(t.val.slice(1));t.measurement&&this.$(".js-measurement").val(t.measurement);return!0}},render:function(){return s({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),o=a.View.extend({className:"field-group",attributes:{"data-date-type":"moreThan"},template:JIRA.Templates.DateSearcher.moreThan,getValues:function(){var e=this.$(".js-val").val();if(e)return{to:"-"+e+this.$el.find(".js-measurement").val()}},updateFromValues:function(e){if(!e.from&&e.to&&"-"===e.to.charAt(0)){var t=this.model.parseRelativeStr(e.to);this.$(".js-val").val(t.val.slice(1));t.measurement&&this.$(".js-measurement").val(t.measurement);return!0}},render:function(){return s({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),u=o.extend({className:"field-group",template:JIRA.Templates.DateSearcher.dueMoreThan}),h=a.View.extend({className:"field-group",attributes:{"data-date-type":"dueInNext"},template:JIRA.Templates.DateSearcher.dueInNext,getValues:function(){var e=this.$el.find(".js-val").val();if(e)return{from:"andNot"===this.$el.find(".js-clause").val()?"0":null,to:e+this.$(".js-measurement").val()}},updateFromValues:function(e){if((!e.from||"0"===e.from)&&e.to){var t=this.model.parseRelativeStr(e.to),a="0"===e.from?"andNot":"orIs";this.$(".js-val").val(t.val);this.$(".js-clause").val(a);t.measurement&&this.$(".js-measurement").val(t.measurement);return!0}},render:function(){return s({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}});return{DatesBetween:a.View.extend({className:"field-group",attributes:{"data-date-type":"dateBetween"},template:JIRA.Templates.DateSearcher.dateBetween,getValues:function(){return{startDate:this.$el.find(".js-start-date").val(),endDate:this.$el.find(".js-end-date").val()}},updateFromValues:function(e){if(e.startDate||e.endDate){this.$el.find(".js-start-date").val(e.startDate);this.$el.find(".js-end-date").val(e.endDate);return!0}},bindCalendar:function(e,t){var a=this.$el.find("."+t)[0],i=this.$el.find("."+e)[0],s=r.extend({},this.model.calendarConfig,{inputField:i,button:a});n.setup(s)},render:function(){s({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]});this.bindCalendar("js-end-date","js-end-date-trigger");this.bindCalendar("js-start-date","js-start-date-trigger");return this.$el}}),DueInNext:h,DueMoreThan:u,InRange:a.View.extend({className:"field-group",attributes:{"data-date-type":"inRange"},template:JIRA.Templates.DateSearcher.inRange,getValues:function(){return{from:this.$el.find(".js-start-range").val(),to:this.$el.find(".js-end-range").val()}},updateFromValues:function(e){if(e.from||e.to){this.$el.find(".js-start-range").val(e.from);this.$el.find(".js-end-range").val(e.to);return!0}},render:function(){return s({$el:this.$el,rawTemplate:this.template(),radioKey:this.attributes["data-date-type"]})}}),MoreThan:o,NowOverdue:d,WithinTheLast:l}}));define("jira/searchers/datesearcher/date-searcher-model",["require"],(function(e){"use strict";var t=e("jira/data/parse-options-from-fieldset");return e("jira/backbone-1.3.3").Model.extend({initialize:function(e){this.from$El=e.$el.find(".js-date-picker-from").hide();this.to$El=e.$el.find(".js-date-picker-to").hide();this.startDate$El=e.$el.find(".js-date-picker-start-date").hide();this.endDate$El=e.$el.find(".js-date-picker-end-date").hide();this.errors=t(e.$el.find("fieldset.js-date-picker-errors"));this.calendarConfig=t(e.$el.find("fieldset.datepicker-params"))},parseRelativeStr:function(e){var t=e.slice(e.length-1);return{val:e.slice(0,e.length-1),measurement:t}},update:function(e){this.clear();if(e){void 0!==e.from&&this.from$El.val(e.from);void 0!==e.to&&this.to$El.val(e.to);void 0!==e.startDate&&this.startDate$El.val(e.startDate);void 0!==e.endDate&&this.endDate$El.val(e.endDate)}},toJSON:function(){return{from:this.from$El.val(),to:this.to$El.val(),startDate:this.startDate$El.val(),endDate:this.endDate$El.val(),errors:this.errors}},clear:function(){this.from$El.val("");this.to$El.val("");this.startDate$El.val("");this.endDate$El.val("")}})}));define("jira/searchers/datesearcher/date-searcher",["require"],(function(e){"use strict";var t=e("jira/searchers/datesearcher/date-searcher-model"),a=e("jquery"),r=e("jira/backbone-1.3.3"),n=e("underscore");return r.View.extend({initialize:function(e){var r=this;this.verb=e.verb;this.model=new t({$el:this.$el});this.setElement(a("<div />").addClass("js-picker-ui").appendTo(this.$el));this.views=[];var i=!a.browser.msie||parseInt(a.browser.version,10)<10;n.each(e.dateTypes,(function(e){var t=new e({model:r.model});r.views.push(t);if(i)t.$el.delegate(":text","input",(function(){r.update(t)}));else{t.$el.delegate(":text","keydown",(function(){var e=a(this),n=e.val();e.one("keyup",(function(){e.val()!==n&&r.update(t)}))}));t.$el.delegate(":text","change",(function(){r.update(t)}))}t.$el.delegate(":radio,select,input","change",(function(){r.update(t)})).delegate(".aui-iconfont-calendar","click",(function(){r.update(t)}))}))},update:function(e){this.model.update(e.getValues());n.each(this.views,(function(t){t===e?t.$(":radio").prop("checked",!0):t.$(":radio").prop("checked",!1)}))},_renderErrors:function(e,t){var r=t.$el.data("date-type"),n=void 0,i=void 0;a.each(e,(function(e,s){if(!i){n=(r||e)+"-error";i=a("<div class='error' />").attr("id",n).text(s)}var d=e.split(":")[1];if(d){t.$el.find("[data-field-name='"+d+"']").attr({"aria-invalid":!0,"aria-describedby":n})}else i.attr("role","alert");return!0}));i.appendTo(t.$el)},render:function(){var e=this,t=this.model.toJSON();n.each(this.views,(function(t){e.$el.append(t.render(e.verb))}));a.each(this.views,(function(a,r){if(this.updateFromValues(t)){e.update(this);n.isEmpty(t.errors)||e._renderErrors(t.errors,r);return!1}}));setTimeout((function(){var t=e.$el.find("[aria-invalid='true']").first();t.length?t.focus():e.$el.find(":radio:checked").focus()}))}})}));define("jira/searchers/datesearcher/date-searcher-factory",["require","exports"],(function(e,t){"use strict";var a=e("jira/searchers/datesearcher/date-types"),r=e("jira/searchers/datesearcher/date-searcher");t.createDueDateSearcher=function(e){return new r({el:e,dateTypes:[a.NowOverdue,a.DueMoreThan,a.DueInNext,a.DatesBetween,a.InRange]}).render()};t.createResolvedDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()};t.createCreatedDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()};t.createUpdatedDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()};t.createCustomDateSearcher=function(e){return new r({el:e,dateTypes:[a.WithinTheLast,a.MoreThan,a.DatesBetween,a.InRange]}).render()}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initDateSearchers.js' */
define("jira/searchers/element/due-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],(function(e,r){"use strict";return r("js-duedate-searcher",{type:r.type.CLASSNAME,created:e.createDueDateSearcher})}));define("jira/searchers/element/resolved-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],(function(e,r){"use strict";return r("js-resolutiondate-searcher",{type:r.type.CLASSNAME,created:e.createResolvedDateSearcher})}));define("jira/searchers/element/created-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],(function(e,r){"use strict";return r("js-created-searcher",{type:r.type.CLASSNAME,created:e.createCreatedDateSearcher})}));define("jira/searchers/element/updated-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],(function(e,r){"use strict";return r("js-updated-searcher",{type:r.type.CLASSNAME,created:e.createUpdatedDateSearcher})}));define("jira/searchers/element/custom-date-searcher",["jira/searchers/datesearcher/date-searcher-factory","jira/skate"],(function(e,r){"use strict";return r("js-customdate-searcher",{type:r.type.CLASSNAME,created:e.createCustomDateSearcher})}));require(["jira/searchers/element/due-date-searcher","jira/searchers/element/resolved-date-searcher","jira/searchers/element/created-date-searcher","jira/searchers/element/updated-date-searcher","jira/searchers/element/custom-date-searcher"]);!function(){"use strict";var e=require("jira/searchers/datesearcher/date-searcher-factory");AJS.namespace("JIRA.DateSearcher",null,require("jira/searchers/datesearcher/date-searcher"));AJS.namespace("JIRA.DateSearcher.createDueDateSearcher",null,e.createDueDateSearcher);AJS.namespace("JIRA.DateSearcher.createResolvedDateSearcher",null,e.createResolvedDateSearcher);AJS.namespace("JIRA.DateSearcher.createCreatedDateSearcher",null,e.createCreatedDateSearcher);AJS.namespace("JIRA.DateSearcher.createUpdatedDateSearcher",null,e.createUpdatedDateSearcher);AJS.namespace("JIRA.DateSearcher.createCustomDateSearcher",null,e.createCustomDateSearcher)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initCheckboxMultiselectSparkler.js' */
define("jira/searchers/element/sparkler",["jira/ajs/select/checkbox-multi-select","jira/skate","jquery"],(function(e,r,a){"use strict";return r("js-default-checkboxmultiselect",{type:r.type.CLASSNAME,created:function(r){var t={element:r},l=a.attr(r,"aria-label");l&&(t.ariaLabel=l);new e(t)}})}));require(["jira/searchers/element/sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initLabelSparkler.js' */
define("jira/searchers/element/label-sparkler",["jira/ajs/select/checkbox-multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/skate","underscore","wrm/context-path"],(function(e,t,r,l,a,s){"use strict";return l("js-label-checkboxmultiselect",{type:l.type.CLASSNAME,created:function(l){var i=new e({element:l,ajaxOptions:{url:s()+"/rest/api/1.0/labels/suggest",minQueryLength:0,formatResponse:function(e){var l=i.model.getSelectedValues();return[new t({items:a.map(a.sortBy(a.reject(e.suggestions,(function(e){return a.contains(l,e.label)})),"label"),(function(e){return new r({highlighted:!0,html:e.html,label:e.label,value:e.label,title:e.label})}))})]}}})}})}));require(["jira/searchers/element/label-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initStatusSparkler.js' */
define("jira/searchers/element/status-lozenge-sparkler",["jira/ajs/select/checkbox-multi-select-status-lozenge","jira/searchers/element/status-picker-options","jira/skate","jira/searchers/element/common-pickers-utils"],(function(e,t,s,r){"use strict";return s("js-default-checkboxmultiselectstatuslozenge",{type:s.type.CLASSNAME,created:function(s){var a={element:s,content:"mixed",baseAjaxOptions:{projectIds:r.getSelectedProjectsIds(),issueTypeIds:r.getSelectedIssueTypeIds()}};new e(t(a))}})}));define("jira/searchers/element/status-picker-options",["jquery","wrm/context-path","jira/util/formatter","jira/ajs/list/item-descriptor","jira/ajs/list/group-descriptor","jira/searchers/element/common-pickers-config"],(function(e,t,s,r,a,n){"use strict";var i=function(e){var t=document.createElement("option");t.classList.add("imagebacked");t.dataset.icon=e.iconUrl;t.dataset.simpleStatus=JSON.stringify(e);t.textContent=e.name;return t},o=function(o){var c={maxResults:n.DEFAULT_MAX_RESULTS,startAt:n.DEFAULT_START_AT};o.projectIds&&(c.projectIds=o.projectIds);o.issueTypeIds&&(c.issueTypeIds=o.issueTypeIds);return{url:t()+"/rest/api/2/status/page",data:c,formatResponse:function(t){var n=t.values.map((function(t){return new r({value:t.id,label:t.name,iconUrl:t.iconUrl,allowDuplicate:!1,highlighted:!0,model:e(i(t))})})),o=t.total-n.length,c=o>0?s.format("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439",o):void 0;return[new a({items:n,footerText:c,fetchedThroughAjaxCall:!0})]}}};return function(e){return Object.assign({},e,{maxInlineResultsDisplayed:n.DEFAULT_MAX_RESULTS,maxResultsDisplayedPerGroup:n.DEFAULT_MAX_RESULTS_PER_GROUP,ajaxOptions:o(e.baseAjaxOptions)})}}));require(["jira/searchers/element/status-lozenge-sparkler","jira/searchers/element/status-picker-options"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initUserSparkler.js' */
define("jira/searchers/user-utils",["jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","underscore","wrm/context-path"],(function(e,r,s,t){"use strict";function a(e,t){return s.map(e.users,(function(e){return new r({highlighted:!0,html:e.html,icon:e.avatarUrl,iconType:"rounded",label:e.displayName,value:(t?"user:":"")+e.name})}))}function n(e,a){return s.map(e.groups,(function(e){return new r({highlighted:!0,html:e.html,icon:t()+"/images/icons/icon_groups_16.png",label:e.name,value:(a?"group:":"")+e.name})}))}return{formatGroupResponse:n,formatUserResponse:a,formatUserGroupResponse:function(r){var s=a(r.users,!0),t=n(r.groups,!0),i=[].concat(s).concat(t);return[new e({items:i})]}}}));define("jira/searchers/elements/user-group-sparkler",["jira/ajs/select/checkbox-multi-select","jira/data/parse-options-from-fieldset","jira/searchers/user-utils","jira/skate","jquery","wrm/context-path"],(function(e,r,s,t,a,n){"use strict";return t("js-usergroup-checkboxmultiselect",{type:t.type.CLASSNAME,created:function(t){var i={};a(t).siblings(".user-group-searcher-params").each((function(){i=r(a(this))}));i.showAvatar=!0;new e({element:t,maxInlineResultsDisplayed:10,content:"mixed",ajaxOptions:{url:n()+"/rest/api/latest/groupuserpicker",data:i,formatResponse:s.formatUserGroupResponse}})}})}));define("jira/searchers/elements/user-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/user-utils","jira/skate","wrm/context-path"],(function(e,r,s,t){"use strict";return s("js-user-checkboxmultiselect",{type:s.type.CLASSNAME,created:function(s){new e({element:s,maxInlineResultsDisplayed:5,content:"mixed",ajaxOptions:{url:t()+"/rest/api/latest/user/picker",data:{showAvatar:!0},formatResponse:function(e){return r.formatUserResponse(e,!1)}}})}})}));define("jira/searchers/elements/group-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/user-utils","jira/skate","wrm/context-path"],(function(e,r,s,t){"use strict";return s("js-group-checkboxmultiselect",{type:s.type.CLASSNAME,created:function(s){new e({element:s,maxInlineResultsDisplayed:5,content:"mixed",ajaxOptions:{url:t()+"/rest/api/latest/groups/picker",data:{showAvatar:!0},query:!0,formatResponse:function(e){return r.formatGroupResponse(e,!1)}}})}})}));require(["jira/searchers/elements/group-sparkler","jira/searchers/elements/user-sparkler","jira/searchers/elements/user-group-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initPrioritySparkler.js' */
define("jira/searchers/element/priority-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/element/priority-picker-options","jira/searchers/element/common-pickers-utils","jira/skate"],(function(e,r,t,i){"use strict";return i("js-default-checkboxmultiselectpriority",{type:i.type.CLASSNAME,created:function(i){var s={element:i,content:"mixed",baseAjaxOptions:{projectIds:t.getSelectedProjectsIds()}};new e(r(s))}})}));require(["jira/searchers/element/priority-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initComponentSparkler.js' */
define("jira/searchers/element/component-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/element/component-picker-options","jira/skate","jira/searchers/element/common-pickers-utils"],(function(e,t,r,s){"use strict";return r("js-default-checkboxmultiselectcomponent",{type:r.type.CLASSNAME,created:function(r){var c={element:r,content:"mixed",baseAjaxOptions:{projectIds:s.getSelectedProjectsIds(),useIdPrefixInValue:!0}};new e(t(c))}})}));require(["jira/searchers/element/component-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initVersionSparkler.js' */
define("jira/searchers/element/version-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/element/version-picker-options","jira/skate","jira/searchers/element/common-pickers-utils"],(function(e,r,s,t){"use strict";return s("js-default-checkboxmultiselectversion",{type:s.type.CLASSNAME,created:function(s){var i={element:s,content:"mixed",baseAjaxOptions:{projectIds:t.getSelectedProjectsIds(),useIdPrefixInValue:!0}};new e(r(i))}})}));require(["jira/searchers/element/version-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:searchers', location = '/includes/jira/searchers/initMultiSelectCustomFieldSparkler.js' */
define("jira/searchers/element/multi-select-custom-field-sparkler",["jira/ajs/select/checkbox-multi-select","jira/searchers/element/common-pickers-utils","jira/searchers/element/multi-select-custom-field-picker-options","jira/skate"],(function(e,t,s,r){"use strict";return r("js-default-checkboxmultiselect-custom-field",{type:r.type.CLASSNAME,created:function(r){var c={element:r,content:"mixed",baseAjaxOptions:{customFieldId:parseInt(r.dataset.customFieldId,10),projectIds:t.getSelectedProjectsIds(),issueTypeIds:t.getSelectedIssueTypeIds()}},i=r.getAttribute("aria-label");i&&(c.ariaLabel=i);new e(s(c))}})}));require(["jira/searchers/element/multi-select-custom-field-sparkler"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchPageModule.js' */
define("jira/issues/search-page-module",["require"],function(e){var k=e("jira/issues/basemodel"),d=e("jira/components/libs/underscore"),l=e("jira/dialog/dialog-stack");return k.extend({namedEvents:["changeFilterProps"],properties:["currentLayout","layouts","filter","jql","searchId"],defaults:function(){return{filter:null,jql:null}},initialize:function(a,b){d.extend(this,b);this.registerColumnPicker();this.setLayouts({});this._isInitial=!0;this.registerLayout("list-view",{label:"\u0421\u043f\u0438\u0441\u043e\u043a",
iconClass:"aui-iconfont-view-table",View:JIRA.Issues.FullScreenLayout});this.registerLayout("split-view",{label:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",iconClass:"aui-iconfont-view-list",View:e("jira/issues/views/details")});this._onFilterChanged();this.on("change:filter",this._onFilterChanged,this);JIRA.Issues.Application.on("issueEditor:close",this.returnToSearch,this);JIRA.Issues.Application.on("issueEditor:loadComplete",function(a,b){this.standalone||b.reason||(this.searchResults.selectIssueById(a.getId(),
{reason:"issueLoaded"}),this.searchResults.updateIssueById({id:a.getId(),action:"rowUpdate"},{filter:this.getFilter()}),a.getKey()&&JIRA.Issues.Application.execute("navigation:updateState",{selectedIssueKey:a.getKey()},{replace:!0,reason:"issuekey-changed"}))},this);JIRA.Issues.Application.on("issueEditor:saveSuccess",function(a){this.searchResults.updateIssueById({id:a.issueId,action:"inlineEdit"},{filter:this.getFilter()})},this);JIRA.Issues.Application.on("navigation:stateChanged",this.onStateChanged,
this)},registerColumnPicker:function(){this.columnConfig=JIRA.Issues.ColumnPicker.create({search:this})},getInactiveLayouts:function(){var a=[];d.each(this.getLayouts(),function(b,c){c!==JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()&&a.push(b)},this);return a},getActiveLayout:function(){return this.getLayouts()[JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()]},changeLayout:function(a,b){var c=this.getLayout(a),f=this.getCurrentLayout();JIRA.Issues.changingLayout=!0;jQuery("body, html").scrollTop(0);
b=d.defaults({},b,{ajax:!0,render:!0});!c||f instanceof c.View||(f&&f.close&&(f.close(),this.searchResults.unselectIssue({replace:!0})),JIRA.Issues.LayoutPreferenceManager.setPreferredLayoutKey(a,b),c=new c.View({fullScreenIssue:this.fullScreenIssue,issueContainer:this.issueContainer,issueCacheManager:this.issueCacheManager,search:this.search,searchContainer:this.searchContainer,searchHeaderModule:this.searchHeaderModule,columnConfig:this.columnConfig,searchPageModule:this}),c.on("close",function(){this.searchContainer.find(".navigator-content").addClass("pending")},
this),c.on("render",function(){this.searchContainer.find(".navigator-content").removeClass("pending");JIRA.trigger(JIRA.Events.LAYOUT_RENDERED,[a])},this),b.render&&c.render(),this.setCurrentLayout(c),this.standalone=!1,JIRA.Issues.Application.execute("analytics:trigger","kickass.issue-navigator.change-layout",{type:a}))},createLayout:function(){this.getCurrentLayout()||(this.changeLayout(JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey(),{render:!1}),this.fullScreenIssue.deactivate())},
_onFilterChanged:function(){var a=this.previous("filter");a&&a.off("change",this.triggerChangeFilterProps,this);if(a=this.getFilter())a.on("change",this.triggerChangeFilterProps,this)},getLayout:function(a){return this.getLayouts()[a]||null},getSortedLayouts:function(){return d.sortBy(this.getLayouts(),"label")},registerLayout:function(a,b){b.id=a;this.getLayouts()[a]=b},getJqlDeferred:function(){var a=new jQuery.Deferred,b=this;d.defer(function(){b.queryModule.searchersReady().always(function(){d.defer(function(){a.resolve(b.getEffectiveJql())})})});
return a.promise()},registerIssueSearchManager:function(a){this.issueSearchManager=a},registerIssueCacheManager:function(a){this.issueCacheManager=a},registerQueryModule:function(a){this.queryModule=a;this.queryModule.onJqlChanged(this.queryModuleSearchRequested,this);this.queryModule.onJqlError(this.disableLayoutSwitcher,this);this.queryModule.onJqlSuccess(this.enableLayoutSwitcher,this);this.queryModule.onVerticalResize(JIRA.Issues.triggerVerticalResize);this.queryModule.onQueryTooComplexSwitchToAdvanced(function(){JIRA.Issues.Application.execute("analytics:trigger",
"kickass.queryTooComplexSwitchToAdvanced")});this.queryModule.onBasicModeCriteriaCountWhenSearching(function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.basicModeCriteriaCountWhenSearching",a)});this.queryModule.onChangedPreferredSearchMode(function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.switchto"+a)});this.queryModule.onSearchChanged(d.bind(function(a){var b=this.getState();a=a.newJql;var d=b.filterJql,e=b.jql;null===e?(b=d!==a,a=d!==a):(b=d!==e||e!==
a,a=e!==a);this.filterModule.updateFilterHeader({isEdited:b,isPendingSearch:a})},this));JIRA.Shifter.register(new JIRA.Issues.SearchShifter({isBasicMode:d.bind(this.queryModule.isBasicMode,this.queryModule),isFullScreenIssue:d.bind(this.isFullScreenIssueVisible,this),searcherCollection:this.queryModule.getSearcherCollection()}))},disableLayoutSwitcher:function(){this.layoutSwitcher&&this.layoutSwitcher.disableLayoutSwitcher()},enableLayoutSwitcher:function(){this.layoutSwitcher&&this.layoutSwitcher.enableLayoutSwitcher()},
registerLayoutSwitcher:function(a){this.layoutSwitcher=a},registerFilterModule:function(a){this.filterModule&&(this.filterModule.off("filterRemoved"),this.filterModule.off("filterSelected"));this.filterModule=a;this.filterModule.on("filterRemoved",function(a){var b=this.getFilter();b&&a.filterId===b.getId()&&this.resetToBlank()},this);this.filterModule.on("filterSelected",function(a){this.resetToFilter(a.filterId)},this)},registerSearch:function(a){this.search=a;this.searchResults=this.search.getResults();
this.searchResults.on("change:resultsId",this._handleSearchResultsChange,this);this.searchResults.onStartIndexChange(this._handleSearchResultsChange,this);this.searchResults.onSelectedIssueChange(this._handleSearchResultsChange,this);var b=this.columnConfig;this.on("change:filter",function(){b.clearFilterConfiguration()});this.searchResults.onColumnsChange(function(a){var c=a.getColumnConfig();c&&b.syncColumns(c,a.getColumns())});this.searchResults.onColumnConfigChange(function(a){var c=a.getColumnConfig();
c&&(b.setCurrentColumnConfig(c),b.syncColumns(c,a.getColumns()))});b.onColumnsSync(function(b){a.stableUpdate({columnConfig:b})});this.searchResults.onSelectedIssueChange(d.bind(function(a){a.hasIssue()||JIRA.Issues.Application.execute("issueEditor:removeIssueMetadata")},this))},_handleSearchResultsChange:function(a,b){b=d.defaults({},b,{reason:"search-results-change"});JIRA.Issues.Application.execute("navigation:navigate",this.searchResults.getState(),b)},registerSearchHeaderModule:function(a){this.searchHeaderModule=
a},registerFullScreenIssue:function(a){this.fullScreenIssue=a;this.fullScreenIssue.bindIssueHidden(function(){JIRA.Issues.Application.execute("issueEditor:dismiss");this.updateWindowTitle(this.getFilter());JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.searchContainer,JIRA.CONTENT_ADDED_REASON.returnToSearch])},this)},registerViewContainers:function(a){this.issueContainer=a.issueContainer;this.searchContainer=a.searchContainer},prevIssue:function(){this.standalone||"split-view"!==this.getCurrentLayoutKey()||
e("jira/issues/views/details/metrics").start();return this._overlayIsVisible()?!1:JIRA.Issues.Application.request("issueEditor:canDismissComment")&&!this.standalone?(this.getCurrentLayout().prevIssue(),!0):!1},nextIssue:function(){this.standalone||"split-view"!==this.getCurrentLayoutKey()||e("jira/issues/views/details/metrics").start();return this._overlayIsVisible()?!1:JIRA.Issues.Application.request("issueEditor:canDismissComment")&&!this.standalone?(this.getCurrentLayout().nextIssue(),!0):!1},
isCurrentlyLoadingIssue:function(){return this.fullScreenIssue.isVisible()?this.fullScreenIssue.isLoading():this.getCurrentLayout().isLoading()},_overlayIsVisible:function(){return 0<AJS.$(".aui-blanket:not([hidden])").length},getEffectiveIssueId:function(){return this.getEffectiveIssue().getId()},updateIssue:function(a){var b=a.action===JIRA.Issues.Actions.DELETE,c=this.fullScreenIssue.isVisible();return b?this._deleteIssue(a):c?this.fullScreenIssue.updateIssue(a).done(d.bind(function(){this.standalone||
this.searchResults.updateIssue(a,{showMessage:!1,filter:this.getFilter()})},this)):this.searchResults.updateIssue(a,{filter:this.getFilter()})},_deleteIssue:function(a){var b=this.fullScreenIssue.isVisible(),c=a.key===JIRA.Issues.Application.request("issueEditor:getIssueKey");if(b){if(c){if(this.standalone)return this.resetToBlank(),JIRA.Issues.showNotification(a.message,a.key),(new jQuery.Deferred).resolve().promise();this.returnToSearch();return this.searchResults.updateIssue(a)}return this.fullScreenIssue.updateIssue(a)}return this.searchResults.updateIssue(a)},
getEffectiveIssueKey:function(){return this.getEffectiveIssue().getKey()},getEffectiveIssue:function(){var a=this.searchResults.hasHighlightedIssue(),b=this.searchResults.hasSelectedIssue();var c=new JIRA.Issues.SimpleIssue({id:JIRA.Issues.Application.request("issueEditor:getIssueId"),key:JIRA.Issues.Application.request("issueEditor:getIssueKey")});return this.standalone?c:b?this.searchResults.getSelectedIssue():a?this.searchResults.getHighlightedIssue():c},isHighlightedIssueAccessible:function(){return this.search.getResults().isHighlightedIssueAccessible()},
returnToSearch:function(){this.standalone?(this.resetToBlank(),JIRA.trace("jira.returned.to.search")):this.fullScreenIssue.isVisible()?(e("jira/issues/navigator/metrics").notifyIssueNavList(!1),this.searchResults.unselectIssue(),JIRA.Issues.Application.execute("issueEditor:beforeHide"),this.queryModule.refreshLayout&&this.queryModule.refreshLayout()):JIRA.trace("jira.returned.to.search");jQuery.event.trigger("updateOffsets.popout")},toggleFilterPanel:function(){return this.filterModule.toggleFilterPanel()},
issueTableSortRequested:function(a,b){this.update({jql:a,startIndex:b})},issueTableSearchError:function(a){0!==a.status&&(this.filterModule.markFilterModuleAsInvalid(),this.queryModule.onSearchError(this.parseServerErrors(a)))},parseServerErrors:function(a){try{var b=JSON.parse(a.responseText)}catch(c){b={errorMessages:["\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."]}}return b},issueTableSearchSuccess:function(a){this.update({startIndex:a.startIndex});this.queryModule.onSearchSuccess(a.warnings)},
issueTableStableUpdate:function(a){this.update({startIndex:a})},confirmNavigation:function(a){a=d.defaults({},a,{confirm:function(a){return window.confirm(a)},ignoreDirtiness:!1});var b=JIRA.DirtyForm.getDirtyWarning()||JIRA.Issue.getDirtyCommentWarning();return!!a.ignoreDirtiness||void 0===b||a.confirm(b)},isFullScreenIssueVisible:function(){return this.fullScreenIssue&&this.fullScreenIssue.isVisible()},isSplitViewLayout:function(){return"split-view"===this.getCurrentLayoutKey()},isListViewLayout:function(){return"list-view"===
this.getCurrentLayoutKey()},isIssueVisible:function(){var a=JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey();return this.isFullScreenIssueVisible()?!0:"list-view"===a?this.fullScreenIssue.isVisible():"split-view"===a?this.search.getResults().hasIssues():!1},queryModuleSearchRequested:function(a){this.update({jql:a,startIndex:0,selectedIssueKey:null,searchId:d.uniqueId()})},filterModuleSaved:function(a){this.reset({filter:a.getId(),filterJql:a.getJql()})},discardFilterChanges:function(){this.update({jql:null,
selectedIssueKey:null},!0)},getState:function(){var a=this.getFilter();a={filter:a&&a.getId(),filterJql:a&&a.getJql(),jql:this.getJql()};this.standalone?a.selectedIssueKey=JIRA.Issues.Application.request("issueEditor:getIssueKey"):d.extend(a,this.search.getResults().getState());return a},_doSearch:function(a){this.filterModule.markFilterModuleInSearch(!0);a=a||{};var b={},c=this.getFilter();b.startIndex=a.startIndex;c&&(b.filterId=c.getId());a.columnConfig&&(b.columnConfig=a.columnConfig);b.jql=this.getEffectiveJql();
b=this.issueSearchManager.search(b);b.always(function(){this.filterModule.markFilterModuleInSearch(!1)}.bind(this)).done(function(b){this.fullScreenIssue.isVisible()&&!AJS.Meta.get("serverRenderedViewIssue")&&JIRA.Issues.Application.execute("issueEditor:beforeHide");this.searchResults.resetFromSearch(d.extend(a,b.issueTable));this.queryModule.onSearchSuccess(b.warnings);jQuery.event.trigger("updateOffsets.popout")}.bind(this)).fail(function(b){"abort"!==b.statusText&&(400===b.status&&a.selectedIssueKey?
this.reset({selectedIssueKey:a.selectedIssueKey},{replace:!0}):(this.searchResults.resetFromSearch(d.extend(d.pick(a,"selectedIssueKey"),this.searchResults.defaults)),this.issueTableSearchError(b)))}.bind(this));return b},updateWindowTitle:function(a){if(!this.isFullScreenIssueVisible()){var b=AJS.format("{0} - {1}","\u041d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",JIRA.Settings.ApplicationTitle.get());a&&a.getIsValid()?document.title="["+a.getName()+"] "+b:document.title=b}},_applyState:function(a,b,c){c=c||{};
var e=this.toJSON();this.set(d.extend({},this.defaults(),d.pick(a,this.properties)));this.updateWindowTitle(this.getFilter());b&&(b=a.filter&&null==a.jql?a.filter.getJql():a.jql,this.queryModule.resetToQuery(b,{focusQuery:c.isNewSearch}).always(d.bind(function(){this.queryModule.setVisible(!a.filter||a.filter.getIsValid())},this)));this.shouldPerformNewSearch(e,this.toJSON())?e=this._doSearch(a):(e=(new jQuery.Deferred).resolve(),-1===d.indexOf(["search-results-change","update-filter-jql","issuekey-changed"],
c.reason)&&("selectedIssueKey"in a&&this.searchResults.selectIssueByKey(a.selectedIssueKey),"startIndex"in a&&!a.selectedIssueKey&&this.searchResults.goToPage(a.startIndex)));this.trigger("searching",{searchPromise:e});a.filter&&a.filter.getJql()!==a.filterJql&&JIRA.Issues.Application.execute("navigation:updateState",{filterJql:a.filter.getJql()},{replace:!0,reason:"update-filter-jql"})},shouldPerformNewSearch:function(a,b){var c=a.filter&&a.filter.getId(),d=b.filter&&b.filter.getId(),e=b.jql!==a.jql;
a=b.searchId!==a.searchId;return c!==d||e||a},refreshSearch:function(){return this._doSearch(d.extend({},this.getState(),{selectedIssueKey:void 0}))},onStateChanged:function(a,b){b=d.defaults({},b,{resetQuery:!1,routerEvent:!1});var c=d.clone(a);b.forceFullPageLoad||(a.isStandaloneIssue()?this.resetToStandaloneIssue(c):b.routerEvent?this.applyState(c,!this._isSearchStateEqual(c),b):this.applyState(c,b.resetQuery,b),this._isInitial=!1)},update:function(a,b,c){JIRA.Issues.Application.execute("navigation:navigate",
a,d.extend({},c,{resetQuery:b}))},reset:function(a,b){a.searchId=d.uniqueId();JIRA.Issues.Application.execute("navigation:navigate",a,d.extend({},b,{reset:!0,resetQuery:!0}))},_deactivateCurrentLayout:function(){var a=this.getCurrentLayout();a&&(a.close&&a.close(),this.setCurrentLayout(null))},resetToStandaloneIssue:function(a){e("jira/issues/navigator/metrics").notifyIssueView(this._isInitial);this._deactivateCurrentLayout();this.set(this.defaults());this.standalone=!0;this.fullScreenIssue.show({key:a.selectedIssueKey,
viewIssueQuery:a.viewIssueQuery})},applyState:function(a,b,c){c=c||{};this.getFilter()instanceof JIRA.Components.Filters.Models.Filter&&this.getFilter().getId()===a.filter&&(a.filter=this.getFilter());var f=a.filter&&!(a.filter instanceof JIRA.Components.Filters.Models.Filter),g=this.initSystemFilters();"split-view"===JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()?!0===c.fullPageLoad?e("jira/issues/views/details/metrics").startFromPageLoad():null!=a.selectedIssueKey&&e("jira/issues/views/details/metrics").start():
"list-view"===JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()&&(a.selectedIssueKey?e("jira/issues/navigator/metrics").notifyIssueView(this._isInitial):e("jira/issues/navigator/metrics").notifyIssueNavList(this._isInitial));JIRA.Issues.Application.execute("issueEditor:abortPending");this.createLayout();if(f){var h=new jQuery.Deferred;g.always(d.bind(function(){this.filterModule.getFilterById(a.filter).always(function(b){a.filter=b;h.resolve()})},this))}jQuery.when(h,g).always(d.bind(function(){this._applyState(a,
b,c)},this))},hasSelectedIssue:function(){return this.search.getResults().getSelectedIssue().getKey()},resetToFilter:function(a){this.reset({filter:a,searchId:d.uniqueId()})},resetToBlank:function(a){this.reset({jql:""},a)},isDirty:function(){var a=this.getFilter();return!!a&&a.getJql()!==this.getEffectiveJql()},getSearchMode:function(){return this.queryModule.getSearchMode()},getActiveBasicModeSearchers:function(){return this.queryModule.getActiveBasicModeSearchers()},setSessionSearch:function(a){e("jira/components/issueviewer/services/darkfeatures").HTTP_SESSIONS_DISABLED.enabled()||
AJS.$.ajax({data:{filterId:a.getId()},type:"PUT",url:AJS.contextPath()+"/rest/issueNav/1/issueTable/sessionSearch/"});var b=e("jira/components/search/latestStorage");a={data:{filter:a.getId(),jql:a.getJql()}};b.save(a)},openFocusShifter:function(){JIRA.Issues.FocusShifter.show()},setAsInaccessible:function(a){this.issueTableModule.setAsInaccessible(a)},showInlineIssueLoadError:function(){var a=JIRA.Components.IssueViewer.Templates.Body.errorsLoading();JIRA.Messages.showErrorMsg(a,{closeable:!0})},
getEffectiveJql:function(){var a=this.getFilter(),b=this.getJql();return d.isString(b)?b:a?a.getJql()||"":""},initSystemFilters:function(){return this.filterModule.initSystemFilters()},addOwnerToSystemFilters:function(a){var b=AJS.Meta.get("remote-user");if(!b)return a;var c=AJS.Meta.get("remote-user-fullname"),e=AJS.Meta.get("remote-user-avatar-url");return d.map(a,function(a){a.ownerUserName=b;a.ownerDisplayName=c;a.avatarUrl=e;return a})},focusIssueList:function(){this._allowLeftRightNavigation()&&
this.getCurrentLayout()&&this.getCurrentLayout().focusIssueList()},focusIssueEditor:function(){this._allowLeftRightNavigation()&&this.getCurrentLayout()&&this.getCurrentLayout().focusIssueEditor()},handleUp:function(){return!this._allowUpDownNavigation()||this.searchResults.isFirstIssueHighlighted()?!1:this.prevIssue()},handleDown:function(){return this._allowUpDownNavigation()?this.nextIssue():!1},_allowLeftRightNavigation:function(){return!AJS.keyboardShortcutsDisabled},_allowUpDownNavigation:function(){return AJS.keyboardShortcutsDisabled||
AJS.InlineLayer.current||AJS.Dropdown.current||l.current||0<AJS.$(".aui-dropdown2:visible").length?!1:this.getCurrentLayout()&&!this.getCurrentLayout().isIssueViewActive()},_isSearchStateEqual:function(a){var b=["filter","jql","startIndex"];return d.isEqual(d.pick(a,b),d.pick(this.getState(),b))},removeOpenTipsies:JIRA.Issues.Tipsy.revalidate,getCurrentLayoutKey:function(){var a=this.getCurrentLayout();if(a){var b=this.getLayouts();if(b=d.find(b,function(b){return a instanceof b.View}))return b.id}}})});
AJS.namespace("JIRA.Issues.SearchPageModule",null,require("jira/issues/search-page-module"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/IssueSearchManager.js' */
define("jira/issues/issue-search-manager",["underscore"],function(c){return JIRA.Issues.BaseEvented.extend({namedEvents:["beforeSearch","searchError"],initialize:function(a){c.extend(this,a);this.issueKeys=new JIRA.Components.IssueViewer.Legacy.AsyncData},hasInitialSearch:function(){return!!this.initialIssueTableState},search:function(a){a=c.extend({},a);!1===c.isNumber(a.startIndex)&&(a.startIndex=0);if(this.activeResultsReq){if(JSON.stringify(this.activeRequestData)===JSON.stringify(a))return(new jQuery.Deferred).reject().promise();
this.activeResultsReq.abort()}this.activeRequestData=a;this.triggerBeforeSearch();if(this.hasInitialSearch()){a=(new jQuery.Deferred).resolve(this.initialIssueTableState);var b="jira.search.finished.initial";this.initialIssueIds=this.initialIssueTableState=null}else a=this.activeResultsReq=this._doSearch(a),b="jira.search.finished.secondary";a.always(c.bind(function(){this.activeRequestData=this.activeResultsReq=null;JIRA.trace(b)},this));a.done(c.bind(this._updateIssueKeysOnSearchSuccess,this));
a.fail(c.bind(function(){this.issueKeys.reset();this.triggerSearchError();c.defer(JIRA.trace,"jira.search.finished")},this));return a.pipe(function(a){a.issueTable&&delete a.issueTable.issueKeys;return a}).promise()},_doSearch:function(a){var b=/^-?\d+$/;return a.filterId&&!b.test(a.filterId)?(a={status:400,responseText:JSON.stringify({errors:["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0444\u0438\u043b\u044c\u0442\u0440\u0430. \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c."]})},(new jQuery.Deferred).reject(a).promise()):jQuery.ajax({type:"POST",url:AJS.contextPath()+
"/rest/issueNav/1/issueTable",headers:JIRA.Issues.XsrfTokenHeader,data:c.extend(a,{layoutKey:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()})})},_updateIssueKeysOnSearchSuccess:function(a){var b=a.issueTable.issueIds,f=a.issueTable.issueKeys;if(b&&f){var e={};c.each(b,function(a,b){e[a]={value:f[b],error:!1}})}else e=JIRA.Issues.IssueSearchManager._extractIssueKeysFromTable(a.issueTable.table);this.issueKeys.reset(e)},getRowsForIds:function(a,b){if(!a.length)return(new jQuery.Deferred).resolve({}).promise();
b=jQuery.ajax({data:c.extend({id:a,layoutKey:JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()},b),type:"POST",headers:JIRA.Issues.XsrfTokenHeader,url:AJS.contextPath()+"/rest/issueNav/1/issueTable/stable"});b.fail(c.bind(function(){this.triggerSearchError()},this));return b.pipe(function(a){return a.issueTable}).done(c.bind(function(b){this.issueKeys.setMultiple(JIRA.Issues.IssueSearchManager._extractIssueKeysFromTable(b.table,a));c.defer(JIRA.trace,"jira.search.finished")},this)).promise()},
setAsInaccessible:function(a){return this.issueKeys.setError(a)}},{_extractIssueKeysFromTable:function(a,b){var c={};AJS.$(a).find(".issuerow").each(function(a){var d=AJS.$(this);a=b?b[a]:d.attr("rel");d=d.data("issuekey")||null;a&&(c[a]=d?{value:d,error:!1}:{error:!0})});return c}})});AJS.namespace("JIRA.Issues.IssueSearchManager",null,require("jira/issues/issue-search-manager"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchResults.js' */
define("jira/issues/search-results",["jquery","underscore"],function(e,c){return JIRA.Issues.BaseModel.extend({defaults:{issueIds:[],selectedIssue:new JIRA.Issues.SimpleIssue,highlightedIssue:new JIRA.Issues.SimpleIssue,total:0},properties:"columnSortJql highlightedIssue issueIds issueIdsForPage jiraHasIssues pageSize resultsId selectedIssue startIndex sortBy columns table total initialPayload columnConfig".split(" "),namedEvents:"prevIssueSelected nextIssueSelected issueUpdated issueDeleted issueDoesNotExist stableUpdate".split(" "),
initialize:function(a,b){JIRA.Issues.ModelUtils.makeTransactional(this,"resetFromSearch","selectNextIssue","selectPrevIssue");this.issueUpdateCallbacks=[];this._issueSearchManager=b.issueSearchManager;this._initialSelectedIssue=b.initialSelectedIssue;this._columnConfig=b.columnConfig},getStartIndexForPage:function(a){return a*this.getPageSize()},hasIssue:function(a){return-1!==c.indexOf(this.getIssueIds(),a)},getPager:function(){if(this.hasIssue(this.getSelectedIssue().getId())){var a=this.getIssueIds(),
b=this.getSelectedIssue().getId(),d=c.indexOf(a,b),f=this.getTotal(),e=a.length;a={position:JIRA.NumberFormatter.format(d+1),resultCount:JIRA.NumberFormatter.format(f)};if(0<d){var g=this._getPrevIssueId(b);g&&(a.previousIssue={id:g,key:this._getIssueKeyForId(g)})}d<f-1&&d<e-1&&(b=this._getNextIssueId(b))&&(a.nextIssue={id:b,key:this._getIssueKeyForId(b)});return a}},getNumberOfPages:function(){return this._getPageNumberForStartIndex(this.getDisplayableTotal()-1)},removeIssue:function(a){a=parseInt(a,
10);var b=this.getIssueIds()[0]===a,d=this.getHighlightedIssue().getId()===a,e=c.last(this.getIssueIds())===a;d&&(e?b||this.highlightPrevIssue({replace:!0}):this.highlightNextIssue({replace:!0}));this.setIssueIds(c.without(this.getIssueIds(),a));this.setTotal(this.getTotal()-1);this.triggerIssueDeleted({id:a,key:this._getIssueKeyForId(a)})},isFirstIssueHighlighted:function(){return this.hasHighlightedIssue()?this.getHighlightedIssue().getId()===this.getIssueIds()[0]:!1},updateIssueById:function(a,
b){return this.updateIssue(a,b)},updateIssue:function(a,b){var d=a.action===JIRA.Issues.Actions.DELETE||a.action===JIRA.Issues.Actions.ARCHIVE,f=a.id,h=[];b=c.defaults({},b,{showMessage:!0,filter:null});return d?(this.removeIssue(f),b.showMessage&&this._notifyOfIssueUpdate(a),(new jQuery.Deferred).resolve().promise()):this.getResultForId(f,b.filter).done(c.bind(function(d){c.each(this.issueUpdateCallbacks,function(b){(b=b.handler.call(b.ctx||window,f,d,a))&&b.promise&&h.push(b)});e.when(h).done(c.bind(function(){b.showMessage&&
this._notifyOfIssueUpdate(a)},this))},this))},_notifyOfIssueUpdate:function(a){a.message&&JIRA.Issues.showNotification(a.message,a.key);JIRA.trace("jira.search.stable.update")},getResultForId:function(a,b){var d={columnConfig:this._columnConfig.columnPickerModel.getColumnConfig()};b&&!b.getIsSystem()&&(d=c.extend({filterId:b.getId()},d));return this._issueSearchManager.getRowsForIds([a],d)},isHighlightedIssueAccessible:function(){return this.hasHighlightedIssue()?!this._issueSearchManager.issueKeys.hasError(this.getHighlightedIssue().getId()):
null},getDisplayableTotal:function(){return this.getIssueIds().length},selectIssueByKey:function(a,b){if(a){var d=this._getIssueIdForKey(a);d&&-1!==d?this._selectExistingIssueById(d,b):(this._unhighlightIssue(),this.getSelectedIssue().set({id:-1,key:a}),this.triggerIssueDoesNotExist())}else this.unselectIssue()},_unhighlightIssue:function(){this.getHighlightedIssue().set({id:null,key:null})},selectFirstInPage:function(a){this.selectIssueById(this.getIssueIds()[this.getStartIndex()],a)},getPrevPageStartIndex:function(){var a=
(this.getStartIndex()||0)-this.getPageSize();return 0>a?null:a},getNextPageStartIndex:function(){var a=this.getPositionOfLastIssueInPage();return a>=this.getDisplayableTotal()?null:a},getPositionOfLastIssueInPage:function(){var a=this.getStartIndex(),b=this._pageSize();return Math.min(a+b,this.getDisplayableTotal())},highlightFirstInPage:function(){this.highlightIssueById(this.getIssueIds()[this.getStartIndex()])},selectIssueById:function(a,b){a?this._selectExistingIssueById(a,b):this.unselectIssue()},
_selectExistingIssueById:function(a,b){a!==this.getSelectedIssue().getId()&&JIRA.Issues.Application.request("issueEditor:canDismissComment")&&(a=a?parseInt(a,10):null,this.getSelectedIssue().set({id:a,key:a?this._getIssueKeyForId(a):null},b),this.highlightIssueById(a))},highlightIssueById:function(a,b){b=c.defaults({},b,{replace:!1});a&&a!==this.getHighlightedIssue().getId()&&(a=a?parseInt(a,10):null,this.getHighlightedIssue().set({id:a,key:a?this._getIssueKeyForId(a):null},b),a&&this.setStartIndex(this._getStartIndexForIssueId(a)))},
getState:function(){return{selectedIssueKey:this.getSelectedIssue().getKey(),startIndex:this.getStartIndex()}},resetFromSearch:function(a){a.resultsId=c.uniqueId();this.getSelectedIssue().set({id:null,key:null});this.set({sortBy:null});this.set("startIndex",a.startIndex,{silent:!0});this.set(c.pick(a,this.properties));"string"===typeof a.selectedIssueKey?this.selectIssueByKey(a.selectedIssueKey):this.hasIssues()?this.highlightFirstInPage():this.getHighlightedIssue().set({id:null,key:null})},hasIssues:function(){return!!this.getIssueIds().length},
isIssueOnPage:function(a){return-1!==c.indexOf(this.getPageIssueIds(),a)},isFirstIssueSelected:function(){if(this.hasIssue(this.getSelectedIssue().getId())){var a=this.getIssueIds(),b=this.getSelectedIssue().getId();return 0===c.indexOf(a,b)}return!1},getResultsForPage:function(a){c.extend(a,{columnConfig:this._columnConfig.columnPickerModel.getColumnConfig()});return this.getTable()?(a=this.getTable(),this.setTable(null,{silent:!0}),c.defer(function(){JIRA.trace("jira.search.finished")}),(new e.Deferred).resolve(a).promise()):
this.getResultsForIds(this.getPageIssueIds(),a)},getResultsForIds:function(a,b){var d=this,f=new e.Deferred;this._issueSearchManager.getRowsForIds(a,b).done(function(a){c.isArray(a.table)||(d.setColumnConfig(a.columnConfig),d.setColumns(a.columns),d.setColumnSortJql(a.columnSortJql));f.resolve(a.table)}).fail(f.reject).always(function(){c.defer(function(){JIRA.trace("jira.search.finished")})});return f},applyState:function(a){this.set(c.pick(a,this.properties))},unselectIssue:function(a){var b=this.getSelectedIssue();
b.getId()&&JIRA.Issues.Application.request("issueEditor:canDismissComment")&&b.set({id:null,key:null},a)},hasSelectedIssue:function(){return!!this.getSelectedIssue().getId()},hasHighlightedIssue:function(){return!!this.getHighlightedIssue().getId()},getPageIssueIds:function(){var a=this.getStartIndex(),b=this._pageSize(),d=this.getIssueIds();return d?d.slice(a,Math.min(a+b,d.length)):[]},getPageIssues:function(){return c.map(this.getPageIssueIds(),function(a){return{id:a,key:this._getIssueKeyForId(a)}},
this)},getPageNumber:function(){return Math.floor(this.getStartIndex()/this._pageSize())},getPositionOfIssueInPage:function(a){return this.getPositionOfIssueInSearchResults(a)%this._pageSize()},getPositionOfIssueInSearchResults:function(a){return c.indexOf(this.getIssueIds(),a)},selectNextIssue:function(a){if(!this.hasSelectedIssue())return(new e.Deferred).reject().promise();var b=this._getNextIssueId(this.getSelectedIssue().getId());this._triggerNextIssueSelectedEvent(b);return this._selectIssue(b,
a)},selectPrevIssue:function(a){if(!this.hasSelectedIssue())return(new e.Deferred).reject().promise();var b=this._getPrevIssueId(this.getSelectedIssue().getId());this._triggerPrevIssueSelectedEvent(b);return this._selectIssue(b,a)},_selectIssue:function(a,b){this.selectIssueById(a,b);return(new e.Deferred).resolve(a).promise()},highlightNextIssue:function(a){if(!this.hasHighlightedIssue())return(new e.Deferred).reject().promise();var b=this._getNextIssueId(this.getHighlightedIssue().getId());this.highlightIssueById(b,
a);return(new e.Deferred).resolve(b).promise()},highlightPrevIssue:function(a){if(!this.hasHighlightedIssue())return(new e.Deferred).reject().promise();var b=this._getPrevIssueId(this.getHighlightedIssue().getId());this.highlightIssueById(b,a);return(new e.Deferred).resolve(b).promise()},goToPage:function(a,b){b=c.defaults({},b,{replace:!1});if(null===a||a===this.getStartIndex())return(new e.Deferred).resolve().promise();a=this.getIssueIds()[a];this.highlightIssueById(a,b);return(new e.Deferred).resolve(a).promise()},
onHighlightedIssueChange:function(a,b){this.getHighlightedIssue().on("change",a,b)},offHighlightedIssueChange:function(a,b){this.getHighlightedIssue().off("change",a,b)},onSelectedIssueChange:function(a,b){this.getSelectedIssue().on("change",a,b)},offSelectedIssueChange:function(a,b){this.getSelectedIssue().off("change",a,b)},onColumnConfigChange:function(a,b){this.on("change:columnConfig",a,b)},offColumnConfigChange:function(a,b){this.off("change:columnConfig",a,b)},onColumnsChange:function(a,b){this.on("change:columns",
a,b)},offColumnsChange:function(a,b){this.off("change:columns",a,b)},onStartIndexChange:function(a,b){this.on("change:startIndex",a,b)},onNewIssueIds:function(a,b){this.on("change:issueIds",a,b)},offNewIssueIds:function(a,b){this.off("change:issueIds",a,b)},offStartIndexChange:function(a,b){this.off("change:startIndex",a,b)},onNewPayload:function(a,b){this.on("change:resultsId",a,b)},offNewPayload:function(a,b){this.off("change:resultsId",a,b)},onIssueUpdated:function(a,b){this.issueUpdateCallbacks.push({handler:a,
ctx:b})},offIssueUpdated:function(a){var b=[];this.issueUpdateCallbacks=c.each(this.issueUpdateCallbacks,function(d){d.handler!==a&&b.push(d)});this.issueUpdateCallbacks=b},_getNextIssueId:function(a){var b=this.getIssueIds();return b[Math.min(c.indexOf(b,a)+1,this.getDisplayableTotal()-1)]},getNextIssueForId:function(a){a=this._getNextIssueId(a);return{id:a,key:this._getIssueKeyForId(a)}},getNextIssueForSelectedIssue:function(){return this.getNextIssueForId(this.getSelectedIssue().getId())},_getPrevIssueId:function(a){return this.getIssueIds()[Math.max(0,
c.indexOf(this.getIssueIds(),a)-1)]},_getStartIndexForIssueId:function(a){a=c.indexOf(this.getIssueIds(),a);var b=this._pageSize();return Math.max(0,Math.floor(a/b)*b)},_getIssueIdForKey:function(a){return this._initialSelectedIssue&&a===this._initialSelectedIssue.key?this._initialSelectedIssue.id:this._getIssueKeysToIds()[a]},_getIssueKeyForId:function(a){return this._initialSelectedIssue&&a===this._initialSelectedIssue.id?this._initialSelectedIssue.key:this._getIssueIdsToKeys()[a]},_getIssueIdsToKeys:function(){return this._issueSearchManager.issueKeys.getAllCached()},
_getIssueKeysToIds:function(){var a={},b=this._issueSearchManager.issueKeys.getAllCached();c.each(b,function(b,c){a[b]=c});return a},_getPageNumberForStartIndex:function(a){return Math.floor(a/this._pageSize())},_pageSize:function(){return this.getPageSize()},_triggerPrevIssueSelectedEvent:function(a){if(a!==this.getSelectedIssue().getId()){var b=this._getPrevIssueId(a);this.trigger("prevIssueSelected",{prevIssue:{id:a,key:this._getIssueKeyForId(a)},prevPrevIssue:{id:b,key:this._getIssueKeyForId(b)}})}},
_triggerNextIssueSelectedEvent:function(a){if(a!==this.getSelectedIssue().getId()){var b=this._getNextIssueId(a);this.trigger("nextIssueSelected",{nextIssue:{id:a,key:this._getIssueKeyForId(a)},nextNextIssue:{id:b,key:this._getIssueKeyForId(b)}})}}})});AJS.namespace("JIRA.Issues.SearchResults",null,require("jira/issues/search-results"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/SearchModule.js' */
define("jira/issues/search-module",["underscore"],function(c){return JIRA.Issues.BaseEvented.extend({initialize:function(a){this._issueSearchManager=a.issueSearchManager;this._searchPageModule=a.searchPageModule;this._searchResults=new JIRA.Issues.SearchResults(null,{issueSearchManager:this._issueSearchManager,initialSelectedIssue:a.initialSelectedIssue,columnConfig:this._searchPageModule.columnConfig});JIRA.Issues.Application.reqres.setHandler("issueNav:currentSearchRequest",this.getCurrentSearchRequest,
this);JIRA.Issues.Application.commands.setHandler("issueNav:refreshSearch",this.refresh,this)},doSort:function(a){a&&this._searchPageModule.update({jql:a,startIndex:null,selectedIssueKey:null},!0)},getFilterId:function(){var a=this._searchPageModule.getFilter();return a&&a.getId()},getJql:function(){return this._searchPageModule.getJql()},getEffectiveJql:function(){return this._searchPageModule.getEffectiveJql()},getResults:function(){return this._searchResults},getState:function(){return this._searchPageModule.getState()},
getCurrentSearchRequest:function(){return{jql:this.getJql(),filterId:this.getFilterId()}},isStandAloneIssue:function(a){a=a||this._searchPageModule.getState();return!!a.selectedIssueKey&&!c.isString(a.jql)&&!a.filter},onBeforeSearch:function(a,b){this._issueSearchManager.bindBeforeSearch(a,b)},offBeforeSearch:function(a,b){this._issueSearchManager.unbindBeforeSearch(a,b)},onSearchError:function(a,b){this._issueSearchManager.bindSearchError(a,b)},offSearchError:function(a,b){this._issueSearchManager.unbindSearchError(a,
b)},refresh:function(){return this._searchPageModule.refreshSearch()},stableUpdate:function(a){this._searchResults.triggerStableUpdate(c.extend({force:!0},a))}})});AJS.namespace("JIRA.Issues.SearchModule",null,require("jira/issues/search-module"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-mess', location = 'content/js/search/EmptyResultsView.js' */
define("jira/issues/empty-results-view",["underscore"],function(c){return JIRA.Issues.BaseView.extend({initialize:function(a){this.searchResults=a.searchResults},render:function(){var a=JIRA.Issues.UserParms.get().createIssue;if(JIRA.Issues.LoginUtils.isLoggedIn()){var b="\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";var d=a?"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u003ca\u003e\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u003c/a\u003e":"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430";var e="no-results-message";a="create"}else b="\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",
d="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u003ca\u003e\u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\u003c/a\u003e \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",e="not-logged-in-message",a="login";this.$el.addClass("empty-results");this.$el.html(JIRA.Templates.IssueNavTable.noResults({message:b,hint:d,cssClass:e}));b=this.$(".no-results-hint a");switch(a){case "create":b.addClass("create-issue").attr("href",AJS.contextPath()+"/secure/CreateIssue!default.jspa");break;case "login":b.attr("href",JIRA.Issues.LoginUtils.redirectUrlToCurrent()).addClass("login-link")}c.defer(jQuery.event.trigger,"updateOffsets.popout");
c.defer(JIRA.trace,"jira.search.finished")}})});AJS.namespace("JIRA.Issues.EmptyResultsView",null,require("jira/issues/empty-results-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search', location = 'content/js/components/search/Search.js' */
define("jira/issues/components/search",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/issues/application"),e=b("jira/components/libs/marionette-1.4.1/controller"),f=b("jira/components/search/latestStorage"),g=b("jira/issues/navigator/metrics");return e.extend({initialize:function(a){this.searchModule=a.searchModule;this.searchResults=a.searchResults;this.columnConfig=a.columnConfig;c.bindAll(this,"_onIssueUpdated","_onHighlightedIssueChange","_onSelectedIssueChange",
"_onBeforeSearch");this.listenTo(this.searchResults,"change:resultsId change:startIndex stableUpdate issueDeleted",function(){this._doSearch()});this.searchResults.onIssueUpdated(this._onIssueUpdated);this.searchResults.onHighlightedIssueChange(this._onHighlightedIssueChange);this.searchResults.onSelectedIssueChange(this._onSelectedIssueChange);this.searchModule.onBeforeSearch(this._onBeforeSearch)},_onSelectedIssueChange:function(a){this.trigger("selectedIssueChanged",a,this.searchResults.getHighlightedIssue())},
_onIssueUpdated:function(a,b,c){this.trigger("issueUpdated",a,b,c)},_onHighlightedIssueChange:function(a){this.trigger("issueHighlighted",a.getId())},_onBeforeSearch:function(){this.trigger("before:search")},close:function(){this.stopListening();this.searchResults.offIssueUpdated(this._onIssueUpdated);this.searchResults.offHighlightedIssueChange(this._onHighlightedIssueChange)},_doSearch:function(){this.searchInProgress=!0;var a=this.searchModule.getFilterId();a=0>a||c.isNull(a)?void 0:a;var b={filter:a,
jql:this.searchModule.getEffectiveJql()};f.save(b);this.searchResults.getResultsForPage({jql:this.searchModule.getEffectiveJql(),filterId:a}).always(c.bind(function(){this.searchInProgress=!1},this)).done(c.bind(function(a){this.searchResults.hasHighlightedIssue()||this.searchResults.highlightFirstInPage();this.trigger("search",a,this.searchResults)},this)).fail(c.bind(function(){this.trigger("error:search")},this))},goToPage:function(a){this.searchInProgress||(this._onBeforeSearch(),this.searchResults.goToPage(a))},
sort:function(a){this.searchInProgress||(a=this.searchModule.getResults().getColumnSortJql()[a])&&this.searchModule.doSort(a)},runCurrentSearch:function(){!this.searchInProgress&&d.request("issueEditor:canDismissComment")&&(d.execute("analytics:trigger","kickass.issueTableRefresh"),this.searchModule.refresh())},updateExitingResults:function(){!this.searchInProgress&&d.request("issueEditor:canDismissComment")&&(d.execute("analytics:trigger","kickass.issueTableRefresh"),this._doSearch())},highlightIssue:function(a){this.searchResults.highlightIssueById(a)},
getPager:function(){return this.searchResults.getPager()},selectNextIssue:function(){this.searchResults.highlightNextIssue();this.searchResults.hasSelectedIssue()&&(b("jira/issues/navigator/metrics").notifyIssueView(),this.searchResults.selectNextIssue())},selectPreviousIssue:function(){this.searchResults.highlightPrevIssue();this.searchResults.hasSelectedIssue()&&(g.notifyIssueView(),this.searchResults.selectPrevIssue())},unselectIssue:function(){this.searchResults.unselectIssue()},hasSelectedIssue:function(){return this.searchResults.hasSelectedIssue()},
getHighlightedIssue:function(){return this.searchResults.getHighlightedIssue().id}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search', location = 'content/js/components/search/namespace.js' */
AJS.namespace("JIRA.Components.SearchService",null,require("jira/issues/components/search"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-templates', location = 'content/templates/issuenav.soy' */
// This file was automatically generated from issuenav.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNav.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNav == 'undefined') { JIRA.Templates.IssueNav = {}; }


JIRA.Templates.IssueNav.issueTable = function(opt_data, opt_ignored) {
  return '<thead><tr></tr></thead><tbody></tbody>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.issueTable.soyTemplateName = 'JIRA.Templates.IssueNav.issueTable';
}


JIRA.Templates.IssueNav.columnHeader_issuetype = function(opt_data, opt_ignored) {
  return '<th class="issue-type issue-icon-result persist-result"><div>' + soy.$$escapeHtml('\u0422\u0438\u043f') + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_issuetype.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_issuetype';
}


JIRA.Templates.IssueNav.column_issuetype = function(opt_data, opt_ignored) {
  return '<td class="issue-type issue-icon-result persist-result"><img src="' + soy.$$escapeHtml(opt_data.issue.fields.issuetype.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issue.fields.issuetype.name) + '" title="' + soy.$$escapeHtml(opt_data.issue.fields.issuetype.description) + '" align="absmiddle" border="0" height="16" width="16"></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_issuetype.soyTemplateName = 'JIRA.Templates.IssueNav.column_issuetype';
}


JIRA.Templates.IssueNav.columnHeader_keysummary = function(opt_data, opt_ignored) {
  return '<th class="issue-key persist-result"><div>' + soy.$$escapeHtml('\u041a\u043e\u0434') + '</div></th><th class="issue-summary issue-text-result persist-result"><div>' + soy.$$escapeHtml('\u0422\u0435\u043c\u0430') + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_keysummary.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_keysummary';
}


JIRA.Templates.IssueNav.column_keysummary = function(opt_data, opt_ignored) {
  return '<td class="issue-key-summary issue-text-result persist-result" colspan="2"><div><a href="' + soy.$$escapeHtml(opt_data.contextPath) + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" class="issue"><span class="secondary-text">' + soy.$$escapeHtml(opt_data.issue.key) + '</span>' + soy.$$escapeHtml(opt_data.issue.fields.summary) + '</a></div></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_keysummary.soyTemplateName = 'JIRA.Templates.IssueNav.column_keysummary';
}


JIRA.Templates.IssueNav.columnHeader_status = function(opt_data, opt_ignored) {
  return '<th class="issue-status"><div>' + soy.$$escapeHtml('\u0421\u0442\u0430\u0442\u0443\u0441') + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_status.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_status';
}


JIRA.Templates.IssueNav.column_status = function(opt_data, opt_ignored) {
  return '<td class="issue-status"><div class="status-lozenge">' + soy.$$escapeHtml(opt_data.issue.fields.status.name) + '</div></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_status.soyTemplateName = 'JIRA.Templates.IssueNav.column_status';
}


JIRA.Templates.IssueNav.columnHeader_assignee = function(opt_data, opt_ignored) {
  return '<th class="issue-user"><div>' + soy.$$escapeHtml('\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c') + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_assignee.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_assignee';
}


JIRA.Templates.IssueNav.column_assignee = function(opt_data, opt_ignored) {
  return '<td class="issue-user">' + ((opt_data.issue.fields.assignee) ? '<img src="' + soy.$$escapeHtml(opt_data.issue.fields.assignee.avatarUrls['16x16']) + '" alt="' + soy.$$escapeHtml(opt_data.issue.fields.assignee.name) + '" height="16" width="16" /><a class="user-hover" rel="' + soy.$$escapeHtml(opt_data.issue.fields.assignee.name) + '" href="#">' + soy.$$escapeHtml(opt_data.issue.fields.assignee.displayName) + '</a>' : soy.$$escapeHtml('\u041d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d')) + '</td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_assignee.soyTemplateName = 'JIRA.Templates.IssueNav.column_assignee';
}


JIRA.Templates.IssueNav.columnHeader_updated = function(opt_data, opt_ignored) {
  return '<th class="issue-datetime"><div>' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e') + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_updated.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_updated';
}


JIRA.Templates.IssueNav.column_updated = function(opt_data, opt_ignored) {
  return '<td class="issue-datetime"><time datetime="' + soy.$$escapeHtml(opt_data.issue.fields.updated) + '">' + soy.$$escapeHtml(opt_data.TMP_FORMATTED_DATE) + '</time></td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_updated.soyTemplateName = 'JIRA.Templates.IssueNav.column_updated';
}


JIRA.Templates.IssueNav.columnHeader_resolution = function(opt_data, opt_ignored) {
  return '<th class="issue-resolution"><div>' + soy.$$escapeHtml('\u0420\u0435\u0448\u0435\u043d\u0438\u0435') + '</div></th>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.columnHeader_resolution.soyTemplateName = 'JIRA.Templates.IssueNav.columnHeader_resolution';
}


JIRA.Templates.IssueNav.column_resolution = function(opt_data, opt_ignored) {
  return '<td class="issue-resolution">' + ((opt_data.issue.fields.resolution) ? soy.$$escapeHtml(opt_data.issue.fields.resolution.name) : soy.$$escapeHtml('\u041d\u0435\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f')) + '</td>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.column_resolution.soyTemplateName = 'JIRA.Templates.IssueNav.column_resolution';
}


JIRA.Templates.IssueNav.issueResultsError = function(opt_data, opt_ignored) {
  return '<tr class="error"><td colspan="' + soy.$$escapeHtml(opt_data.columnCount) + '">' + soy.$$escapeHtml(opt_data.errorText) + '</td></tr>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.issueResultsError.soyTemplateName = 'JIRA.Templates.IssueNav.issueResultsError';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common-templates', location = 'content/templates/issuenav-amd.js' */
define("jira/issues/templates/issue-nav",function(){return JIRA.Templates.IssueNav});AJS.namespace("JIRA.Templates.IssueNav",null,require("jira/issues/templates/issue-nav"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-results.soy' */
// This file was automatically generated from issuenav-results.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNav.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNav == 'undefined') { JIRA.Templates.IssueNav = {}; }


JIRA.Templates.IssueNav.resultsCount = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.IssueNav.resultsCountHelper({start: '<span class="results-count-start">' + soy.$$escapeHtml(opt_data.start) + '</span>', end: '<span class="results-count-end">' + soy.$$escapeHtml(opt_data.end) + '</span>', total: '<span class="results-count-total results-count-link">' + soy.$$escapeHtml(opt_data.total) + '</span>'});
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.resultsCount.soyTemplateName = 'JIRA.Templates.IssueNav.resultsCount';
}


JIRA.Templates.IssueNav.resultsCountHelper = function(opt_data, opt_ignored) {
  return '<span class="results-count-text">' + soy.$$filterNoAutoescape(AJS.format('\u041f\u043e\u043a\u0430\u0437\u0430\u043d\u044b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b: {0}\u2013{1} \u0438\u0437 {2}',opt_data.start,opt_data.end,opt_data.total)) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.resultsCountHelper.soyTemplateName = 'JIRA.Templates.IssueNav.resultsCountHelper';
}


JIRA.Templates.IssueNav.endOfStableMessage = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.') + '</p>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.endOfStableMessage.soyTemplateName = 'JIRA.Templates.IssueNav.endOfStableMessage';
}


JIRA.Templates.IssueNav.refreshResults = function(opt_data, opt_ignored) {
  return '<a href="#" class="refresh-table" title="' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b') + '"><span class="aui-icon aui-icon-small aui-iconfont-refresh-small">' + soy.$$escapeHtml('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b') + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNav.refreshResults.soyTemplateName = 'JIRA.Templates.IssueNav.refreshResults';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-pagination.soy' */
// This file was automatically generated from issuenav-pagination.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavTable.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavTable == 'undefined') { JIRA.Templates.IssueNavTable = {}; }


JIRA.Templates.IssueNavTable.pagination = function(opt_data, opt_ignored) {
  var output = '<div class="pagination" data-displayable-total="' + soy.$$escapeHtml(opt_data.displayableTotal) + '">';
  var MAX_PAGES_DISPLAYED__soy6 = 5;
  var lastPage__soy7 = Math.floor((opt_data.displayableTotal - 1) / opt_data.pageSize);
  var pageNumber__soy8 = Math.floor(opt_data.startIndex / opt_data.pageSize);
  var urlFragment__soy9 = soy.$$escapeHtml("") + '/' + soy.$$filterNoAutoescape(opt_data.searchQuery) + '&startIndex=';
  var prevStartIndex__soy15 = opt_data.startIndex - opt_data.pageSize;
  output += ((prevStartIndex__soy15 >= 0) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(prevStartIndex__soy15) + '" data-start-index="' + soy.$$escapeHtml(prevStartIndex__soy15) + '" class="nav-previous" aria-label="' + soy.$$escapeHtml(AJS.format('\u041a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ({0} \u0438\u0437 {1})',pageNumber__soy8,lastPage__soy7 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-left">&lt;&lt; ' + soy.$$escapeHtml('\u041d\u0430\u0437\u0430\u0434') + '</span></a>' : '') + JIRA.Templates.IssueNavTable.numberLinksLogicBranch({startPage: pageNumber__soy8 - Math.floor(MAX_PAGES_DISPLAYED__soy6 / 2), endPage: pageNumber__soy8 + Math.floor(MAX_PAGES_DISPLAYED__soy6 / 2), lastPage: lastPage__soy7, urlFragment: urlFragment__soy9, currentPage: pageNumber__soy8 + 1, maxPagesDisplayed: MAX_PAGES_DISPLAYED__soy6, pageSize: opt_data.pageSize, displayableTotal: opt_data.displayableTotal});
  var nextStartIndex__soy37 = Math.min(opt_data.startIndex + opt_data.pageSize, opt_data.displayableTotal);
  output += ((nextStartIndex__soy37 < opt_data.displayableTotal) ? '<a href="' + soy.$$escapeHtml(urlFragment__soy9) + soy.$$escapeHtml(nextStartIndex__soy37) + '" data-start-index="' + soy.$$escapeHtml(nextStartIndex__soy37) + '" class="nav-next" aria-label="' + soy.$$escapeHtml(AJS.format('\u041a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ({0} \u0438\u0437 {1})',pageNumber__soy8 + 2,lastPage__soy7 + 1)) + '"><span class="aui-icon aui-icon-small aui-iconfont-chevron-right">' + soy.$$escapeHtml('\u0414\u0430\u043b\u0435\u0435') + ' &gt;&gt;</span></a>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.pagination.soyTemplateName = 'JIRA.Templates.IssueNavTable.pagination';
}


JIRA.Templates.IssueNavTable.numberLinksLogicBranch = function(opt_data, opt_ignored) {
  return '' + ((opt_data.lastPage < opt_data.maxPagesDisplayed) ? JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.lastPage})) : (opt_data.startPage < 0) ? JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(opt_data, {startPage: 0, endPage: opt_data.endPage - opt_data.startPage})) : (opt_data.endPage > opt_data.lastPage) ? JIRA.Templates.IssueNavTable.numberLinks(soy.$$augmentMap(opt_data, {startPage: opt_data.startPage - (opt_data.endPage - opt_data.lastPage), endPage: opt_data.lastPage})) : JIRA.Templates.IssueNavTable.numberLinks(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.numberLinksLogicBranch.soyTemplateName = 'JIRA.Templates.IssueNavTable.numberLinksLogicBranch';
}


JIRA.Templates.IssueNavTable.numberLinks = function(opt_data, opt_ignored) {
  var output = '';
  var size__soy72 = opt_data.endPage - opt_data.startPage + 1;
  if (size__soy72 > 1) {
    var iLimit75 = Math.round(size__soy72);
    for (var i75 = 0; i75 < iLimit75; i75++) {
      var pageIndex__soy76 = i75 + opt_data.startPage;
      var pageNumber__soy77 = pageIndex__soy76 + 1;
      var pageStartIndex__soy78 = pageIndex__soy76 * opt_data.pageSize;
      var pageEndIndex__soy79 = Math.min(pageStartIndex__soy78 + opt_data.pageSize, opt_data.displayableTotal);
      var pageBoundaries__soy80 = '' + soy.$$escapeHtml(AJS.format('\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430\xa0{0}: \u0437\u0430\u0434\u0430\u0447\u0438\xa0{1}\u2013{2}',pageNumber__soy77,pageStartIndex__soy78 + 1,pageEndIndex__soy79));
      output += ' ' + ((pageNumber__soy77 == opt_data.currentPage) ? '<strong title="' + soy.$$escapeHtml(pageBoundaries__soy80) + '">' + soy.$$escapeHtml(pageNumber__soy77) + '</strong>' : '<a href="' + soy.$$escapeHtml(opt_data.urlFragment) + soy.$$escapeHtml(pageStartIndex__soy78) + '" data-page="' + soy.$$escapeHtml(pageNumber__soy77) + '" data-start-index="' + soy.$$escapeHtml(pageStartIndex__soy78) + '" aria-label="' + soy.$$escapeHtml(pageBoundaries__soy80) + '">' + soy.$$escapeHtml(pageNumber__soy77) + '</a>');
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.numberLinks.soyTemplateName = 'JIRA.Templates.IssueNavTable.numberLinks';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-table.soy' */
// This file was automatically generated from issuenav-table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavTable.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavTable == 'undefined') { JIRA.Templates.IssueNavTable = {}; }


JIRA.Templates.IssueNavTable.structure = function(opt_data, opt_ignored) {
  return '<div class="list-view"><div class="issue-table-container"></div><div class="end-of-stable-message"></div></div><div class="aui-group aui-group-split count-pagination"><div class="aui-item"><div class="results-count-bottom"></div><div class="refresh-table-bottom"></div></div><div class="aui-item"><div class="pagination"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.structure.soyTemplateName = 'JIRA.Templates.IssueNavTable.structure';
}


JIRA.Templates.IssueNavTable.noResults = function(opt_data, opt_ignored) {
  return '<div class="no-results ' + soy.$$escapeHtml(opt_data.cssClass) + '"><h2>' + soy.$$filterNoAutoescape(opt_data.message) + '</h2>' + ((opt_data.hint) ? '<p class="no-results-hint">' + soy.$$filterNoAutoescape(opt_data.hint) + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.noResults.soyTemplateName = 'JIRA.Templates.IssueNavTable.noResults';
}


JIRA.Templates.IssueNavTable.listOptions = function(opt_data, opt_ignored) {
  var output = '<div class="aui-list">';
  var hasLabels__soy20 = '';
  var groupList21 = opt_data.groups;
  var groupListLen21 = groupList21.length;
  for (var groupIndex21 = 0; groupIndex21 < groupListLen21; groupIndex21++) {
    var groupData21 = groupList21[groupIndex21];
    hasLabels__soy20 += (groupData21.label) ? 'true' : '';
  }
  if (hasLabels__soy20) {
    var groupList28 = opt_data.groups;
    var groupListLen28 = groupList28.length;
    for (var groupIndex28 = 0; groupIndex28 < groupListLen28; groupIndex28++) {
      var groupData28 = groupList28[groupIndex28];
      output += ((groupData28.label) ? '<h5>' + soy.$$escapeHtml(groupData28.label) + '</h5>' : '') + '<ul ' + ((groupData28.id) ? 'id="' + soy.$$escapeHtml(groupData28.id) + '"' : '') + ' class="aui-list-section' + ((groupIndex28 == 0) ? ' aui-first' : '') + ((groupIndex28 == groupListLen28 - 1) ? ' aui-last' : '') + '" role="group" ' + ((groupData28.label) ? 'aria-label="' + soy.$$escapeHtml(groupData28.label) + '"' : '') + '>';
      var itemList54 = groupData28.items;
      var itemListLen54 = itemList54.length;
      for (var itemIndex54 = 0; itemIndex54 < itemListLen54; itemIndex54++) {
        var itemData54 = itemList54[itemIndex54];
        output += '<li class="aui-list-item"><a class="aui-list-item-link" ' + ((itemData54.id) ? 'id="' + soy.$$escapeHtml(itemData54.id) + '"' : '') + ' ' + ((itemData54.rel) ? 'rel="' + soy.$$escapeHtml(itemData54.rel) + '"' : '') + ' href="' + ((! itemData54.relativeLink) ? soy.$$escapeHtml("") : '') + soy.$$escapeHtml(itemData54.link) + '" ' + ((itemData54.title) ? 'title="' + soy.$$escapeHtml(itemData54.title) + '"' : '') + '>' + soy.$$escapeHtml(itemData54.label) + '</a></li>';
      }
      output += '</ul>';
    }
  } else {
    output += '<ul role="menu">';
    var groupList86 = opt_data.groups;
    var groupListLen86 = groupList86.length;
    for (var groupIndex86 = 0; groupIndex86 < groupListLen86; groupIndex86++) {
      var groupData86 = groupList86[groupIndex86];
      var itemList87 = groupData86.items;
      var itemListLen87 = itemList87.length;
      for (var itemIndex87 = 0; itemIndex87 < itemListLen87; itemIndex87++) {
        var itemData87 = itemList87[itemIndex87];
        output += '<li class="aui-list-item ' + ((itemIndex87 == itemListLen87 - 1) ? ' aui-list-item-last' : '') + ((groupIndex86 == groupListLen86 - 1) ? ' aui-last-group' : '') + '"><a class="aui-list-item-link" ' + ((itemData87.id) ? 'id="' + soy.$$escapeHtml(itemData87.id) + '"' : '') + ' ' + ((itemData87.rel) ? 'rel="' + soy.$$escapeHtml(itemData87.rel) + '"' : '') + ' href="' + ((! itemData87.relativeLink) ? soy.$$escapeHtml("") : '') + soy.$$escapeHtml(itemData87.link) + '" ' + ((itemData87.title) ? 'title="' + soy.$$escapeHtml(itemData87.title) + '"' : '') + '>' + soy.$$escapeHtml(itemData87.label) + '</a></li>';
      }
    }
    output += '</ul>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.listOptions.soyTemplateName = 'JIRA.Templates.IssueNavTable.listOptions';
}


JIRA.Templates.IssueNavTable.views = function(opt_data, opt_ignored) {
  return '' + ((opt_data.sections.issue && opt_data.sections.issue.length > 0) ? '<div class="issue-panel aui-dropdown2-section">' + JIRA.Templates.IssueNavTable.listOptions({groups: opt_data.sections.issue}) + '</div>' : '') + ((opt_data.sections.filter && opt_data.sections.filter.length > 0) ? '<div class="filter-panel aui-dropdown2-section">' + JIRA.Templates.IssueNavTable.listOptions({groups: opt_data.sections.filter}) + '</div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.views.soyTemplateName = 'JIRA.Templates.IssueNavTable.views';
}


JIRA.Templates.IssueNavTable.tools = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.IssueNavTable.listOptions(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.tools.soyTemplateName = 'JIRA.Templates.IssueNavTable.tools';
}


JIRA.Templates.IssueNavTable.inaccessibleIssueRow = function(opt_data, opt_ignored) {
  return '<tr class="issuerow inaccessible-issue" rel="' + soy.$$escapeHtml(opt_data.issueID) + '"><td class="nav" colspan="' + soy.$$escapeHtml(opt_data.columnCount) + '">' + soy.$$escapeHtml('\u042d\u0442\u043e\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442') + '</td></tr>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.inaccessibleIssueRow.soyTemplateName = 'JIRA.Templates.IssueNavTable.inaccessibleIssueRow';
}


JIRA.Templates.IssueNavTable.headerSortIcon = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-' + ((opt_data.order == 'ASC') ? 'up' : 'down') + ' issuetable-header-sort-icon"></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavTable.headerSortIcon.soyTemplateName = 'JIRA.Templates.IssueNavTable.headerSortIcon';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component-templates', location = 'content/templates/issuenav-table-amd.js' */
define("jira/issues/templates/issue-nav-table",function(){return JIRA.Templates.IssueNavTable});AJS.namespace("JIRA.Templates.IssueNavTable",null,require("jira/issues/templates/issue-nav-table"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/ColumnPicker.js' */
define("jira/issues/components/table/column-picker",["require"],function(b){var h=b("jira/components/libs/underscore"),d=b("jira/components/columnpicker/columnconfigmodel"),c=b("jira/components/columnpicker"),e=b("jquery"),k=b("jira/util/users/logged-in-user"),f=b("wrm/context-path"),g=c.extend({initialize:function(a,b){a=[this._getUserColumnProvider(),this._getFilterColumnProvider()];k.isAdmin()&&a.push(this._getSystemColumnProvider());c.prototype.initialize.call(this,null,{providers:a});this.search=
b.search;this.search.on("change:filter",function(){var a=this.filterColumn,b=a.isEditDisabled(),c=a.isDisabled();a.trigger("change:isDisabled",a,c);a.trigger("change:editDisabled",a,c||b)},this)},isSystemMode:function(){return"system"===this.columnPickerModel.getColumnConfig()},sanitizeColumnConfig:function(a){a=a.toLowerCase();return"system"!==a||this.isSystemMode()?a:"user"},syncColumns:function(a,b){a=this.sanitizeColumnConfig(a);return c.prototype.syncColumns.call(this,a,b)},clearFilterConfiguration:function(){this.filterColumn.unset("columns");
this.filterColumn.unset("savedColumns")},setCurrentColumnConfig:function(a){a=this.sanitizeColumnConfig(a);return c.prototype.setCurrentColumnConfig.call(this,a)},_getFilterColumnProvider:function(){var a=this;return this.filterColumn=d.create("filter","\u0424\u0438\u043b\u044c\u0442\u0440",{url:function(){return f()+"/rest/api/2/filter/"+a.search.getState().filter+"/columns"},isDisabled:function(){return!a.search.getFilter()||a.search.getFilter().getIsSystem()},isEditDisabled:function(){return!a.search.filterModule.canEditColumns()},
shouldRefreshSearchOnActivation:function(){return this.has("savedColumns")},shouldCloseOnActivation:function(){return this.has("savedColumns")},shouldLoadDefaultsOnActivation:function(){return!this.has("savedColumns")},defaultColumns:h.bind(function(){if(this.userColumns.has("columns")){var a=new e.Deferred;a.resolve(h.map(this.userColumns.getColumns(),function(a){return{value:a}}));return a.promise()}return e.ajax(this.userColumns.url()).promise()},this)})},_getSystemColumnProvider:function(){return d.create("system",
"\u0421\u0438\u0441\u0442\u0435\u043c\u0430",{url:function(){return f()+"/rest/api/2/settings/columns"},defaultColumns:function(){return e.ajax(this.url()).promise()},shouldRefreshSearchOnActivation:function(){return!0},shouldCloseOnActivation:function(){return!1},shouldLoadDefaultsOnActivation:function(){return!0},shouldRevertOnHide:function(){return!1}})},_getUserColumnProvider:function(){return this.userColumns=d.create("user","\u041c\u043e\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",
{url:function(){return f()+"/rest/api/2/user/columns"}})}});g.create=function(a){return new g(null,a)};return g});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/IssueTableView.js' */
define("jira/issues/components/table/views/issue-table",["require"],function(a){var d=a("jira/flag"),e=a("jira/issues/baseview"),b=a("jira/components/libs/underscore"),f=a("jquery"),c=a("jira/issues/utils/resize");return e.extend({_closeSystemModeMessage:function(){this.currentMessage&&(this.currentMessage.close(),this.currentMessage=null)},_showSystemModeMessage:function(){if(!this.currentMessage){var a=d.showMsg("","\u0412\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u0445 \u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u044c \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u003ca href=# class=\u0027exit\u003e\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430\u003c/a\u003e.",{type:"warning",
close:"never"});f(a).find(".exit").click(b.bind(function(a){a.preventDefault();this.columnConfig.setCurrentColumnConfig("user");this._closeSystemModeMessage()},this));this.currentMessage=a}},syncSystemModeMessage:function(){this.columnConfig.isSystemMode()?this._showSystemModeMessage():this._closeSystemModeMessage()},initialize:function(a){this.columnConfig=a.columnConfig;this.columnConfig.on("change:columnConfig",this.syncSystemModeMessage,this);c.onVerticalResize(b.bind(this.adjustColumnConfigHeight,
this))},deactivate:function(){c.offVerticalResize(this.adjustColumnConfigHeight)},adjustColumnConfigHeight:function(){this.columnConfig.adjustHeight()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/HeaderOperationsView.js' */
define("jira/issues/components/table/views/header-operations",["require"],function(d){var k=d("jira/issues/templates/issue-nav-table"),h=d("jira/issues/tipsy"),p=d("jira/issues/baseview"),l=d("jira/ajs/dropdown/dropdown"),f=d("jira/util/data/meta"),m=d("jira/components/libs/underscore"),g=d("wrm/context-path"),b=d("jquery"),n=d("jira/issue/utils/xsrf-token-header");return p.extend({initialize:function(b){m.bindAll(this,"_onSearchSuccess","_updateFilterPageResources");m.extend(this,b);this.initTools();
this.initViews();this.initShare();this._results=this.search.getResults();this._results.onNewPayload(this._onSearchSuccess)},initViews:function(){var c=this.searchPageModule;c.on("change",this._updateFilterPageResources);this._updateFilterPageResources();new h({el:this.$el.find(".header-views"),showCondition:":not(.active)"});var a=this._spinnerTimeoutKeeper(".header-views");l.create({styleClass:"header-views-menu aui-style-default",trigger:b(".header-views",this.$el),focusFirstItem:!0,appendDropdownToTrigger:!0,
ajaxOptions:function(){var e={jql:c.getEffectiveJql()},d=c.getFilter();d&&!d.getIsSystem()&&(e.filterId=d.getId(),c.isDirty()&&(e.jql=c.getJql(),e.modified=!0));a.start();return{url:g()+"/rest/issueNav/1/issueNav/operations/views",type:"POST",headers:n,data:e,dataType:"json",cache:!1,formatSuccess:function(q){a.end();return b(k.views({sections:q,contextPath:g()}))}}}})},initTools:function(){function c(a){a.preventDefault();a=b(this).attr("href");b("#csv-export-dialog-export-button").data("href",a);
a=-1!==a.indexOf("searchrequest-csv-all-fields");b("#csv-export-dialog-header-all").toggle(a);b("#csv-export-dialog-header-current").toggle(!a);AJS.dialog2("#csv-export-dialog").show()}var a=this,d=this.searchPageModule;b("body").delegate("#use-cols","click",function(b){b.preventDefault();a.searchPageModule.columnConfig.setCurrentColumnConfig("user");a.searchPageModule.columnConfig.refreshSearchWithColumns()});b("body").delegate("#use-filter-cols","click",function(b){b.preventDefault();a.searchPageModule.columnConfig.setCurrentColumnConfig("filter");
a.searchPageModule.columnConfig.refreshSearchWithColumns()});new h({el:this.$el.find(".header-tools"),showCondition:":not(.active)",tipsy:{gravity:"ne"}});var f=this._spinnerTimeoutKeeper(".header-tools");l.create({styleClass:"header-tools-menu",trigger:b(".header-tools",a.$el),focusFirstItem:!0,appendDropdownToTrigger:!0,ajaxOptions:function(){var c=d.getFilter();var e={jql:d.getEffectiveJql(),searchResultsTotal:a._results.getTotal(),searchResultsPages:a._results.getNumberOfPages(),useColumns:"user"!==
a.searchPageModule.columnConfig.getCurrentColumnConfig().getName(),skipColumns:"split-view"===d.getActiveLayout().id};c&&!c.getIsSystem()&&(e.filterId=c.getId(),d.isDirty()&&(e.jql=d.getJql()));f.start();return{url:g()+"/rest/issueNav/1/issueNav/operations/tools",type:"POST",headers:n,data:e,dataType:"json",cache:!1,formatSuccess:function(a){f.end();return a&&0===a.length?b('\x3cdiv class\x3d"menu-empty-content"\x3e\x3c/span\x3e'+"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439"+"\x3cdiv\x3e"):
b(k.tools({groups:a,contextPath:g()}))}}}});0<b("#csv-export-dialog").length&&(b("body").on("click","#allCsvFields, #currentCsvFields",c),b("#csv-delimiter").find("input").prop("readonly",!0),b("#csv-export-dialog-cancel-button").click(function(a){a.preventDefault();AJS.dialog2("#csv-export-dialog").hide()}),b("#csv-export-dialog-export-button").click(function(a){a.preventDefault();a=b("#csv-export-dialog-export-button").data("href");var c=b("#csv-delimiter").val(),d=a.match(/[?]/g)?"\x26delimiter\x3d":
"?delimiter\x3d";c=encodeURI(c);window.open(a+d+c);AJS.dialog2("#csv-export-dialog").hide()}))},initShare:function(){new h({el:this.$el.find(".issuenav-share"),showCondition:":not(.active)"})},_onSearchSuccess:function(){b(".header-tools").toggleClass("hidden",0===this.search.getResults().getDisplayableTotal())},_updateFilterPageResources:function(){var c=this.$el.find(".operations-view-data \x3e fieldset"),a=this.searchPageModule;c.empty();a.getFilter()&&!a.isDirty()?(b('\x3cinput type\x3d"hidden" id\x3d"filterId" /\x3e').val(a.getFilter().getId()).appendTo(c),
b('\x3cinput type\x3d"hidden" id\x3d"jql" /\x3e').val("").appendTo(c)):(b('\x3cinput type\x3d"hidden" id\x3d"filterId" /\x3e').val(""),b('\x3cinput type\x3d"hidden" id\x3d"jql" /\x3e').val(a.getJql()).appendTo(c));var d=(c=a.getFilter())&&c.getId();!d||c.getIsSystem()||a.isDirty()?(f.set("filter-id",void 0),f.set("filter-jql",a.getEffectiveJql())):(f.set("filter-id",d),f.set("filter-jql",void 0))},_spinnerTimeoutKeeper:function(c){var a;return{start:function(){a&&(a=clearTimeout(a));a=setTimeout(function(){a=
void 0;b(c).addClass("spinner")},1E3)},end:function(){a=clearTimeout(a);b(c).removeClass("spinner")}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-table', location = 'content/js/components/table/namespace.js' */
AJS.namespace("JIRA.Issues.ColumnPicker",null,require("jira/issues/components/table/column-picker"));AJS.namespace("JIRA.Issues.IssueTableHeaderOperationsView",null,require("jira/issues/components/table/views/header-operations"));AJS.namespace("JIRA.Issues.IssueTableView",null,require("jira/issues/components/table/views/issue-table"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/IssueTable.js' */
define("jira/issues/components/issue-table",["require"],function(c){var d=c("jira/issues/application"),k=c("jira/components/libs/marionette-1.4.1/controller"),e=c("jira/util/events"),l=c("jira/issues/components/issue-table/controllers/issue-table"),m=c("jira/issues/components/table/views/issue-table"),f=c("jira/util/events/reasons"),g=c("jira/issues/libs/trace"),h=c("jira/util/events/types");return k.extend({initialize:function(b){this.issueTableView=new m({columnConfig:b.columnConfig});this._createSearchService(b);
this._createTableController(b);d.on("issueEditor:loadError",this._handleIssueLoadError,this)},_createSearchService:function(b){this.searchService=b.searchService;this.listenTo(this.searchService,{"before:search":function(){this.issueTableController.showPending()},search:function(b,a){this.latestResults={table:b,sortOptions:a.getSortBy(),totalDisplayableIssues:a.getDisplayableTotal(),startIndex:a.getStartIndex(),pageSize:a.getPageSize(),pageNumber:a.getPageNumber(),numberOfPages:a.getNumberOfPages(),
totalIssues:a.getTotal(),currentSearch:d.request("issueNav:currentSearchRequest"),jiraHasIssues:a.getJiraHasIssues(),hasIssues:a.hasIssues()};this.show();this.highlightIssue(a.getHighlightedIssue().id,!1)},"error:search":function(){this.issueTableController.showErrorMessage()},issueUpdated:function(b,a){this.issueTableController.updateIssue(b,a.table)},issueHighlighted:function(b){this.issueTableController.highlightIssue(b)},selectedIssueChanged:function(b,a){b.hasIssue()||this.issueTableController.highlightIssue(a.id)}})},
_createTableController:function(b){var c=b.columnConfig;this.issueTableController=new l({el:b.el});this.listenTo(this.issueTableController,{goToPage:function(a){this.searchService.goToPage(a)},columnsChanged:function(a){c.saveColumns(a)},highlightIssue:function(a){this.trigger("highlightIssue",a)},sort:function(a){this.searchService.sort(a)},refresh:function(){this.searchService.runCurrentSearch()},renderTable:function(a){e.trigger(h.NEW_CONTENT_ADDED,[a,f.issueTableRefreshed]);g("jira.search.stable.update")},
renderEmpty:function(a){e.trigger(h.NEW_CONTENT_ADDED,[a,f.issueTableRefreshed]);g("jira.search.stable.update")},issueRowUpdated:function(a){e.trigger(h.NEW_CONTENT_ADDED,[a,f.issueTableRowRefreshed]);g("jira.search.finished")}})},show:function(){this.latestResults?(this.issueTableController.show(this.latestResults),this.trigger("render")):this.searchService.updateExitingResults()},close:function(){this.issueTableController.close();this.stopListening(this.searchService);d.off("issueEditor:loadError",
this._handleIssueLoadError,this);delete this.issueTableController;delete this.searchService},handleIssueInaccessible:function(b){this.issueTableController.markIssueAsInaccessible(b)},highlightIssue:function(b,c){this.issueTableController.highlightIssue(b,c)},_handleIssueLoadError:function(b){404===b.response.status&&this.issueTableController.markIssueAsInaccessible(b.issueId)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/EmptyResults.js' */
define("jira/issues/components/issue-table/views/empty-results",["require"],function(a){var d=a("jira/components/libs/marionette-1.4.1/itemview"),e=a("jira/issues/utils/login"),f=a("jira/issues/templates/issue-nav-table"),g=a("jira/issues/user-params"),h=a("jira/components/util/empty-results-modifier");return d.extend({template:f.noResults,serializeData:function(){var a=g.get().createIssue;if(e.isLoggedIn()){var b="\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";a=a?"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u003ca\u003e\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u003c/a\u003e":
"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430";var c="no-results-message"}else b="\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",a="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u003ca\u003e\u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\u003c/a\u003e \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",c="not-logged-in-message";return{message:b,hint:a,cssClass:c}},onRender:function(){this.$el.addClass("empty-results");h.modifyLink(this);this.hidePending()},showPending:function(){this.$el.addClass("pending")},hidePending:function(){this.$el.removeClass("pending")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/EndOfStableMessage.js' */
define("jira/issues/components/issue-table/views/end-of-stable-message",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/itemview"),c=a("jquery"),d=a("jira/issues/templates/issue-nav");return b.extend({className:"end-of-stable-message",serializeData:function(){return this.options},getTemplate:function(){return this.shouldRender?d.endOfStableMessage:c.noop},onBeforeRender:function(){this.shouldRender=this._hasMoreIssues()&&this._onLastPage()},onRender:function(){this.shouldRender?
this.$el.addClass("visible"):this.$el.removeClass("visible")},_hasMoreIssues:function(){return 0!==this.options.total-this.options.displayableTotal},_onLastPage:function(){return this.options.pageNumber===this.options.numberOfPages}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/IssueTable.js' */
define("jira/issues/components/issue-table/views/issue-table",["require"],function(e){var g=e("jira/components/libs/underscore"),h=e("jira/components/libs/marionette-1.4.1/itemview"),d=e("jquery"),f=e("jira/issues/templates/issue-nav-table");return h.extend({events:{"blur .hidden-link":function(a){d(a.target).attr("tabIndex",-1)},"click tr.issuerow":function(a){a=d(a.target).closest(".issuerow");a=Number(a.attr("rel"));this.trigger("highlightIssue",a)},"click .sortable":function(a){a.preventDefault();
this.trigger("sort",d(a.currentTarget).data("id"))}},inaccessibleIssueRowTemplate:f.inaccessibleIssueRow,initialize:function(a){this.resultsTable=a.resultsTable;this.sortOptions=a.sortOptions||{}},render:function(){this.triggerMethod("before:render",this);var a=d(this.resultsTable)[0];this.$el.empty().append(a);this.triggerMethod("render",this);return this},onRender:function(){this._decorateTableHeaderWithSortOptions();this._addDraggable();this._removeEmptyTextNodes()},onClose:function(){this._removeDraggable()},
_decorateTableHeaderWithSortOptions:function(){var a=this.$el.find(".rowHeader .sortable");a.each(function(){this.onclick=null});var b=this.sortOptions;if(b.fieldId){var c=a.filter(function(){return this.getAttribute("data-id")===b.fieldId});!c.length||c.hasClass("descending")||c.hasClass("ascending")||(a.removeClass("descending ascending active").addClass("colHeaderLink"),a.find(".issuetable-header-sort-icon").remove(),a="DESC"===b.order?"descending":"ascending",c.removeClass("colHeaderLink").addClass("active "+
a),c.append(f.headerSortIcon({order:b.order})))}},_addDraggable:function(){this.$("#issuetable").dragtable({maxMovingRows:1,containment:"body",axis:!1,revert:!1,clickDelay:250,tolerance:"intersect",dragaccept:":not(.headerrow-actions)",persistState:g.bind(this._saveColumns,this)})},_removeDraggable:function(){this.$("#issuetable").data("ui-dragtable")&&this.$("#issuetable").dragtable("destroy")},_removeEmptyTextNodes:function(){this.$el.find("table, tbody, thead, tr").contents().filter(function(){return 3===
this.nodeType}).remove()},_saveColumns:function(){var a=[];this.$("#issuetable").find("th").each(function(){var b=d(this).data("id");b&&a.push(b)});this.trigger("columnsChanged",a)},highlightIssue:function(a,b){a=this._getIssueRow(a);this.$(".focused").removeClass("focused");a.addClass("focused");var c=a.find(".hidden-link");a.length&&a.closest(document.body).length&&(!1!==b&&(c.tooltip("disable"),c.removeAttr("tabIndex").focus()),a.scrollIntoViewForAuto({marginBottom:50}))},_getIssueRow:function(a,
b){b=b||this.$el;return b.find(".issuerow").filter(function(){return parseInt(this.getAttribute("rel"),10)===a})},markIssueAsInaccessible:function(a){this._getIssueRow(a).replaceWith(this.inaccessibleIssueRowTemplate({columnCount:this.$el.find("thead \x3e tr \x3e th").length,issueID:a}))},updateIssue:function(a,b){b=this._getIssueRow(a,d(b));this._getIssueRow(a).replaceWith(b);this.highlightIssue(a);this.trigger("issueRowUpdated",b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/IssueTableLayout.js' */
define("jira/issues/components/issue-table/views/issue-table-layout",["require"],function(a){var c=a("jira/components/libs/marionette-1.4.1/layout"),b=a("jira/components/libs/marionette-1.4.1/replaceregion");a=a("jira/issues/templates/issue-nav-table");return c.extend({template:a.structure,className:"issue-table-wrapper",regions:{pagination:{selector:".pagination",regionType:b},table:".issue-table-container",resultsCountBottom:{selector:".results-count-bottom",regionType:b},refreshResultsBottom:{selector:".refresh-table-bottom",
regionType:b},endOfStableMessage:{selector:".end-of-stable-message",regionType:b}},onRender:function(){this.hidePending()},showPending:function(){this.$el.addClass("pending")},hidePending:function(){this.$el.removeClass("pending")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/Pagination.js' */
define("jira/issues/components/issue-table/views/pagination",["require"],function(b){var c=b("jira/components/libs/marionette-1.4.1/itemview"),d=b("jira/issues/templates/issue-nav-table"),e=b("jira/issues/utils/url-serializer");return c.extend({template:d.pagination,events:{"simpleClick a[data-start-index]":function(a){a.preventDefault();a=a.currentTarget.getAttribute("data-start-index");this.trigger("goToPage",parseInt(a,10))}},serializeData:function(){return{startIndex:this.options.startIndex,pageSize:this.options.pageSize,
searchQuery:this._getPagingUri(),displayableTotal:this.options.total}},onRender:function(){this.unwrapTemplate()},_getPagingUri:function(){return e.getURLFromState({selectedIssueKey:null,jql:this.options.currentSearch.jql,filter:this.options.currentSearch.filterId})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/RefreshResults.js' */
define("jira/issues/components/issue-table/views/refresh-results",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/itemview");a=a("jira/issues/templates/issue-nav");return b.extend({template:a.refreshResults,triggers:{click:"refresh"},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/views/ResultsCount.js' */
define("jira/issues/components/issue-table/views/results-count",["require"],function(a){var b=a("jira/components/libs/marionette-1.4.1/itemview");a=a("jira/issues/templates/issue-nav");return b.extend({template:a.resultsCount,serializeData:function(){var a=this.options.total;return{start:this.options.startIndex+1,end:Math.min(this.options.startIndex+this.options.pageSize,a),total:a}},onRender:function(){this.unwrapTemplate()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/controllers/IssueTable.js' */
define("jira/issues/components/issue-table/controllers/issue-table",["require"],function(b){var e=b("jira/components/libs/marionette-1.4.1/controller"),f=b("jira/issues/components/issue-table/views/empty-results"),g=b("jira/issues/components/issue-table/views/end-of-stable-message"),c=b("jira/issues/components/issue-table/views/issue-table-layout"),h=b("jira/issues/components/issue-table/views/issue-table"),d=b("jquery"),k=b("jira/issues/components/issue-table/views/pagination"),l=b("jira/issues/components/issue-table/views/refresh-results"),
m=b("jira/issues/components/issue-table/views/results-count");return e.extend({initialize:function(a){this.$el=d(a.el)},_createMainView:function(){return new c},_createTableView:function(a,b){a=new h({resultsTable:a,sortOptions:b});this.listenAndRethrow(a,"columnsChanged");this.listenAndRethrow(a,"highlightIssue");this.listenAndRethrow(a,"issueRowUpdated");this.listenAndRethrow(a,"sort");return a},_createResultsCount:function(a){return new m(a)},_createPagination:function(a){a=new k(a);this.listenAndRethrow(a,
"goToPage");return a},_createRefreshResults:function(){var a=new l;this.listenAndRethrow(a,"refresh");return a},_createEndOfStableMessage:function(a){return new g(a)},_createEmptyResultsView:function(a){return new f(a)},_layoutIsRendered:function(){return this.view&&this.view instanceof c},_initTooltips:function(){d("#issuetable").tooltip({html:!0,live:'[aria-describedby \x3d "aui-tooltip"]'})},close:function(){this.view&&(this.view.close(),delete this.view)},show:function(a){a.hasIssues?this._showTable(a):
this._showEmptyResults(a)},showErrorMessage:function(a){this._showEmptyResults(a)},showPending:function(){this.view&&(this.view.showPending(),this._layoutIsRendered()&&this.view.table.currentView._removeDraggable())},_showTable:function(a){a=a||{};this.close();this.view=this._createMainView();var b=this._createTableView(a.table,a.sortOptions),c=this._createResultsCount({total:a.totalIssues,startIndex:a.startIndex,pageSize:a.pageSize}),d=this._createPagination({startIndex:a.startIndex,pageSize:a.pageSize,
total:a.totalIssues,currentSearch:a.currentSearch}),e=this._createEndOfStableMessage({total:a.totalIssues,displayableTotal:a.totalDisplayableIssues,pageNumber:a.pageNumber,numberOfPages:a.numberOfPages});this.listenTo(this.view,{render:function(){this.view.table.show(b);this.view.resultsCountBottom.show(c);this.view.pagination.show(d);this.view.refreshResultsBottom.show(this._createRefreshResults());this.view.endOfStableMessage.show(e)}});this.view.render();this.$el.empty().append(this.view.$el);
this.trigger("renderTable",this.$el);this._initTooltips()},_showEmptyResults:function(a){this.close();this.view=this._createEmptyResultsView(a);this.view.render();this.$el.empty().append(this.view.$el);this.trigger("renderEmpty",this.$el)},highlightIssue:function(a,b){this._layoutIsRendered()&&this.view.table.currentView.highlightIssue(a,b)},markIssueAsInaccessible:function(a){this._layoutIsRendered()&&this.view.table.currentView.markIssueAsInaccessible(a)},updateIssue:function(a,b){this._layoutIsRendered()&&
this.view.table.currentView.updateIssue(a,b)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuetable-component', location = 'content/js/components/issuetable/namespace.js' */
AJS.namespace("JIRA.Components.IssueTable",null,require("jira/issues/components/issue-table"));AJS.namespace("JIRA.Components.IssueTable.Controllers.IssueTable",null,require("jira/issues/components/issue-table/controllers/issue-table"));AJS.namespace("JIRA.Components.IssueTable.Views.EmptyResults",null,require("jira/issues/components/issue-table/views/empty-results"));AJS.namespace("JIRA.Components.IssueTable.Views.IssueTable",null,require("jira/issues/components/issue-table/views/issue-table"));
AJS.namespace("JIRA.Components.IssueTable.Views.IssueTableLayout",null,require("jira/issues/components/issue-table/views/issue-table-layout"));AJS.namespace("JIRA.Components.IssueNavigator.Views.EndOfStableMessage",null,require("jira/issues/components/issue-table/views/end-of-stable-message"));AJS.namespace("JIRA.Components.IssueNavigator.Views.Pagination",null,require("jira/issues/components/issue-table/views/pagination"));
AJS.namespace("JIRA.Components.IssueNavigator.Views.RefreshResults",null,require("jira/issues/components/issue-table/views/refresh-results"));AJS.namespace("JIRA.Components.IssueNavigator.Views.ResultsCount",null,require("jira/issues/components/issue-table/views/results-count"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/templates/issuenav-searchheader.soy' */
// This file was automatically generated from issuenav-searchheader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavSearchHeader.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavSearchHeader == 'undefined') { JIRA.Templates.IssueNavSearchHeader = {}; }


JIRA.Templates.IssueNavSearchHeader.layoutSwitcher = function(opt_data, opt_ignored) {
  var output = '<div class="aui-buttons"><button id="layout-switcher-button" aria-owns="layout-switcher-options" aria-haspopup="true" class="aui-button aui-dropdown2-trigger" type="button"><span class="aui-icon aui-icon-small ' + soy.$$escapeHtmlAttribute(opt_data.activeLayout.iconClass) + '">' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430') + '</span></button><!-- Dropdown --><div id="layout-switcher-options" class="aui-style-default aui-dropdown2"><div class="aui-dropdown2-section"><ul>';
  var layoutList8 = opt_data.layouts;
  var layoutListLen8 = layoutList8.length;
  for (var layoutIndex8 = 0; layoutIndex8 < layoutListLen8; layoutIndex8++) {
    var layoutData8 = layoutList8[layoutIndex8];
    output += '<li class="aui-list-item layout-switcher-item"><a href="#" class="aui-list-item-link" data-layout-key="' + soy.$$escapeHtmlAttribute(layoutData8.id) + '"><span class="aui-icon aui-icon-small ' + ((opt_data.activeLayout.id == layoutData8.id) ? 'aui-iconfont-success' : '') + '"></span>' + soy.$$escapeHtml(layoutData8.label) + '</a>';
  }
  output += '</ul></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavSearchHeader.layoutSwitcher.soyTemplateName = 'JIRA.Templates.IssueNavSearchHeader.layoutSwitcher';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/js/search/searchheader/LayoutSwitcherView.js' */
define("jira/issues/layout-switcher-view",["underscore"],function(d){return JIRA.Issues.BaseView.extend({template:JIRA.Templates.IssueNavSearchHeader.layoutSwitcher,initialize:function(a){d.bindAll(this,"_onLayoutSwitchClick");this.searchPageModule=a.searchPageModule;this.searchPageModule.on("change:currentLayout",this.render,this)},render:function(){this.$el.html(this.template({layouts:this.searchPageModule.getSortedLayouts(),activeLayout:this.searchPageModule.getActiveLayout()}));this._addLayoutSwitcherTooltip();
this.$el.find(".aui-list-item-link").click(this._onLayoutSwitchClick);JIRA.trigger(JIRA.Events.NEW_CONTENT_ADDED,[this.$el,JIRA.CONTENT_ADDED_REASON.layoutSwitcherReady]);return this},enableLayoutSwitcher:function(){this.$el.find("#layout-switcher-button").removeClass("disabled").removeAttr("disabled");return this},disableLayoutSwitcher:function(){this.$el.find("#layout-switcher-button").addClass("disabled").attr("disabled","");return this},createHelptipForSwitchingToDetailView:function(a){var b;
this._shouldShowIntro()&&this.$el.is(":visible")&&(b=new AJS.HelpTip({id:"split-view-intro",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0436\u0438\u043c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",url:AJS.Meta.get("issue-search-help-url"),bodyHtml:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435\u0441\u044c \u043c\u0435\u0436\u0434\u0443 \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u0438 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043b\u044f \u0412\u0430\u0448\u0435\u0433\u043e \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430.",anchor:".view-selector button",isSequence:!0,weight:a}));return b},_shouldShowIntro:function(){return this.searchPageModule.search.getResults().hasIssues()},_addLayoutSwitcherTooltip:function(){new JIRA.Issues.Tipsy({el:this.$el.find("#layout-switcher-button"),
showCondition:":not(.active)",tipsy:{title:function(){return AJS.KeyboardShortcut.getKeyboardShortcutKeys("switch.search.layouts")?AJS.format("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0438\u0434 (\u0442\u0438\u043f \u0027\u0027{0}\u0027\u0027)",AJS.KeyboardShortcut.getKeyboardShortcutKeys("switch.search.layouts")):"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0438\u0434"},gravity:"ne"}})},_onLayoutSwitchClick:function(a,b){if(JIRA.Issues.Application.request("issueEditor:canDismissComment")){var c=AJS.$(a.target).closest("[data-layout-key]").data("layout-key");
a.preventDefault();"split-view"===c?require("jira/issues/views/details/metrics").start():"list-view"===c&&require("jira/issues/navigator/metrics").notifyIssueNavList(!1);this.searchPageModule.changeLayout(c,b)}}})});AJS.namespace("JIRA.Issues.LayoutSwitcherView",null,require("jira/issues/layout-switcher-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-searchheader', location = 'content/js/search/searchheader/SearchHeaderModule.js' */
define("jira/issues/search-header-module",function(){return JIRA.Issues.BaseEvented.extend({initialize:function(a){this._searchPageModule=a.searchPageModule},registerSearch:function(a){this._search=a},createToolsView:function(a){new JIRA.Issues.IssueTableHeaderOperationsView({el:a,search:this._search,searchPageModule:this._searchPageModule})}})});AJS.namespace("JIRA.Issues.SearchHeaderModule",null,require("jira/issues/search-header-module"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:window-positioning', location = 'content/js/search/util/WindowPositioning.js' */
define("jira/issues/layer-positioning/window",["require"],function(c){var d=c("jira/ajs/layer/inline-layer/standard-positioning"),e=c("jquery");return d.extend({_calculateOverflow:function(a){var b="fixed"===this.layer().css("position");a=a.top+this.layer().outerHeight(!0);var c=window.innerHeight,d=e(window).scrollTop();return b?Math.max(0,a-c):Math.max(0,a-d-c)},left:function(){var a=this._super(),b=this._calculateOverflow(a);0<b&&(a.left+=this.offsetTarget().outerWidth(),a.top-=b);return a},right:function(){var a=
this._super(),b=this._calculateOverflow(a);0<b&&(a.left-=this.offsetTarget().outerWidth(),a.top-=b);return a}})});AJS.namespace("JIRA.Issues.WindowPositioning",null,require("jira/issues/layer-positioning/window"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:services-feature-flags', location = 'issueviewer/js/services/FeatureFlags.js' */
define("jira/components/issueviewer/services/featureflags",["jira/featureflags/feature-manager"],function(a){return Object.freeze({IS_FILTERS_IMPR_ENABLED:a.isFeatureEnabled("com.atlassian.jira.plugin.issuenavigator.filtersUxImprovment")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/Filters.js' */
define("jira/issues/components/filters",["require"],function(b){var f=b("jira/message"),e=b("jira/components/libs/underscore"),l=b("jquery"),m=b("jira/issues/components/filters/controllers/dialog"),n=b("jira/issues/components/filters/controllers/header"),p=b("jira/issues/components/filters/controllers/list"),q=b("jira/issues/components/filters/controllers/list-with-actions"),r=b("jira/issues/components/filters/entities/favourite-filters"),t=b("jira/issues/components/filters/entities/filter"),u=b("jira/issues/components/filters/entities/system-filters"),
v=b("jira/components/libs/marionette-1.4.1/controller"),k=b("jira/issues/utils/login"),h=b("jira/issues/libs/ajshelper"),c=b("jira/issues/libs/trace"),w=b("jira/issues/components/filters/templates/actions"),g={closeable:!0,timeout:5};return v.extend({initialize:function(a){this._initializeDialogController();this.searchPageModule=a.searchPageModule;this._initializeCollections(a);this._initializeSystemFiltersController();this._initializeFavouriteFiltersController();this._initializeFilterHeaderController()},
_initializeCollections:function(a){this.systemFiltersCollection=new u(a.systemFilters);this.favouriteFiltersCollection=new r([]);this.listenTo(this.favouriteFiltersCollection,{"change:favourite":function(a,d){d||this.favouriteFiltersCollection.remove(a)},remove:function(a){this.trigger("filterUnfavourited",{filterId:a.getId()})}})},_initializeDialogController:function(){this.dialogController=new m;this.listenTo(this.dialogController,"delete:success",function(a){this.favouriteFiltersCollection.remove(a);
this.trigger("filterRemoved",{filterId:a.getId()});f.showSuccessMsg(AJS.format("\u0424\u0438\u043b\u044c\u0442\u0440 \u003cstrong\u003e{0}\u003c/strong\u003e \u0443\u0434\u0430\u043b\u0435\u043d.",h.escapeHtml(a.getName())),g);c("jira.filter.saved")});this.listenTo(this.dialogController,"delete:error",function(){c("jira.filter.saved")});this.listenTo(this.dialogController,"rename:success",function(a){f.showSuccessMsg(AJS.format("\u0424\u0438\u043b\u044c\u0442\u0440 \u003cstrong\u003e{0}\u003c/strong\u003e \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d.",h.escapeHtml(a.getName())),g);c("jira.filter.saved")});this.listenTo(this.dialogController,
"rename:error",function(){c("jira.filter.saved")});this.listenTo(this.dialogController,"copy:success",function(a){this.trigger("newFilter",a);this._addFavouriteFilter(a);c("jira.filter.saved")},this);this.listenTo(this.dialogController,"copy:error",function(){c("jira.filter.saved")});this.listenTo(this.dialogController,"saveas:success",function(a){this.trigger("newFilter",a);this._addFavouriteFilter(a);c("jira.filter.saved")},this);this.listenTo(this.dialogController,"saveas:error",function(){c("jira.filter.saved")})},
_initializeSystemFiltersController:function(){this.systemFiltersController=new p({collection:this.systemFiltersCollection,className:"system-filters",title:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b",errorMessage:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.",loadingMessage:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432...",emptyMessage:"\u041d\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432.",loginMessage:AJS.format("\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b {0}\u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443,{1} \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b.",'\x3ca class\x3d"login-link" href\x3d"'+
k.redirectUrlToCurrent()+'"\x3e',"\x3c/a\x3e")});this.systemFiltersController.on("selectFilter",function(a){this.headerController.closeDetails();this.trigger("filterSelected",a.id)},this)},_initializeFavouriteFiltersController:function(){this.favouriteFiltersController=new q({collection:this.favouriteFiltersCollection,className:"favourite-filters",title:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b",errorMessage:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.",loadingMessage:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432...",
emptyMessage:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432.",loginMessage:AJS.format("\u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e {0}\u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443{1} \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432.",'\x3ca class\x3d"login-link" href\x3d"'+k.redirectUrlToCurrent()+'"\x3e',"\x3c/a\x3e")});this.favouriteFiltersController.on("selectFilter",function(a){this.headerController.closeDetails();this.trigger("filterSelected",a.id)},this);this.favouriteFiltersController.on("deleteFilter",function(a){this.showDeleteDialog(a.id)},this);this.favouriteFiltersController.on("renameFilter",
function(a){this.showRenameDialog(a.id)},this);this.favouriteFiltersController.on("copyFilter",function(a){this.showCopyDialog(a.id)},this);this.favouriteFiltersController.on("unfavouriteFilter",function(a){a.saveFavourite(!1)},this);this.favouriteFiltersController.on("list:render",function(){this.trigger("list:render");c("jira.filter.favourites.render")},this)},_initializeFilterHeaderController:function(){this.headerController=new n;this.listenTo(this.headerController,"saveAs",function(a){this.showSaveAsDialog(a)});
this.listenTo(this.headerController,"save",function(a){var b=h.escapeHtml(a.getName());a.saveFilter(this.searchPageModule.getEffectiveJql()).done(e.bind(function(){f.showSuccessMsg(AJS.format("\u0424\u0438\u043b\u044c\u0442\u0440 \u003cstrong\u003e{0}\u003c/strong\u003e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d.",b),g);this.trigger("savedFilter",a)},this)).fail(function(a){a=this.searchPageModule.parseServerErrors(a).errorMessages;a=w.saveFilterErrorMessages({errorMessages:a});f.showErrorMsg(AJS.format("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u003cstrong\u003e{0}\u003c/strong\u003e.",b)+a,g)}.bind(this))});this.listenTo(this.headerController,
"discard",function(){this.trigger("filterDiscarded")});this.listenTo(this.headerController,"favourite",function(a){a=this._addFavouriteFilter(a);this.highlightFilter(a);this.trigger("fitlerFavourited",a)})},_addFavouriteFilter:function(a){var b=!!a.getFavourite(),d=!!this.favouriteFiltersCollection.get(a.getId());b&&!d&&this.favouriteFiltersCollection.add(a);return this.favouriteFiltersCollection.get(a.getId())},getFilterByIdFromExistingCollections:function(a){return this.systemFiltersCollection.get(a)||
this.favouriteFiltersCollection.get(a)},getFilterById:function(a){var b=this.getFilterByIdFromExistingCollections(a),d=new l.Deferred;if(b)d.resolve(b);else{var c=new t({id:a});c.fetch({success:e.bind(function(){c.getFavourite()?(this.favouriteFiltersCollection.add(c,{merge:!0}),d.resolve(this.favouriteFiltersCollection.get(c.id))):c.getIsSystem()?(this.systemFiltersCollection.add(c,{merge:!0}),d.resolve(this.systemFiltersCollection.get(c.id))):d.resolve(c)},this),error:function(){c.setIsValid(!1);
d.reject.apply(this,arguments)}})}return d.promise()},showDeleteDialog:function(a){this.getFilterById(a).done(e.bind(function(a){this.dialogController.showDeleteDialog(a)},this))},showRenameDialog:function(a){this.getFilterById(a).done(e.bind(function(a){this.dialogController.showRenameDialog(a)},this))},showCopyDialog:function(a){this.getFilterById(a).done(e.bind(function(a){this.dialogController.showCopyDialog(a)},this))},showSaveAsDialog:function(a){this.searchPageModule.getJqlDeferred().done(e.bind(function(b){this.dialogController.showSaveAsDialog(a,
b)},this))},showSystemFilters:function(a){this.systemFiltersController.show(a)},showFavouriteFilters:function(a){this.favouriteFiltersController.show(a)},showFilterHeader:function(a){this.headerController.show({el:a.el,model:a.model,isEdited:a.isEdited,isDirty:a.isDirty})},updateFilterHeader:function(a){this.headerController.update({model:a.model,isEdited:a.isEdited||!1,isDirty:a.isDirty||!1})},highlightFilter:function(a){this.systemFiltersController.highlightFilter(a);this.favouriteFiltersController.highlightFilter(a)},
markFilterHeaderAsInvalid:function(){this.headerController.markAsInvalid()},markFilterHeaderInSearch:function(a){this.headerController.markInSearch(a)},fetchSystemFilters:function(){return this.systemFiltersCollection.fetch()},fetchFavouriteFilters:function(){return this.favouriteFiltersCollection.fetch({reset:!0})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/Filter.js' */
define("jira/issues/components/filters/entities/filter",["require"],function(b){var f=b("jira/ajs/ajax/smart-ajax"),g=b("jira/components/libs/underscore"),h=b("wrm/context-path"),k=b("jquery"),l=b("jira/components/libs/brace"),c=b("jira/issues/utils/login"),m=b("jira/issues/basemodel"),n=b("jira/issues/libs/trace"),d=h();return l.Model.extend({namedAttributes:"id name description jql favourite isSystem sharePermissions subscriptions ownerUserName ownerDisplayName avatarUrl requiresLogin isValid editable".split(" "),
defaults:{isSystem:!1,isValid:!0},urlRoot:d+"/rest/api/2/filter/",getOwner:function(){return this.getOwnerDisplayName()||this.getOwnerUserName()},isFavouriteFilter:function(){return!this.getIsSystem()&&!!this.getFavourite()},url:function(){return this.urlRoot+encodeURIComponent(this.id)+"?expand\x3dsubscriptions[-5:]"},isMyFilter:function(){return!this.getIsSystem()&&this.getOwnerUserName()===c.loggedInUserName()},isEditable:function(){return this.isMyFilter()||this.getEditable()},parse:function(a){a.subscriptions&&
a.subscriptions.items&&a.subscriptions.items.reverse();return{id:a.id,name:a.name,description:a.description,jql:a.jql,isSystem:a.isSystem,favourite:a.favourite,sharePermissions:a.sharePermissions||[],subscriptions:a.subscriptions,ownerUserName:a.owner&&a.owner.name,ownerDisplayName:a.owner&&a.owner.displayName,avatarUrl:a.owner&&a.owner.avatarUrls["48x48"],requiresLogin:a.requiresLogin,editable:a.editable}},getNumberOfAdditionalSubscriptions:function(){var a=this.getSubscriptions();return a.size>
a.items.length?a.size-a.items.length:0},saveFavourite:function(a){var e=this,b=this.getFavourite();this.setFavourite(a);this.pendingRequest&&this.pendingRequest.abort();return this.pendingRequest=f.makeRequest({url:d+"/rest/api/1.0/filters/"+encodeURIComponent(this.getId())+"/favourite",type:a?"PUT":"DELETE"}).done(function(a){a="true"===k(a).text().match(/favourite state: (\w+)/)[1];delete e.pendingRequest;e.setFavourite(a)}).fail(function(){e.setFavourite(b)})},saveFilter:function(a){this.pendingRequest&&
this.pendingRequest.abort();var b=this.toJSON();a={id:b.id,name:b.name,jql:a,favourite:b.favourite};var c=this;return this.pendingRequest=f.makeRequest({url:this.url(),type:"PUT",contentType:"application/json",data:JSON.stringify(a)}).done(function(a){c.set(c.parse(a))}).then(function(){delete c.pendingRequest;n("jira.filter.saved")})},toJSON:function(){var a=m.prototype.toJSON.apply(this);g.extend(a,{requiresLoginForUser:this._requiresLoginForUser(this.getRequiresLogin()),navUrl:this._constructNavUrl(this.getId(),
this.getRequiresLogin())});return a},_requiresLoginForUser:function(a){return!c.isLoggedIn()&&a},_constructNavUrl:function(a,b){a="/issues/?filter\x3d"+a;return this._requiresLoginForUser(b)?c.redirectUrl(a):d+a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/Filters.js' */
define("jira/issues/components/filters/entities/filters",["require"],function(a){var c=a("jira/components/libs/underscore"),e=a("jira/issues/components/filters/entities/filter"),d=a("jira/components/libs/brace");return d.Collection.extend({model:e,fetch:function(){var b=d.Collection.prototype.fetch.apply(this,arguments);b.done(c.bind(function(){this.fetchState="fetched";this.trigger("change:fetchState",this.fetchState)},this));b.fail(c.bind(function(){this.fetchState="error";this.trigger("change:fetchState",
this.fetchState)},this));return b},initialize:function(b,a){a=a||{};this.fetchState=a.fetchState}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/SystemFilters.js' */
define("jira/issues/components/filters/entities/system-filters",["require"],function(a){var c=a("jira/components/libs/underscore"),d=a("wrm/context-path"),e=a("jquery"),b=a("jira/issues/components/filters/entities/filters");a=d();return b.extend({_setFetchState:function(a){var b=a!==this.fetchState;this.fetchState=a;b&&this.trigger("change:fetchState",this.fetchState)},url:a+"/rest/issueNav/latest/systemFilters",fetch:function(){return 0<this.length?(this._setFetchState("fetched"),(new e.Deferred).resolve()):
b.prototype.fetch.apply(this,c.toArray(arguments))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/entities/FavouriteFilters.js' */
define("jira/issues/components/filters/entities/favourite-filters",["require"],function(a){var b=a("wrm/context-path");return a("jira/issues/components/filters/entities/filters").extend({url:b()+"/rest/api/2/filter/favourite?expand\x3dsubscriptions[-5:]",comparator:function(a,b){return a.getName().toLowerCase().localeCompare(b.getName().toLowerCase())}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/actions.soy' */
// This file was automatically generated from actions.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Actions.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Actions == 'undefined') { JIRA.Components.Filters.Templates.Actions = {}; }


JIRA.Components.Filters.Templates.Actions.DropDown = function(opt_data, opt_ignored) {
  return '<div class="aui-list"><ul role="menu">' + ((opt_data.canEdit) ? '<li class="aui-list-item"><a href="" class="aui-list-item-link rename-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c') + '</a></li>' : '') + '<li class="aui-list-section aui-list-item"><a href="" class="aui-list-item-link copy-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml('\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + '</a></li><li class="aui-list-section' + ((! opt_data.canEdit) ? ' aui-last' : '') + ' aui-list-item"><a href="" class="aui-list-item-link unfavourite-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml('\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445') + '</a></li>' + ((opt_data.canDelete) ? '<li class="aui-list-section aui-last aui-list-item"><a href="" class="aui-list-item-link delete-filter" data-id="' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '">' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c') + '</a></li>' : '') + '</ul></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Actions.DropDown.soyTemplateName = 'JIRA.Components.Filters.Templates.Actions.DropDown';
}


JIRA.Components.Filters.Templates.Actions.saveFilterErrorMessages = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.errorMessages) {
    output += '<ul>';
    var msgList36 = opt_data.errorMessages;
    var msgListLen36 = msgList36.length;
    for (var msgIndex36 = 0; msgIndex36 < msgListLen36; msgIndex36++) {
      var msgData36 = msgList36[msgIndex36];
      output += '<li>' + soy.$$escapeHtml(msgData36) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Actions.saveFilterErrorMessages.soyTemplateName = 'JIRA.Components.Filters.Templates.Actions.saveFilterErrorMessages';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/dialogs.soy' */
// This file was automatically generated from dialogs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Dialogs.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Dialogs == 'undefined') { JIRA.Components.Filters.Templates.Dialogs = {}; }


JIRA.Components.Filters.Templates.Dialogs.Rename = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><form action="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/rest/api/2/filter/' + soy.$$escapeHtmlAttribute(opt_data.filter.id) + '" class="aui" id="rename-filter-form" method="put"><div class="aui-messages"></div><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440') + ': ' + soy.$$escapeHtml(opt_data.filter.name) + '</h2><div class="field-group"><label for="filterName">' + soy.$$escapeHtml('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430:') + '<span class="aui-icon icon-required"><span class="content">Required</span></span></label><input type="text" id="filterName" name="name" value="' + soy.$$escapeHtmlAttribute(opt_data.filter.name) + '" class="text long-field"></div></div><div class="buttons-container form-footer"><div class="buttons"><input accesskey="' + soy.$$escapeHtmlAttribute('S') + '" title="' + soy.$$escapeHtmlAttribute(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="aui-button submit" type="submit" value="' + soy.$$escapeHtmlAttribute('\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c') + '" /><a accesskey="' + soy.$$escapeHtmlAttribute('`') + '" title="' + soy.$$escapeHtmlAttribute(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel" href="javascript:">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0430') + '</a></div></div></form></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Dialogs.Rename.soyTemplateName = 'JIRA.Components.Filters.Templates.Dialogs.Rename';
}


JIRA.Components.Filters.Templates.Dialogs.Save = function(opt_data, opt_ignored) {
  var output = '<div class="aui-dialog-content"><form action="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.contextPath)) + '/rest/api/2/filter/" class="aui" id="save-filter-form" method="post"><div class="aui-messages"></div><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.headerText) + '</h2>' + ((opt_data.isFiltersImprEnabled && opt_data.isJqlEmpty) ? '<div class="aui-message aui-message-warning" data-analytics-id="empty-jql-warning"><p>' + soy.$$escapeHtml('\u0412\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440, \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u043c\u043e\u0433\u0443\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432\u0441\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0435\u0441\u044f \u0437\u0430\u0434\u0430\u0447\u0438. \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0447\u043d\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441.') + '</p></div>' : '') + ((opt_data.copyFromAnotherUser) ? '<p class="form-description">' + ((opt_data.filterOwnerName) ? soy.$$escapeHtml(AJS.format('\u042d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u0441\u043e\u0437\u0434\u0430\u043b(\u0430) {0}. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043f\u0438\u044e \u044d\u0442\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430, \u043d\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b.',opt_data.filterOwnerName)) : soy.$$escapeHtml('\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043f\u0438\u044e \u044d\u0442\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430, \u043d\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b.')) + '</p>' : '') + '<div class="field-group"><label for="filterName">' + soy.$$escapeHtml('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430:') + '<span class="aui-icon icon-required"><span class="content">Required</span></span></label><input type="text" id="filterName" name="name"' + ((opt_data.prefilledFilterName) ? ' value="' + soy.$$escapeHtmlAttribute(opt_data.prefilledFilterName) + '"' : '') + 'class="text long-field"><div class="description">' + soy.$$escapeHtml('\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430') + '</div>';
  var fieldList59 = opt_data.hiddenFields;
  var fieldListLen59 = fieldList59.length;
  for (var fieldIndex59 = 0; fieldIndex59 < fieldListLen59; fieldIndex59++) {
    var fieldData59 = fieldList59[fieldIndex59];
    output += '<input type="hidden" name="' + soy.$$escapeHtmlAttribute(fieldData59.name) + '" value="' + ((fieldData59.value) ? soy.$$escapeHtmlAttribute(fieldData59.value) : '') + '" />';
  }
  output += '</div>' + ((opt_data.isDefaultShareScopeGlobal) ? '<div class="aui-message aui-message-info shadowed"><p class="title"><span class="aui-icon icon-info"></span><strong>' + soy.$$escapeHtml('\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0412\u0430\u0448\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u0432 \u043e\u0431\u0449\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445.') + '</strong></p><input type="checkbox" id="setSharingPrivate" class="checkbox"><label for="setSharingPrivate">' + soy.$$escapeHtml('\u041c\u043e\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u043c\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.') + '</label></div>' : '') + '</div><div class="buttons-container form-footer"><div class="buttons">';
  var saveButtonClass__soy77 = opt_data.isFiltersImprEnabled ? 'aui-button aui-button-primary' : 'aui-button submit';
  var saveButtonValue__soy78 = opt_data.isFiltersImprEnabled ? '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c' : '\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c';
  output += '<input accesskey="' + soy.$$escapeHtmlAttribute('S') + '" title="' + soy.$$escapeHtmlAttribute(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="' + soy.$$escapeHtmlAttribute(saveButtonClass__soy77) + '" type="submit" value="' + soy.$$escapeHtmlAttribute(saveButtonValue__soy78) + '"/><a accesskey="' + soy.$$escapeHtmlAttribute('`') + '" title="' + soy.$$escapeHtmlAttribute(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel" href="#">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0430') + '</a></div></div></form></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Dialogs.Save.soyTemplateName = 'JIRA.Components.Filters.Templates.Dialogs.Save';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/list.soy' */
// This file was automatically generated from list.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.List.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.List == 'undefined') { JIRA.Components.Filters.Templates.List = {}; }


JIRA.Components.Filters.Templates.List.Module = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="aui-navgroup-vertical filter-panel-section">' + ((opt_data.title) ? '<h2 class="aui-nav-heading"><strong class="filter-title">' + soy.$$escapeHtml(opt_data.title) + '</strong></h2>' : '') + '<div class="filter-content"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.Module.soyTemplateName = 'JIRA.Components.Filters.Templates.List.Module';
}


JIRA.Components.Filters.Templates.List.List = function(opt_data, opt_ignored) {
  return '<ul class="aui-nav saved-filter filter-list ' + soy.$$escapeHtmlAttribute(opt_data.className) + '"></ul>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.List.soyTemplateName = 'JIRA.Components.Filters.Templates.List.List';
}


JIRA.Components.Filters.Templates.List.Filter = function(opt_data, opt_ignored) {
  return '<li><a class="filter-link' + ((opt_data.requiresLoginForUser) ? ' requires-login' : '') + '" href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.navUrl)) + '" data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '" title="' + soy.$$escapeHtmlAttribute(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a>' + ((opt_data.useActions) ? '<button aria-controls="compact-button-dropdown" class="aui-button aui-button-compact aui-button-subtle aui-dropdown2-trigger-arrowless filter-actions" data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml('\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c') + '</span></button>' : '') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.Filter.soyTemplateName = 'JIRA.Components.Filters.Templates.List.Filter';
}


JIRA.Components.Filters.Templates.List.Message = function(opt_data, opt_ignored) {
  return '<p class="filter-info ' + soy.$$escapeHtmlAttribute(opt_data.className) + '">' + soy.$$filterNoAutoescape(opt_data.text) + '</p>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.List.Message.soyTemplateName = 'JIRA.Components.Filters.Templates.List.Message';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/header.soy' */
// This file was automatically generated from header.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Header.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Header == 'undefined') { JIRA.Components.Filters.Templates.Header = {}; }


JIRA.Components.Filters.Templates.Header.Main = function(opt_data, opt_ignored) {
  var output = '<div class="header-section-primary"><h1 class="search-title" title="' + soy.$$escapeHtmlAttribute(opt_data.title) + '">' + soy.$$escapeHtml(opt_data.title) + '</h1><div class="filter-operations">' + ((opt_data.primaryOps && opt_data.primaryOps.length) ? '<div class="filter-operation-item filter-edited-item"><span class="aui-lozenge aui-lozenge-subtle">' + soy.$$escapeHtml('\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439') + '</span></div>' : '');
  if (opt_data.primaryButton) {
    output += '<div class="filter-operation-item">' + ((opt_data.primaryOps && opt_data.primaryOps.length) ? '<div class="aui-buttons">' : '') + '<button class="aui-button ' + soy.$$escapeHtmlAttribute(opt_data.primaryButton.styleClass) + '">' + soy.$$escapeHtml(opt_data.primaryButton.label) + '</button>';
    if (opt_data.primaryOps && opt_data.primaryOps.length) {
      output += '<button class="aui-button aui-dropdown2-trigger aui-dropdown2-trigger-arrowless js-edited-trigger" aria-owns="js-edited-content" aria-haspopup="true" data-container=".aui-buttons"><span class="aui-icon aui-icon-small aui-iconfont-more">' + soy.$$escapeHtml('\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c') + '</span></button></div><div id="js-edited-content" class="aui-dropdown2 aui-style-default"><ul>';
      var opList29 = opt_data.primaryOps;
      var opListLen29 = opList29.length;
      for (var opIndex29 = 0; opIndex29 < opListLen29; opIndex29++) {
        var opData29 = opList29[opIndex29];
        output += '<li><a href="' + ((opData29.href) ? soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opData29.href)) : '#') + '" ' + ((opData29.styleClass) ? 'class="' + soy.$$escapeHtmlAttribute(opData29.styleClass) + '"' : '') + '>' + soy.$$escapeHtml(opData29.label) + '</a></li>';
      }
      output += '</ul></div>';
    }
    output += '</div>';
  }
  if (opt_data.owner) {
    var opList50 = opt_data.secondaryOps;
    var opListLen50 = opList50.length;
    for (var opIndex50 = 0; opIndex50 < opListLen50; opIndex50++) {
      var opData50 = opList50[opIndex50];
      output += '<div class="filter-operation-item"><a href="' + ((opData50.href) ? soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opData50.href)) : '#') + '" ' + ((opData50.title) ? 'title="' + soy.$$escapeHtmlAttribute(opData50.title) + '"' : '') + ' class="' + soy.$$escapeHtmlAttribute(opData50.styleClass) + '">' + ((opData50.label) ? soy.$$escapeHtml(opData50.label) : '') + '</a></div>';
    }
  }
  output += '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Header.Main.soyTemplateName = 'JIRA.Components.Filters.Templates.Header.Main';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/details.soy' */
// This file was automatically generated from details.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Components.Filters.Templates.Details.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Components == 'undefined') { JIRA.Components = {}; }
if (typeof JIRA.Components.Filters == 'undefined') { JIRA.Components.Filters = {}; }
if (typeof JIRA.Components.Filters.Templates == 'undefined') { JIRA.Components.Filters.Templates = {}; }
if (typeof JIRA.Components.Filters.Templates.Details == 'undefined') { JIRA.Components.Filters.Templates.Details = {}; }


JIRA.Components.Filters.Templates.Details.Main = function(opt_data, opt_ignored) {
  return '' + JIRA.Components.Filters.Templates.Details.Description(opt_data) + JIRA.Components.Filters.Templates.Details.Permissions(opt_data) + ((opt_data.userIsLoggedIn) ? JIRA.Components.Filters.Templates.Details.Subscriptions(opt_data) : '');
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Main.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Main';
}


JIRA.Components.Filters.Templates.Details.Description = function(opt_data, opt_ignored) {
  return '<div class="filter-details-section sub-section">' + ((opt_data.owner) ? JIRA.Components.Filters.Templates.Details.Owner(opt_data) : '') + ((opt_data.filter.description) ? '<p class="filter-name">' + soy.$$escapeHtml(opt_data.filter.description) + ((opt_data.permissions.userHasEditPermission) ? ' <a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/EditFilter!default.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">(' + soy.$$escapeHtml('\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + ')</a>' : '') + '</p>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Description.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Description';
}


JIRA.Components.Filters.Templates.Details.Permissions = function(opt_data, opt_ignored) {
  return '<div class="filter-details-section sub-section">' + JIRA.Components.Filters.Templates.Details.ViewSharePermissions({label: '\u041a\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440', sharePermissions: opt_data.shareViewPermissions, privateMessage: '\u0442\u043e\u043b\u044c\u043a\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u044b'}) + ((opt_data.shareEditPermissions != null) ? JIRA.Components.Filters.Templates.Details.EditSharePermissions({label: '\u041a\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440', sharePermissions: opt_data.shareEditPermissions, privateMessage: '\u0442\u043e\u043b\u044c\u043a\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446'}) : '') + ((opt_data.permissions.userHasEditSharingPermission) ? '<p><a class="edit-permissions" href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/EditFilter!default.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">' + soy.$$escapeHtml('\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f') + '</a></p>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Permissions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Permissions';
}


JIRA.Components.Filters.Templates.Details.EditSharePermissions = function(opt_data, opt_ignored) {
  return '<p class="shares-label">' + soy.$$escapeHtml(opt_data.label) + '</p>' + ((opt_data.sharePermissions && opt_data.sharePermissions.hasShares) ? '<table class="edit-shares">' + ((opt_data.sharePermissions.groups && opt_data.sharePermissions.groups.length > 0) ? JIRA.Components.Filters.Templates.Details.permissionsTab({type: 'Groups', shares: opt_data.sharePermissions.groups}) : '') + ((opt_data.sharePermissions.projects && opt_data.sharePermissions.projects.length > 0) ? JIRA.Components.Filters.Templates.Details.permissionsTab({type: 'Projects', shares: opt_data.sharePermissions.projects}) : '') + ((opt_data.sharePermissions.users && opt_data.sharePermissions.users.length > 0) ? JIRA.Components.Filters.Templates.Details.permissionsTab({type: 'Users', shares: opt_data.sharePermissions.users}) : '') + '</table>' : '<p class="view-shares">' + soy.$$escapeHtml(opt_data.privateMessage) + '</p>');
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.EditSharePermissions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.EditSharePermissions';
}


JIRA.Components.Filters.Templates.Details.permissionsTab = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.shares) {
    output += '<tr><td>' + ((opt_data.type == 'Groups') ? soy.$$escapeHtml('\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f\u0430\u043c') : (opt_data.type == 'Projects') ? soy.$$escapeHtml('\u041f\u0440\u043e\u0435\u043a\u0442\u044b') : (opt_data.type == 'Users') ? soy.$$escapeHtml('\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438') : '') + '</td><td><ul>';
    var shareList102 = opt_data.shares;
    var shareListLen102 = shareList102.length;
    for (var shareIndex102 = 0; shareIndex102 < shareListLen102; shareIndex102++) {
      var shareData102 = shareList102[shareIndex102];
      output += (shareData102.project) ? JIRA.Components.Filters.Templates.Details.projectShare({share: shareData102}) : (shareData102.type == 'project-unknown') ? '<li class="hidden-project" title="' + soy.$$escapeHtmlAttribute('\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.') + '">' + soy.$$escapeHtml('\u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442') + '</li>' : (shareData102.group) ? '<li>' + soy.$$escapeHtml(shareData102.group.name) + '</li>' : (shareData102.user) ? '<li>' + soy.$$escapeHtml(shareData102.user.displayName) + '</li>' : (shareData102.type == 'user-unknown') ? '<li>' + soy.$$escapeHtml('\u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c') + '</li>' : '';
    }
    output += '</ul></td></tr>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.permissionsTab.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.permissionsTab';
}


JIRA.Components.Filters.Templates.Details.projectShare = function(opt_data, opt_ignored) {
  return '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/browse/' + soy.$$escapeHtml(opt_data.share.project.key) + '">' + soy.$$escapeHtml(opt_data.share.project.name) + '</a>' + ((opt_data.share.role) ? ' (' + soy.$$escapeHtml('\u0420\u043e\u043b\u044c') + ': ' + soy.$$escapeHtml(opt_data.share.role.name) + ')' : '') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.projectShare.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.projectShare';
}


JIRA.Components.Filters.Templates.Details.ViewSharePermissions = function(opt_data, opt_ignored) {
  var output = '<p class="shares-label">' + soy.$$escapeHtml(opt_data.label) + '</p>';
  if (opt_data.sharePermissions && opt_data.sharePermissions.hasShares) {
    if (opt_data.sharePermissions.globalShare) {
      output += '<p class="view-shares">' + soy.$$escapeHtml('\u0432\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438') + '</p>';
    } else if (opt_data.sharePermissions.loggedInShare) {
      output += '<p class="view-shares">' + soy.$$escapeHtml('\u041b\u044e\u0431\u043e\u0439 \u0432\u043e\u0448\u0435\u0434\u0448\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c') + '</p>';
    } else {
      output += '<p class="view-shares">';
      if (opt_data.sharePermissions.projectShares && opt_data.sharePermissions.projectShares.length > 0) {
        output += '<span id="projects-count" title="';
        var shareList167 = opt_data.sharePermissions.projectShares;
        var shareListLen167 = shareList167.length;
        for (var shareIndex167 = 0; shareIndex167 < shareListLen167; shareIndex167++) {
          var shareData167 = shareList167[shareIndex167];
          output += (shareData167.type == 'project-unknown') ? soy.$$escapeHtmlAttribute('\u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442') + ', ' : soy.$$escapeHtmlAttribute(shareData167.project.name) + ((shareData167.role) ? ' (' + soy.$$escapeHtmlAttribute('\u0420\u043e\u043b\u044c') + ': ' + soy.$$escapeHtmlAttribute(shareData167.role.name) + ')' : '') + ', ';
        }
        output += '">' + soy.$$escapeHtml(AJS.format('{0,choice,1#\u043f\u0440\u043e\u0435\u043a\u0442|1\x3c\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432}:',opt_data.sharePermissions.projectShares.length)) + ((opt_data.sharePermissions.groupShares.length > 0) ? ', ' : '') + '</span>';
      }
      if (opt_data.sharePermissions.groupShares && opt_data.sharePermissions.groupShares.length > 0) {
        output += '<span id="groups-count" title="';
        var shareList192 = opt_data.sharePermissions.groupShares;
        var shareListLen192 = shareList192.length;
        for (var shareIndex192 = 0; shareIndex192 < shareListLen192; shareIndex192++) {
          var shareData192 = shareList192[shareIndex192];
          output += (shareData192.group) ? soy.$$escapeHtmlAttribute(shareData192.group.name) + ', ' : '';
        }
        output += '">' + soy.$$escapeHtml(AJS.format('{0,choice,1#{0} \u0433\u0440\u0443\u043f\u043f\u0430|1\x3c{0} \u0433\u0440\u0443\u043f\u043f(\u044b)}',opt_data.sharePermissions.groupShares.length)) + '</span>';
      }
      output += '</p>';
    }
  } else {
    output += '<p class="view-shares">' + soy.$$escapeHtml(opt_data.privateMessage) + '</p>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.ViewSharePermissions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.ViewSharePermissions';
}


JIRA.Components.Filters.Templates.Details.Subscriptions = function(opt_data, opt_ignored) {
  return '<div class="filter-details-section full-section"><h4>' + soy.$$escapeHtml('\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438') + '</h4>' + ((opt_data.subscriptions.items.length) ? '<p>' + soy.$$escapeHtml('\u041d\u0430 \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b:') + '</p>' + JIRA.Components.Filters.Templates.Details.SubscriptionList(opt_data) : '<p>' + soy.$$escapeHtml('\u041d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d.') + '</p>') + '<ul class="manage-links"><li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/EditSubscription!default.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '&returnUrl=' + soy.$$escapeUri(opt_data.returnUrl) + '">' + soy.$$escapeHtml('\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f') + '</a></li>' + ((opt_data.subscriptions.items.length) ? '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/ViewSubscriptions.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">' + soy.$$escapeHtml('\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\u043c\u0438') + '</a></li>' : '') + '</ul></div>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Subscriptions.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Subscriptions';
}


JIRA.Components.Filters.Templates.Details.SubscriptionList = function(opt_data, opt_ignored) {
  var output = '<ul>';
  var subList242 = opt_data.filter.subscriptions.items;
  var subListLen242 = subList242.length;
  for (var subIndex242 = 0; subIndex242 < subListLen242; subIndex242++) {
    var subData242 = subList242[subIndex242];
    output += (subData242.group) ? '<li>' + soy.$$escapeHtml(subData242.group.name) + '</li>' : '<li>' + soy.$$escapeHtml(subData242.user.displayName) + '</li>';
  }
  output += ((opt_data.filter.subscriptions.additionalLength) ? '<li><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/ViewSubscriptions.jspa?filterId=' + soy.$$escapeUri(opt_data.filter.id) + '">' + soy.$$escapeHtml(AJS.format('{0} \u0435\u0449\u0435',opt_data.filter.subscriptions.additionalLength)) + '</a></li>' : '') + '</ul>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.SubscriptionList.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.SubscriptionList';
}


JIRA.Components.Filters.Templates.Details.Owner = function(opt_data, opt_ignored) {
  var output = '<div class="search-owner">' + ((opt_data.avatarUrl) ? '<span class="aui-avatar aui-avatar-medium search-owner-avatar"><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.avatarUrl)) + '" /></span></span>' : '') + '<span class="search-owner-name">';
  var ownerLink__soy273 = '' + JIRA.Components.Filters.Templates.Details.OwnerLink(opt_data);
  output += soy.$$filterNoAutoescape(AJS.format('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 {0}',ownerLink__soy273)) + '</span></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.Owner.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.Owner';
}


JIRA.Components.Filters.Templates.Details.OwnerLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(opt_data.ownerUrl)) + '" class="user-hover" rel="' + soy.$$escapeHtmlAttribute(opt_data.ownerUserName) + '">' + soy.$$escapeHtml(opt_data.owner) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Components.Filters.Templates.Details.OwnerLink.soyTemplateName = 'JIRA.Components.Filters.Templates.Details.OwnerLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/templates/amd-wrapper.js' */
define("jira/issues/components/filters/templates/actions",function(){return JIRA.Components.Filters.Templates.Actions});define("jira/issues/components/filters/templates/details",function(){return JIRA.Components.Filters.Templates.Details});define("jira/issues/components/filters/templates/dialogs",function(){return JIRA.Components.Filters.Templates.Dialogs});define("jira/issues/components/filters/templates/header",function(){return JIRA.Components.Filters.Templates.Header});
define("jira/issues/components/filters/templates/list",function(){return JIRA.Components.Filters.Templates.List});AJS.namespace("JIRA.Components.Filters.Templates.Actions",null,require("jira/issues/components/filters/templates/actions"));AJS.namespace("JIRA.Components.Filters.Templates.Details",null,require("jira/issues/components/filters/templates/details"));AJS.namespace("JIRA.Components.Filters.Templates.Dialogs",null,require("jira/issues/components/filters/templates/dialogs"));
AJS.namespace("JIRA.Components.Filters.Templates.Header",null,require("jira/issues/components/filters/templates/header"));AJS.namespace("JIRA.Components.Filters.Templates.List",null,require("jira/issues/components/filters/templates/list"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Actions.js' */
define("jira/issues/components/filters/views/actions",["require"],function(a){var c=a("jira/ajs/dropdown/dropdown"),b=a("jira/components/libs/underscore"),d=a("jira/issues/components/filters/templates/actions"),e=a("jira/components/libs/marionette-1.4.1/itemview"),f=a("jira/issues/utils/login"),g=a("jira/issues/layer-positioning/window"),h=a("jira/issues/libs/ajshelper");return e.extend({template:d.DropDown,triggers:{"click .rename-filter":"renameFilter","click .copy-filter":"copyFilter","click .unfavourite-filter":"unfavouriteFilter",
"click .delete-filter":"deleteFilter"},triggerView:null,dropDown:null,initialize:function(a){this.triggerView=a.triggerView},serializeData:function(){return{filter:this.model,canEdit:this.model.isEditable(),canDelete:f.loggedInUserName()===this.model.getOwnerUserName()}},onBeforeRender:function(){this.dropDown=new c({alignment:h.LEFT,styleClass:"filter-actions-dropdown",content:b.bind(function(){return this.$el},this),positioningController:new g,trigger:this.triggerView.getActionsTrigger(),focusFirstItem:!0});
this.dropDown.bind("hideLayer",b.bind(this.close,this))},onRender:function(){this.dropDown.show()},onClose:function(){this.dropDown.hide();this.dropDown._unassignEvents("trigger",this.triggerView.getActionsTrigger());this.dropDown.layerController.placeholder().remove();this.dropDown=null}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Copy.js' */
define("jira/issues/components/filters/views/dialogs/copy",["require"],function(a){var c=a("jira/ajs/ajax/smart-ajax"),e=a("jira/components/libs/underscore"),f=a("wrm/context-path"),g=a("jira/issues/components/filters/templates/dialogs"),h=a("jira/components/libs/marionette-1.4.1/dialogview"),k=a("jira/util/data/meta"),l=a("jira/components/issueviewer/services/featureflags"),m=a("jira/issue/utils"),b=f();return h.extend({template:g.Save,id:"copy-filter-dialog",dialogOptions:function(){var d=this;
return{content:function(a){c.makeRequest({url:b+"/rest/api/2/filter/defaultShareScope",contentType:"application/json"}).done(function(b){a(d.template(e.extend({isDefaultShareScopeGlobal:b&&"GLOBAL"===b.scope},d.serializeData())))})}}},formToRequestData:function(a){return{name:a.find("[name\x3dname]").val(),id:this.model.getId(),favourite:!0}},serializeData:function(){var a=this.model;return{headerText:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0424\u0438\u043b\u044c\u0442\u0440"+" : "+a.getName(),prefilledFilterName:AJS.format("\u041a\u043e\u043f\u0438\u044f {0}",
a.getName()),modifierKey:k.get("keyboard-accesskey-modifier"),contextPath:b,filter:a.toJSON(),filterOwnerName:a.getOwnerDisplayName(),hiddenFields:[],isFiltersImprEnabled:l.IS_FILTERS_IMPR_ENABLED,isJqlEmpty:m.isEmptyOrWhitespace(this.model.getJql()),copyFromAnotherUser:!a.isEditable()}},onSubmitSuccess:function(){this.$el.find("#setSharingPrivate").prop("checked")&&c.makeRequest({url:b+"/rest/api/2/filter/defaultShareScope",type:"PUT",contentType:"application/json",processData:!1,data:JSON.stringify({scope:"PRIVATE"})})},
onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Delete.js' */
define("jira/issues/components/filters/views/dialogs/delete",["require"],function(a){var b=a("jira/dialog/dialog-util"),c=a("wrm/context-path"),d=a("jira/components/libs/marionette-1.4.1/dialogview"),e=a("jira/util/data/meta"),f=c();return d.extend({id:"delete-filter-dialog",serializeData:function(){var a={modifierKey:e.get("keyboard-accesskey-modifier")};a.filter=this.model?this.model.toJSON():{subscriptions:{items:[]}};return a},dialogOptions:function(){return{content:null,url:f+"/secure/DeleteFilter!default.jspa?filterId\x3d"+
this.model.id,ajaxOptions:b.getDefaultAjaxOptions,submitHandler:null,onUnSuccessfulSubmit:this._onSubmitError.bind(this),onSuccessfulSubmit:this._onSubmitSuccess.bind(this),onDialogFinished:function(){}}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/Rename.js' */
define("jira/issues/components/filters/views/dialogs/rename",["require"],function(a){var b=a("jira/issues/components/filters/templates/dialogs"),c=a("jira/components/libs/marionette-1.4.1/dialogview"),d=a("jira/util/data/meta");return c.extend({template:b.Rename,id:"rename-filter-dialog",serializeData:function(){return{modifierKey:d.get("keyboard-accesskey-modifier"),filter:this.model.toJSON()}},formToRequestData:function(a){return{name:a.find("[name\x3dname]").val(),id:this.model.getId(),favourite:!0}},
onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/dialogs/SaveAs.js' */
define("jira/issues/components/filters/views/dialogs/save-as",["require"],function(a){var e=a("jira/ajs/ajax/smart-ajax"),g=a("jira/util/data/meta"),c=a("jira/components/libs/underscore"),d=a("wrm/context-path"),h=a("jira/issues/components/filters/templates/dialogs"),k=a("jira/components/libs/marionette-1.4.1/dialogview"),l=a("jira/components/issueviewer/services/featureflags"),m=a("jira/issue/utils");return k.extend({template:h.Save,id:"save-filter-dialog",initialize:function(b){this.jql=b.jql},
dialogOptions:function(){var b=this;return{content:function(a){e.makeRequest({url:d()+"/rest/api/2/filter/defaultShareScope",contentType:"application/json"}).done(function(f){a(b.template(c.extend({isDefaultShareScopeGlobal:f&&"GLOBAL"===f.scope},b.serializeData())))})}}},formToRequestData:function(b){b={name:b.find("[name\x3dname]").val(),jql:this.jql,favourite:!0};this.model&&!this.model.getIsSystem()&&(b.id=this.model.getId());return b},serializeData:function(){var b={headerText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440",
modifierKey:g.get("keyboard-accesskey-modifier"),contextPath:d(),hiddenFields:[],isFiltersImprEnabled:l.IS_FILTERS_IMPR_ENABLED,isJqlEmpty:m.isEmptyOrWhitespace(this.jql)},a=this.model;a?c.extend(b,{filter:a?a.toJSON():{},copyFromAnotherUser:!a.isEditable(),filterOwnerName:a.getOwnerDisplayName()}):c.extend(b,{copyFromAnotherUser:!1});return b},onSubmitSuccess:function(){this.$el.find("#setSharingPrivate").prop("checked")&&e.makeRequest({url:d()+"/rest/api/2/filter/defaultShareScope",type:"PUT",contentType:"application/json",
processData:!1,data:JSON.stringify({scope:"PRIVATE"})})},onSubmitError:function(){this.dialog.$form.find("#filterName").focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Filter.js' */
define("jira/issues/components/filters/views/list/filter",["require"],function(a){var b=a("jira/issues/components/filters/templates/list");return a("jira/components/libs/marionette-1.4.1/itemview").extend({template:b.Filter,ui:{parent:"li",filterLink:".filter-link"},triggers:{"simpleClick .filter-link:not(.requires-login)":"selectFilter"},modelEvents:{change:"render"},onRender:function(){this.unwrapTemplate()},highlight:function(){this.ui.parent.addClass("aui-nav-selected");this.ui.filterLink.addClass("active");
this.ui.filterLink.scrollIntoView()},unhighlight:function(){this.ui.parent.removeClass("aui-nav-selected");this.ui.filterLink.removeClass("active")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/FilterWithActions.js' */
define("jira/issues/components/filters/views/list/filter-with-actions",["require"],function(a){var b=a("jira/components/libs/underscore");a=a("jira/issues/components/filters/views/list/filter");return a.extend({ui:b.extend({actionsTrigger:".filter-actions"},a.prototype.ui),triggers:b.extend({"click .filter-actions":"openActions"},a.prototype.triggers),templateHelpers:{useActions:!0},events:{"keydown .filter-actions":"handleKeydown"},getActionsTrigger:function(){return this.ui.actionsTrigger},handleKeydown:function(a){"ArrowDown"===
a.key&&(a.preventDefault(),a.stopPropagation(),this.trigger("openActions",{view:this,model:this.model}))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/List.js' */
define("jira/issues/components/filters/views/list/list",["require"],function(a){var b=a("jira/issues/components/filters/views/list/filter"),c=a("jira/components/libs/marionette-1.4.1/compositeview");a=a("jira/issues/components/filters/templates/list");return c.extend({template:a.List,itemView:b,itemViewContainer:".filter-list",onRender:function(){this.unwrapTemplate()},templateHelpers:function(){return{className:this.className}},unhighlightAllFilters:function(){this.children.apply("unhighlight")},
highlightFilter:function(a){(a=this.children.findByModel(a))&&a.highlight()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/ListWithActions.js' */
define("jira/issues/components/filters/views/list/list-with-actions",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/issues/components/filters/views/list/filter-with-actions");return a("jira/issues/components/filters/views/list/list").extend({itemView:c,useActions:!1,initialize:function(a){a=b.defaults({},a,{useActions:!1});this.useActions=a.useActions}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Message.js' */
define("jira/issues/components/filters/views/list/message",["require"],function(a){var b=a("jira/issues/components/filters/templates/list");return a("jira/components/libs/marionette-1.4.1/itemview").extend({template:b.Message,text:"",initialize:function(a){this.text=a.text},onRender:function(){this.unwrapTemplate()},templateHelpers:function(){return{text:this.text,className:this.className}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/list/Module.js' */
define("jira/issues/components/filters/views/list/module",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/issues/components/filters/templates/list");return a("jira/components/libs/marionette-1.4.1/layout").extend({template:c.Module,title:"",regions:{content:".filter-content"},initialize:function(a){a=b.defaults({},a,{title:""});this.title=a.title},templateHelpers:function(){return{title:this.title}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Header.js' */
define("jira/issues/components/filters/views/header",["require"],function(b){var h=b("jira/components/libs/underscore"),k=b("wrm/context-path"),l=b("jquery"),m=b("jira/issues/components/filters/templates/header"),c=b("jira/components/libs/marionette-1.4.1/itemview"),d=b("jira/issues/utils/login"),e=b("jira/issues/tipsy"),f=b("jira/components/issueviewer/services/featureflags"),g=k();return c.extend({operations:{save:{styleClass:"save-changes",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},saveAs:{styleClass:"save-as-new-filter",
label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a"},discardChanges:{styleClass:"discard-filter-changes",label:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"},details:{styleClass:"show-filter-details",title:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u044d\u0442\u043e\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u0435",label:"\u0414\u0435\u0442\u0430\u043b\u0438"},favouriteOn:{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432",label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432",styleClass:"fav-link aui-icon aui-icon-small aui-iconfont-star"},
favouriteOff:{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b",styleClass:"fav-link aui-icon aui-icon-small aui-iconfont-unstar"}},template:m.Main,ui:{filterFavouriteButton:".fav-link",filterEditedLabel:".filter-edited-item",saveButton:".save-changes",saveAsButton:".save-as-new-filter",detailsTrigger:".show-filter-details",dropdownContent:"#js-edited-content",discardChangesButton:".discard-filter-changes"},triggers:{"click .fav-link":"toogleFavourite",
"click .save-as-new-filter:not([aria-disabled\x3dtrue])":{event:"saveAs",preventDefault:!0,stopPropagation:!1},"click .save-changes:not([aria-disabled\x3dtrue])":{event:"save",preventDefault:!0,stopPropagation:!1},"click .discard-filter-changes":{event:"discard",preventDefault:!0,stopPropagation:!1}},events:{"click .show-filter-details":function(){this.trigger("details",this.ui.detailsTrigger)}},_generatePrimaryOperations:function(){var a=[];this.isEdited&&this.model.isEditable()&&a.push(this.operations.save);
!this.isDirty&&d.loggedInUserName()&&a.push(this.operations.saveAs);this.isEdited&&a.push(this.operations.discardChanges);return a},_generateSecondaryOperations:function(){var a=[];this.model.getIsSystem()||a.push(this.operations.details);if(d.loggedInUserName()&&!this.model.getIsSystem()){var b=this.model.isFavouriteFilter()?this.operations.favouriteOn:this.operations.favouriteOff;a.href=g+"/secure/EditFilter!default.jspa?filterId\x3d"+this.model.id;a.push(b)}return a},serializeData:function(){if(!this.model)return{title:"\u0418\u0441\u043a\u0430\u0442\u044c",
primaryButton:this.operations.saveAs};if(!this.model.getIsValid())return{title:"\u0418\u0441\u043a\u0430\u0442\u044c"};var a=this._generatePrimaryOperations(),b=this._generateSecondaryOperations();a={title:this.model.getName(),primaryButton:a.shift(),primaryOps:a,secondaryOps:b};this.model.getOwner()&&h.extend(a,{owner:this.model.getOwner()||"",ownerUserName:this.model.getOwnerUserName()||"",avatarUrl:this.model.getAvatarUrl(),ownerUrl:g+"/secure/ViewProfile.jspa?name\x3d"+encodeURIComponent(this.model.getOwnerUserName())});
return a},render:function(a){"undefined"!==typeof a.model&&(this.model=a.model);this.isEdited=a.isEdited;this.isDirty=a.isDirty;return c.prototype.render.call(this)},deleteSaveAsTipsy:function(){this.dirtyTipsySaveAs&&(this.dirtyTipsySaveAs.destroy(),delete this.dirtyTipsySaveAs)},deleteSaveTipsy:function(){this.dirtyTipsySave&&(this.dirtyTipsySave.destroy(),delete this.dirtyTipsySave)},onRender:function(){this.ui.dropdownContent.on("aui-dropdown2-show",function(a){var b=this.$el;this.$el=l(a.target);
this.delegateEvents();this.$el=b}.bind(this));this.deleteSaveAsTipsy();this.deleteSaveTipsy();this.isDirty&&this.markAsInvalid(!1);new e({el:this.ui.filterFavouriteButton})},markAsInvalid:function(a){this.disableButton(this.ui.saveButton);this.dirtyTipsySave=this.getTipsy(this.ui.saveButton,a);f.IS_FILTERS_IMPR_ENABLED&&(this.disableButton(this.ui.saveAsButton),this.dirtyTipsySaveAs=this.getTipsy(this.ui.saveAsButton,a))},markInSearch:function(a){f.IS_FILTERS_IMPR_ENABLED&&(a?this.markAsInvalid(!1):
(this.enableButton(this.ui.saveButton),this.deleteSaveTipsy(),this.enableButton(this.ui.saveAsButton),this.deleteSaveAsTipsy()))},disableButton:function(a){a.addClass("disabled");a.attr("aria-disabled","true")},enableButton:function(a){a.removeClass("disabled");a.attr("aria-disabled","false")},getTipsy:function(a,b){return new e({el:a,tipsy:{delayIn:0,title:function(){return b?"\u0412 \u0432\u0430\u0448\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043e\u0448\u0438\u0431\u043a\u0430.":"\u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c, \u043a\u0430\u043a \u0432\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u0432\u0430\u043c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a"}}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/views/Details.js' */
define("jira/issues/components/filters/views/details",["require"],function(c){const g=c("jira/components/libs/underscore"),h=c("wrm/context-path"),k=c("jira/issues/components/filters/templates/details"),l=c("jira/components/libs/marionette-1.4.1/inlinedialogview"),m=c("jira/issues/utils/login"),p=c("jira/issues/user-params"),q=h();return l.extend({template:k.Main,id:"filter-details-overlay",dialogOptions:{addActiveClass:!0,hideDelay:36E5,offsetX:-36,width:400},initialize:function(b){this.trigger=
b.triggerEl},serializeData:function(){const b=this.model;var d=g.sortBy(b.getSharePermissions(),function(a){const b=[a.type];a.group&&b.push(a.group.name);a.project&&b.push(a.project.name);a.role&&b.push(a.role.name);a.user&&b.push(a.user.name);return b});const c=g.clone(b.getSubscriptions()),n=this.model.isEditable()||m.loggedInUserName()===b.getOwnerUserName();c.additionalLength=b.getNumberOfAdditionalSubscriptions();const e=d.filter(function(a){return Object.prototype.hasOwnProperty.call(a,"view")?
!0===a.view&&!1===a.edit:!0}),h=e.filter(function(a){return"project"===a.type||"project-unknown"===a.type}),k=e.filter(function(a){return"group"===a.type||"group-unknown"===a.type}),f=d.filter(function(a){return Object.prototype.hasOwnProperty.call(a,"edit")?!0===a.edit:!1}),l=f.filter(function(a){return"project"===a.type||"project-unknown"===a.type}),r=f.filter(function(a){return"group"===a.type}),t=f.filter(function(a){return"user"===a.type||"user-unknown"===a.type});d={filter:b.toJSON(),shareViewPermissions:{hasShares:0<
e.length,loggedInShare:e.find(function(a){return"loggedin"===a.type}),globalShare:e.find(function(a){return"global"===a.type}),projectShares:h,groupShares:k},shareEditPermissions:{hasShares:0<f.length,projects:l,groups:r,users:t},subscriptions:c,permissions:{userHasEditSharingPermission:n&&(!!p.createSharedObjects()||0<d.length),userHasEditPermission:n},userIsLoggedIn:m.isLoggedIn(),returnUrl:window.location};b.getOwner()&&g.extend(d,{owner:b.getOwner()||"",ownerUserName:b.getOwnerUserName()||"",
avatarUrl:b.getAvatarUrl(),ownerUrl:q+"/secure/ViewProfile.jspa?name\x3d"+encodeURIComponent(b.getOwnerUserName())});return d},onRender:function(){this.dialog.bind("click",function(b){b.stopPropagation()});this.initTooltip("projects-count");this.initTooltip("groups-count");jQuery(".hidden-project").each(function(){$(this).tooltip()})},initTooltip:function(b){b=jQuery("#"+b);if(b.length){const c=b.prop("title");b.prop("title",c.replace(/, $/,""));b.tooltip()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/Dialog.js' */
define("jira/issues/components/filters/controllers/dialog",["require"],function(d){var e=d("jira/components/libs/underscore"),f=d("jquery"),g=d("jira/issues/components/filters/entities/filter"),h=d("jira/issues/components/filters/views/dialogs/copy"),k=d("jira/issues/components/filters/views/dialogs/delete"),l=d("jira/issues/components/filters/views/dialogs/rename"),m=d("jira/issues/components/filters/views/dialogs/save-as");return d("jira/components/libs/marionette-1.4.1/controller").extend({initialize:function(){this.activeView=
null},_closeActiveDialog:function(){this.activeView&&(this.activeView.close(),this.stopListening(this.activeView),this.activeView=null)},_showDialog:function(b,a,c){e.defaults(c,{viewOptions:{},onSuccess:f.noop,onError:f.noop});this._closeActiveDialog();this.activeView=new b(e.extend({model:a},c.viewOptions));this.listenTo(this.activeView,"submit:success",function(b){c.onSuccess.call(this,b,a)});this.listenTo(this.activeView,"submit:error",function(){c.onError.call(this,a)});this.activeView.render()},
showDeleteDialog:function(b){this._showDialog(k,b,{onSuccess:function(a,c){this.trigger("delete:success",c)},onError:function(a){this.trigger("delete:error",a)}})},showRenameDialog:function(b){this._showDialog(l,b,{onSuccess:function(a,c){c.set("name",a.name);this.trigger("rename:success",c)},onError:function(a){this.trigger("rename:error",a)}})},showCopyDialog:function(b){this._showDialog(h,b,{onSuccess:function(a){a=new g(a,{parse:!0});this.trigger("copy:success",a)},onError:function(a){this.trigger("copy:error",
a)}})},showSaveAsDialog:function(b,a){this._showDialog(m,b,{viewOptions:{jql:a},onSuccess:function(a){a=new g(a,{parse:!0});this.trigger("saveas:success",a)},onError:function(a){this.trigger("saveas:error",a)}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/List.js' */
define("jira/issues/components/filters/controllers/list",["require"],function(b){var d=b("jira/issues/components/filters/views/list/list"),c=b("jira/issues/components/filters/views/list/message"),e=b("jira/issues/components/filters/views/list/module"),f=b("jira/components/libs/marionette-1.4.1/controller"),g=b("jira/issues/utils/login");return f.extend({view:null,initialize:function(a){this.collection=a.collection;this.title=a.title;this.className=a.className;this.errorMessage=a.errorMessage;this.loadingMessage=
a.loadingMessage;this.emptyMessage=a.emptyMessage;this.loginMessage=a.loginMessage},show:function(a){this.view&&this.close();this.view=new e({el:a,title:this.title});this.view.render();this._showInternalView(this.collection.fetchState);this.listenTo(this.collection,"change:fetchState",this._showInternalView)},close:function(){this.view&&(this.stopListening(this.collection,"change:fetchState",this._showRegion),this.stopListening(this.view),this.view.close(),this.view=null)},highlightFilter:function(a){this._listView&&
(this._listView.unhighlightAllFilters(),a&&this._listView.highlightFilter(a))},_showInternalView:function(a){switch(a){case "error":this._showError();break;case "fetched":this._showList();break;default:this._showLoading()}},_showLoading:function(){this.view.content.show(new c({className:this.className,text:this.loadingMessage}))},_showError:function(){this.view.content.show(new c({className:this.className,text:this.errorMessage}))},_showList:function(){this.collection.length?this._showListWithItems():
this._showEmptyList()},_getListViewConstructor:function(){return d},_showListWithItems:function(){this._listView=new (this._getListViewConstructor())({collection:this.collection,className:this.className});this.view.content.show(this._listView);this.trigger("render");this.listenTo(this.collection,"remove",function h(){this.collection.length||(this.stopListening(this.collection,"remove",h),this._showEmptyList())});this.listenTo(this._listView,"itemview:selectFilter",function(b,c){this.trigger("selectFilter",
c.model)});this.listenTo(this._listView,"itemview:render",function(){this.trigger("render")});this.triggerMethod("list:render",this._listView)},_showEmptyList:function(){g.isLoggedIn()?this.view.content.show(new c({className:this.className,text:this.emptyMessage})):this.view.content.show(new c({className:this.className,text:this.loginMessage}));this.listenToOnce(this.collection,"add",function(){this._showListWithItems()})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/ListWithActions.js' */
define("jira/issues/components/filters/controllers/list-with-actions",["require"],function(b){var d=b("jira/issues/components/filters/controllers/list"),f=b("jira/issues/components/filters/views/actions"),g=b("jira/issues/components/filters/views/list/list-with-actions");return d.extend({actionsView:null,_getListViewConstructor:function(){return g},close:function(){this._closeActions();d.prototype.close.call(this)},highlightFilter:function(e){this._closeActions();d.prototype.highlightFilter.call(this,
e)},_showActions:function(e,c){var b=this.actionsView&&this.actionsView.model===c;this._closeActions();b||(this.actionsView=new f({triggerView:e,model:c}),this.actionsView.render(),this.listenTo(this.actionsView,"deleteFilter",function(a){this._closeActions();this.trigger("deleteFilter",a.model)}),this.listenTo(this.actionsView,"renameFilter",function(a){this._closeActions();this.trigger("renameFilter",a.model)}),this.listenTo(this.actionsView,"copyFilter",function(a){this._closeActions();this.trigger("copyFilter",
a.model)}),this.listenTo(this.actionsView,"unfavouriteFilter",function(a){this._closeActions();this.trigger("unfavouriteFilter",a.model)}))},_closeActions:function(){this.actionsView&&(this.actionsView.close(),this.stopListening(this.actionsView),this.actionsView=null)},onListRender:function(){this.listenTo(this._listView,"itemview:selectFilter",function(){this._closeActions()});this.listenTo(this._listView,"itemview:openActions",function(b,c){this._showActions(c.view,c.model)})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/controllers/Header.js' */
define("jira/issues/components/filters/controllers/header",["require"],function(b){var d=b("jira/issues/components/filters/views/details"),e=b("jira/issues/components/filters/views/header"),f=b("jira/components/libs/marionette-1.4.1/controller"),c=b("jira/issues/utils/login");return f.extend({initialize:function(){this.view=null},close:function(){this.view&&(this.view.close(),this.stopListening(this.view),this.view=null,this.trigger("close"))},closeDetails:function(){this.detailsView&&(this.detailsView.close(),
this.stopListening(this.detailsView),this.detailsView=null)},showDetails:function(a){this.detailsView&&this.closeDetails();this.detailsView=new d({model:this.model,triggerEl:a});this.listenTo(this.detailsView,"close",this.closeDetails);this.detailsView.render()},show:function(a){this.view&&this.close();this.view=new e({el:a.el});this.isInvalid=!1;this.listenTo(this.view,{saveAs:function(a){c.isLoggedIn()&&!this.isInvalid&&this.trigger("saveAs",a.model)},save:function(a){c.isLoggedIn()&&!this.isInvalid&&
this.trigger("save",a.model)},discard:function(){this.update({isEdited:!1,isDirty:!1});this.trigger("discard")},details:function(a){this.showDetails(a)},toogleFavourite:function(a){if(a=a.model){var b=!!a.getFavourite();a.saveFavourite(!b);b||this.trigger("favourite",a)}},close:this.close});this.update(a)},update:function(a){this.view&&("undefined"!==typeof a.model&&(this.model=a.model),this.isInvalid=!1,this.view.render({model:this.model,isDirty:a.isDirty,isEdited:a.isEdited}),this.model=a.model)},
markAsInvalid:function(){this.view&&this.view.markAsInvalid(!0);this.isInvalid=!0},markInSearch:function(a){this.view&&this.view.markInSearch(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:filters-component', location = 'content/js/components/filters/namespace.js' */
AJS.namespace("JIRA.Components.Filters",null,require("jira/issues/components/filters"));AJS.namespace("JIRA.Components.Filters.Collections.FavouriteFilters",null,require("jira/issues/components/filters/entities/favourite-filters"));AJS.namespace("JIRA.Components.Filters.Collections.Filters",null,require("jira/issues/components/filters/entities/filters"));AJS.namespace("JIRA.Components.Filters.Collections.SystemFilters",null,require("jira/issues/components/filters/entities/system-filters"));
AJS.namespace("JIRA.Components.Filters.Controllers.Dialog",null,require("jira/issues/components/filters/controllers/dialog"));AJS.namespace("JIRA.Components.Filters.Controllers.Header",null,require("jira/issues/components/filters/controllers/header"));AJS.namespace("JIRA.Components.Filters.Controllers.List",null,require("jira/issues/components/filters/controllers/list"));AJS.namespace("JIRA.Components.Filters.Controllers.ListWithActions",null,require("jira/issues/components/filters/controllers/list-with-actions"));
AJS.namespace("JIRA.Components.Filters.Models.Filter",null,require("jira/issues/components/filters/entities/filter"));AJS.namespace("JIRA.Components.Filters.Templates.Actions",null,require("jira/issues/components/filters/templates/actions"));AJS.namespace("JIRA.Components.Filters.Templates.Details",null,require("jira/issues/components/filters/templates/details"));AJS.namespace("JIRA.Components.Filters.Templates.Dialogs",null,require("jira/issues/components/filters/templates/dialogs"));
AJS.namespace("JIRA.Components.Filters.Templates.Header",null,require("jira/issues/components/filters/templates/header"));AJS.namespace("JIRA.Components.Filters.Templates.List",null,require("jira/issues/components/filters/templates/list"));AJS.namespace("JIRA.Components.Filters.Views.Actions",null,require("jira/issues/components/filters/views/actions"));AJS.namespace("JIRA.Components.Filters.Views.Details",null,require("jira/issues/components/filters/views/details"));
AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Copy",null,require("jira/issues/components/filters/views/dialogs/copy"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Delete",null,require("jira/issues/components/filters/views/dialogs/delete"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.Rename",null,require("jira/issues/components/filters/views/dialogs/rename"));AJS.namespace("JIRA.Components.Filters.Views.Dialogs.SaveAs",null,require("jira/issues/components/filters/views/dialogs/save-as"));
AJS.namespace("JIRA.Components.Filters.Views.Header",null,require("jira/issues/components/filters/views/header"));AJS.namespace("JIRA.Components.Filters.Views.List.Filter",null,require("jira/issues/components/filters/views/list/filter"));AJS.namespace("JIRA.Components.Filters.Views.List.FilterWithActions",null,require("jira/issues/components/filters/views/list/filter-with-actions"));AJS.namespace("JIRA.Components.Filters.Views.List.List",null,require("jira/issues/components/filters/views/list/list"));
AJS.namespace("JIRA.Components.Filters.Views.List.ListWithActions",null,require("jira/issues/components/filters/views/list/list-with-actions"));AJS.namespace("JIRA.Components.Filters.Views.List.Message",null,require("jira/issues/components/filters/views/list/message"));AJS.namespace("JIRA.Components.Filters.Views.List.Module",null,require("jira/issues/components/filters/views/list/module"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/templates/issuenav-filter.soy' */
// This file was automatically generated from issuenav-filter.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavFilter.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavFilter == 'undefined') { JIRA.Templates.IssueNavFilter = {}; }


JIRA.Templates.IssueNavFilter.collapsedFiltersPanel = function(opt_data, opt_ignored) {
  return '<span class="ui-dock toggle-filter-panel aui-icon aui-icon-small aui-iconfont-chevron-double-right" role="button" tabindex="0">' + soy.$$escapeHtml(AJS.format('\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 ({0})','[')) + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavFilter.collapsedFiltersPanel.soyTemplateName = 'JIRA.Templates.IssueNavFilter.collapsedFiltersPanel';
}


JIRA.Templates.IssueNavFilter.filtersPanel = function(opt_data, opt_ignored) {
  return '<div class="filters-content"><div class="filter-title"><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/issues/?jql=" class="new-search aui-button" title="' + soy.$$escapeHtmlAttribute('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430') + '">' + soy.$$escapeHtml('\u041d\u043e\u0432\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440') + '</a></div><ul class="filter-options"><li><a class="find-filters" href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("")) + '/secure/ManageFilters.jspa?filterView=search">' + soy.$$escapeHtml('\u041f\u043e\u0438\u0441\u043a \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432') + '</a></li></ul><div class="filter-panel-wrapper"><div class="filter-panel-system-container"></div><div class="filter-panel-favourites-container"></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavFilter.filtersPanel.soyTemplateName = 'JIRA.Templates.IssueNavFilter.filtersPanel';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/templates/issuenav-filter-amd.js' */
define("jira/issues/templates/issue-nav-filter",function(){return JIRA.Templates.IssueNavFilter});AJS.namespace("JIRA.Templates.IssueNavFilter",null,require("jira/issues/templates/issue-nav-filter"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterPanelView.js' */
define("jira/issues/search/filters/filter-panel-view",["require"],function(b){var k=b("jira/issues/baseview"),l=b("jira/issues/application"),f=b("jira/issues/utils/resize"),g=b("jira/util/events"),h=b("jira/util/events/types"),m=b("jira/util/events/reasons"),e=b("jira/ajs/keyboardshortcut/keyboard-shortcut"),d=b("jira/components/libs/underscore"),c=b("jquery");b=b("jira/issues/templates/issue-nav-filter");return k.extend({events:{"simpleClick .system-filters a.filter-link:not(.requires-login)":"_onClickFilter",
"simpleClick .new-search":"_onClickNewSearch","click .ui-dock":"_onDockFilterPanelClick","click .ui-undock":"_onUndockFilterPanelClick"},collapsedTemplate:b.collapsedFiltersPanel,template:b.filtersPanel,initialize:function(a){d.bindAll(this,"adjustFavouriteFiltersHeight");a.easeOff&&(this._adjustFavouriteFiltersHeight=d.debounce(this._adjustFavouriteFiltersHeight,a.easeOff));f.onVerticalResize(this.adjustFavouriteFiltersHeight);this.panelReady=new c.Deferred;g.bind(h.LAYOUT_RENDERED,d.bind(function(){this._splitViewSidebarElement=
c(".list-results-panel:first")},this))},adjustFavouriteFiltersHeight:function(){var a=this.$(".filter-panel-wrapper"),b=a.length&&a.offset().top;a.css("max-height",window.innerHeight-b)},_onDockFilterPanelClick:function(){c(".navigator-container").removeClass("navigator-sidebar-collapsed")},_onUndockFilterPanelClick:function(){c(".navigator-container").addClass("navigator-sidebar-collapsed")},toggleDockState:function(){this.$el.popoutSidebar("toggle")},_onClickFilter:function(a){a.preventDefault();
a=c(a.target).data("id");this.trigger("filterSelected",a)},_onClickNewSearch:function(a){a.preventDefault();this.trigger("filterSelected",null)},render:function(){this.model.isDocked()?(c(".navigator-container").removeClass("navigator-sidebar-collapsed"),this._renderOpen()):(c(".navigator-container").addClass("navigator-sidebar-collapsed"),this._renderCollapsed());this.$el.popoutSidebar({isDocked:this.model.isDocked(),expandedWidth:this.model.getWidth(),renderExpanded:d.bind(this._renderOpen,this),
renderCollapsed:d.bind(this._renderCollapsed,this),undockText:"\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c",undockAnnouncementText:"\u041f\u0430\u043d\u0435\u043b\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u043e\u0442\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0430",undockTitle:e.initialised.then(()=>AJS.format("\u041e\u0442\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 - \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u0440\u044b\u0432\u0430\u0442\u044c\u0441\u044f, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0430 (\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0027\u0027{0}\u0027\u0027)",e.getKeyboardShortcutKeys("toggle.filter.panel"))),dockText:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c",dockAnnouncementText:"\u041f\u0430\u043d\u0435\u043b\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0430",dockTitle:e.initialised.then(()=>AJS.format("\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 - \u0412\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432 (\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0027\u0027{0}\u0027\u0027)",
e.getKeyboardShortcutKeys("toggle.filter.panel"))),toggleTarget:".filter-title:first",persist:d.bind(function(a,b){this.model.setDocked(a);this.model.setWidth(b)},this),resize:d.bind(function(){this._splitViewSidebarElement&&this._splitViewSidebarElement.data("ui-sidebar")&&this._splitViewSidebarElement.sidebar("updatePosition")},this)});this.model.shouldShowDockIntro()&&this.$el.popoutSidebar("collapse",!1);this._fireDockAnalytics();this.panelReady.resolve();return this.$el},_fireDockAnalytics:function(){if(localStorage.getItem("dockStatesAnalyticsEnabled")){var a=
this.model.isDocked();localStorage.getItem("dockStateAnalytic")!==""+a&&(localStorage.setItem("dockStateAnalytic",a),l.execute("analytics:trigger","kickass.filters.docked",{isDocked:this.model.isDocked()}))}},_renderCollapsed:function(){var a=c(".jira-feedback-link-container.subtle-style").detach().addClass("left noborder");this.$el.addClass("collapsed").html(this.collapsedTemplate({isDocked:this.model.isDocked()}));this.trigger("renderCollapsed");f.triggerHorizontalResize();a.appendTo("body");return this},
_renderOpen:function(){var a=c(".jira-feedback-link-container.subtle-style").detach().removeClass("left noborder");this.$el.removeClass("collapsed");this.$el.css({width:this.model.getWidth()});this.$el.html(this.template({}));this.trigger("renderOpen");a.appendTo(this.$el);g.trigger(h.NEW_CONTENT_ADDED,[this.$el,m.filterPanelOpened]);f.triggerHorizontalResize();return this},_renderSelectedFilter:function(){}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/Browser.js' */
define("jira/issues/search/filters/browse",[],function(){return{getWindowWidth:function(){return window.innerWidth}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterPanelModel.js' */
define("jira/issues/search/filters/filter-panel-model",["require"],function(b){var d=b("jira/issues/basemodel"),c=b("jira/components/libs/underscore");return d.extend({properties:["activeFilter"],defaults:{activeFilter:null},initialize:function(a,b){c.extend(this,c.defaults(b,{storage:window.localStorage}))},setDocked:function(a){this._getStorage().setItem("dockStatesAnalyticsEnabled",!0);return this._getStorage().setItem("issues.sidebar.docked",a)},setWidth:function(a){return this._getStorage().setItem("issues.sidebar.width",
a)},getWidth:function(){var a=parseInt(this._getStorage().getItem("issues.sidebar.width"),10);return 0<a?a:200},_getStorage:function(){return this.storage||window.localStorage},isDockedPrefGiven:function(){return null!==this._getStorage().getItem("issues.sidebar.docked")},shouldShowDockIntro:function(){return!this.isDocked()&&!this.isDockedPrefGiven()},isExpanded:function(){return this.shouldShowDockIntro()?!1:this.isDocked()},isDocked:function(){var a=this._getStorage();return null==a.getItem("issues.sidebar.docked")||
"true"===a.getItem("issues.sidebar.docked")}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/FilterModule.js' */
define("jira/issues/search/filters/filter-module",["require"],function(b){var e=b("jira/issues/baseevented"),f=b("jira/issues/application"),g=b("jira/issues/components/filters"),h=b("jira/issues/search/filters/filter-panel-model"),k=b("jira/issues/search/filters/filter-panel-view"),d=b("internal/util/navigator");const l=b("jira/util/logger");return e.extend({initialize:function(a){this._searchPageModule=a.searchPageModule;this.hasErrorInSearchOccurred=!1;this.filterPanelModel=a.filterPanelModel||
new h({},{searchPageModule:a.searchPageModule});this.filtersComponent=new g({systemFilters:a.systemFilters,searchPageModule:this._searchPageModule});this.filtersComponent.on("newFilter",function(a){this._searchPageModule.filterModuleSaved(a);f.request("issueEditor:canDismissComment")&&this._searchPageModule.setSessionSearch(a)},this);this.filtersComponent.on("filterRemoved",function(a){this.trigger("filterRemoved",a)},this);this.filtersComponent.on("filterUnfavourited",function(a){this.trigger("filterUnfavourited",
a)},this);this.filtersComponent.on("filterSelected",this._onFilterSelected,this);this.filtersComponent.on("filterDiscarded",function(){this._searchPageModule.discardFilterChanges()},this);this.filtersComponent.on("savedFilter",function(a){this._searchPageModule.setSessionSearch(a);this.filtersComponent.highlightFilter(a)},this);this.filtersComponent.on("list:render",function(){var a=this._searchPageModule.getFilter();a&&(a=this.filtersComponent.getFilterByIdFromExistingCollections(a.id),this.filterPanelModel.set("activeFilter",
a))},this);this._searchPageModule.on("change changeFilterProps",function(){this.onChangeFilterProps()},this);this.filtersComponent.fetchFavouriteFilters();this.filterPanelModel.bind("change:activeFilter",this._markFilterAsActive,this);this.filterPanelModel.set("activeFilter",this._searchPageModule.getFilter());this._searchPageModule.bind("change:filter",function(a,c){this.filterPanelModel.set("activeFilter",c)},this)},onChangeFilterProps:function(){this.hasErrorInSearchOccurred=!1;this.filtersComponent.updateFilterHeader({model:this._searchPageModule.getFilter(),
isDirty:!1,isEdited:this._searchPageModule.isDirty()})},canEditColumns:function(){var a=this._searchPageModule.getFilter();return a&&a.isEditable()},initSystemFilters:function(){return this.filtersComponent.fetchSystemFilters()},getFilterById:function(a){return this.filtersComponent.getFilterById(a)},createView:function(a){this.filterPanelView=new k({el:a.$filterPanelEl,model:this.filterPanelModel,searchPageModule:this._searchPageModule,easeOff:d.isIE()&&8>=d.majorVersion()?500:0});this.filterPanelView.on("renderOpen",
function(){this.filtersComponent.showSystemFilters(this.filterPanelView.$el.find(".filter-panel-system-container"));this.filtersComponent.showFavouriteFilters(this.filterPanelView.$el.find(".filter-panel-favourites-container"));this._markFilterAsActive();this.filterPanelView.adjustFavouriteFiltersHeight()},this);this.filterPanelView.on("filterSelected",this._onFilterSelected,this);this.filterPanelView.render();l.trace("jira.filter.panel.initialized");return this.filterPanelView},_markFilterAsActive:function(){var a=
this.filterPanelModel.get("activeFilter");this.filtersComponent.highlightFilter(a)},toggleFilterPanel:function(){this.filterPanelView.toggleDockState()},createHelptipForFilterPanelDocking:function(a){var b,c=this.filterPanelView;this.filterPanelModel.shouldShowDockIntro()&&c.$el.is(":visible")&&(b=new AJS.HelpTip({id:"filters-dock-intro",title:"\u0412\u044b \u0437\u0430\u043c\u0435\u0442\u0438\u043b\u0438?",bodyHtml:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0412\u0430\u0448\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432.",anchor:".ui-dock",isSequence:!0,weight:a,
callbacks:{beforeShow:function(){c.$el.popoutSidebar("expand",!1)},init:function(){c.$el.popoutSidebar("isUndocked")&&c.$el.popoutSidebar("unbindHoverIntent")},hide:function(){c.$el.popoutSidebar("isUndocked")&&(c.$el.popoutSidebar("bindHoverIntent"),c.$el.popoutSidebar("collapse"))}}}));return b},_onFilterSelected:function(a){null===a?this._searchPageModule.resetToBlank({isNewSearch:!0}):this._searchPageModule.resetToFilter(a)},updateFilterHeader:function(a){a=a||{};this.filtersComponent.updateFilterHeader({isEdited:a.isEdited||
!1,isDirty:a.isPendingSearch||this.hasErrorInSearchOccurred})},markFilterModuleAsInvalid:function(){this.hasErrorInSearchOccurred=!0;this.filtersComponent.markFilterHeaderAsInvalid()},markFilterModuleInSearch:function(a){this.filtersComponent.markFilterHeaderInSearch(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-filter', location = 'content/js/search/filters/namespace.js' */
AJS.namespace("JIRA.Issues.FilterModule",null,require("jira/issues/search/filters/filter-module"));AJS.namespace("JIRA.Issues.Browser",null,require("jira/issues/search/filters/browse"));AJS.namespace("JIRA.Issues.FilterPanelModel",null,require("jira/issues/search/filters/filter-panel-model"));AJS.namespace("JIRA.Issues.FilterPanelView",null,require("jira/issues/search/filters/filter-panel-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:trace', location = 'util/trace.js' */
define("jira/components/utils/trace",function(){return function(){return window.JIRA.trace.apply(window.JIRA,arguments)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jquery-selection', location = '/includes/jquery/plugins/selection/jquery.selection.js' */
require(["jquery"],(function(t){if(document.selection){var e=function(t){return t.replace(/\u000D/g,"")};t.fn.selection=function(t){var e=this[0];this.focus();if(!e)return!1;if(null==t)return document.selection.createRange().text;var n=e.scrollTop,s=document.selection.createRange();s.text=t;s.select();e.focus();e.scrollTop=n};t.fn.selectionRange=function(t,n){var s=this[0];this.focus();var r=document.selection.createRange();if(null==t){var i=this.val(),o=i.length,l=r.duplicate();l.moveToElementText(s);l.setEndPoint("StartToEnd",r);var c=o-e(l.text).length;l.setEndPoint("StartToStart",r);var a=o-e(l.text).length;c!=a&&"\n"==i.charAt(c+1)&&(c+=1);return{end:c,start:a,text:i.substring(a,c),textBefore:i.substring(0,a),textAfter:i.substring(c)}}r.moveToElementText(s);r.collapse(!0);r.moveStart("character",t);r.moveEnd("character",n-t);r.select()}}else{t.fn.selection=function(t){var e=this[0];if(!e)return!1;if(null==t)return!!e.setSelectionRange&&e.value.substring(e.selectionStart,e.selectionEnd);var n=e.scrollTop;if(e.setSelectionRange){var s=e.selectionStart;e.value=e.value.substring(0,s)+t+e.value.substring(e.selectionEnd);e.selectionStart=s;e.selectionEnd=s+t.length}e.focus();e.scrollTop=n};t.fn.selectionRange=function(t,e){if(null==t){var n={start:this[0].selectionStart,end:this[0].selectionEnd},s=this.val();n.text=s.substring(n.start,n.end);n.textBefore=s.substring(0,n.start);n.textAfter=s.substring(n.end);return n}this[0].selectionStart=t;this[0].selectionEnd=e}}t.fn.wrapSelection=function(t,e){this.selection(t+this.selection()+(e||""))}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/JQLAutoComplete.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("jira/jql/jql-grammar",(function(){"use strict";var e={jql_order_by:[{value:"ORDER BY",displayName:"ORDER BY"}],jql_operators:[{value:"=",displayName:"="},{value:"!=",displayName:"!="},{value:"~",displayName:"~"},{value:"<=",displayName:"&lt;="},{value:">=",displayName:"&gt;="},{value:">",displayName:"&gt;"},{value:"<",displayName:"&lt;"},{value:"!~",displayName:"!~"},{value:"is not",displayName:"is not"},{value:"is",displayName:"is"},{value:"not in",displayName:"not in"},{value:"in",displayName:"in"},{value:"was",displayName:"was"},{value:"was not",displayName:"was not"},{value:"was in",displayName:"was in"},{value:"was not in",displayName:"was not in"},{value:"changed",displayName:"changed"}],jql_logical_operators:[{value:"AND",displayName:"AND"},{value:"OR",displayName:"OR"}]};e.jql_logical_operators_and_order_by=e.jql_logical_operators.concat(e.jql_order_by);e.jql_order_by_direction=[{value:"ASC",displayName:"ASC"},{value:"DESC",displayName:"DESC"}];e.empty_operand=[{value:"EMPTY",displayName:"EMPTY",types:["java.lang.Object"]}];e.jql_not_logical_operator=[{value:"NOT",displayName:"NOT"}];e.jql_was_predicates=[{value:"AFTER",displayName:"AFTER",type:"java.util.Date",supportsList:"false"},{value:"BEFORE",displayName:"BEFORE",type:"java.util.Date",supportsList:"false"},{value:"BY",displayName:"BY",type:"com.atlassian.crowd.embedded.api.User",supportsList:"false",auto:"true"},{value:"DURING",displayName:"DURING",type:"java.util.Date",supportsList:"true"},{value:"ON",displayName:"ON",type:"java.util.Date",supportsList:"false"}];e.jql_changed_predicates=e.jql_was_predicates.concat([{value:"FROM",displayName:"FROM",type:"java.lang.String",supportsList:"true",auto:"true"},{value:"TO",displayName:"TO",type:"java.lang.String",supportsList:"true",auto:"true"}]);e.jql_was_predicates_and_order_by=e.jql_was_predicates.concat(e.jql_logical_operators_and_order_by);e.jql_was_predicates_and_logical_operators=e.jql_was_predicates.concat(e.jql_logical_operators);e.jql_changed_predicates_and_order_by=e.jql_changed_predicates.concat(e.jql_logical_operators_and_order_by);e.jql_changed_predicates_and_logical_operators=e.jql_changed_predicates.concat(e.jql_logical_operators);e.REGEXP_ANDS=/^AND\s/i;e.REGEXP_ORS=/^OR\s/i;e.REGEXP_NOTS=/^NOT\s/i;e.REGEXP_SNOT=/^\s+not/i;e.REGEXP_SIN=/^\s+in/i;e.REGEXP_SNOT_IN=/^\s+(not\s+in|not|in)/i;e.REGEXP_COMMA_DELIMITER=/^\s*,/;e.REGEXP_ASCENDING=/^\s+asc/i;e.REGEXP_DESCENDING=/^\s+desc/i;e.REGEXP_ORDER_BY=/^order\s+by/i;e.REGEXP_WHITESPACE=/^\s/;e.REGEXP_UNICODE=/^u[a-fA-F0-9]{4}/;e.REGEXP_FIELD_NAME=/^\s-\scf\[\d\d\d\d\d\]/;e.REGEXP_NEW_LINE=/[\r\n]/;e.REGEXP_NUMBER=/\d/;e.REGEXP_TOKEN_CHAR=/[^=!~<>(),\s&|\]]/;e.REGEXP_SPECIAL_CHAR=/[{}*\/%+$#@?;\][]/;e.REGEXP_SPACE_OR_ELSE=/[\s(]/;e.REGEXP_CHARS_TO_ESCAPE=/[^trn"'\\\s]/;e.REGEXP_NOTSTART=/^NO?$/i;e.REGEXP_INSTART=/^IN?$/i;e.REGEXP_PREDICATE=/^(after|before|by|during|from|on|to)/i;e.version_field_type="com.atlassian.jira.project.version.Version";e.jql_text_operator_names=["~","!~"];return e}));define("jira/autocomplete/jql-autocomplete",["jira/util/formatter","jira/autocomplete/autocomplete","jira/jql/jql-grammar","jira/jql/util","jira/jql/operator-util","jira/util/data/meta","jira/util/objects","jira/util/users/logged-in-user","jira/featureflags/feature-manager","jquery","underscore","jira/util/logger","wrm/context-path","jira/terminology-feature-service","jira/util/strings"],(function(e,t,r,s,a,n,i,l,o,d,u,g,c,h,p){"use strict";var O=c();return function(c){var f,m=i.begetObject(t),S=c.parser,L=d.grep(c.jqlFieldNames,(function(e){return e.searchable})),C=d.grep(c.jqlFieldNames,(function(e){return e.orderable})),y=c.jqlFunctionNames,N=d("#"+c.errorID),R=0,E=d("#jqlcolumnnum"),I=d("#jqlrownum"),v=c.autoCompleteUrl||O+"/rest/api/2/jql/autocompletedata/suggestions",_=c.suggestionsLimit||15,P=[],j=[];m.textToSuggestionCursorPosition=function(){return m.field.selectionRange().textBefore};m.pushSuggestionsOnHtmlStack=function(e,t,r,s,a){for(var n=Math.min(_,e.length),i=0;i<n;i++){var l,o;if(e[i].value){var d=e[i];l=f&&a?(f.getNeedsOpenParen()?"(":"")+d.value:d.value;o=d.displayName}else l=o=e[i];t.push(l);r.push('<li id="',s,i,'">',o,"</li>")}};m.setAutoSelectFirst=function(e){var t=m.getReplacementStartIndex(f,""),r=m.field.selectionRange().end,s=m.field.val().substring(t,r);m.autoSelectFirst=m.shouldSelectFirstValue(m.field.val(),f,s,e)};m.shouldSelectFirstValue=function(e,t,r,a){return m.isSmartAutoSelectFirstEnabled()?!(0===r.length&&t.getIsInSubmittableState()):!(0===r.length||a&&a.length>0&&s.equalsIgnoreCase(r,a[0][1]))};m.renderSuggestions=function(t,r,s,a){var i=[];if(t instanceof Array){if(t.length<1&&r&&r.length<1&&s&&s.length<1)return i;var l=["<ul>"];s&&s.length>0&&m.pushSuggestionsOnHtmlStack(s,i,l,"jql_operator_suggest_",!1);m.pushSuggestionsOnHtmlStack(t,i,l,"jql_value_suggest_",!0);r&&r.length>0&&m.pushSuggestionsOnHtmlStack(r,i,l,"jql_function_suggest_",!1);l.push("</ul>");var o=d('<span class="esc-prompt">').text("\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u00abEsc\u00bb \u0434\u043b\u044f \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"),u=d('<a class="syntax-help" target="_jiraHelp"></a>').attr("title",n.get("advanced-search-help-title")).attr("href",n.get("advanced-search-help-url")).text("\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430").append(o),c=d('<div class="syntax-help-container">').append(u);m.responseContainer.html(l.join("")).append(c).find("li").each((function(e){i[e]=[d(this),i[e]]}));var h=d(".autocomplete-assistive");h.text()?h.text(e.format("\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432: {0}. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438 \u0432\u0432\u0435\u0440\u0445 \u0438 \u0432\u043d\u0438\u0437 \u0434\u043b\u044f \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438.",i.length)):h.text(e.format("\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432: {0}. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438 \u0432\u0432\u0435\u0440\u0445 \u0438 \u0432\u043d\u0438\u0437 \u0434\u043b\u044f \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u043f\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c \u0438 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 Enter \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430. \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 Enter, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c",i.length));a&&a.length&&m.renderTerminologyHint(a);m.setAutoSelectFirst(i);m.addSuggestionControls(i);g.trace("jira.jql.suggestions.done")}return i};m.getMatchingTerminologyTerms=function(e){if(!h.isTerminologyActiveForUser())return null;var t=h.getTerminologyEntries(),r=Math.min(_,e.length),a=e.slice(0,r);return t.filter((function(e){return a.find((function(t){return m.startsWithIgnoreCase(e.newName,s.removeBolding(t.displayName))}))}))};m.renderTerminologyHint=function(e){var t=void 0;if(e.length>1){var r=p.toSentenceCase(u.findWhere(e,{originalName:"sprint"}).newNamePlural),s=p.toSentenceCase(u.findWhere(e,{originalName:"epic"}).newNamePlural);t=JIRA.Templates.JQLAutoComplete.terminologyHintMultiple({sprintNewName:r,epicNewName:s})}else{var a=e[0];t=JIRA.Templates.JQLAutoComplete.terminologyHintSingle({originalNamePlural:p.toSentenceCase(a.originalNamePlural),newNamePlural:a.newNamePlural})}m.responseContainer.prepend(t)};m.needsSpaceInCompletion=function(){return!(f.isInsideList()||f.getNeedsOpenParen()||f.getNeedsOrderByDirection())};m.completeField=function(e){var t,r=m.getReplacementStartIndex(f,e),s=m.getReplacementEndIndex(f,r);t=m.needsSpaceInCompletion()?e+" ":e;m.replaceValue(r,s,t);var a=S.parse(m.field.val());m.updateParseIndicator(a)};m._afterCompleteField=function(e){t._afterCompleteField.call(this);m.needsSpaceInCompletion()&&m.dispatcher(m.field.val());return e};m.prepareOperandSuggestions=function(e,t,r,n,i){if(e){var l=R,o=null==i?null===f.getLastOperand()?"":s.stripEscapeCharacters(f.getLastOperand()):i,d=t+":"+o,u={fieldName:s.stripEscapeCharacters(t)};null===f.getLastOperand()&&null===i||(u.fieldValue=o);var g=a.isWasOperator(f.getLastOperator()),c="issuetype"===t||"type"===t;if(m.getSavedResponse(d))m.renderSuggestionsForOperands(o,m.getSavedResponse(d),r,n,l,c);else{m.dropdownController.dropdown.removeClass("dropdown-ready");m.delay((function(){m._makeRequest({url:v,dataType:"json",data:u,success:function(e){var t;t=null!==e&&null!==e.results?e.results:[];if(g){var s=u.fieldValue;t=m.appendEmpty(s,t)}m.saveResponse(d,t);m.renderSuggestionsForOperands(o,t,r,n,l,c)},error:function(){m.renderSuggestionsForOperands(o,[],r,n,l)}})}),m.queryDelay)}}else m.renderSuggestionsForOperands(s.stripEscapeCharacters(f.getLastOperand()),[],r,n,R)};m.preparePredicateSuggestions=function(e,t){void 0===t&&(t=null);var r=m.slimListForPredicates(t,y,e);m.boldMatchingString(t,r);var a=null==t?null===f.getLastOperand()?"":s.stripEscapeCharacters(f.getLastOperand()):t,n=e+":"+a,i={predicateName:s.stripEscapeCharacters(e)};null===f.getLastOperand()&&null===t||(i.predicateValue=a);if(null!==f.getLastFieldName()){i.fieldName=f.getLastFieldName();n=f.getLastFieldName()+":"+n}if(m.predicateSupportsAutoComplete(e))if(m.getSavedResponse(n))m.renderSuggestions(m.getSavedResponse(n),r);else{m.dropdownController.dropdown.removeClass("dropdown-ready");m.delay((function(){m._makeRequest({url:v,dataType:"json",data:i,success:function(e){var t;t=null!==e&&null!==e.results?e.results:[];var s=i.predicateValue;t=m.appendEmpty(s,t);m.saveResponse(n,t);m.renderSuggestions(t,r)},error:function(){m.renderSuggestionsForOperands(a,[])}})}),m.queryDelay)}else m.renderSuggestions([],r)};m.incompleteOperator=function(){var e=f.getTokens();return null===e||e.length<2?"":(e=m.textToSuggestionCursorPosition().split(" ")).length>2?e[e.length-1]:""};m.incompletePredicateValue=function(){var e=f.getTokens();return null===e||e.length<3?"":(e=m.textToSuggestionCursorPosition().split(/[\s(,]+/)).length>3?e[e.length-1]:""};m.appendEmpty=function(e,t){var s=m.slimListForMapResults(e,r.empty_operand,!0);null!=e&&m.boldMatchingString(e,s);t.length<_?t=t.concat(s):t[_-1]=s[0];return t};m.dispatcher=function(e){var t,n,i,l=d(m.field).selectionRange(),o=e.substring(0,l.start),u=S.parse(o);f=u.getResult();R++;if(f.getNeedsField()){i=f.getLastFieldName()||!P.length?L:P;m.renderSuggestionsFromMap(s.stripEscapeCharacters(f.getLastFieldName()),i,r.jql_not_logical_operator,!0)}else if(f.getNeedsOperatorOrOperand()){n=a.isEmptyOnlyOperator(f.getLastOperator())?r.empty_operand:y;u.calcLastOperandStartIndex();var g=u.getParsedOperator(),c=m.getSuggestionsForOperators(g,r.jql_operators);if(c&&c.length>0){var h=m.incompleteOperator();m.prepareOperandSuggestions(!0,f.getLastFieldName(),n,c,h)}}else if(f.getNeedsOperator())m.renderSuggestionsForOperators(f.getLastOperator(),r.jql_operators);else if(f.getNeedsPredicateOperand()){var p=f.getLastWasPredicate();m.preparePredicateSuggestions(p,s.stripEscapeCharacters(f.getLastOperand()))}else if(f.getNeedsLogicalOperator())if(f.getNeedsWasPredicate())if(f.getNeedsOrderBy()){t=null===f.getLastOrderBy()?f.getLastWasPredicate():f.getLastOrderBy();"was"===f.getLastOperator()?m.renderSuggestionsFromMap(t,r.jql_was_predicates_and_order_by,!1):m.renderSuggestionsFromMap(t,r.jql_changed_predicates_and_order_by,!1)}else"was"===f.getLastOperator()?m.renderSuggestionsFromMap(f.getLastWasPredicate(),r.jql_was_predicates_and_logical_operators,!1):m.renderSuggestionsFromMap(f.getLastWasPredicate(),r.jql_changed_predicates_and_logical_operators,!1);else if(f.getNeedsOrderBy()){t=null===f.getLastOrderBy()?f.getLastLogicalOperator():f.getLastOrderBy();m.renderSuggestionsFromMap(t,r.jql_logical_operators_and_order_by,!1)}else m.renderSuggestionsFromMap(f.getLastLogicalOperator(),r.jql_logical_operators,!1);else if(f.getNeedsOrderByField()){i=f.getLastOrderByFieldName()||!j.length?C:j;m.renderSuggestionsFromMap(s.stripEscapeCharacters(f.getLastOrderByFieldName()),i,!0)}else if(f.getNeedsOrderByDirection())m.renderSuggestionsFromMap(f.getLastOrderByDirection(),r.jql_order_by_direction,!1);else if(f.getNeedsOperand()){var O=f.getLastFieldName(),N=!1;if(!a.isEmptyOnlyOperator(f.getLastOperator()))for(var E=d.inArray(f.getLastOperator(),r.jql_text_operator_names)>-1,I=0;I<L.length;I++)if(s.equalsIgnoreCase(s.getUnquotedString(L[I].value),O)||L[I].cfid&&s.equalsIgnoreCase(L[I].cfid,O)){N=m.calculateAutocompleteFlag(E,L[I].types[0],L[I].auto);break}n=a.isEmptyOnlyOperator(f.getLastOperator())?r.empty_operand:y;m.prepareOperandSuggestions(N,O,n,{})}else f.getNeedsOrderBy()?m.renderSuggestionsFromMap(f.getLastOrderBy(),r.jql_logical_operators_and_order_by,!1):m.dropdownController.hideDropdown();m.parse(e)};m.calculateAutocompleteFlag=function(e,t,s){return(!e||void 0===t||t!==r.version_field_type)&&s};m.parse=function(e){var t=S.parse(e);m.updateParseIndicator(t);m.updateColumnLineCount();return t.getResult()};m.renderSuggestionsFromMap=function(e,t,r,s){r||(r={});var a=m.slimListForMapResults(e,t,s),n=m.slimListForMapResults(e,r,s),i=m.getMatchingTerminologyTerms(a);m.boldMatchingString(e,n);m.boldMatchingString(e,a);m.renderSuggestions(a,n,null,i);0===a.length&&0===n.length&&m.dropdownController.hideDropdown()};m.getSuggestionsForOperators=function(e,t){for(var r,a=m.slimListForMapResults(e,t,!1),n=f.getLastFieldName(),i=0;i<L.length;i++)if(s.equalsIgnoreCase(s.getUnquotedString(L[i].value),n)||L[i].cfid&&s.equalsIgnoreCase(L[i].cfid,n)){r=L[i].operators;break}r&&(a=d.grep(a,(function(e){return d.inArray(e.value,r)>-1})));m.boldMatchingString(e,a);return a};m.renderSuggestionsForOperators=function(e,t){var r=m.getSuggestionsForOperators(e,t);m.renderSuggestions(r);0===r.length&&m.dropdownController.hideDropdown()};m.renderSuggestionsForOperands=function(e,t,r,s,a,n){if(a===R){var i=m.slimListForFunctionResults(e,r,f.getLastOperator());m.boldMatchingString(e,i);var l=null;n&&(l=m.getMatchingTerminologyTerms(t));m.renderSuggestions(t,i,s,l);0===t.length&&0===i.length&&0===s.length&&m.dropdownController.hideDropdown()}};m.boldMatchingString=function(e,t){if(null!==e&&0!==t.length){for(var r=e.length,s=0,a=r;s<a;s++)switch(e.charAt(s)){case"<":case">":r+=3;break;case"&":r+=4;break;case'"':r+=5}for(var n=0;n<t.length;n++)if(t[n].displayName){var i=t[n].displayName;t[n]={value:t[n].value,displayName:"<b>"+i.substring(0,r)+"</b>"+i.substring(r)}}else t[n]={value:t[n],displayName:"<b>"+t[n].substring(0,r)+"</b>"+t[n].substring(r)}}};m.getReplacementStartIndex=function(e,t){var r,s=d(m.field);return null!=(r=e.getNeedsField()?e.getLastFieldNameStartIndex():e.getNeedsOperatorOrOperand()?e.getNeedsOperator()&&a.isWasOperator(t)?e.getLastOperatorStartIndex():e.getLastOperandStartIndex():e.getNeedsOperand()?e.getLastOperandStartIndex():e.getNeedsOperator()?e.getLastOperatorStartIndex():e.getNeedsOrderByField()?e.getLastOrderByFieldNameStartIndex():e.getNeedsOrderByDirection()?e.getLastOrderByDirectionStartIndex():e.getNeedsPredicateOperand()?e.getLastOperandStartIndex():e.getNeedsLogicalOperator()?null!==e.getLastLogicalOperatorStartIndex()&&0!==e.getLastLogicalOperatorStartIndex()?e.getLastLogicalOperatorStartIndex():null!==e.getLastOrderBy()&&0!==e.getLastOrderByStartIndex()?e.getLastOrderByStartIndex():null!=e.getLastWasPredicate()&&0!==e.getLastWasPredicateStartIndex()?e.getLastWasPredicateStartIndex():!0===e.getMustBeOperatorOrPredicate()?s.selectionRange().start:s.selectionRange().start-1:e.getNeedsWasPredicate()?e.getLastWasPredicateStartIndex():e.getNeedsOrderBy()?e.getLastOrderByStartIndex():s.selectionRange().start-1)?r:s.selectionRange().start};m.getReplacementEndIndex=function(e,t){var s=d(m.field).selectionRange(),a=null;if(s.start===s.end&&s.end!==m.field.val().length&&t<s.start){var n=e.getTokens().length-1,i=S.parse(m.field.val()).getResult().getTokens()[n];if(null!==i&&"("!==i&&")"!==i){for(var l=m.field.val(),o=l.substring(t,l.length).split(""),u=0,g=0;g<o.length&&r.REGEXP_WHITESPACE.test(o[g]);g++)u++;a=t+i.length+u}}null===a&&(a=s.end);if(a<t){m.replaceValue(t,a," ");a=t}return a};m.replaceValue=function(e,t,r){var s=d(m.field);s.selectionRange(e,t);d.browser.webkit?document.execCommand("insertText",!1,r):s.selection(r);var a=s.selectionRange().end;s.selectionRange(a,a)};m.slimListForMapResults=function(e,t,r){var a=s.htmlEscape(e),n=d.grep(t,(function(e){return s.startsWithIgnoreCaseNullsMeanAll(a,e.displayName)}));return r||1!==n.length||s.startsWithNotEqualsIgnoreCaseNullMeansAll(a,n[0].displayName)?n:{}};m.slimListForFunctionResults=function(e,t,n){for(var i,l=f.getLastFieldName(),o=0;o<L.length;o++)if(s.equalsIgnoreCase(s.getUnquotedString(L[o].value),l)||L[o].cfid&&s.equalsIgnoreCase(L[o].cfid,l)){i=L[o].types;break}var u=d.grep(t,(function(t){if(t.isList&&!a.isListSupportingOperator(n)||!t.isList&&a.isListSupportingOperator(n))return!1;if(!i)return!1;var l=d.inArray("java.lang.Object",t.types)>-1||d.inArray("java.lang.Object",i)>-1;if(d.inArray(n,r.jql_text_operator_names)>-1&&d.inArray(r.version_field_type,i)>-1)return l;for(var o=0;o<i.length&&!l;o++)l=-1!==d.inArray(i[o],t.types);return!!l&&(s.startsWithIgnoreCaseNullsMeanAll(e,t.value)||s.startsWithIgnoreCaseNullsMeanAll(e,t.displayName))}));return 1!==u.length||s.startsWithNotEqualsIgnoreCaseNullMeansAll(e,u[0].displayName)?u:{}};m.slimListForPredicates=function(e,t,a){for(var n,i,l=0;l<r.jql_changed_predicates.length;l++)if(s.equalsIgnoreCase(s.getUnquotedString(r.jql_changed_predicates[l].value),a)){n=r.jql_changed_predicates[l].type;i=r.jql_changed_predicates[l].supportsList;break}var o=d.grep(t,(function(t){return(void 0===t.isList||!(t.isList&&i||!t.isList&&i))&&(!!(-1!==d.inArray(n,t.types))&&(s.startsWithIgnoreCaseNullsMeanAll(e,t.value)||s.startsWithIgnoreCaseNullsMeanAll(e,t.displayName)))}));return 1!==o.length||s.startsWithNotEqualsIgnoreCaseNullMeansAll(e,o[0].displayName)?o:{}};m.predicateSupportsAutoComplete=function(e){for(var t,a=0;a<r.jql_changed_predicates.length;a++)if(s.equalsIgnoreCase(s.getUnquotedString(r.jql_changed_predicates[a].value),e)){t=r.jql_changed_predicates[a].auto;break}return t};m.getSavedResponse=function(e){this.requested||(this.requested={});return this.requested[e]};m.saveResponse=function(e,t){if("string"==typeof e&&"object"===(void 0===t?"undefined":_typeof(t))){this.requested||(this.requested={});this.requested[e]=t}};m.startsWithIgnoreCase=function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()===t.substr(0,e.length).toLowerCase()};m.updateParseIndicator=function(t){var r=d(".autocomplete-assistive"),s="\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u0435\u0440\u0435\u043d\u00a0\u2014 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0443 Enter, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",a="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435\u0432\u0435\u0440\u0435\u043d\u00a0\u2014 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437",n=function(e){return r.text().includes(e)};if(t.getParseError()){N.attr("title",t.getResult().getParseErrorMsg()).removeClass("jqlgood").addClass("jqlerror");t.getResult().lastFieldName&&!n(a)&&r.append(a)}else{N.attr("title","").removeClass("jqlerror").addClass("jqlgood");t.getResult().lastFieldName&&!n(s)&&r.append(s)}};m.updateColumnLineCount=function(){var e=d(m.field),t=0;if(m.field[0]===document.activeElement){t=e.selectionRange().start}else t=m.field[0].value.length;for(var s=1,a=1,n=m.field.val(),i=0;i<t;i++)if(r.REGEXP_NEW_LINE.test(n.charAt(i))){s++;a=1}else a++;E.text(a);I.text(s)};m.isSuggestRecentFieldsEnabled=function(){return o.isFeatureEnabled("jira.jql.suggestrecentfields")};m.isSmartAutoSelectFirstEnabled=function(){return o.isFeatureEnabled("jira.jql.smartautoselectfirst")};m.init(c);if(m.isSuggestRecentFieldsEnabled()){var x=null,q=function(e){var t=e.value.sort();P=d.grep(L,(function(e){return u.contains(t,s.getUnquotedString(e.value))}));j=d.grep(C,(function(e){return u.contains(t,s.getUnquotedString(e.value))}))},W=function(){l.isAnonymous()||d.ajax({url:O+"/rest/api/2/user/properties/jqlValues?username="+l.username()}).done(q)};q(s.getRecentFields());x=setInterval(W,5e3);m.field.focus((function(){W();x||(x=setInterval(W,5e3))})).blur((function(){if(x){clearInterval(x);x=null}}))}return m}}));define("jira/jql/util",["jira/jql/jql-grammar","wrm/data"],(function(e,t){"use strict";var r={htmlEscape:function(e){if(null===e)return null;for(var t="",r=e.split(""),s=0;s<r.length;s++)"<"===r[s]?t+="&lt;":">"===r[s]?t+="&gt;":"&"===r[s]?t+="&amp;":'"'===r[s]?t+="&quot;":t+=r[s];return t},stripEscapeCharacters:function(t){if(null===t)return t;for(var r="",s=t.split(""),a=0;a<s.length&&("\\"!==s[a]||e.REGEXP_UNICODE.test(t.substring(a,t.length))||!(++a>=t.length));a++)r+=s[a];return r},equalsIgnoreCase:function(e,t){return null===e&&null===t||null!==e&&e.toLowerCase()===t.toLowerCase()},removeBolding:function(e){return e.replace(/<\/?b>/g,"")},startsWithIgnoreCaseNullsMeanAll:function(e,t){return null===t||null===e||!(t.length<e.length)&&e.toLowerCase()===t.substr(0,e.length).toLowerCase()},startsWithNotEqualsIgnoreCaseNullMeansAll:function(t,r){if(null===r||null===t)return!0;if(r.length<t.length)return!1;if(t.toLowerCase()===r.substr(0,t.length).toLowerCase()){var s=null;s=e.REGEXP_FIELD_NAME.test(r.substr(t.length,r.length))?r.substr(0,t.length):r;return t.toLowerCase()!==s.toLowerCase()}return!1},getRecentFields:function(){void 0===r.recentValues&&(r.recentValues=t.claim("jira.core:jqlautocomplete-data.jql.autocomplete.recentFields"));return r.recentValues},getUnquotedString:function(e){var t=null!=e&&e.length>=3&&"\\"!==e.charAt(e.length-2);null!=e&&'"'===e.charAt(0)?'"'===(e=e.substring(1,e.length)).charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1)):null!=e&&"'"===e.charAt(0)&&"'"===(e=e.substring(1,e.length)).charAt(e.length-1)&&t&&(e=e.substring(0,e.length-1));return e}};return r}));define("jira/jql/operator-util",(function(){"use strict";var e={isListSupportingOperator:function(e){return"in"===e||"not in"===e||"was not in"===e||"was in"===e},isEmptyOnlyOperator:function(e){return"is"===e||"is not"===e},isWasOperator:function(e){return"was"===e||"was in"===e||"was not in"===e||"was not"===e},isChangedOperator:function(e){return"changed"===e},isHistoryOperator:function(t){return e.isWasOperator(t)||e.isChangedOperator(t)}};return e}));define("jira/jql/jql-parser",["jira/jql/jql-grammar","jira/jql/jql-parse-token","jira/jql/operator-util","jira/jql/util","jquery"],(function(e,t,r,s,a){"use strict";return function(n){var i=n;return{parse:function(e){var r=t();r.init(e);this.jql(r);return r},orderByClause:function(t){var r=t.remainingString(),s=r.match(e.REGEXP_ORDER_BY);if(s){var a=r.substring(0,s[0].length);t.consumeCharacters(a.length);t.getResult().setLastOrderBy(a,t);if(t.isComplete()){t.getResult().resetLogicalOperators();t.setParseError()}else{r=t.remainingString();if(e.REGEXP_WHITESPACE.test(r)){this.chewWhitespace(t);this.orderByFields(t)}else{t.getResult().resetLogicalOperators();t.setParseError()}}}else{t.consumeCharacters(r.length);t.getResult().setLastOrderBy(r,t);t.setParseError()}},orderByFields:function(e){this.orderByField(e);this.chewWhitespace(e);if(e.isComplete())e.getResult().getNeedsOrderByField()||e.getResult().setLastOrderByDirection("",e);else{var t=e.remainingString();if(this.startsWithIgnoreCase(",",t)){e.consumeCharacter();this.orderByFields(e);this.chewWhitespace(e)}else{null!==(t=e.remainingString())&&e.consumeCharacters(t.length);e.getResult().setNeedsOrderByDirection();e.getResult().setLastOrderByDirection(t,e);e.setParseError()}}},orderByField:function(t){this.chewWhitespace(t);var r=this.fieldName(t);if(0!==r.length){t.getResult().setLastOrderByFieldName(r,t);var s=t.remainingString();if(t.isComplete()||e.REGEXP_COMMA_DELIMITER.test(s)){t.getResult().setNeedsOrderByField();this.chewWhitespace(t)}else if(e.REGEXP_ASCENDING.test(s)){this.chewWhitespace(t);t.consumeCharacters(3);t.getResult().setLastOrderByDirection("asc",t);t.getResult().setNeedsOrderByComma()}else if(e.REGEXP_DESCENDING.test(s)){this.chewWhitespace(t);t.consumeCharacters(4);t.getResult().setLastOrderByDirection("desc",t);t.getResult().setNeedsOrderByComma()}else t.getResult().setNeedsOrderByDirection()}else{t.getResult().setLastOrderByFieldName("",t);t.getResult().setNeedsOrderByField();t.setParseError()}},jql:function(e){this.orClause(e);var t=e.remainingString();this.startsWithIgnoreCase("ord",t)&&this.orderByClause(e);e.result.setInsideList(0!==e.inListParens)},orClause:function(t){for(;!t.isComplete()&&!this.startsWithIgnoreCase(")",t.remainingString());){this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("ord",r))break;if(t.getResult().getMustBeOperatorOrPredicate())t.getResult().resetLastPredicates();else{t.getResult().resetLogicalOperators();this.andClause(t)}if(!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){t.getResult().getNeedsWasPredicate()&&this.predicateClause(t);if(t.isComplete())return;r=t.remainingString();if(this.startsWithIgnoreCase("ord",r))break;if(null!==r&&(e.REGEXP_ORS.test(r)||this.startsWithIgnoreCase("|",r)||this.startsWithIgnoreCase("||",r))){if(this.startsWithIgnoreCase("||",r)){t.getResult().setLastLogicalOperator("||",t.getTokenStringIdx());t.consumeCharacters(2)}else if(e.REGEXP_ORS.test(r)){t.getResult().setLastLogicalOperator("OR",t.getTokenStringIdx());t.consumeCharacters(3)}else{t.getResult().setLastLogicalOperator("|",t.getTokenStringIdx());t.consumeCharacters(1)}t.getResult().resetTerminalClause();t.isComplete()&&t.setParseError();t.getResult().setNeedsField()}else if(!this.startsWithIgnoreCase(")",r)||!t.getInParens()){this.chewWhitespace(t);var s,a=null===r?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-r.length;if(null!=r){s=r.split(" ");t.getResult().setLastLogicalOperator(s[0],a);t.getResult().setLastWasPredicate(s[0],t);t.getResult().setNeedsLogicalOperator(t)}if(null===t.getResult().getLastWasOperator())t.setParseError();else{if(null===s)return;if(e.REGEXP_PREDICATE.test(s[0])){t.getResult().setLastLogicalOperator(null);t.getResult().resetNeedsPredicateOperand()}else{if(e.REGEXP_ANDS.test(r)){t.consumeCharacters(4);t.getResult().resetTerminalClause();t.getResult().setNeedsField()}(t.isComplete()||1===s.length)&&t.setParseError()}}}}}},andClause:function(t){this.chewWhitespace(t);this.notClause(t);if(!t.isComplete()&&null===t.getResult().getLastLogicalOperator()){this.chewWhitespace(t);var r=t.remainingString();if(null!==r&&(e.REGEXP_ANDS.test(r)||this.startsWithIgnoreCase("&",r)||this.startsWithIgnoreCase("&&",r))){if(this.startsWithIgnoreCase("&&",r)){t.getResult().setLastLogicalOperator("&&",t.getTokenStringIdx());t.consumeCharacters(2)}else if(this.startsWithIgnoreCase("&",r)){t.getResult().setLastLogicalOperator("&",t.getTokenStringIdx());t.consumeCharacters(1)}else{t.getResult().setLastLogicalOperator("AND",t.getTokenStringIdx());t.consumeCharacters(4)}t.getResult().resetTerminalClause();t.isComplete()&&t.setParseError();t.getResult().setNeedsField()}else{t.getResult().setNeedsLogicalOperator(t);t.isComplete()&&t.getResult().setLastLogicalOperator(null,t.getMaxTokenStringIdx())}}},notClause:function(t){this.chewWhitespace(t);if(t.isComplete()){this.terminalClause(t);t.setParseError()}else{this.chewWhitespace(t);var r=t.remainingString();if(null!==r&&(e.REGEXP_NOTS.test(r)||this.startsWithIgnoreCase("!",r))){t.getResult().needsField=!1;if(this.startsWithIgnoreCase("!",r)){t.getResult().setLastLogicalOperator("!",t.getTokenStringIdx());t.consumeCharacters(1)}else{t.getResult().setLastLogicalOperator("NOT",t.getTokenStringIdx());t.consumeCharacters(4)}t.getResult().resetTerminalClause();t.isComplete()&&t.setParseError();t.getResult().setNeedsField()}else this.terminalClause(t)}},predicateClause:function(e){this.chewWhitespace(e);if(e.isComplete())e.setParseError();else{var t=e.remainingString(),r=t.split(/[\s(]+/);if(null!==t){e.getResult().setMustBeOperatorOrPredicate(!1);if(this.startsWithLogicalOperator(t)){if(1===r.length){e.getResult().setLastWasPredicate(r[0],e);e.setParseError();return}return}e.getResult().resetNeedsPredicateOperand();e.consumeCharacters(r[0].length);e.getResult().setLastWasPredicate(r[0],e);if(1===r.length){e.setParseError();return}if(this.wasPredicateComplete(r[0])){e.getResult().setNeedsPredicateOperand();e.getResult().setLastOperand(null,e);this.predicateOperand(e)}else e.setParseError()}}},predicateOperand:function(e){this.chewWhitespace(e);var t=this.collectPredicateOperands(e);if(null==t||""==t){e.getResult().setLastOperandStartIndex(e.getTokenStringIdx());e.setParseError()}if(null!=e.remainingString()){e.getResult().resetNeedsPredicateOperand();e.getResult().resetLastPredicates();e.getResult().setMustBeOperatorOrPredicate(!0);e.getResult().setNeedsLogicalOperator(e);this.chewWhitespace(e)}},collectPredicateOperands:function(e){"DURING"===e.getResult().getLastWasPredicate()&&e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);0===t.length&&0===(t=this.functionOperand(e)).length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1);return s.getUnquotedString(t)},terminalClause:function(t){t.getResult().resetTerminalClause();this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("(",r)){t.getResult().addToken("(");t.setInParens();t.consumeCharacter();this.orClause(t);this.chewWhitespace(t);r=t.remainingString();if(this.startsWithIgnoreCase(")",r)){t.getResult().addToken(")");t.consumeCharacter();t.setOutOfParens();if(t.isComplete()){t.getResult().resetLogicalOperators();t.getResult().resetLastPredicates()}}else t.setParseError()}else{this.field(t);if(t.isComplete()){t.getResult().setNeedsField();t.setParseError();return}this.oper(t);if(t.isComplete()){if("was"===t.getResult().getLastOperator()||"was not"===t.getResult().getLastOperator())t.getResult().setNeedsOperandOrOperator();else{if("changed"===t.getResult().getLastWasOperator()){var s=t.currentCharacter();if(null!==s&&e.REGEXP_SPACE_OR_ELSE.test(s))t.getResult().setNeedsLogicalOperator(t);else{t.getResult().resetLogicalOperators();t.getResult().setNeedsOrderBy(!1)}return}t.getResult().setNeedsOperator()}t.setParseError()}else{if("changed"===t.getResult().getLastWasOperator()){t.getResult().setNeedsLogicalOperator(t);return}this.operand(t);if(t.getResult().getOperandComplete()){var a=t.getResult().getLastWasOperator();t.getResult().setNeedsNothing();a&&t.getResult().setLastWasOperator(a)}else t.isComplete()&&!t.getResult().getNeedsListComma()&&t.getResult().setNeedsOperand()}}},field:function(e){var t=this.fieldName(e);if(0!==t.length)e.getResult().setLastFieldName(t,e);else if(null===e.getResult().getLastFieldName()){var r=e.remainingString();e.getResult().setNeedsField();e.getResult().setLastFieldName(r,e);e.setParseError()}},fieldName:function(e){this.chewWhitespace(e);var t=e.remainingString();if(this.startsWithIgnoreCase("cf",t)){var r=e.getTokenStringIdx(),s=e.remainingString();e.consumeCharacters(2);this.chewWhitespace(e);t=e.remainingString();if(this.startsWithIgnoreCase("[",t)){e.consumeCharacter();t=e.remainingString();if(0!==this.numberValue(e).length){this.chewWhitespace(e);t=e.remainingString();if(this.startsWithIgnoreCase("]",t)){e.consumeCharacter();return s.substring(0,e.getTokenStringIdx()-r)}}}e.setParseError();return s}return this.startsWithIgnoreCase("issue.property",t)?this.entityPropertyName("issue.property",e):this.fieldOrFunctionName(e)},entityPropertyName:function(e,t){t.consumeCharacters(e.length);this.chewWhitespace(t);var r=t.remainingString();if(this.startsWithIgnoreCase("[",r)){t.consumeCharacter();for(var s=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());){t.consumeCharacter();s[s.length]=this.stringValue(t)}if(0!==s.length&&0!==s[0].length&&!this.startsWithIgnoreCase(".",s[0])){this.chewWhitespace(t);r=t.remainingString();if(this.startsWithIgnoreCase("]",r)){t.consumeCharacter();for(var a=[this.stringValue(t)];!t.parseError&&this.startsWithIgnoreCase(".",t.remainingString());){t.consumeCharacter();a[a.length]=this.stringValue(t)}return e+"["+s.join(".")+"]"+a.join(".")}}}t.setParseError();return""},oper:function(t){this.chewWhitespace(t);var s=t.remainingString(),a=this.getLongestOperatorMatch(s,e.jql_operators);if(null!==a){t.getResult().setLastOperator(a,t.getTokenStringIdx());(r.isWasOperator(a)||r.isChangedOperator(a))&&t.getResult().setLastWasOperator(a);t.consumeCharacters(a.length);if("in"===a||"is"===a||"is not"===a||"not in"===a||"was"===a||"was not"===a||"was in"===a||"was not in"===a){var n=t.currentCharacter();null===n||e.REGEXP_SPACE_OR_ELSE.test(n)||t.setParseError()}if("was"===a){t.getResult().setNeedsOperandOrOperator();this.chewWhitespace(t);null!=(s=t.remainingString())&&(e.REGEXP_NOTSTART.test(s)||e.REGEXP_INSTART.test(s))&&t.setParseError()}else if("was not"===a){t.getResult().setNeedsOperandOrOperator();this.chewWhitespace(t);null!=(s=t.remainingString())&&e.REGEXP_INSTART.test(s)&&t.setParseError()}else"changed"===a?t.getResult().setNeedsLogicalOperator(t):t.getResult().setNeedsOperand()}else if(null===t.getResult().getLastOperator()){var i=null===s?t.getMaxTokenStringIdx():t.getMaxTokenStringIdx()-s.length;t.getResult().setLastOperator(s,i);t.getResult().setNeedsOperator();t.setParseError()}},operand:function(e){this.chewWhitespace(e);"in"!==e.getResult().getLastOperator()&&"not in"!==e.getResult().getLastOperator()&&"was not in"!==e.getResult().getLastOperator()&&"was in"!==e.getResult().getLastOperator()||e.getResult().setNeedsOpenParen(!0);var t=this.listOperand(e,!0);if(0===t.length){t=this.functionOperand(e);0===t.length?t=this.singleValueOperand(e):e.getResult().setNeedsOpenParen(!1)}else e.getResult().setNeedsOpenParen(!1);if(null===t||0===t.length){var r=e.remainingString();e.getResult().setLastOperand(r,e);e.getResult().setNeedsOperand();e.setParseError()}return 0!==t.length?t:""},singleValueOperand:function(e){var t=this.stringValue(e);if(0!==t.length){e.getResult().setLastOperand(t,e);"empty"!==t.toLowerCase()&&"null"!==t.toLowerCase()&&this.isReservedWord(t.toLowerCase())&&e.setParseError();return t}return""},functionOperand:function(e){var t=e.getTokenStringIdx(),r=this.fieldOrFunctionName(e);this.chewWhitespace(e);var s=this.listOperand(e,!1);if(0!==r.length&&0!==s.length){var a=r+s;e.getResult().setLastOperand(a,e);return a}e.backTrackToIdx(t);return""},listOperand:function(e,t){if("("===e.currentCharacter()){e.consumeCharacter();e.setInListParens();var r="("+this.collectListValues(e,t);this.chewWhitespace(e);if(")"===e.currentCharacter()){e.consumeCharacter();e.setOutOfListParens();"()"===(r+=")")&&t&&e.getResult().setLastOperand(r,e);if(t){e.getResult().setOperandComplete();e.getResult().resetNeedsPredicateOperand()}}else e.setParseError();return r}return""},collectListValues:function(e,t){t&&e.getResult().setNeedsOperand();this.chewWhitespace(e);var r=t?this.operand(e):this.stringValue(e);if(0!==r.length){this.chewWhitespace(e)&&t&&e.getResult().setNeedsListComma();if(","===e.currentCharacter()){e.consumeCharacter();var s=this.collectListValues(e,t);0===s.length&&e.setParseError();return r+", "+s}return r}return""},startsWithIgnoreCase:function(e,t){return!(null===t||null===e||t.length<e.length)&&e.toLowerCase()===t.substr(0,e.length).toLowerCase()},startsWithLogicalOperator:function(e){return null!==e&&(this.startsWithOr(e)||this.startsWithAnd(e)||this.startsWithNot(e)||this.startsWithBraces(e))},startsWithOr:function(e){return this.startsWithIgnoreCase("|",e)||this.startsWithIgnoreCase("||",e)||this.startsWithIgnoreCase("or",e)},startsWithAnd:function(e){return this.startsWithIgnoreCase("&",e)||this.startsWithIgnoreCase("&&",e)||this.startsWithIgnoreCase("and",e)},startsWithNot:function(e){return this.startsWithIgnoreCase("!",e)||this.startsWithIgnoreCase("not",e)},startsWithBraces:function(e){return this.startsWithIgnoreCase("(",e)||this.startsWithIgnoreCase(")",e)},chewWhitespace:function(t){for(var r=!1,s=t.currentCharacter();null!==s&&e.REGEXP_WHITESPACE.test(s);){t.consumeCharacter();s=t.currentCharacter();r=!0}return r},getLongestOperatorMatch:function(t,r){var s,a=null;this.startsWithIgnoreCase("is",t)&&(a=(s=t.substring(2).match(e.REGEXP_SNOT))?t.substring(0,s[0].length+2):"is");if(this.startsWithIgnoreCase("was",t))a=(s=t.substring(3).match(e.REGEXP_SNOT_IN))?t.substring(0,s[0].length+3):"was";else if(this.startsWithIgnoreCase("not",t)){var n=t.substring(3).match(e.REGEXP_SIN);n&&(a=t.substring(0,n[0].length+3))}else for(var i=0;i<r.length;i++)this.startsWithIgnoreCase(r[i].value,t)&&(null===a||e.jql_operators[i].value.length>a)&&(a=e.jql_operators[i].value);return a},getValueMinusExtraWhitespace:function(t){if(null===t)return null;for(var r="",s=!0,a=t.split(""),n=0;n<a.length;n++){var i=a[n];if(e.REGEXP_WHITESPACE.test(i)){if(s){s=!1;r+=i}}else{s=!0;r+=i}}return r},fieldOrFunctionName:function(e){var t=this.stringValue(e);'""'!==t&&"''"!==t||e.setParseError();this.isReservedWord(t.toLowerCase())&&e.setParseError();return t},isReservedWord:function(e){return-1!==a.inArray(e,i)},stringValue:function(t){for(var r="",s=!1,a=!1,n=t.currentCharacter();null!==n&&(s||a||e.REGEXP_TOKEN_CHAR.test(n));){r+=n;t.consumeCharacter();if("\\"===n){if(null===(n=t.currentCharacter())){t.setParseError();break}if(e.REGEXP_CHARS_TO_ESCAPE.test(n)){var i=t.remainingString();if(!e.REGEXP_UNICODE.test(i)){t.setParseError();break}}r+=n;t.consumeCharacter()}else{if(e.REGEXP_SPECIAL_CHAR.test(n)&&!s&&!a){t.setParseError();break}'"'!==n||a?"'"!==n||s||(a=!a):s=!s}n=t.currentCharacter()}t.isComplete()&&(s||a)&&t.setParseError();return r},numberValue:function(t){var r="";this.chewWhitespace(t);for(var s=t.currentCharacter();null!==s&&e.REGEXP_NUMBER.test(s);){r+=s;t.consumeCharacter();s=t.currentCharacter()}return r},wasPredicateComplete:function(t){for(var r=!1,s=e.jql_changed_predicates.length,a=0;a<s;++a)if(t.toLowerCase()===e.jql_changed_predicates[a].value.toLowerCase()){r=!0;break}return r}}}}));define("jira/jql/jql-parse-result",["jira/jql/util"],(function(e){"use strict";return function(){var t=[],r=0;return{getTokens:function(){return t},addToken:function(e){t[r++]=e},setLastFieldName:function(s,a){this.fieldNameStartIndex=null===s?a.getMaxTokenStringIdx():a.getTokenStringIdx()-s.length;this.lastFieldName=e.getUnquotedString(s);t[r++]=s},getLastFieldName:function(){return this.lastFieldName},getLastFieldNameStartIndex:function(){return this.fieldNameStartIndex},setLastOrderByFieldName:function(s,a){this.orderByFieldNameStartIndex=null===s?a.getMaxTokenStringIdx():a.getTokenStringIdx()-s.length;this.lastOrderByFieldName=e.getUnquotedString(s);this.lastOrderByDirection=null;t[r++]=s},getLastOrderByFieldName:function(){return this.lastOrderByFieldName},getLastOrderByFieldNameStartIndex:function(){return this.orderByFieldNameStartIndex},setLastOrderByDirection:function(e,s){this.orderByDirectionStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length;this.lastOrderByDirection=e;t[r++]=e},getLastOrderByDirection:function(){return this.lastOrderByDirection},getLastOrderByDirectionStartIndex:function(){return this.orderByDirectionStartIndex},setNeedsField:function(){this.needsOperator=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsField=!0;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!1;this.needsWasPredicate=!1;this.lastWasOperator=null},getNeedsField:function(){return this.needsField},setNeedsOrderByField:function(){this.needsOperator=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsField=!1;this.needsOrderByField=!0;this.needsOrderByDirection=!1;this.lastOrderByDirection=null;this.needsListComma=!1},getNeedsOrderByField:function(){return this.needsOrderByField},setNeedsOrderByDirection:function(){this.needsOperator=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsField=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!0;this.needsListComma=!1},getNeedsOrderByDirection:function(){return this.needsOrderByDirection},setNeedsOrderByComma:function(){this.needsOperator=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsField=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!1},setNeedsListComma:function(){this.needsOperator=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsField=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!0},getNeedsListComma:function(){return this.needsListComma},setLastOperator:function(e,s){this.lastOperator=e;this.operatorStartIndex=s;t[r++]=e},setLastWasOperator:function(e){this.lastWasOperator=e},getLastWasOperator:function(){return this.lastWasOperator},getLastOperator:function(){return this.lastOperator},getLastOperatorStartIndex:function(){return this.operatorStartIndex},setLastOperand:function(s,a){this.operandStartIndex=null===s?a.getMaxTokenStringIdx():a.getTokenStringIdx()-s.length;this.lastOperand=e.getUnquotedString(s);t[r++]=s},getLastOperand:function(){return this.lastOperand},setNeedsOperand:function(){this.needsField=!1;this.needsOperator=!1;this.needsLogicalOperator=!1;this.needsOperand=!0;this.needsOrderBy=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!1},setNeedsOperandOrOperator:function(){this.needsField=!1;this.needsOperator=!0;this.needsLogicalOperator=!1;this.needsOperand=!0;this.needsOrderBy=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!1},getNeedsOperand:function(){return this.needsOperand},setNeedsPredicateOperand:function(){this.needsPredicateOperand=!0;this.needsLogicalOperator=!1;this.needsOrderBy=!1},resetNeedsPredicateOperand:function(){this.needsPredicateOperand=!1;this.needsOperand=!1},getNeedsPredicateOperand:function(){return this.needsPredicateOperand},getLastOperandStartIndex:function(){return this.operandStartIndex},setLastOperandStartIndex:function(e){this.operandStartIndex=e},setLastLogicalOperator:function(e,s){this.lastLogicalOperator=e;this.logicalOperatorStartIndex=s;t[r++]=e},setNeedsOperator:function(){this.needsField=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsOperator=!0;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!1},getNeedsOperatorOrOperand:function(){return this.needsOperator&&this.needsOperand},getNeedsOperator:function(){return this.needsOperator},getLastLogicalOperator:function(){return this.lastLogicalOperator},getLastLogicalOperatorStartIndex:function(){return this.logicalOperatorStartIndex},setNeedsLogicalOperator:function(e){this.needsLogicalOperator=!0;this.needsOperator=!1;this.needsOperand=!1;this.needsField=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsListComma=!1;this.needsOrderBy=!e.getInParens();null!=this.lastWasOperator&&(this.needsWasPredicate=!0)},setNeedsOpenParen:function(e){this.needsOpenParen=e},getNeedsOpenParen:function(){return this.needsOpenParen},getNeedsLogicalOperator:function(){return this.needsLogicalOperator},setNeedsOrderBy:function(e){this.needsOrderBy=e},getNeedsOrderBy:function(){return this.needsOrderBy},getNeedsWasPredicate:function(){return this.needsWasPredicate},setLastWasPredicate:function(e,s){this.wasPredicateStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length;this.lastWasPredicate=e;t[r++]=e},getLastWasPredicate:function(){return this.lastWasPredicate},resetLastPredicates:function(){this.lastLogicalOperator=null;this.lastWasPredicate=null;this.lastOperand=null;this.wasPredicateStartIndex=null;this.operandStartIndex=null},getLastWasPredicateStartIndex:function(){return this.wasPredicateStartIndex},setLastOrderBy:function(e,s){this.orderByStartIndex=null===e?s.getMaxTokenStringIdx():s.getTokenStringIdx()-e.length;this.lastOrderBy=e;t[r++]=e},getLastOrderBy:function(){return this.lastOrderBy},getLastOrderByStartIndex:function(){return this.orderByStartIndex},resetLogicalOperators:function(){this.lastLogicalOperator=null;this.logicalOperatorStartIndex=null;this.needsLogicalOperator=null},getUnquotedString:function(t){e.getUnquotedString(t)},setParseError:function(e){this.parseError=!0;this.parseErrorMsg=e},getParseError:function(){return this.parseError},getParseErrorMsg:function(){return this.parseErrorMsg},setNeedsNothing:function(){this.needsOperator=!1;this.needsOperand=!1;this.needsLogicalOperator=!1;this.needsOrderBy=!1;this.needsField=!1;this.needsOrderByField=!1;this.needsOrderByDirection=!1;this.needsOpenParen=!1;this.needsListComma=!1;this.needsWasPredicate=null;this.needsPredicateOperand=null;this.mustBeOperatorOrPredicate=null;this.lastWasOperator=null},setOperandComplete:function(){this.operandComplete=!0},getOperandComplete:function(){return this.operandComplete},setInsideList:function(e){this.insideList=e},isInsideList:function(){return this.insideList},setMustBeOperatorOrPredicate:function(e){this.mustBeOperatorOrPredicate=e},getMustBeOperatorOrPredicate:function(){return this.mustBeOperatorOrPredicate},getIsInSubmittableState:function(){return 0===t.length||1===t.length&&null===t[0]||this.getNeedsLogicalOperator()||this.getNeedsOrderBy()||this.getNeedsOrderByDirection()},resetTerminalClause:function(){this.lastFieldName=null;this.fieldNameStartIndex=null;this.needsField=null;this.lastOperator=null;this.operatorStartIndex=null;this.needsOperator=null;this.lastOperand=null;this.operandStartIndex=null;this.needsOperand=null;this.operandComplete=null;this.needsOpenParen=null;this.needsListComma=!1;this.mustBeOperatorOrPredicate=null},init:function(){this.lastFieldName=null;this.fieldNameStartIndex=null;this.needsField=null;this.lastOperator=null;this.operatorStartIndex=null;this.needsOperator=null;this.lastOperand=null;this.operandStartIndex=null;this.needsOperand=null;this.lastLogicalOperator=null;this.logicalOperatorStartIndex=null;this.lastOrderByFieldName=null;this.lastOrderByFieldNameStartIndex=null;this.lastOrderByDirection=null;this.lastOrderByDirectionStartIndex=null;this.orderByStartIndex=null;this.lastOrderBy=null;this.needsOrderBy=null;this.needsOrderByField=null;this.needsOrderByDirection=null;this.operandComplete=null;this.needsOpenParen=null;this.needsListComma=null;this.wasPredicateStartIndex=null;this.lastWasPredicate=null;this.needsWasPredicate=null;this.needsPredicateOperand=null;this.mustBeOperatorOrPredicate=null;this.lastWasOperator=null;this.insideList=null;this.setNeedsField()}}}}));define("jira/jql/jql-parse-token",["jira/jql/jql-parse-result"],(function(e){"use strict";return function(){return{init:function(t){this.tokenStringIdx=0;this.tokenString=t;this.parseError=!1;this.parseErrorMsg=null;this.result=e();this.result.init();this.inParens=0;this.inListParens=0},consumeCharacter:function(){this.tokenStringIdx++},consumeCharacters:function(e){this.tokenStringIdx=this.tokenStringIdx+e},backTrackToIdx:function(e){this.tokenStringIdx=e;this.parseError=!1;this.parseErrorMsg=null;this.result.parseError=!1;this.result.parseErrorMsg=null},getTokenStringIdx:function(){return this.tokenStringIdx},currentCharacter:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.charAt(this.tokenStringIdx)},remainingString:function(){return this.tokenStringIdx>=this.tokenString.length?null:this.tokenString.substr(this.tokenStringIdx,this.tokenString.length)},getMaxTokenStringIdx:function(){return this.tokenString.length},isComplete:function(){return!!this.parseError||this.tokenStringIdx>=this.tokenString.length},setInParens:function(){this.inParens++},setOutOfParens:function(){0!==this.inParens&&this.inParens--},getInParens:function(){return 0!==this.inParens},setInListParens:function(){this.inListParens++},setOutOfListParens:function(){this.inListParens>0&&this.inListParens--},getInListParens:function(){return this.inListParens>0},setParseError:function(){this.parseError=!0;var e=this.tokenStringIdx-9<0?0:this.tokenStringIdx-9,t=this.tokenString.substring(e,this.tokenStringIdx-1);this.result.setParseError("..."+t+"^"+this.tokenString.substring(this.tokenStringIdx,this.tokenString.length))},getParseError:function(){return this.parseError},calcLastOperandStartIndex:function(){var e=this.getResult(),t=e.getLastOperator();if(t.length>0){var r=t.length-t.replace(/\s+/g,"").length;e.setLastOperandStartIndex(e.getLastOperatorStartIndex()+t.length+r+1)}},getParsedOperator:function(){var e=this.getResult();return e.getLastOperator().length>0?this.tokenString.substr(e.getLastOperatorStartIndex()):null},getResult:function(){return this.result}}}}));AJS.namespace("jira.widget.autocomplete.JQL",null,require("jira/autocomplete/jql-autocomplete"));AJS.namespace("JIRA.JQLAutoComplete",null,require("jira/autocomplete/jql-autocomplete"));AJS.namespace("JIRA.JQLAutoComplete.MyParser",null,require("jira/jql/jql-parser"));AJS.namespace("JIRA.JQLAutoComplete.ParseResult",null,require("jira/jql/jql-parse-result"));AJS.namespace("JIRA.JQLAutoComplete.Token",null,require("jira/jql/jql-parse-token"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jqlautocomplete', location = '/includes/jira/autocomplete/JQLAutoComplete.soy' */
// This file was automatically generated from JQLAutoComplete.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.JQLAutoComplete.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.JQLAutoComplete == 'undefined') { JIRA.Templates.JQLAutoComplete = {}; }


JIRA.Templates.JQLAutoComplete.terminologyHintSingle = function(opt_data, opt_ignored) {
  return '<div class="syntax-help-container terminology-help-container"><p class="syntax-help"><span>' + soy.$$escapeHtml(AJS.format('{0} \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \xab{1}\xbb, \u043d\u043e \u0432 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0438\u0441\u043a\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f.',opt_data.originalNamePlural,opt_data.newNamePlural)) + '</span> <a class="aui-button aui-button-link" href="' + soy.$$escapeHtml("https:\/\/docs.atlassian.com\/jira\/jadm-docs-0914\/Configuring+terminology") + '">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435') + '</a></p></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.JQLAutoComplete.terminologyHintSingle.soyTemplateName = 'JIRA.Templates.JQLAutoComplete.terminologyHintSingle';
}


JIRA.Templates.JQLAutoComplete.terminologyHintMultiple = function(opt_data, opt_ignored) {
  return '<div class="syntax-help-container terminology-help-container"><p class="syntax-help"><span>' + soy.$$escapeHtml(AJS.format('\u0421\u043f\u0440\u0438\u043d\u0442\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \xab{0}\xbb, \u0430 \u044d\u043f\u0438\u043a\u0438\xa0\u2014 \xab{1}\xbb, \u043d\u043e \u0432 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0438\u0441\u043a\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f.',opt_data.sprintNewName,opt_data.epicNewName)) + '</span> <a class="aui-button aui-button-link" href="' + soy.$$escapeHtml("https:\/\/docs.atlassian.com\/jira\/jadm-docs-0914\/Configuring+terminology") + '">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435') + '</a></p></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.JQLAutoComplete.terminologyHintMultiple.soyTemplateName = 'JIRA.Templates.JQLAutoComplete.terminologyHintMultiple';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/util.soy' */
// This file was automatically generated from util.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Issues.ComponentUtil.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Issues == 'undefined') { JIRA.Templates.Issues = {}; }
if (typeof JIRA.Templates.Issues.ComponentUtil == 'undefined') { JIRA.Templates.Issues.ComponentUtil = {}; }


JIRA.Templates.Issues.ComponentUtil.throbber = function(opt_data, opt_ignored) {
  return '<div class="icon throbber"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.throbber.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.throbber';
}


JIRA.Templates.Issues.ComponentUtil.simpleLink = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.link.id) ? ' id="' + soy.$$escapeHtml(opt_data.link.id) + '"' : '') + 'href="' + ((opt_data.link.href) ? soy.$$escapeHtml(opt_data.link.href) : '#') + '"' + ((opt_data.link.styleClass || opt_data.additionalStyleClass) ? 'class="' + soy.$$escapeHtml(opt_data.link.styleClass) + ((opt_data.additionalStyleClass) ? ' ' + soy.$$escapeHtml(opt_data.additionalStyleClass) : '') + '"' : '') + ((opt_data.link.title) ? 'title="' + soy.$$escapeHtml(opt_data.link.title) + '"' : '') + '><span>' + soy.$$escapeHtml(opt_data.link.label) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.simpleLink.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.simpleLink';
}


JIRA.Templates.Issues.ComponentUtil.issueNotFound = function(opt_data, opt_ignored) {
  return '' + soy.$$filterNoAutoescape(AJS.format('issues.components.query.search.selected.issue.nonexistent.html',opt_data.issueAnchor));
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.issueNotFound.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.issueNotFound';
}


JIRA.Templates.Issues.ComponentUtil.issueAnchor = function(opt_data, opt_ignored) {
  return '<a class="issue-key" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '"> ' + soy.$$escapeHtml(opt_data.issueKey) + ' </a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.issueAnchor.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.issueAnchor';
}


JIRA.Templates.Issues.ComponentUtil.buildMessage = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.messages.length == 1) {
    output += soy.$$escapeHtml(opt_data.messages[0]);
  } else {
    output += '<ul>';
    var messageList52 = opt_data.messages;
    var messageListLen52 = messageList52.length;
    for (var messageIndex52 = 0; messageIndex52 < messageListLen52; messageIndex52++) {
      var messageData52 = messageList52[messageIndex52];
      output += '<li>' + soy.$$escapeHtml(messageData52) + '</li>';
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.buildMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.buildMessage';
}


JIRA.Templates.Issues.ComponentUtil.auiMessage = function(opt_data, opt_ignored) {
  return '' + ((opt_data.messages.length > 0) ? '<div class="aui-message ' + ((opt_data.typeClass) ? 'aui-message-' + soy.$$escapeHtml(opt_data.typeClass) : '') + '">' + JIRA.Templates.Issues.ComponentUtil.buildMessage(opt_data) + '</div>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.auiMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.auiMessage';
}


JIRA.Templates.Issues.ComponentUtil.errorMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'error', messages: opt_data.messages ? opt_data.messages : [opt_data.msg]});
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.errorMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.errorMessage';
}


JIRA.Templates.Issues.ComponentUtil.warningMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'warning', messages: opt_data.messages ? opt_data.messages : [opt_data.msg]});
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.warningMessage.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.warningMessage';
}


JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog = function(opt_data, opt_ignored) {
  return '<div class="aui-dialog-content"><div class="form-body"><h2 class="dialog-title">' + soy.$$escapeHtml('\u0421\u0435\u0441\u0441\u0438\u044f \u0417\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430') + '</h2>' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'warning', messages: ['\u041f\u043e\u0445\u043e\u0436\u0435 \u0432\u0430\u0448 \u0441\u0435\u0430\u043d\u0441 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0441\u044f, \u0438\u043b\u0438 \u0432\u044b \u0431\u044b\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u043e\u0442 Jira. \u0412\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u043d\u043e\u0432\u0430 \u0432\u043e\u0439\u0442\u0438 \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c.']}) + '</div><div class="buttons-container form-footer"><div class="buttons"><a accesskey="' + soy.$$escapeHtml('S') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0}, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u043e\u0440\u043c\u0443','S',opt_data.modifierKey)) + '" class="aui-button submit" href="' + soy.$$escapeHtml("") + '/login.jsp?os_destination=' + soy.$$escapeHtml(opt_data.redirect) + '">' + soy.$$escapeHtml('\u0412\u043e\u0439\u0442\u0438 \u0441\u043d\u043e\u0432\u0430') + '</a><a accesskey="' + soy.$$escapeHtml('`') + '" title="' + soy.$$escapeHtml(AJS.format('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 {1} + {0} \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b','`',opt_data.modifierKey)) + '" class="aui-button aui-button-link cancel">' + soy.$$escapeHtml('\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + '</a></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog.soyTemplateName = 'JIRA.Templates.Issues.ComponentUtil.anonymousErrorDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SingleSelectMixin.js' */
define("jira/components/query/mixin/singleselect",function(){return{namedAttributes:["collection"],selectById:function(a){this.setSelected(this.getCollection().get(a))},selectAt:function(a){this.setSelected(this.getCollection().at(a))},clearSelection:function(){this.setSelected()},next:function(){var a=this.getSelected(),b=this.getCollection();a?(a=(b.indexOf(a)+1)%b.length,this.setSelected(b.at(a))):0<b.length&&this.setSelected(b.first())},prev:function(){var a=this.getSelected(),b=this.getCollection();
a?(a=(b.indexOf(a)+b.length-1)%b.length,this.setSelected(b.at(a))):0<b.length&&this.setSelected(b.last())}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/query-basic.soy' */
// This file was automatically generated from query-basic.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavQueryBasic.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavQueryBasic == 'undefined') { JIRA.Templates.IssueNavQueryBasic = {}; }


JIRA.Templates.IssueNavQueryBasic.basicQueryView = function(opt_data, opt_ignored) {
  return '<div class="search-field-container">' + ((opt_data.hasOrderBy) ? '<div class="list-ordering-container"><div class="list-ordering"></div></div>' : '') + '<div class="search-criteria-container"><div class="search-criteria"><ul class="criteria-list"><li class="text-query hidden"><div class="text-query-container"><input class="search-entry text medium-field ajs-dirty-warning-exempt" aria-label="' + soy.$$escapeHtmlAttribute('\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u0435\u043a\u0441\u0442') + '" id="searcher-query" type="text" name="text" placeholder="' + soy.$$escapeHtmlAttribute('\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u0435\u043a\u0441\u0442') + '" /></div></li><li class="criteria-actions"></li>' + ((opt_data.hasSearchButton) ? '<li><button class="aui-button aui-button-primary search-button" type="button" title="' + soy.$$escapeHtmlAttribute('\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447') + '">' + soy.$$escapeHtml('\u041f\u043e\u0438\u0441\u043a') + '</button></li>' : '') + '</ul></div><div class="search-criteria-extended"><ul class="criteria-list"></ul></div></div></div><div class="search-options-container"><div class="mode-switcher"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.basicQueryView.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.basicQueryView';
}


JIRA.Templates.IssueNavQueryBasic.criteriaButton = function(opt_data, opt_ignored) {
  return '<button data-id="' + soy.$$escapeHtmlAttribute(opt_data.id) + '" class="criteria-selector aui-button aui-button-subtle jira-aui-dropdown2-trigger" aria-haspopup="true" aria-expanded="false"></button>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.criteriaButton.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.criteriaButton';
}


JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent = function(opt_data, opt_ignored) {
  return '<div class="criteria-wrap">' + ((opt_data.extended || ! opt_data.viewHtml) ? '<span class="fieldLabel">' + soy.$$escapeHtml(opt_data.name) + ':</span> ' : '') + ((opt_data.viewHtml) ? soy.$$filterNoAutoescape(opt_data.viewHtml) : soy.$$escapeHtml('\u0412\u0441\u0435')) + '</div>' + ((opt_data.extended) ? '<a href="#" role="button" class="remove-filter" title="' + soy.$$escapeHtmlAttribute(AJS.format('Remove filter for {0}',opt_data.name)) + '"><span class="aui-icon aui-icon-small aui-iconfont-remove"></span></a>' : '');
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.criteriaButtonContent';
}


JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent = function(opt_data, opt_ignored) {
  return '<form id="issue-filter" action="#" class="searchfilter aui top-label aui-popup-content"><div class="form-body"></div>' + ((opt_data.displayBackButton) ? '<a href="#" class="back">' + soy.$$escapeHtml('\u041d\u0430\u0437\u0430\u0434') + '</a>' : '') + ((opt_data.displayUpdateCancel) ? '<div class="buttons-container form-footer"><div class="buttons"><input type="submit" name="filter" class="aui-button filter" value="' + soy.$$escapeHtmlAttribute('\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c') + '" /><a href="#" class="aui-button aui-button-link cancel-update">' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c') + '</a></div></div>' : '') + '</form>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.lozengeDropdownContent';
}


JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit = function(opt_data, opt_ignored) {
  return '<div class="searcher-no-edit-content">' + JIRA.Templates.Issues.ComponentUtil.auiMessage({typeClass: 'info', messages: [AJS.format('\u0414\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e {0}, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c \u0432 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c.',opt_data.fieldName)]}) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.lozengeDropdownCannotEdit';
}


JIRA.Templates.IssueNavQueryBasic.clauseButtonView = function(opt_data, opt_ignored) {
  return '<button type="button" class="add-criteria aui-button ' + ((opt_data.isSubtle) ? 'aui-button-subtle' : '') + ' jira-aui-dropdown2-trigger" title="' + soy.$$escapeHtmlAttribute('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430') + '" aria-haspopup="true" aria-expanded="false">' + soy.$$escapeHtml('\u0411\u043e\u043b\u044c\u0448\u0435') + '</button>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.clauseButtonView.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.clauseButtonView';
}


JIRA.Templates.IssueNavQueryBasic.terminologyHint = function(opt_data, opt_ignored) {
  return '<div class="terminology-basic-search-hint hidden"><span></span><a href="' + soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri("https:\/\/docs.atlassian.com\/jira\/jadm-docs-0914\/Configuring+terminology")) + '">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435') + '</a></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryBasic.terminologyHint.soyTemplateName = 'JIRA.Templates.IssueNavQueryBasic.terminologyHint';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/TextQueryBuilder.js' */
define("jira/components/query/basic/textquerybuilder",["require"],function(b){var c=b("jquery");return{BACKSLASH_PATTERN:/\\/g,MULTIPLE_WHITESPACE_PATTERN:/\s+/g,QUOTE_PATTERN:/"/g,DOUBLE_BACKSLASH:"\\\\",buildJql:function(a){if(!a)return"";a=c.trim(""+a);a=a.replace(this.BACKSLASH_PATTERN,this.DOUBLE_BACKSLASH);a=a.replace(this.MULTIPLE_WHITESPACE_PATTERN," ");a=a.replace(this.QUOTE_PATTERN,'\\"');return this.createQueryClause(a)},createQueryClause:function(a){return'text ~ "'+a+'"'}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/BasicQueryModule.js' */
define("jira/components/query/basic/basicquerymodule",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/brace"),e=b("jira/components/query/basic/basicqueryview"),f=b("jira/components/query/basic/searchercollection");return d.Evented.extend({namedEvents:["jqlTooComplex","searchRequested","basicModeCriteriaCountWhenSearching","verticalResize","searchChanged"],initialize:function(a){this._queryStateModel=a.queryStateModel;this.searcherCollection=new f([],{fixedLozenges:a.primaryClauses,
queryStateModel:a.queryStateModel,initData:a.initialSearcherCollectionState});this.view=(new e({queryStateModel:a.queryStateModel,searcherCollection:this.searcherCollection})).onVerticalResize(this.triggerVerticalResize,this).onSearchRequested(this.triggerSearchRequested,this).onSearchChanged(this.triggerSearchChanged,this);this.searcherCollection.onSearchRequested(c.bind(function(a){this.triggerBasicModeCriteriaCountWhenSearching({count:this.searcherCollection.getAllSelectedCriteriaCount()});a=this._attachOrderByClause(a);
this.triggerSearchRequested(a)},this));this.searcherCollection.onJqlTooComplex(c.bind(function(a){this.triggerJqlTooComplex(a)},this))},hasErrors:function(){return this.searcherCollection.any(function(a){return a.hasErrorInEditHtml()})},clear:function(){this.searcherCollection.clear()},queryChanged:function(){this.searcherCollection.restoreFromQuery(this._queryStateModel.getJql())},queryReset:function(a){this.searcherCollection.setInteractive(!1);return this.searcherCollection.restoreFromQuery(a,
!0).always(c.bind(function(){this.searcherCollection.setInteractive(!0)},this))},searchersReady:function(){return this.searcherCollection.searchersReady()},createView:function(){return this.view},getSelectedCriteria:function(){return this.searcherCollection.getAllSelectedCriteria()},_attachOrderByClause:function(a){var b=/\bORDER\s+BY\b.*$/i,c=b.exec(this._queryStateModel.getJql());c&&null===b.exec(a)&&(a=a?a+" "+c[0]:c[0]);return a}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/CriteriaView.js' */
define("jira/components/query/basic/criteriaview",["require"],function(b){var f=b("jira/components/libs/underscore"),c=b("jquery"),k=b("jira/components/libs/brace"),g=b("jira/components/query/templates/issuenavquerybasic"),d=b("jira/components/query/basic/searcherdialog"),h=b("jira/util/assistive"),l=b("jira/components/utils/ajshelper");return k.View.extend({tagName:"li",template:g.criteriaButton,contentTemplate:g.criteriaButtonContent,events:{"click .criteria-selector":"_onClickCriteriaSelector",
"keydown .criteria-selector":h.handleSpaceEnter,"click .remove-filter":"_onClickRemoveCriteria","mousedown .remove-filter":"_preventFocusWhileDisabled",keydown:"_onKeydown"},initialize:function(a){this.extended=a.extended;this.searcherCollection=a.searcherCollection;this.searcherCollection.onCollectionChanged(this.update,this);this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged,this);this.searcherCollection.bind("change:isSelected",this._onCriteriaSelectionChanged,this);d.instance.onHide(this._addTooltip.bind(this));
d.instance.onHide(this._setAriaExpanded.bind(this,!1))},render:function(){this.$el.html(this.template({id:this.model.getId()}));this.$el.attr("data-id",this.model.getId());this.extended&&this.$el.addClass("extended-searcher");this.update();this.prepareForDisplay()},prepareForDisplay:function(){this._addTooltip();this.delegateEvents()},update:function(){var a=0===this.searcherCollection.length,e=this._getSearcher(),b=this._isValidSearcher(),c=!a&&!e||e&&!e.getIsShown();a=a||!b;var d=this.$(".aui-button"),
f=this.$(".remove-filter");this.$el.toggleClass("hidden",c);c=this._getTooltipText();d.attr({"aria-disabled":a?"true":null,"aria-label":c?c:null}).html(this.contentTemplate({name:e&&e.getName()||this.model.getName(),viewHtml:e&&e.getViewHtml(),extended:this.extended}));this.$el.toggleClass("invalid-searcher",!b).toggleClass("partial-invalid-searcher",b&&0!==d.find(".invalid_sel").length);f.toggleClass("hidden",!(!b||this.extended));return this},destroy:function(){this.$el.tooltip("destroy");this.$el.remove()},
_getSearcher:function(){return this.searcherCollection.get(this.model.getId())},_isValidSearcher:function(){var a=this._getSearcher();return!a||!1!==a.getValidSearcher()},_containsInvalidValue:function(a){return 0<c(a.getViewHtml()).find(".invalid_sel").length},_showDialog:function(){this.searcherCollection.isInteractive()&&this._getSearcher()&&this._isValidSearcher()&&(d.instance.show(this._getSearcher()),this._setAriaExpanded(!0))},_setFocusToNextItemAfterRemoval:function(a){var b=document.querySelector(".search-criteria-extended");
if(a=b.querySelector('.extended-searcher[data-id\x3d"'+a+'"]'))if(h.readText(AJS.format("Removing filter for {0}",l.escapeHtml(a.querySelector(".fieldLabel").innerText))),a=a.nextSibling?a.nextSibling.firstChild:null)b.setAttribute("data-dont-steal-the-focus",!0),a.focus()},_removeCriteria:function(a){var b=this.extended||!this._isValidSearcher();this.searcherCollection.isInteractive()&&b&&(this._setFocusToNextItemAfterRemoval(this.model.getId()),this.searcherCollection.triggerBeforeCriteriaRemoved(this.model.getId(),
a),f.defer(f.bind(function(){this.searcherCollection.clearClause(this.model.getId())},this)))},_getTooltipText:function(){var a=this.searcherCollection.get(this.model.getId());if(a)a=this._isValidSearcher()?this._containsInvalidValue(a)?"\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f":a.getTooltipText():"\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438/\u0438\u043b\u0438 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.";else return"";return a},_addTooltip:function(){this.$el.tooltip({title:f.bind(this._getTooltipText,this)})},
_setAriaExpanded:function(a){this.$(".aui-button").attr("aria-expanded",a)},_handleInteractiveChanged:function(a){this.$("button, .remove-filter").attr("aria-disabled",a?null:"true")},_onClickCriteriaSelector:function(a){this.searcherCollection.isInteractive()&&this._getSearcher()&&this._isValidSearcher()&&(d.instance.toggle(this._getSearcher()),this._setAriaExpanded(!0));a.preventDefault()},_onClickRemoveCriteria:function(a){this._removeCriteria();a.preventDefault()},_onKeydown:function(a){switch(a.which){case c.ui.keyCode.DOWN:this._showDialog();
break;case c.ui.keyCode.ESCAPE:this.$("button:focus").blur();break;case c.ui.keyCode.BACKSPACE:this._removeCriteria(-1);break;case c.ui.keyCode.DELETE:this._removeCriteria(1);break;default:return}a.preventDefault()},_preventFocusWhileDisabled:function(a){0<c(a.target).closest("[aria-disabled\x3dtrue]").length&&a.preventDefault()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherModel.js' */
define("jira/components/query/basic/searchermodel",["require"],function(b){var f=b("jira/components/libs/underscore"),c=b("jquery"),g=b("jira/components/libs/brace"),h=b("jira/ajs/ajax/smart-ajax"),k=b("wrm/context-path"),l=b("jira/components/query/messages"),m=k();return g.Model.extend({namedAttributes:"id name isShown viewHtml editHtml groupId groupName initParams isSelected jql position serializedParams validSearcher key lastViewed".split(" "),namedEvents:["readyForDisplay"],initialize:function(){this._onEditHtmlUpdated();
this.bind("change:editHtml",this._onEditHtmlUpdated,this)},parse:function(a){a.viewHtml&&(a.viewHtml=this._cleanViewHtml(a.viewHtml));return a},_cleanViewHtml:function(a){a=c("\x3cdiv/\x3e").appendCatchExceptions(a);a.find(".fieldLabel").remove();const e=a.find("a").map(function(){return this.dataset.pid}).get().join(","),b=a.find("a").first().data("issueTypeIds");a.find("a").replaceWith(function(){return c(this).html()});const d=a.find(".searcherValue");d.find(".searcherValue").slice(0,-1).each(function(){c(this).after("-")});
e&&(d.first()[0].dataset.selectedProjectsIds=e);b&&(d.first()[0].dataset.selectedIssueTypeIds=b.slice(0,-1));a.find("*").removeAttr("title");return a.html()},createOrUpdateClauseWithQueryString:function(a){return this.collection.createOrUpdateClauseWithQueryString(this.id,a)},getQueryString:function(){var a={};return this.collection.QUERY_ID===this.getId()?this.getViewHtml()?(a[this.collection.QUERY_PARAM]=this.getDisplayText(),c.param(a)):null:this.getValidSearcher()&&!/^\s*$/.test(this.getEditHtml())||
!this.getJql()?this.getSerializedParams():(a={},a[this.collection.JQL_INVALID_QUERY_PREFIX+this.getId()]=this.getJql(),c.param(a))},getDisplayText:function(){var a=this.getViewHtml(),b="";a&&(a=c("\x3cdiv\x3e").appendCatchExceptions(a),b=c.trim(a.text()).replace(/[\n\r\s]+/g," "));return b},hasClause:function(){return this.collection.QUERY_ID===this.getId()?!!this.getViewHtml():this.getValidSearcher()?!!this.getQueryString():!!this.getJql()},clearSearchState:function(){this.set({viewHtml:null,editHtml:null,
jql:null,validSearcher:null,isSelected:!1})},_now:Date.now||function(){return(new Date).getTime()},select:function(){this.set({isSelected:!0,position:this.collection.getNextPosition(),validSearcher:!0,lastViewed:this._now()})},retrieveEditHtml:function(){var a=this.collection.createJqlWithContext();return this.getEditHtml()?(new c.Deferred).resolve(this.getEditHtml()):h.makeRequest({type:"POST",url:m+"/secure/QueryComponentRendererEdit!Default.jspa",success:f.bind(this.setEditHtml,this),dataType:"html",
error:function(a){l.displayFailSearchMessage(a)},data:{fieldId:this.getId(),decorator:"none",jqlContext:a}})},hasErrorInEditHtml:function(){var a=c("\x3cdiv\x3e").htmlCatchExceptions(this.getEditHtml());return a?0<a.find(".error, .has-errors").length:!1},clearEditHtml:function(){this.setEditHtml(null)},_onEditHtmlUpdated:function(){this.setSerializedParams(c("\x3cform/\x3e").appendCatchExceptions(this.getEditHtml()).serialize())},getTooltipText:function(){if(!1!==this.getValidSearcher){var a=this.getDisplayText()||
"\u0412\u0441\u0435";return this.getName()+": "+a}return "\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438/\u0438\u043b\u0438 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430."},searchersReady:function(){return this.collection.searchersReady()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherCollection.js' */
define("jira/components/query/basic/searchercollection",["require"],function(f){var c=f("jira/components/libs/underscore"),g=f("jquery"),n=f("jira/components/libs/brace"),p=f("jira/util/data/meta"),q=f("jira/components/query/basic/searchermodel"),r=f("jira/components/query/basic/textquerybuilder"),t=f("jira/ajs/ajax/smart-ajax"),k=f("jira/ajs/list/group-descriptor"),u=f("jira/ajs/list/item-descriptor"),v=f("jira/components/search/latestStorage"),w=f("wrm/context-path"),x=f("jira/components/utils/ajshelper"),
l=f("jira/components/utils/trace"),m=f("jira/components/query/messages"),h=w();return n.Collection.extend({model:q,namedEvents:"searchRequested collectionChanged jqlTooComplex textFieldChanged requestUpdateFromView interactiveChanged beforeCriteriaRemoved".split(" "),QUERY_PARAM:"text",QUERY_ID:"text",JQL_INVALID_QUERY_PREFIX:"__jql_",initialize:function(a,b){a&&a.length&&(this._searcherCache=a);this.fixedLozenges=b&&b.fixedLozenges?b.fixedLozenges:[];this.queryStateModel=b&&b.queryStateModel;this.initData=
b&&b.initData;this._interactive=!0},_createItemDescriptors:function(a){return c.map(a,function(a){return new u({meta:{isShown:a.isShown},label:a.name,title:a.isShown?a.name:a.name+" "+"\u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e \u0434\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438/\u0438\u043b\u0438 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.",selected:a.isSelected||a.jql,value:a.id})})},getAddMenuGroupDescriptors:function(){this._updateSearcherCache();var a=this.fixedLozengeIds().concat(this.QUERY_ID),b=c.filter(this._searcherCache,function(b){var e=c.contains(a,b.id);b=!!b.groupName;return!e&&b});if(b.length){var d=
new k({label:"\u0412\u0441\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438",items:this._createItemDescriptors(c.sortBy(b,function(a){return a.name.toLowerCase()}))});return[new k({label:"\u041d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438",items:this._createItemDescriptors(c.first(c.sortBy(c.filter(b,function(a){return a.lastViewed}),function(a){return-a.lastViewed}),p.getNumber("max-recent-searchers")))}),d]}return[]},getSearcher:function(a){var b=this.get(a);b||(this.add(this._searcherCache[a]),b=
this.get(a));return b},setJql:function(a,b){this._addOrSet(a,{jql:b})},createJql:function(){return this.pluck("jql").filter(Boolean).join(" AND ")||""},createJqlWithContext:function(){return this.queryStateModel.combineContextAndJql(this.queryStateModel.getContext(),this.createJql())},isDirty:function(){return this.any(function(a){return void 0!==a.getJql()&&""!==a.getJql()})},clearSearchState:function(){this.each(function(a){a.clearSearchState()});this._querySearchersAndValues("")},clearClause:function(a){var b=
(a=this.get(a))&&a.hasClause();a&&a.clearSearchState();this.triggerCollectionChanged();this.triggerRequestUpdateFromView();b&&this.triggerSearchRequested(this.createJql())},getTextQuery:function(){var a=this.get(this.QUERY_ID);return a?a.getViewHtml():""},setInteractive:function(a){a!==this._interactive&&(this._interactive=a,this.triggerInteractiveChanged(a))},isInteractive:function(){return this._interactive},handleBasicViewSubmit:function(){this.triggerRequestUpdateFromView();this.triggerSearchRequested(this.createJql())},
updateTextQuery:function(a){if(a){var b=x.escapeHtml(a);this._addOrSet(this.QUERY_ID,{viewHtml:b,editHtml:b,jql:r.buildJql(a)})}else this.remove(this.QUERY_ID);this.triggerTextFieldChanged()},getQueryString:function(){var a=[];this.each(function(b){(b=b.getQueryString())&&a.push(b)});return a.join("\x26")},_addOrSet:function(a,b,d){var e=this.get(a);e?(d&&d.parse&&e.parse&&(b=e.parse(b),delete d.parse),b.jql&&(b.isSelected=!0),e.set(b,d)):(e=c.clone(b),e.id=a,e.isSelected=!!b.jql,this.add(e,d),e=
this.get(a));return e},restoreFromQuery:function(a,b){this.queryStateModel.setJql(a);var d={jql:this.queryStateModel.getJqlWithContext()||"",decorator:"none"};v.save(d);if(this.initData){if(this.initData.errorMessages)return this._handleSearcherError(d.jql,this.initData),this.initData=null,(new g.Deferred).reject();this._onQuerySearchersAndValues(this.initData);this.initData=null;return(new g.Deferred).resolve()}a=g.ajax({url:h+"/secure/QueryComponent!Jql.jspa",headers:{"X-SITEMESH-OFF":!0},data:d,
type:"POST"});a.success(c.bind(function(a){b&&this.clearExpectingUpdate(b);this._onQuerySearchersAndValues(a)},this));a.error(c.bind(function(a){b&&this.clearExpectingUpdate();try{var c=JSON.parse(a.responseText);c&&this._handleSearcherError(d.jql,c)}catch(y){console.log("search response error - not JSON?")}},this));a.always(function(){l("jira.search.searchers.updated")});return a},clearExpectingUpdate:function(){this.reset();this.updateTextQuery("")},_handleSearcherError:function(a,b){(c.include(b.errorMessages,
"jqlTooComplex")||c.include(b.errorMessages,"jqlInvalid"))&&window.setTimeout(c.bind(function(){this.triggerJqlTooComplex(a)},this),0)},searcherAffectsContext:function(a){return"project"===a||"issuetype"===a},createOrUpdateClauseWithQueryString:function(a,b){this.triggerRequestUpdateFromView();a=this.searcherAffectsContext(a)?this._querySearchersAndValues(this.getQueryString()):this._querySearchersByValue(a);a.done(c.bind(function(){!this.queryStateModel.getBasicAutoUpdate()&&!b||this.containsInvalidSearchers()||
this.triggerSearchRequested(this.createJql())},this));return a},containsInvalidSearchers:function(){return this.any(function(a){return a.hasErrorInEditHtml()})},_querySearchersByValue:function(a){var b=this.get(a),d=g.param({decorator:"none",jqlContext:this.queryStateModel.getJqlWithContext()});b&&(b=b.getQueryString())&&(d=d+"\x26"+b);this._activeSearcherReq&&this._activeSearcherReq.abort();return this._activeSearcherReq=t.makeRequest({type:"POST",data:d,processData:!1,url:h+"/secure/QueryComponentRendererValue!Default.jspa",
success:c.bind(function(b){var d=this.get(a);d&&(b[a]?(b[a].groupName=d.getGroupName(),b[a].groupId=d.getGroupId()):b[a]=c.extend(d.toJSON(),{editHtml:null,jql:null,viewHtml:null}));this._setSearchersFromData(b,!0)},this),dataType:"json",error:function(a){m.displayFailSearchMessage(a)}}).always(c.bind(function(){this._activeSearcherReq=null},this))},_parseSearcherGroups:function(a){var b={},d=this.queryStateModel.getWithout();c.each(a.groups,function(a){c.each(a.searchers,function(e){c.contains(d,
e.id)||(e.groupId=a.type,e.groupName=a.title,b[e.id]=e)})});return b},_querySearchersAndValues:function(a){var b="decorator\x3dnone";if(this._activeSearcherReq){if(this._activeSearcherQuery===a)return(new g.Deferred).reject();this._activeSearcherReq.abort()}(this._activeSearcherQuery=a)&&(b+="\x26"+a);this._activeSearcherReq=g.ajax({url:h+"/secure/QueryComponent!Default.jspa",headers:{"X-SITEMESH-OFF":!0},type:"POST",data:b,processData:!1});this._activeSearcherReq.done(c.bind(function(a){this._onQuerySearchersAndValues(a)},
this));this._activeSearcherReq.fail(function(a){m.displayFailSearchMessage(a)});this._activeSearcherReq.always(c.bind(function(){this._activeSearcherReq=null},this));return this._activeSearcherReq},clear:function(){this.reset([],{silent:!0});this.updateTextQuery("");this.triggerCollectionChanged()},searchersReady:function(){return this._activeSearcherReq?this._activeSearcherReq:(new g.Deferred).resolve()},_onQuerySearchersAndValues:function(a){var b=this._parseSearcherGroups(a.searchers),d=this.queryStateModel.getWithout();
c.each(a.values,c.bind(function(a,e){var f=b[e];c.contains(d,e)&&(a.isShown=!1,a.validSearcher=!1,a.jql="");f?c.extend(f,a):b[e]=a},this));var e=[];this.each(function(a){var d=a.id;c.any(b,function(a){return a.id===d})||(a.getIsSelected()?a.setValidSearcher(!1):e.push(a))});e.length&&this.remove(e);this._setSearchersFromData(b)},_updateSearcherCache:function(){this._searcherCache&&this.each(c.bind(function(a){this._searcherCache[a.id]=a.toJSON();this._searcherCache[a.id].id=a.id},this))},_setSearchersFromData:function(a,
b){c.each(a,c.bind(function(a,b){this._addOrSet(b,{groupId:a.groupId,groupName:a.groupName,isShown:a.isShown,name:a.name,viewHtml:a.viewHtml,jql:a.jql,editHtml:a.editHtml,validSearcher:a.validSearcher,key:a.key,lastViewed:a.lastViewed},{parse:!0})},this));b?this._updateSearcherCache():this._searcherCache=a;this.triggerCollectionChanged();l("jira.search.searchers.updated")},getVariableClauses:function(){var a=[];this.each(c.bind(function(b){!this.isFixed(b)&&b.hasClause()&&a.push(b)},this));return a},
getSelectedCriteria:function(){var a=this;return this.chain().filter(function(b){return!a.isFixed(b)&&(b.hasClause()||b.getIsSelected())}).sortBy(function(a){return a.getPosition()}).value()},getAllSelectedCriteriaCount:function(){return this.getAllSelectedCriteria().length},getAllSelectedCriteria:function(){var a=[];this.each(c.bind(function(b){(b.hasClause()||b.getIsSelected())&&a.push(b)},this));return a},isFixed:function(a){return c.contains(this.fixedLozengeIds(),a.getId())||a.getId()===this.QUERY_ID},
fixedLozengeIds:function(){return c.pluck(this.fixedLozenges,"id")},getNextPosition:function(){return this.reduce(function(a,b){b=Math.max(a,b.getPosition());return isNaN(b)?a:b},-1)+1}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/CriteriaModel.js' */
define("jira/components/query/basic/criteriamodel",["require"],function(a){return a("jira/components/libs/brace").Model.extend({namedAttributes:["id","name"]})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/CardView.js' */
define("jira/components/query/basic/cardview",["require"],function(b){var c=b("jira/components/libs/underscore");return b("jira/components/libs/brace").View.extend({namedEvents:["viewChanged"],initialize:function(a){this.views=a.views;a.activeView?this.activeView=a.activeView:(a=c.keys(this.views),0<a.length&&(this.activeView=a[0]))},render:function(){this._renderActiveView()},changeToView:function(a){a!==this.activeView&&(this.activeView=a,this.$el&&this._renderActiveView(a),this.triggerViewChanged(a))},
_renderActiveView:function(){var a=this.views[this.activeView];a.setElement(this.$el);a.render()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/BasicQueryView.js' */
define("jira/components/query/basic/basicqueryview",["require"],function(b){var d=b("jira/components/libs/brace"),e=b("jira/components/query/templates/issuenavquerybasic"),f=b("jira/components/query/basic/textfieldview"),g=b("jira/components/query/basic/primarycriteriacontainerview"),h=b("jira/components/query/basic/extendedcriteriacontainerview"),k=b("jira/components/query/basic/clausebuttonview"),l=b("jira/components/orderby"),m=b("jira/components/query/basic/textquerybuilder");return d.View.extend({namedEvents:["verticalResize",
"searchRequested","searchChanged"],template:e.basicQueryView,events:{input:function(){this.trigger("searchChanged",{newJql:m.buildJql(this.textFieldView.$el[0].value)})}},initialize:function(a){this.searcherCollection=a.searcherCollection;this.queryStateModel=a.queryStateModel;this.textFieldView=new f({collection:this.searcherCollection});this.primaryCriteriaContainerView=new g({collection:this.searcherCollection});this.extendedCriteriaContainerView=(new h({collection:this.searcherCollection})).onVerticalResize(this.triggerVerticalResize,
this);this.queryStateModel.getBasicOrderBy()&&(this.basicOrderByView=l.create(),this.queryStateModel.on("change:jql",function(){this.basicOrderByView.setJql(this.queryStateModel.getJql())},this),this.basicOrderByView.onSort(this.triggerSearchRequested,this));this.clauseButtonView=new k({searcherCollection:this.searcherCollection,queryStateModel:this.queryStateModel});this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged,this);this.searcherCollection.onBeforeCriteriaRemoved(this._handleBeforeCriteriaRemoved,
this)},_handleInteractiveChanged:function(a){this.$el.toggleClass("loading",!a)},_handleBeforeCriteriaRemoved:function(a,b){b&&this._shiftFocus(a,b)},render:function(){this.$el.html(this.template({hasOrderBy:this.queryStateModel.getBasicOrderBy(),hasSearchButton:this.queryStateModel.hasSearchButton()}));this.primaryCriteriaContainerView.setElement(this.$el.find(".search-criteria .criteria-list"));this.textFieldView.setElement(this.$el.find("input.search-entry"));this.clauseButtonView.setElement(this.$el.find(".criteria-actions"));
this.extendedCriteriaContainerView.setElement(this.$el.find(".search-criteria-extended .criteria-list"));this.basicOrderByView&&(this.basicOrderByView.setElement(this.$el.find(".list-ordering")).render(),this.basicOrderByView.setJql(this.queryStateModel.getJql()));this.primaryCriteriaContainerView.render();this.$el.find(".text-query").removeClass("hidden");this.textFieldView.render();this.clauseButtonView.render();this.extendedCriteriaContainerView.render();this._handleInteractiveChanged(this.searcherCollection.isInteractive());
this.triggerVerticalResize();this.$el.find(".search-button").tooltip();return this},search:function(){this.searcherCollection.handleBasicViewSubmit()},_shiftFocus:function(a,b){var c=this.primaryCriteriaContainerView.getFocusableForCriteria(a);c.length||(c=this.extendedCriteriaContainerView.getFocusableForCriteria(a));a=this.primaryCriteriaContainerView.getFocusables().add(this.extendedCriteriaContainerView.getFocusables());c=a.index(c);a.eq(0===c?1:c===a.length-1?a.length-2:c+b).focus()},focus:function(){this.primaryCriteriaContainerView.getFocusables().first().focus()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/TextFieldView.js' */
define("jira/components/query/basic/textfieldview",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jquery");return b("jira/components/libs/brace").View.extend({namedEvents:["searchRequested"],events:{keypress:"handleKeypress"},initialize:function(){c.bindAll(this,"_updateSearcherCollectionTextField","_handleInteractiveChanged","render");this.collection.on("remove change add",c.bind(function(a){a.getId()===this.collection.QUERY_ID&&this.render()},this));this.collection.onTextFieldChanged(this.render);
this.collection.onRequestUpdateFromView(this._updateSearcherCollectionTextField);this.collection.onInteractiveChanged(this._handleInteractiveChanged)},handleKeypress:function(a){13===a.keyCode&&(this.collection.handleBasicViewSubmit(),a.preventDefault())},render:function(){var a=this.collection.get(this.collection.QUERY_ID);a?(a=a.getEditHtml(),a=d("\x3cdiv\x3e\x3c/div\x3e").html(a||"").text(),this.setQuery(a)):this.setQuery("")},setQuery:function(a){this.$el.val(a)},_updateSearcherCollectionTextField:function(){if(this.$el.is("input")){var a=
d.trim(this.$el.val());this.collection.updateTextQuery(a)}},_handleInteractiveChanged:function(a){this.$el.prop("disabled",!a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/PrimaryCriteriaContainerView.js' */
define("jira/components/query/basic/primarycriteriacontainerview",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jira/components/libs/brace"),e=b("jira/components/query/basic/criteriaview"),f=b("jira/components/query/basic/criteriamodel");return d.View.extend({initialize:function(){this._criteriaViews=c.map(this.collection.fixedLozenges,function(a){return new e({model:new f(a),searcherCollection:this.collection})},this)},render:function(){c.each(this._criteriaViews,function(a){a.render()});
this.$el.prepend(c.pluck(this._criteriaViews,"el"))},getCriteriaViews:function(){return this._criteriaViews},getFocusables:function(){return this.$(".criteria-selector, #searcher-query, .add-criteria, .search-button")},getFocusableForCriteria:function(a){return this.$('.criteria-selector[data-id\x3d"'+a+'"]')}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/ExtendedCriteriaContainerView.js' */
define("jira/components/query/basic/extendedcriteriacontainerview",["require"],function(c){var b=c("jira/components/libs/underscore"),d=c("jira/components/libs/brace"),e=c("jira/components/query/basic/criteriaview"),f=c("jira/components/query/basic/criteriamodel");return d.View.extend({namedEvents:["verticalResize"],initialize:function(){this.collection.on("change:isSelected",this._onCriteriaSelectionChanged,this);this.collection.on("add",this._onCriteriaSelectionChanged,this);this.collection.on("remove",
this._removeViewForSearcher,this);this.collection.on("reset",this._onReset,this);this._criteriaViews=b.map(this.collection.getSelectedCriteria(),b.bind(function(a){null==a.getPosition()&&a.setPosition(this.collection.getNextPosition());return this._buildCriteriaViewForSearcher(a)},this))},render:function(){b.each(this._criteriaViews,b.bind(function(a){a.render();this.$el.append(a.$el)},this))},getFocusables:function(){return this.$(".criteria-selector")},getFocusableForCriteria:function(a){return this.$('.criteria-selector[data-id\x3d"'+
a+'"]')},_buildCriteriaViewForSearcher:function(a){return new e({model:new f({id:a.get("id"),name:a.get("name")}),searcherCollection:this.collection,extended:!0})},_onCriteriaSelectionChanged:function(a){a.getIsSelected()&&!this.collection.isFixed(a)?this._addViewForSearcher(a):this._removeViewForSearcher(a)},_addViewForSearcher:function(a){a=this._buildCriteriaViewForSearcher(a);a.render();this.$el.append(a.$el);this._criteriaViews.push(a);this.triggerVerticalResize()},_removeViewForSearcher:function(a){this._criteriaViews=
b.reject(this._criteriaViews,function(b){return b.model.getId()===a.getId()?(b.destroy(),!0):!1});this.triggerVerticalResize()},_onReset:function(){b.each(this._criteriaViews,function(a){a.destroy()});this._criteriaViews=[]}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherGroupListDialogView.js' */
define("jira/components/query/basic/searchergrouplistdialogview",["require"],function(b){var g=b("jira/components/libs/underscore"),e=b("jquery"),r=b("jira/components/libs/brace"),n=b("jira/components/query/basic/searcherdialog"),t=b("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"),u=b("jira/ajs/select/checkbox-multi-select"),v=b("jira/components/query/templates/issuenavquerybasic"),w=b("jira/ajs/select/suggestions/suggest-helper"),x=b("jira/ajs/list/group-descriptor"),y=b("jira/issues/tipsy"),
p=b("jira/components/utils/ajshelper"),l=b("jira/terminology-feature-service"),k=b("jira/util/formatter"),m=b("jira/util/strings"),f,h=r.View.extend({tagName:"form",className:"aui top-label",namedEvents:["searcherSelected","hideRequested"],events:{keydown:"_keyPressed"},initialize:function(a){this.searcherCollection=a.searcherCollection;this.$el.scrollLock(".aui-list-scroll")},render:function(){var a=this.searcherCollection.getAddMenuGroupDescriptors(),d=a.length&&a[0].properties.items.length>h.CRITERIA_DISPLAY_LIMIT;
a=e(p.Templates.queryableSelect({descriptors:a,id:"criteria"}));var c=e('\x3cdiv class\x3d"field-group"\x3e\x3c/div\x3e');c.append(a);this.$el.empty().append(c);a={element:a,suggestionsHandler:h.SuggestHandler,hideFooterButtons:!0};c="\u041d\u0435 \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043a\u0440\u044b\u0442\u044b\u0435: \u003cspan class=hidden-no\u003e\u003c/span\u003e";var b="\u042d\u0442\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u044b\u0442\u044b, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b \u043a \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0443 \u0438/\u0438\u043b\u0438 \u0442\u0438\u043f\u0430\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432";d&&(a.maxInlineResultsDisplayed=h.CRITERIA_DISPLAY_LIMIT,c="\u041d\u0435 \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043a\u0440\u044b\u0442\u044b\u0435: \u003cspan class=hidden-no\u003e\u003c/span\u003e. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u044f.",
b="\u042d\u0442\u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0441\u043a\u0440\u044b\u0442\u044b, \u0442\u0430\u043a \u043a\u0430\u043a \u0438\u0445 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043e\u043d\u0438 \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u044b \u043a \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0443 \u0438/\u0438\u043b\u0438 \u0442\u0438\u043f\u0430\u043c \u043f\u0440\u043e\u0431\u043b\u0435\u043c.");new u(a);l.isTerminologyActiveForUser()&&this.$el.find(".check-list-field-container").after(v.terminologyHint());f=e("\x3cdiv class\x3d'more-criteria-footer' /\x3e").html(c);this.$el.append(f);new y({el:f,tipsy:{title:function(){return b},className:"tipsy-front"}});this.$el.unbind("selected").bind("selected",g.bind(this._searcherSelected,this));this.$el.unbind("unselect").bind("unselect",g.bind(this._searcherUnselected,
this));return this.$el},_searcherUnselected:function(a,d){this.searcherCollection.clearClause(d.properties.value)},_searcherSelected:function(a,d){a=this.searcherCollection.getSearcher(d.properties.value);a.select();n.instance.hide();n.instance.show(a)},_keyPressed:function(a){if(a.keyCode===e.ui.keyCode.TAB){var d=e(":tabbable",this.$el),c=0===d.length,b=a.shiftKey&&document.activeElement===d.first()[0];d=!a.shiftKey&&document.activeElement===d.last()[0];if(c||b||d)this.triggerHideRequested(p.HIDE_REASON.tabbedOut),
a.preventDefault()}}},{CRITERIA_DISPLAY_LIMIT:100});h.SuggestHandler=t.extend({_handleTerminologyHint:function(a){if(l.isTerminologyActiveForUser()){a=a.toLowerCase();var b=e(".terminology-basic-search-hint");if("sprint"===a||"epic"===a){var c=null;if("sprint"===a){c=l.getTerminologyEntryForTerm("sprint");if(void 0===c)return;var f=m.toSentenceCase(c.originalNamePlural);var q=m.toSentenceCase(c.newNamePlural)}if("epic"===a){c=l.getTerminologyEntryForTerm("epic");if(void 0===c)return;f=m.toSentenceCase(c.originalNamePlural);
q=m.toSentenceCase(c.newNamePlural)}b.find("span").text(k.format("\u0412 \u044d\u0442\u043e\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 \u00ab{0}\u00bb \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u00ab{1}\u00bb.",f,q));g.defer(function(){b.removeClass("hidden");e(".no-suggestions").length&&e("#criteria-suggestions").addClass("hidden")})}else b.addClass("hidden"),e("#criteria-suggestions").removeClass("hidden")}},formatSuggestions:function(a,b){var c=0,d=w.removeDuplicates(this.model.getDisplayableSelectedDescriptors());a.splice(0,0,new x({actionBarHtml:1<d.length?this.createClearAll():null,
items:d,styleClass:"selected-group"}));this._handleTerminologyHint(b);g.each(a,function(a){if(0===b.length){var d=g.filter(a.items(),function(a,b){return(a=a.meta())&&a.isShown&&b<h.CRITERIA_DISPLAY_LIMIT});c+=a.items().length-d.length;a.items(d)}else g.each(a.items(),function(a){var b=a.meta();a.disabled(!(b&&b.isShown))})});g.defer(function(){f&&(c?f.show().find(".hidden-no").text(c):f.hide())});return a}});return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherEditDialogView.js' */
define("jira/components/query/basic/searchereditdialogview",["require"],function(b){var h=b("jira/components/libs/underscore"),c=b("jquery"),k=b("jira/components/libs/brace"),e=b("jira/components/query/templates/issuenavquerybasic"),l=b("jira/util/events"),m=b("jira/util/events/types"),n=b("jira/util/events/reasons"),d=b("jira/components/utils/ajshelper");return k.View.extend({namedEvents:["backRequested","hideRequested"],autoUpdate:".js-autoupdate-checkboxmultiselect .js-default-checkboxmultiselect .js-project-checkboxmultiselect .js-default-checkboxmultiselectstatuslozenge .js-default-checkboxmultiselectpriority .js-default-checkboxmultiselectcomponent .js-user-checkboxmultiselect .js-usergroup-checkboxmultiselect .js-group-checkboxmultiselect .js-label-checkboxmultiselect .js-default-checkboxmultiselectversion".split(" "),
events:function(){var a={"click .cancel-update":"_onCancelClicked",click:"_stopPropagation",submit:"_onSubmit",keydown:"_keyPressed"};this.queryStateModel.getBasicAutoUpdate()&&(a["selected "+this.autoUpdate.join(",")]="applyChanges",a["unselect "+this.autoUpdate.join(",")]="applyChanges");return a},template:e.lozengeDropdownContent,initialize:function(a){this._formData="";this.queryStateModel=a.queryStateModel;this.$el.scrollLock(".aui-list-scroll")},renderDeferred:function(){var a=new c.Deferred;
this.model.retrieveEditHtml().done(h.bind(function(g){a.resolve(this.render(g))},this));return a.promise()},hasAutoUpdate:function(a){return this.queryStateModel.getBasicAutoUpdate()&&0!==c(a).find(this.autoUpdate.join(",")).length},render:function(a){if(/^\s*$/.test(a)){var g=c(e.lozengeDropdownCannotEdit({fieldName:this.model.getName()}));var b=this.model.id,f=b+"-no-edit-tooltip",d=c("#"+f);d.length?d.focus():(b=c(".criteria-selector[data-id\x3d'"+b+"']"),b.attr("aria-describedby",f),c(e.lozengeDropdownCannotEdit({fieldName:this.model.getName()})).attr({role:"tooltip",
tabindex:-1,id:f}).addClass("assistive").insertAfter(b).focus())}else g=c(this.template({displayBackButton:this.displayBackButton,displayUpdateCancel:!this.hasAutoUpdate(a)&&!c(a).hasClass("searchfilter-not-found")}));this.$el.html(g);this.$el.find(".form-body").appendCatchExceptions(a);this.$el.find("form").addClass(this.model.id+"-criteria");this.$el.find("label:first").remove();l.trigger(m.NEW_CONTENT_ADDED,[this.$el,n.criteriaPanelRefreshed]);this._formData=this.$el.find("form").serialize();this.model.setInitParams(this._formData);
return this.$el},_stopPropagation:function(a){a.stopPropagation()},_preventDefault:function(a){a.preventDefault()},applyFilter:function(){var a=this.$el.find("form").serialize(),b=a!==this._formData;this._formData=a;this.model.setSerializedParams(this._formData);return b},applyChanges:function(){this.applyFilter()&&this.model.createOrUpdateClauseWithQueryString()},_onCancelClicked:function(a){a.preventDefault();this.triggerHideRequested(d.HIDE_REASON.cancelClicked)},_onSubmit:function(a){a.preventDefault();
this.triggerHideRequested(d.HIDE_REASON.submit)},_keyPressed:function(a){if(a.keyCode===c.ui.keyCode.TAB){var b=c(":tabbable",this.$el),e=0===b.length,f=a.shiftKey&&document.activeElement===b.first()[0];b=!a.shiftKey&&document.activeElement===b.last()[0];if(e||f||b)this.triggerHideRequested(d.HIDE_REASON.tabbedOut),a.preventDefault()}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/ClauseListDialogView.js' */
define("jira/components/query/basic/clauselistdialogview",["require"],function(b){var c=b("jira/components/libs/underscore"),e=b("jquery"),d=b("jira/components/libs/brace");b=b("jira/components/query/templates/issuenavquerybasic");return d.View.extend({events:{"click .clauses .searcherValue":"_clauseSelected","click .remove-filter":"_removeFilterRequested"},template:b.enabledClauses,namedEvents:["clauseSelected","hideRequested"],initialize:function(a){this.searcherCollection=a.searcherCollection;
this.searcherCollection.onCollectionChanged(this._renderAndCheckForClose,this)},render:function(){this.$el.html(this.template({clauses:this._getClauses()}))},_renderAndCheckForClose:function(){this.render();this._getClauses().length||this.triggerHideRequested()},_clauseSelected:function(a){a.preventDefault();a=e(a.target).parents("li").first().data("id");this.triggerClauseSelected(a)},_removeFilterRequested:function(a){a.preventDefault();var b=this;c.defer(function(){var c=e(a.target).parents("li").first(),
d=c.data("id");b.searcherCollection.clearClause(d);c.remove();b.triggerHideRequested()})},_getClauses:function(){var a=this.searcherCollection.getVariableClauses();a=c.invoke(a,"toJSON");c.each(a,this._formatForTemplate);return a},_formatForTemplate:function(a){a.invalidMessage=a.validSearcher?"":"\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438/\u0438\u043b\u0438 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430."}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/ClauseButtonView.js' */
define("jira/components/query/basic/clausebuttonview",["require"],function(a){var h=a("jira/components/libs/underscore"),c=a("jquery"),k=a("jira/components/libs/brace"),l=a("jira/components/query/templates/issuenavquerybasic"),m=a("jira/components/query/basic/searchergrouplistdialogview"),f=a("jira/ajs/layer/inline-layer"),n=a("jira/issues/tipsy"),d=a("jira/components/utils/ajshelper");return k.View.extend({template:l.clauseButtonView,addCriteriaButton:".add-criteria",events:{"click .add-criteria":"_showDialog",
"keydown .add-criteria":"_onKeydown"},initialize:function(e){h.bindAll(this,"_handleInteractiveChanged","_showOrHideClauseButtons");var a=this;this.queryStateModel=e.queryStateModel;this.searcherCollection=e.searcherCollection;this.searcherCollection.onCollectionChanged(this._showOrHideClauseButtons);this.searcherCollection.onInteractiveChanged(this._handleInteractiveChanged);var b=this.dialog=new f({width:"auto",alignment:d.LEFT,offsetTarget:function(){return a.$el.find(a.addCriteriaButton)},content:function(){return g.render()}});
b.bind(f.EVENTS.hide,function(e,c,b){b!==d.HIDE_REASON.escPressed&&b!==d.HIDE_REASON.toggle&&b!==d.HIDE_REASON.tabbedOut||a.$(a.addCriteriaButton).focus();a.$(a.addCriteriaButton).attr("aria-expanded",!1)});var g=new m({searcherCollection:this.searcherCollection,dialog:b});g.onHideRequested(function(a){b.hide(a)});b.bind(f.EVENTS.show,function(e,b){c("#criteria-input").focus();b.find(".aui-list-scroll").scrollTop(0);a.$(a.addCriteriaButton).attr("aria-expanded",!0)})},render:function(){this.$el.html(this.template({isSubtle:this.queryStateModel.hasSubtleMoreCriteria()}));
this._showOrHideClauseButtons();this._addToolTip();return this.$el},_addToolTip:function(){new n({el:this.$el.find(this.addCriteriaButton),showCondition:":not(.active)"})},_showOrHideClauseButtons:function(){var a=this.$(this.addCriteriaButton);0<this.searcherCollection.getAddMenuGroupDescriptors().length?a.show():a.hide()},_showDialog:function(a){this.searcherCollection.isInteractive()&&this.dialog.toggle();a.preventDefault()},_handleInteractiveChanged:function(a){this.$(this.addCriteriaButton).attr("aria-disabled",
a?null:"true")},_onKeydown:function(a){switch(a.which){case c.ui.keyCode.DOWN:this._showDialog(a);break;case c.ui.keyCode.ESCAPE:c(a.target).blur();break;case c.ui.keyCode.BACKSPACE:break;default:return}a.preventDefault()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/basic/SearcherDialog.js' */
define("jira/components/query/basic/searcherdialog",["require"],function(d){var t=d("jira/skate"),u=d("jira/components/query/basic/searchereditdialogview"),p=d("jira/components/libs/underscore"),e=d("jira/ajs/layer/inline-layer"),q=d("jira/components/utils/ajshelper"),k=d("jquery"),v=d("jira/components/utils/trace"),a=q.HIDE_REASON,h=function(){function d(d){function r(b){return b?k(".criteria-selector[data-id\x3d'"+b.getId()+"']"):k()}a.switchLozenge="switchLozenge";var w=[a.escPressed,a.toggle,
a.cancelClicked,a.submit,a.tabbedOut],l,f,g,c=new e({width:"auto",alignment:q.LEFT,offsetTarget:function(){return r(f)},content:function(){g=new u({model:f,queryStateModel:d.queryStateModel});g.onHideRequested(function(b){c.hide(b)});return g.renderDeferred()}});c.bind(e.EVENTS.show,function(b,a){t.init(a[0]);a.find(":input:not(submit):visible:first").focus();a.find(".aui-list-scroll").scrollTop(0)});c.bind(e.EVENTS.beforeHide,function(b,d,c,f,e){c===a.clickOutside&&e&&k(e).closest(".calendar").length&&
b.preventDefault()});c.bind(e.EVENTS.hide,function(b,c,m){function k(){l=f.createOrUpdateClauseWithQueryString(m===a.submit);l.done(function(){n.hasErrorInEditHtml()&&"basic"===d.queryStateModel.getSearchMode()&&h.instance.show(n);e.current&&e.current.setPosition()});l.always(function(){l=null});n.clearEditHtml()}var n=f;p.contains(w,m)&&r(n).focus();m===a.submit?(g.applyFilter(),k()):m!==a.cancelClicked&&m!==a.escPressed&&m!==a.tabbedOut?g.applyFilter()&&k():v("jira.search.searchers.hiddenWithoutUpdate");
g.$el.remove();f=g=null});d.queryStateModel.on("change:searchMode",function(){c.hide()});return{getCurrentSearcher:function(){return f},toggle:function(b){null!=f?f!==b?(c.hide(a.switchLozenge),this.show(b)):c.hide(a.toggle):this.show(b)},_show:function(b){p.defer(function(){f=b;c.show();c.setPosition()})},show:function(b){var a;h.waitingToShow&&(a=!0);var c=this;h.waitingToShow=function(){c._show(b);h.waitingToShow=null};a||b.searchersReady().done(function(){l?l.done(function(){h.waitingToShow()}):
h.waitingToShow()})},onShow:function(a){c.bind(e.EVENTS.show,a)},hide:function(){c.hide()},onHide:function(a){c.bind(e.EVENTS.hide,a)}}}return{initialize:function(a){this.instance||(this.instance=d(a))}}}();return h});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/query-jql.soy' */
// This file was automatically generated from query-jql.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavQueryJql.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavQueryJql == 'undefined') { JIRA.Templates.IssueNavQueryJql = {}; }


JIRA.Templates.IssueNavQueryJql.jqlQueryView = function(opt_data, opt_ignored) {
  return '<div class="search-field-container"><div class="atlassian-autocomplete"><label for="advanced-search"><span id="jqlerrormsg" class="icon jqlgood"><span>' + soy.$$escapeHtml('\u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c') + '</span></span> <span class="jql-label">' + soy.$$escapeHtml('\u0417\u0430\u043f\u0440\u043e\u0441:') + ' <span id="jqlcolrowcount">' + soy.$$escapeHtml('\u041b\u0438\u043d\u0438\u044f') + ':<span id="jqlrownum">0</span>' + soy.$$escapeHtml('\u0421\u0438\u043c\u0432\u043e\u043b') + ':<span id="jqlcolumnnum">0</span></span></span></label><textarea id="advanced-search" role="combobox" aria-label="' + soy.$$escapeHtml('\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441') + '" aria-describedby="autocomplete-assistive" aria-owns="suggestions" class="textarea search-entry advanced-search ajs-dirty-warning-exempt" name="jql"></textarea><a class="syntax-help" href="' + soy.$$escapeHtml(opt_data.helpUrl) + '" title="' + soy.$$escapeHtml('\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430') + '" target="_jirahelp"><span class="aui-icon aui-icon-small aui-iconfont-help">' + soy.$$escapeHtml('\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430') + '</span></a></div></div><div class="search-options-container">' + ((opt_data.hasSearchButton) ? '<button class="aui-button aui-button-primary search-button" type="button" title="' + soy.$$escapeHtml('\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447') + '">' + soy.$$escapeHtml('\u041f\u043e\u0438\u0441\u043a') + '</button>' : '') + '<span class="mode-switcher"></span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQueryJql.jqlQueryView.soyTemplateName = 'JIRA.Templates.IssueNavQueryJql.jqlQueryView';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/jql/JqlAutoCompleteView.js' */
define("jira/components/query/jql/jqlautocompleteview",["require"],function(f){var g=f("jira/components/libs/underscore"),d=f("jquery"),h=f("jira/components/libs/brace"),k=f("jira/jql/jql-parser"),l=f("jira/autocomplete/jql-autocomplete"),m=f("wrm/context-path");return h.View.extend({namedEvents:["jqlValid","jqlInvalid","searchRequested"],events:{focus:"_onFocus"},getJqlAutoCompleteData:function(){var b=new d.Deferred;if(null==this.jqlFieldNames||null==this.jqlFunctionNames||null==this.jqlReservedWords){var c=
d("#jqlFieldz"),a=d("#jqlFunctionNamez"),e=d("#jqlReservedWordz");if(0<c.length&&0<a.length&&0<e.length)this.jqlFieldNames=JSON.parse(c.text()),this.jqlFunctionNames=JSON.parse(a.text()),this.jqlReservedWords=JSON.parse(e.text());else return d.ajax({url:m()+"/rest/querycomponent/latest/jqlAutoComplete"}).done(g.bind(function(a){a=JSON.parse(a);this.jqlFieldNames=g.reject(JSON.parse(a.jqlFieldz),g.bind(function(a){return g.contains(this.model.getWithout(),a.value)},this));this.jqlFunctionNames=JSON.parse(a.jqlFunctionNamez);
this.jqlReservedWords=JSON.parse(a.jqlReservedWordz);b.resolve()},this)),b.promise()}return b.resolve().promise()},_getQueryOptions:function(){var b=d("#jqlAutocompleteQueryDelay"),c=d("#jqlAutocompleteMinQueryLength"),a=.3,e=0;b.length&&isFinite(Number(b.text()))&&(a=Number(b.text()));c.length&&isFinite(Number(c.text()))&&(e=parseInt(c.text(),10));return{jqlMinQueryLength:e,jqlQueryDelay:a}},_initJQLAutoComplete:function(){var b=this._getQueryOptions(),c=this.$el,a=new l({fieldID:c.attr("id"),parser:new k(this.jqlReservedWords),
queryDelay:b.jqlQueryDelay,jqlFieldNames:this.jqlFieldNames,jqlFunctionNames:this.jqlFunctionNames,minQueryLength:b.jqlMinQueryLength,allowArrowCarousel:!0,errorID:"jqlerrormsg"}),e=this;c.keypress(function(b){null!==a.dropdownController&&a.dropdownController.displayed&&!(0>a.selectedIndex)||13!==b.keyCode||b.ctrlKey||b.shiftKey||(b.preventDefault(),a.dropdownController.hideDropdown(),e.triggerSearchRequested(c.val()))});var d=a.updateParseIndicator;a.updateParseIndicator=function(a){d.apply(this,
arguments);a.getParseError()?e.triggerJqlInvalid(c.val()):e.triggerJqlValid(c.val())};a.buildResponseContainer();a.parse(c.val());a.updateColumnLineCount();c.bind("expandedOnInput",function(){a.positionResponseContainer()}).bind("updateParseIndicator",function(){a.parse(c.val())});setTimeout(function(){a.dispatcher(a.field.val())},0)},_onFocus:function(){this.model.getAutocompleteEnabled()&&!this.$el.data("JQLAutoComplete_init")&&(this.$el.data("JQLAutoComplete_init",!0),this.getJqlAutoCompleteData().done(g.bind(this._initJQLAutoComplete,
this)))}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/jql/JqlQueryModule.js' */
define("jira/components/query/jql/jqlquerymodule",["require"],function(a){var c=a("jira/components/libs/underscore"),b=a("jira/components/libs/brace"),d=a("jira/components/query/jql/jqlqueryview"),e=a("jira/util/events"),f=a("jira/util/events/types"),g=a("jira/util/events/reasons");return b.Evented.extend({namedEvents:["searchRequested","verticalResize","searchChanged"],initialize:function(a){this._queryStateModel=a.queryStateModel;this.view=(new d({queryStateModel:a.queryStateModel})).onVerticalResize(this.triggerVerticalResize,
this).onSearchRequested(this.triggerSearchRequested,this).onSearchChanged(this.triggerSearchChanged,this);e.bind(f.NEW_CONTENT_ADDED,c.bind(function(a,c,b){b===g.returnToSearch&&this.setQuery()},this))},search:function(){var a=this.view.readJql();this.triggerSearchRequested(a)},setQuery:function(){this.view.setQuery()},createView:function(){return this.view}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/jql/JqlQueryView.js' */
define("jira/components/query/jql/jqlqueryview",["require"],function(b){var g=b("jira/components/libs/underscore"),c=b("jquery"),h=b("jira/components/libs/brace"),k=b("jira/components/query/templates/issuenavqueryjql"),e=b("jira/components/query/jql/jqlautocompleteview"),f=b("jira/util/data/meta"),l=b("jira/issues/tipsy");return h.View.extend({template:k.jqlQueryView,namedEvents:["verticalResize","searchRequested","searchChanged"],events:{expandedOnInput:"_handleExpandOnInput",input:function(){this.trigger("searchChanged",
{newJql:this.readRawJql()})}},initialize:function(a){this.queryStateModel=a.queryStateModel;this.queryStateModel.on("change:jql",this.setQuery,this);c(document).bind("issueNavWidthChanged",g.bind(this._resizeHeight,this));e&&(this.JQLAutoCompleteView=new e({model:this.queryStateModel}),this.JQLAutoCompleteView.onJqlValid(function(a){this.queryStateModel.getAdvancedAutoUpdate()&&this.triggerSearchRequested(a)},this),this.JQLAutoCompleteView.onSearchRequested(this.triggerSearchRequested,this))},render:function(){this.$el.html(this.template({helpUrl:f.get("advanced-search-help-url"),
helpTitle:f.get("advanced-search-help-title"),hasSearchButton:this.queryStateModel.hasSearchButton()}));this.$el.addClass("loading");this.JQLAutoCompleteView&&this.JQLAutoCompleteView.setElement(this.$el.find(".advanced-search"));new l({el:this.$el.find(".search-button"),tipsy:{trigger:"hover",delayIn:300}});this.setQuery();return this},readRawJql:function(){return this._getInputField().val()||""},readJql:function(){var a=this.readRawJql(),b=this._getInputField(),d=c.trim(a);a!==d&&b.val(d);this._resizeHeight();
return d},_handleExpandOnInput:function(){this.triggerVerticalResize()},_resizeHeight:function(){var a=this._getInputField();a.val()?a.height(0).expandOnInput():a.expandOnInput().height(0).trigger("refreshInputHeight")},setQuery:function(){this.$el.removeClass("loading");this._getInputField().val(this.queryStateModel.getJql());this._getInputField().trigger("updateParseIndicator");this._resizeHeight()},focus:function(){this._getInputField().focus()},_getInputField:function(){return this.$el?this.$el.find("textarea"):
c()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/query.soy' */
// This file was automatically generated from query.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.IssueNavQuery.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.IssueNavQuery == 'undefined') { JIRA.Templates.IssueNavQuery = {}; }


JIRA.Templates.IssueNavQuery.searchSwitcher = function(opt_data, opt_ignored) {
  var output = '';
  var itemList3 = opt_data.items;
  var itemListLen3 = itemList3.length;
  for (var itemIndex3 = 0; itemIndex3 < itemListLen3; itemIndex3++) {
    var itemData3 = itemList3[itemIndex3];
    output += JIRA.Templates.IssueNavQuery.searchSwitcherItem({id: itemData3.id, isActive: itemData3.id == opt_data.selectedId});
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQuery.searchSwitcher.soyTemplateName = 'JIRA.Templates.IssueNavQuery.searchSwitcher';
}


JIRA.Templates.IssueNavQuery.searchSwitcherItem = function(opt_data, opt_ignored) {
  return '<a href="#" class="switcher-item' + soy.$$escapeHtml(opt_data.isActive ? ' active' : '') + ' " data-id=\'' + soy.$$escapeHtml(opt_data.id) + '\' title="' + ((opt_data.id == 'basic') ? soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043a \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0443 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e JQL') : soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0431\u0430\u0437\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0443')) + '">' + ((opt_data.id == 'basic') ? soy.$$escapeHtml('\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439') : soy.$$escapeHtml('\u0411\u0430\u0437\u043e\u0432\u044b\u0439')) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQuery.searchSwitcherItem.soyTemplateName = 'JIRA.Templates.IssueNavQuery.searchSwitcherItem';
}


JIRA.Templates.IssueNavQuery.queryView = function(opt_data, opt_ignored) {
  return '<div class="aui-group"><div class="aui-item search-wrap"><div class="search-container"></div><div class="save-filter-controls"></div></div><div class="aui-item"><div class="view-config-wrap"><div class="aui-item column-picker-container"><div class="column-picker-trigger-container"></div></div>' + ((opt_data.layoutSwitcher) ? '<div class="aui-item view-selector" id="layout-switcher-toggle"></div>' : '') + '</div></div></div><div class="notifications"></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.IssueNavQuery.queryView.soyTemplateName = 'JIRA.Templates.IssueNavQuery.queryView';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QueryModule.js' */
define("jira/components/query/querymodule",["require"],function(b){var c=b("jira/components/libs/underscore"),e=b("jira/components/libs/brace"),f=b("jira/components/query/queryview"),g=b("jira/components/query/basic/searcherdialog"),h=b("jira/components/query/basic/basicquerymodule"),k=b("jira/components/query/jql/jqlquerymodule"),l=b("jira/util/events"),m=b("jira/util/users/logged-in-user"),n=b("jira/featureflags/feature-manager");return e.Evented.extend({namedEvents:"jqlChanged jqlTooComplex jqlError jqlSuccess searchRequested searchChanged queryTooComplexSwitchToAdvanced changedPreferredSearchMode basicModeCriteriaCountWhenSearching verticalResize initialized".split(" "),
initialize:function(a){this._queryStateModel=a.queryStateModel;this._queryStateModel.on("change:preferredSearchMode",c.bind(function(){this.triggerChangedPreferredSearchMode(this._queryStateModel.getPreferredSearchMode())},this));this._columnConfig=a.columnConfig;g.initialize({queryStateModel:this._queryStateModel});this._jqlQueryModule=(new k({queryStateModel:this._queryStateModel})).onSearchRequested(this.handleAdvancedSearchRequested,this).onVerticalResize(this.triggerVerticalResize,this).onSearchChanged(this.triggerSearchChanged,
this);this._errors={};this._errors[this._queryStateModel.BASIC_SEARCH]=[];this._errors[this._queryStateModel.ADVANCED_SEARCH]=[];this._queryStateModel.on("change:searchMode",this.showSearchErrors,this);this._basicQueryModule=(new h({queryStateModel:this._queryStateModel,primaryClauses:a.primaryClauses,initialSearcherCollectionState:a.searchers})).onSearchRequested(this.clearSearchErrors,this).onSearchChanged(this.triggerSearchChanged,this).onJqlTooComplex(this.handleJqlTooComplex,this).onSearchRequested(this.handleSearchRequested,
this).onVerticalResize(this.triggerVerticalResize,this).onBasicModeCriteriaCountWhenSearching(this.triggerBasicModeCriteriaCountWhenSearching,this)},refreshLayout:function(){this._jqlQueryModule.setQuery()},handleAdvancedSearchRequested:function(a){this.handleSearchRequested(a);this._basicQueryModule.queryChanged()},handleSearchRequested:function(a){this._queryStateModel.setJql(a);this.clearSearchErrors();l.trigger("jql-search-requested",a)},handleJqlTooComplex:function(a){this.getSearchMode()!==
this._queryStateModel.ADVANCED_SEARCH&&this.triggerQueryTooComplexSwitchToAdvanced();this.setSearchMode(this._queryStateModel.ADVANCED_SEARCH);this.triggerJqlTooComplex(a);this._queryView&&this._queryView.switcherViewModel.disableSwitching()},getJql:function(){return this._queryStateModel.getJqlWithContext()},getSearcherCollection:function(){return this._basicQueryModule.searcherCollection},isBasicMode:function(){return this._queryStateModel.getSearchMode()===this._queryStateModel.BASIC_SEARCH},resetToQuery:function(a,
b){this.clearSearchErrors();this.showFilteredCustomFieldsWarning();return this._basicQueryModule.queryReset(a).always(c.bind(function(){this._queryStateModel.switchToPreferredSearchMode();this._jqlQueryModule.setQuery();b&&!0===b.focusQuery&&this._queryView.getView().focus();this._basicQueryModule.off("searchRequested",this.publishJqlChanges);this._jqlQueryModule.off("searchRequested",this.publishJqlChanges);this._basicQueryModule.onSearchRequested(this.publishJqlChanges,this);this._jqlQueryModule.onSearchRequested(this.publishJqlChanges,
this)},this))},publishJqlChanges:function(a){this.triggerJqlChanged(a)},setVisible:function(a){this._queryView.setVisible(a)},queryChanged:function(){this.clearSearchErrors();this._basicQueryModule.queryChanged()},onSearchSuccess:function(a){this._queryView&&this._queryView.showWarnings(a);this.triggerJqlSuccess()},searchersReady:function(){return this._basicQueryModule.searchersReady()},onSearchError:function(a){this._errors.renderFunction="showErrors";var b=a.errorMessages?a.errorMessages.concat():
[],d=[];c.each(a.errors,function(a,c){"jql"===c?d.push(a):b.push(a)});this.getSearchMode()===this._queryStateModel.BASIC_SEARCH&&!this._basicQueryModule.hasErrors()&&0<d.length&&this.setSearchMode(this._queryStateModel.ADVANCED_SEARCH);this._errors[this._queryStateModel.BASIC_SEARCH]=b;this._errors[this._queryStateModel.ADVANCED_SEARCH]=d.concat(b);this.showSearchErrors();this.triggerJqlError()},showSearchErrors:function(){this._queryView&&(this._queryView.clearNotifications(),this._queryView[this._errors.renderFunction||
"showErrors"](this._errors[this.getSearchMode()]),this.showFilteredCustomFieldsWarning())},showFilteredCustomFieldsWarning:function(){this.isBasicMode()&&m.isAnonymous()&&n.isFeatureEnabled("com.atlassian.jira.plugin.issuenavigator.anonymousPreventCfData")&&this._queryView.showWarnings&&this._queryView.showWarnings(["\u0412\u044b \u043d\u0435 \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043f\u043e\u043b\u044f \u0432 \u0431\u0430\u0437\u043e\u0432\u043e\u043c \u043f\u043e\u0438\u0441\u043a\u0435. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043a \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0443."])},clearSearchErrors:function(){this._queryView&&(this._queryView.clearNotifications(),this._queryView.switcherViewModel.enableSwitching());
this._errors[this._queryStateModel.BASIC_SEARCH].length=0;this._errors[this._queryStateModel.ADVANCED_SEARCH].length=0},getSearchMode:function(){return this._queryStateModel.getSearchMode()},getActiveBasicModeSearchers:function(){return this._basicQueryModule.getSelectedCriteria()},setSearchMode:function(a){return this.getSearchMode()!==a?(this._queryStateModel.switchToSearchMode(a),!0):!1},createAndRenderView:function(a){this._queryView=(new f({el:a,queryStateModel:this._queryStateModel,basicQueryModule:this._basicQueryModule,
jqlQueryModule:this._jqlQueryModule,columnConfig:this._columnConfig})).onVerticalResize(this.triggerVerticalResize,this);this._queryView.render()},isQueryValid:function(){return this._errors&&0===this._errors[this._queryStateModel.BASIC_SEARCH].length&&0===this._errors[this._queryStateModel.ADVANCED_SEARCH].length}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QueryStateModel.js' */
define("jira/components/query/querystatemodel",["require"],function(b){var c=b("jira/components/libs/brace"),d=b("jira/components/query/messages"),e=b("wrm/context-path"),f=b("jquery"),g=b("jira/components/utils/trace");return c.Model.extend({BASIC_SEARCH:"basic",ADVANCED_SEARCH:"advanced",namedAttributes:"style searchMode preferredSearchMode jql context without layoutSwitcher autocompleteEnabled advancedAutoUpdate basicAutoUpdate basicOrderBy".split(" "),defaults:{searchMode:"basic",preferredSearchMode:"basic"},
switchToSearchMode:function(a){this.setSearchMode(a)},switchPreferredSearchMode:function(a){this.switchToSearchMode(a);this.setPreferredSearchMode(a);this._savePreferredSearchMode()},switchToPreferredSearchMode:function(){this.switchToSearchMode(this.getPreferredSearchMode())},hasSearchButton:function(){return"field"!==this.getStyle()},hasSubtleMoreCriteria:function(){return"field"!==this.getStyle()},getJqlWithContext:function(){return this.combineContextAndJql(this.getContext(),this.getJql())},combineContextAndJql:function(a,
b){return[a,b].filter(Boolean).join(" AND ")},_savePreferredSearchMode:function(){f.ajax({url:e()+"/rest/querycomponent/latest/userSearchMode",type:"POST",headers:{"X-Atlassian-Token":"no-check"},data:{searchMode:this.getPreferredSearchMode()},error:function(a){d.displayFailSearchMessage(a)},success:function(){g("jira.search.mode.changed")}})}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SwitcherModel.js' */
define("jira/components/query/switchermodel",["require"],function(a){return a("jira/components/libs/brace").Model.extend({namedAttributes:["id","name","view","text"]})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SwitcherCollection.js' */
define("jira/components/query/switchercollection",["require"],function(a){var b=a("jira/components/libs/brace");a=a("jira/components/query/switchermodel");return b.Collection.extend({model:a})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QuerySwitcherViewModel.js' */
define("jira/components/query/queryswitcherviewmodel",["require"],function(a){var b=a("jira/components/libs/underscore"),c=a("jira/components/libs/brace");a=a("jira/components/query/mixin/singleselect");return c.Model.extend({mixins:[a],namedAttributes:["disabled"],namedEvents:["selectionChanged"],initialize:function(d,a){this.queryStateModel=a.queryStateModel;this.queryStateModel.on("change:searchMode",b.bind(function(){this.triggerSelectionChanged.apply(this,arguments)},this))},getSelected:function(){var a=
this.queryStateModel.getSearchMode();return a?this.getCollection().get(a):null},setSelected:function(a){this.queryStateModel.switchPreferredSearchMode(a?a.id:null)},enableSwitching:function(){this.setDisabled(!1)},disableSwitching:function(){this.setDisabled(!0)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/QueryView.js' */
define("jira/components/query/queryview",["require"],function(b){var e=b("jira/components/libs/brace"),c=b("jira/components/query/templates/issuenavquery"),f=b("jira/components/query/switchercollection"),g=b("jira/components/query/switcherview"),h=b("jira/components/query/queryswitcherviewmodel"),d=b("jira/components/query/templates/issues/componentutil");return e.View.extend({namedEvents:["verticalResize"],template:c.queryView,events:{"click .search-button":"search",submit:"preventDefault"},initialize:function(a){this.queryStateModel=
a.queryStateModel;var b=new f([{id:this.queryStateModel.BASIC_SEARCH,name:"Basic",view:a.basicQueryModule.createView()},{id:this.queryStateModel.ADVANCED_SEARCH,name:"Advanced",view:a.jqlQueryModule.createView()}]);this.jqlQueryModule=a.jqlQueryModule;this.switcherViewModel=new h({collection:b},{queryStateModel:this.queryStateModel});this.columnConfig=a.columnConfig;this.switcherView=(new g({template:c.searchSwitcher,model:this.switcherViewModel,containerClass:".search-container"})).onVerticalResize(this.triggerVerticalResize,
this)},render:function(){this.$el.html(this.template(this.queryStateModel.toJSON()));this.switcherView.setElement(this.$el).render();this.columnConfig&&this.columnConfig.setElement(this.$el.find(".column-picker-trigger-container")).render();return this},preventDefault:function(a){a.preventDefault()},clearNotifications:function(){this.$(".notifications").empty()},search:function(){this.queryStateModel.ADVANCED_SEARCH===this.switcherViewModel.getSelected().getId()?this.jqlQueryModule.search():this.getView().search()},
getView:function(){return this.switcherViewModel.getSelected().getView()},showErrors:function(a){this.$(".notifications").append(d.errorMessage({messages:a}))},showWarnings:function(a){this.$(".notifications").append(d.warningMessage({messages:a}))},setVisible:function(a){this.$(".search-container").toggleClass("hidden",!a);this.switcherView.setVisible(a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/SwitcherView.js' */
define("jira/components/query/switcherview",["require"],function(b){var c=b("jira/components/libs/underscore"),d=b("jquery"),e=b("jira/components/libs/brace"),f=b("jira/issues/tipsy");return e.View.extend({namedEvents:["verticalResize"],tagName:"div",events:{"click .switcher-item":"_onSwitcherClick"},initialize:function(a){this.containerClass=a.containerClass;this.model=a.model;this.template=a.template;this.model.onSelectionChanged(this._onSelect,this);this.switchEl=d();this.model.on("change:disabled",
c.bind(this._setSwitching,this))},render:function(){this._onSelect();this._render()},_render:function(){var a=this.model.getSelected();this.switchEl=this.$el.find(".mode-switcher");this.switchEl.html(this.template({items:this.model.getCollection().toJSON(),selectedId:a&&a.id}));new f({el:this.$el.find(".switcher-item.active")})},getSwitcherTrigger:function(){return this.switchEl.find(".switcher-item.active")},_onSelect:function(){var a=this.$el.find(this.containerClass).empty(),b=this.model.getSelected();
b&&(a.attr("data-mode",b.id),b.getView().setElement(a).render());this._render();this.triggerVerticalResize()},_onSwitcherClick:function(a){a.preventDefault();this.model.getDisabled()||(this.model.next(),a=this.model.getSelected().getView(),a.focus&&a.focus())},_setSwitching:function(){this.model.getDisabled()?this.disableSwitching():this.enableSwitching()},disableSwitching:function(){this.switchEl.addClass("disabled");this.getSwitcherTrigger().attr("original-title","\u042d\u0442\u043e\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0441\u043b\u043e\u0436\u0435\u043d \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u041f\u0440\u043e\u0441\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.")},
enableSwitching:function(){this.switchEl.removeClass("disabled");var a=this.model.getSelected();a&&"advanced"===a.id&&this.getSwitcherTrigger().attr("original-title","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0431\u0430\u0437\u043e\u0432\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0443")},setVisible:function(a){this.switchEl.toggleClass("hidden",!a)}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/Query.js' */
define("jira/components/query",["require"],function(b){var c=b("jira/components/libs/underscore"),f=b("jquery"),g=b("jira/components/query/querymodule"),h=b("jira/components/query/querystatemodel"),k=b("jira/util/events");b=b("jira/util/events/types");k.bind(b.CHECKBOXMULITSELECT_READY,function(b,a){a.closest(".form-body").addClass("checkboxmultiselect-container")});return function(){var b={project:"\u041f\u0440\u043e\u0435\u043a\u0442",issuetype:"\u041d\u0430\u0436\u0430\u0442\u044c",
status:"\u0421\u0442\u0430\u0442\u0443\u0441",assignee:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c",reporter:"\u0410\u0432\u0442\u043e\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",labels:"\u041c\u0435\u0442\u043a\u0438",resolution:"\u0420\u0435\u0437\u043e\u043b\u044e\u0446\u0438\u044f",created:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",updated:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d",resolutiondate:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0437\u043e\u043b\u044e\u0446\u0438\u0438",
description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",duedate:"\u0421\u0440\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fixfor:"\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f",version:"\u0417\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u0435\u0442 \u0432\u0435\u0440\u0441\u0438\u044e",component:"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442"};return{DEFAULT_CLAUSES:["project","issuetype","status","assignee"],
create:function(a){a=c.defaults(a,{primaryClauses:this.DEFAULT_CLAUSES,without:[],style:"generic",layoutSwitcher:!0,autocompleteEnabled:!0,advancedAutoUpdate:!1,basicOrderBy:!1,basicAutoUpdate:!0,preferredSearchMode:"basic"});a.primaryClauses=c.reject(a.primaryClauses,function(b){return c.contains(a.without,b.id)});c.each(a.primaryClauses,function(d,c){"string"===typeof d&&(b[d]?a.primaryClauses[c]={id:d,name:b[d]}:console.error("jira/components/query: You have specified clause ["+d+"]. But we do not have the i18n string for it, probably a custom field. Instead use {id:"+
d+", name: '[NAME_HERE]'}"))});var e=new g({queryStateModel:new h({jql:a.jql,context:a.context,without:a.without,style:a.style,layoutSwitcher:a.layoutSwitcher,autocompleteEnabled:a.autocompleteEnabled,advancedAutoUpdate:a.advancedAutoUpdate,basicAutoUpdate:a.basicAutoUpdate,preferredSearchMode:a.preferredSearchMode,basicOrderBy:a.basicOrderBy}),primaryClauses:a.primaryClauses,searchers:a.searchers,columnConfig:a.columnConfig});f(a.el).addClass("query-component "+a.style+"-styled");e.createAndRenderView(a.el);
(a.jql||""===a.jql)&&e.resetToQuery(a.jql).always(function(){f(a.el).addClass("ready");e.triggerInitialized(a.jql)});return e}}}()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/Messages.js' */
define("jira/components/query/messages",["require"],function(b){var c=b("jira/message"),d=b("jira/ajs/ajax/smart-ajax");return{displayFailSearchMessage:function(a){if(a&&"abort"!==a.statusText)return c.showErrorMsg(d.buildSimpleErrorContent(a),{closeable:!0})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/templates/amd-wrapper.js' */
define("jira/components/query/templates/issuenavquery",function(){return JIRA.Templates.IssueNavQuery});define("jira/components/query/templates/issuenavquerybasic",function(){return JIRA.Templates.IssueNavQueryBasic});define("jira/components/query/templates/issuenavqueryjql",function(){return JIRA.Templates.IssueNavQueryJql});define("jira/components/query/templates/issues/componentutil",function(){return JIRA.Templates.Issues.ComponentUtil});AJS.namespace("JIRA.Templates.IssueNavQuery",null,require("jira/components/query/templates/issuenavquery"));
AJS.namespace("JIRA.Templates.IssueNavQueryBasic",null,require("jira/components/query/templates/issuenavquerybasic"));AJS.namespace("JIRA.Templates.IssueNavQueryJql",null,require("jira/components/query/templates/issuenavqueryjql"));AJS.namespace("JIRA.Templates.Issues.ComponentUtil",null,require("jira/components/query/templates/issues/componentutil"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-components:query', location = 'query/namespace.js' */
AJS.namespace("JIRA.Components.Query",null,require("jira/components/query"));AJS.namespace("JIRA.Issues.QueryModule",null,require("jira/components/query/querymodule"));AJS.namespace("JIRA.Issues.QueryStateModel",null,require("jira/components/query/querystatemodel"));AJS.namespace("JIRA.Issues.QuerySwitcherViewModel",null,require("jira/components/query/queryswitcherviewmodel"));AJS.namespace("JIRA.Issues.QueryView",null,require("jira/components/query/queryview"));
AJS.namespace("JIRA.Issues.SwitcherCollection",null,require("jira/components/query/switchercollection"));AJS.namespace("JIRA.Issues.SwitcherModel",null,require("jira/components/query/switchermodel"));AJS.namespace("JIRA.Issues.SwitcherView",null,require("jira/components/query/switcherview"));AJS.namespace("JIRA.Issues.Mixin.SingleSelect",null,require("jira/components/query/mixin/singleselect"));AJS.namespace("JIRA.Issues.JqlQueryModule",null,require("jira/components/query/jql/jqlquerymodule"));
AJS.namespace("JIRA.Issues.JqlQueryView",null,require("jira/components/query/jql/jqlqueryview"));AJS.namespace("JIRA.Issues.JQLAutoCompleteView",null,require("jira/components/query/jql/jqlautocompleteview"));AJS.namespace("JIRA.Issues.BasicQueryModule",null,require("jira/components/query/basic/basicquerymodule"));AJS.namespace("JIRA.Issues.SearcherCollection",null,require("jira/components/query/basic/searchercollection"));AJS.namespace("JIRA.Issues.SearcherDialog",null,require("jira/components/query/basic/searcherdialog"));
AJS.namespace("JIRA.Issues.SearcherModel",null,require("jira/components/query/basic/searchermodel"));AJS.namespace("JIRA.Issues.BasicQueryView",null,require("jira/components/query/basic/basicqueryview"));AJS.namespace("JIRA.Issues.CardView",null,require("jira/components/query/basic/cardview"));AJS.namespace("JIRA.Issues.ClauseButtonView",null,require("jira/components/query/basic/clausebuttonview"));AJS.namespace("JIRA.Issues.ClauseListDialogView",null,require("jira/components/query/basic/clauselistdialogview"));
AJS.namespace("JIRA.Issues.CriteriaModel",null,require("jira/components/query/basic/criteriamodel"));AJS.namespace("JIRA.Issues.CriteriaView",null,require("jira/components/query/basic/criteriaview"));AJS.namespace("JIRA.Issues.ExtendedCriteriaContainerView",null,require("jira/components/query/basic/extendedcriteriacontainerview"));AJS.namespace("JIRA.Issues.PrimaryCriteriaContainerView",null,require("jira/components/query/basic/primarycriteriacontainerview"));
AJS.namespace("JIRA.Issues.SearcherEditDialogView",null,require("jira/components/query/basic/searchereditdialogview"));AJS.namespace("JIRA.Issues.SearcherGroupListDialogView",null,require("jira/components/query/basic/searchergrouplistdialogview"));AJS.namespace("JIRA.Issues.TextFieldView",null,require("jira/components/query/basic/textfieldview"));AJS.namespace("JIRA.Issues.TextQueryBuilder",null,require("jira/components/query/basic/textquerybuilder"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-query', location = 'content/js/search/query/SearchShifter.js' */
define("jira/issues/search/query/search-shifter",["require"],function(b){var e=b("jquery"),d=b("jira/components/query/basic/searcherdialog");return function(c){var b=function(){var a=c.searcherCollection.chain().filter(f).map(g).value();return function(){return(new e.Deferred).resolve(a).promise()}};var h=function(a){var b=d.instance.getCurrentSearcher();a=c.searcherCollection.get(a);a.getIsSelected()||a.select();b&&b.getId()===a.getId()||d.instance.toggle(a)};var f=function(a){return a.getIsShown()};
var g=function(a){return{label:a.getName(),value:a.getId()}};return function(){return!c.isBasicMode()||c.isFullScreenIssue()?null:{getSuggestions:b(),name:"\u041a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430",onSelection:h,weight:150}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-query', location = 'content/js/search/query/namespace.js' */
AJS.namespace("JIRA.Issues.SearchShifter",null,require("jira/issues/search/query/search-shifter"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:uri', location = 'libs/uri.js' */
define("jira/components/libs/uri",["atlassian/libs/uri-1.14.1"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/templates/splitview.soy' */
// This file was automatically generated from splitview.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.SplitView.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.SplitView == 'undefined') { JIRA.Templates.SplitView = {}; }


JIRA.Templates.SplitView.fullSplitView = function(opt_data, opt_ignored) {
  return JIRA.Templates.SplitView.issueRenderSpinner(null) + '<div style="display: none"><div class="aui-group split-view"><div class="aui-item list-results-panel"><div class="list-panel"><div class="list-ordering"></div><div class="list-content">' + ((opt_data.issuePanelData) ? JIRA.Templates.SplitView.issueList(opt_data.issuePanelData) : '') + '</div></div><div class="end-of-stable-message-container"></div><div class="aui-group pagination-view count-pagination"><div class="refresh-container aui-item">' + JIRA.Templates.IssueNav.refreshResults(null) + '</div><div class="pagination-container aui-item">' + ((opt_data.pagination) ? JIRA.Templates.IssueNavTable.pagination(opt_data.pagination) : '') + '</div></div></div><div class="aui-item detail-panel navigator-issue-only"><div></div></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.fullSplitView.soyTemplateName = 'JIRA.Templates.SplitView.fullSplitView';
}


JIRA.Templates.SplitView.issueRenderSpinner = function(opt_data, opt_ignored) {
  return '<div class="issue-render-spinner"><aui-spinner size="large"></aui-spinner></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueRenderSpinner.soyTemplateName = 'JIRA.Templates.SplitView.issueRenderSpinner';
}


JIRA.Templates.SplitView.issueList = function(opt_data, opt_ignored) {
  var output = '<ol class="issue-list">';
  var iLimit19 = opt_data.issues.length;
  for (var i19 = 0; i19 < iLimit19; i19++) {
    var issue__soy20 = opt_data.issues[i19];
    var issueID__soy21 = opt_data.issueIDs[i19];
    var isHighlighted__soy22 = issueID__soy21 == opt_data.highlightedID;
    output += (issue__soy20) ? '<li ' + ((isHighlighted__soy22) ? 'class="focused"' : '') + ' data-id="' + soy.$$escapeHtml(issueID__soy21) + '" data-key="' + soy.$$escapeHtml(issue__soy20.key) + '" title="' + soy.$$escapeHtml(issue__soy20.summary) + '">' + JIRA.Templates.SplitView.issueRow(issue__soy20) + '</li>' : JIRA.Templates.SplitView.inaccessibleIssueRow({isHighlighted: isHighlighted__soy22, issueID: issueID__soy21});
  }
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueList.soyTemplateName = 'JIRA.Templates.SplitView.issueList';
}


JIRA.Templates.SplitView.issueRow = function(opt_data, opt_ignored) {
  return '<a class="splitview-issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '">' + ((opt_data.type) ? JIRA.Templates.SplitView.issueIcon(opt_data.type) + '&nbsp;' : '') + '<span class="issue-link-key">' + soy.$$escapeHtml(opt_data.key) + '</span><br/><span class="issue-link-summary">' + soy.$$escapeHtml(opt_data.summary) + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueRow.soyTemplateName = 'JIRA.Templates.SplitView.issueRow';
}


JIRA.Templates.SplitView.issueIcon = function(opt_data, opt_ignored) {
  return '<img height="16" width="16" alt="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$escapeHtml(opt_data.name) + ' - ' + soy.$$escapeHtml(opt_data.description) + '" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" />';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueIcon.soyTemplateName = 'JIRA.Templates.SplitView.issueIcon';
}


JIRA.Templates.SplitView.inaccessibleIssueRow = function(opt_data, opt_ignored) {
  return '<li class="inaccessible-issue ' + ((opt_data.isHighlighted) ? 'focused' : '') + '" data-id="' + soy.$$escapeHtml(opt_data.issueID) + '">' + soy.$$escapeHtml('\u042d\u0442\u043e\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442') + '</li>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.inaccessibleIssueRow.soyTemplateName = 'JIRA.Templates.SplitView.inaccessibleIssueRow';
}


JIRA.Templates.SplitView.issueDetailsNoSelection = function(opt_data, opt_ignored) {
  return '<div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.SplitView.issueDetailsNoSelection.soyTemplateName = 'JIRA.Templates.SplitView.issueDetailsNoSelection';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Analytics.js' */
define("jira/issues/views/details/analytics",[],function(){return{triggerIssueTableRefresh:function(){JIRA.Issues.Application.execute("analytics:trigger","kickass.issueTableRefresh",{source:"jira.issuenav.global"})},triggerOpenIssueFromTable:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.openIssueFromTable",{issueId:a.id,absolutePosition:a.absolutePosition+1,relativePosition:a.relativePosition+1,source:"jira.issuenav.global"})},triggerViewIssue:function(a){JIRA.Issues.Application.execute("analytics:trigger",
"kickass.viewIssue",{issueId:a.issueId,loadReason:a.loadReason,duration:a.duration,loadedFromDom:!1,source:"jira.issuenav.global",projectId:a.projectId,projectType:a.projectType||"unknown",issueMatchesProjectContext:null==a.issueKey?!1:0===a.issueKey.indexOf(a.projectKey+"-")})},triggerInlineEdit:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit",{issueId:a.issueId,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,duration:a.duration,source:"jira.issuenav.global"})},
triggerInlineEditStart:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.start",{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.issuenav.global"})},triggerInlineEditCancel:function(a){JIRA.Issues.Application.execute("analytics:trigger","kickass.inlineEdit.cancel",{issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType,source:"jira.issuenav.global"})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Traces.js' */
define("jira/issues/views/details/traces",[],function(){return{triggerSearchFinished:function(){JIRA.trace("jira.search.finished")},triggerStableUpdate:function(){JIRA.trace("jira.search.stable.update")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/ApplicationAdapter.js' */
define("jira/issues/views/details/application-adapter",[],function(){function e(a,b){for(var c in b){var e=b[c];JIRA.Issues.Application.reqres.hasHandler(c)?d[a][c]=JIRA.Issues.Application.reqres.getHandler(c):d[a][c]=null;JIRA.Issues.Application.reqres.setHandler(c,e)}}function f(a){for(var b in d[a]){var c=d[a][b];c?JIRA.Issues.Application.reqres.setHandler(b,c):JIRA.Issues.Application.reqres.removeHandler(b);delete d[a][b]}}var d={reqres:{},commands:{}};return{init:function(a){e("reqres",{"issueEditor:canDismissComment":function(){return a.canDismissComment()},
"issueEditor:getIssueId":function(){return a.getActiveIssueId()},"issueEditor:getIssueKey":function(){return a.getActiveIssueKey()},"issueEditor:refreshIssue":function(){return a.refreshIssue()},"issueEditor:isCurrentlyLoading":function(){return a.isLoading()},"issueEditor:hasSavesInProgress":function(){return a.hasSavesInProgress()},"issueEditor:fields":function(){return a.getEditorFields()}});e("commands",{"issueEditor:abortPending":function(){return a.abortPending()},"issueEditor:beforeHide":function(){return a.beforeHide()},
"issueEditor:beforeShow":function(){return a.beforeShow()},"issueEditor:removeIssueMetadata":function(){return a.removeIssueMetadata()},"issueEditor:updateIssueWithQuery":function(){return a.updateIssueComponent()},"issueEditor:editField":function(b){return a.editField(b)}})},destroy:function(){f("reqres");f("commands")}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/services/Metrics.js' */
define("jira/issues/views/details/metrics",["internal/browser-metrics"],function(a){return{viewIssue:function(){a.start({isInitial:!0,key:"jira.issue.view",ready:["#key-val",".issue-body-content"]})},startFromPageLoad:function(){a.start({isInitial:!0,key:"jira.issue.nav-detail"})},start:function(){a.end({key:"jira.issue.nav-detail"});a.start({isInitial:!1,key:"jira.issue.nav-detail"})},end:function(b){a.end({key:"jira.issue.nav-detail",entityId:b})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/views/details/Details.js' */
define("jira/issues/views/details","underscore jira/components/lib/marionette-2.1.0 jira/components/detailslayout jira/components/search/results jira/issues/views/details/metrics jira/issues/views/details/analytics jira/issues/views/details/traces jira/issues/views/details/application-adapter jira/components/libs/uri".split(" "),function(g,m,n,p,d,e,h,k,l){return m.Object.extend({_buildSearchResults:function(c){this._destroySearchResults();var b=c.getResults(),d=b._getIssueIdsToKeys(),a=b.get("issueIds");
a=g.map(a,function(a){return{id:a,key:d[a]}});this.searchResults=new p([],{totalRecordsInDB:b.get("total"),pageSize:b.get("pageSize"),totalRecordsInSearch:b.get("issueIds").length,issues:a,jql:c.getEffectiveJql(),allowNoSelection:!0})},_destroySearchResults:function(){this.searchResults&&(this.stopListening(this.searchResults),delete this.searchResults)},_buildDetailsLayout:function(c){var b=(new l).query();b=(new l(AJS.contextPath()+"/issues/")).query(b).removeQuery("startIndex");this.detailsLayout=
new n({baseURL:b.toString(),shouldUpdateCurrentProject:!1});var f=g.bind(this.detailsLayout.adjustSize,this.detailsLayout);this.listenTo(this.detailsLayout,{select:function(a){if(a.id){var b=!1;this.search.getResults().getSelectedIssue().getKey()||(b=!0);this.search.getResults().selectIssueById(a.id,{replace:b})}},"list:refresh":function(){d.start();e.triggerIssueTableRefresh();this.search.refresh()},"list:sort":function(a){this.search.doSort(a)},"list:update":function(){h.triggerSearchFinished();
h.triggerStableUpdate()},"list:render":function(){this.trigger("render")},empty:function(){h.triggerSearchFinished();this.trigger("render")},destroy:function(){JIRA.Issues.offHorizontalResize(f);JIRA.Issues.offVerticalResize(f)},"list:select":function(a){d.start();e.triggerOpenIssueFromTable({issueId:a.id,absolutePosition:a.absolutePosition,relativePosition:a.relativePosition})},"list:pagination":function(){d.start()},editorLoaded:function(a){d.end(a.issueId);e.triggerViewIssue(a)},editorLoadedFromCache:function(a){d.end(a.issueId)},
"editor:saveSuccess":function(a){e.triggerInlineEdit({issueId:a.event,savedFieldIds:a.savedFieldIds,savedFieldTypes:a.savedFieldTypes,duration:a.duration})},"editor:editField":function(a){e.triggerInlineEditStart({issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType})},"editor:editFieldCancel":function(a){e.triggerInlineEditCancel({issueId:a.issueId,fieldId:a.fieldId,fieldType:a.fieldType})},linkToIssue:function(a){d.viewIssue();c.reset({selectedIssueKey:a.issueKey})}});JIRA.Issues.onHorizontalResize(f);
JIRA.Issues.onVerticalResize(f)},_destroyDetailsLayout:function(){this.detailsLayout.destroy();delete this.detailsLayout},_buildSearch:function(c){this.search=c;this.listenTo(this.search.getResults(),{"change:resultsId":this._loadSearch,issueDeleted:function(b){b=this.searchResults.get(b.id);this.searchResults.removeAndUpdateSelectionIfNeeded(b)}});this.search.getResults().onIssueUpdated(this._handleRefreshIssue);this.listenTo(this.search.getResults().getSelectedIssue(),{change:function(){var b=this.search.getResults().getSelectedIssue().get("id");
b&&this.searchResults&&this.searchResults.selected&&this.searchResults.selected.get("id")!==b&&this.detailsLayout.load(this.searchResults,b)}})},_destroySearch:function(){this.search.getResults().setTable(null,{silent:!0});this.search.getResults().offIssueUpdated(this._handleRefreshIssue)},_loadSearch:function(){var c;this._buildSearchResults(this.search);this.search.getResults().hasSelectedIssue()?c=this.search.getResults().getSelectedIssue().get("key"):0<this.search.getResults().get("startIndex")?
c=this.searchResults.getIssueKeyForIndex(this.search.getResults().get("startIndex")):this.search.getResults().hasHighlightedIssue()&&(c=this.search.getResults().getHighlightedIssue().get("key"));this.detailsLayout.load(this.searchResults,c)},_handleRefreshIssue:function(c){this.detailsLayout.refreshIssue(c)},initialize:function(c){this._handleRefreshIssue=g.bind(this._handleRefreshIssue,this);this._buildDetailsLayout(c.searchPageModule);this._buildSearch(c.search);var b=jQuery("\x3cdiv\x3e\x3c/div\x3e");
c.searchContainer.find(".navigator-content").html("").append(b);this.container=this.detailsLayout.show(b);jQuery("body").addClass("page-type-split");c.fullScreenIssue.hide();k.init(this.detailsLayout)},render:function(){this._loadSearch()},close:function(){this.destroy()},onDestroy:function(){jQuery("body").removeClass("page-type-split");this._destroyDetailsLayout();this._destroySearch();this._destroySearchResults();k.destroy()},nextIssue:function(){this.detailsLayout.selectNext()},prevIssue:function(){this.detailsLayout.selectPrevious()},
isLoading:function(){return this.detailsLayout.isLoading()},isIssueViewActive:function(){return!1},focusIssueList:function(){this.detailsLayout.focusList()},focusIssueEditor:function(){this.detailsLayout.focusEditor()}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/search/FullScreenLayout.js' */
define("jira/issues/full-screen-layout",["jira/components/libs/marionette-1.4.1","jira/issues/components/search","jira/issues/components/issue-table","jira/issues/application","jira/message"],function(c,d,e,b,f){JIRA.Issues.FullScreenLayout=c.Controller.extend({initialize:function(a){this.searchService=new d({searchModule:a.search,searchResults:a.search.getResults(),columnConfig:a.columnConfig});this.$navigatorContent=a.searchContainer.find(".navigator-content");this.issueTable=new e({searchService:this.searchService,
el:this.$navigatorContent,columnConfig:a.columnConfig});this.listenTo(this.issueTable,{highlightIssue:function(a){this.searchService.highlightIssue(a)},render:function(){this.searchService.hasSelectedIssue()||this.fullScreenIssue.hide();this.fullScreenIssue.bindSearchService(this.searchService);this.trigger("render")}});this.fullScreenIssue=a.fullScreenIssue;this.listenTo(this.fullScreenIssue,{issueHidden:function(){this.issueTable.highlightIssue(this.searchService.getHighlightedIssue())}});b.on("issueEditor:loadError",
this.onLoadError,this)},onLoadError:function(a){this.fullScreenIssue.isVisible()||(this.searchService.unselectIssue(),f.showErrorMsg(AJS.format("{0} \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442. \u0417\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d \u0438\u043b\u0438 \u0443 \u0412\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.",a.issueKey),{closeable:!0}))},render:function(){this.issueTable.show()},onClose:function(){this.fullScreenIssue.deactivate();this.issueTable.close();this.searchService.close();b.off("issueEditor:loadError",this.onLoadError,this);delete this.fullScreenIssue;delete this.issueTable;delete this.searchService},nextIssue:function(){this.searchService.selectNextIssue()},
prevIssue:function(){this.searchService.selectPreviousIssue()},returnToSearch:function(){this.searchService.unselectIssue()},focusIssueList:function(){},focusIssueEditor:function(){},isIssueViewActive:function(){return this.fullScreenIssue.isVisible()},isLoading:function(){return this.fullScreenIssue.isLoading()}})});AJS.namespace("JIRA.Issues.FullScreenLayout",null,require("jira/issues/full-screen-layout"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:issuenav-common', location = 'content/js/search/EmptyResultsView.js' */
define("jira/issues/empty-results-view",["underscore"],function(c){return JIRA.Issues.BaseView.extend({initialize:function(a){this.searchResults=a.searchResults},render:function(){var a=JIRA.Issues.UserParms.get().createIssue;if(JIRA.Issues.LoginUtils.isLoggedIn()){var b="\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";var d=a?"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u003ca\u003e\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u003c/a\u003e":"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430";var e="no-results-message";a="create"}else b="\u0417\u0430\u0434\u0430\u0447, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c \u043f\u043e\u0438\u0441\u043a\u0430, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",
d="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u003ca\u003e\u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443\u003c/a\u003e \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",e="not-logged-in-message",a="login";this.$el.addClass("empty-results");this.$el.html(JIRA.Templates.IssueNavTable.noResults({message:b,hint:d,cssClass:e}));b=this.$(".no-results-hint a");switch(a){case "create":b.addClass("create-issue").attr("href",AJS.contextPath()+"/secure/CreateIssue!default.jspa");break;case "login":b.attr("href",JIRA.Issues.LoginUtils.redirectUrlToCurrent()).addClass("login-link")}c.defer(jQuery.event.trigger,"updateOffsets.popout");
c.defer(JIRA.trace,"jira.search.finished")}})});AJS.namespace("JIRA.Issues.EmptyResultsView",null,require("jira/issues/empty-results-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/popupuserprefstore.js' */
define("jira/ajs/gadget/chartpopup/user-preference-store",[],(function(){"use strict";var e={};return{get:function(r){var t=e[r];return t||{}},set:function(r,t,n){var u=this.get(r);u[t]=n;e[r]=u},clear:function(){e={}}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/chartdialog.js' */
define("jira/ajs/gadget/chartpopup/chart-dialog-init",["jira/ajs/gadget/chartpopup/user-preference-store","jira/util/data/meta","jira/util/formatter","jira/util/key-code","jira/libs/parse-uri","wrm/context-path","aui/dialog","jquery"],(function(chartingstore,Meta,formatter,keyCodes,parseUri,wrmContextPath,AuiDialog,jQuery){"use strict";var contextPath=wrmContextPath(),dialog,DIALOG_ID="charts-dialog",CHARTS_CATEGORY="Charts",CHART_HEIGHT=522,saveFormLoaded=!1,idToUriMap={},dialogThrobber=jQuery('<span class="icon throbber"></span>'),getFilterId=function(){var e=Meta.get("filter-id");return e&&e>=0?e:null},getFilterJql=function(){return Meta.get("filter-jql")},getPostData=function(e){var r={};jQuery.each(e,(function(e,t){r[t.name]=t.value}));var t=getFilterId();t?r.filterId=t:r.jql=getFilterJql()||"";var a=dialog.getPage(0).curtab;r.gadgetUri=idToUriMap[a];var o=chartingstore.get(a);if(o){var i={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n]);r.userPrefs=i}return r},loadSaveToDashboardForm=function loadSaveToDashboardForm(){if(!saveFormLoaded){var saveFormUrl=contextPath+"/rest/gadget/1.0/chart/add",filterId=getFilterId();saveFormUrl=filterId?saveFormUrl+"?filterId="+encodeURIComponent(filterId):saveFormUrl+"?jql="+encodeURIComponent(getFilterJql());var saveFormPanel=jQuery("#saveToDashboardPanel");saveFormPanel.empty();jQuery.ajax({url:saveFormUrl,success:function success(data){saveFormPanel.html(data);saveFormLoaded=!0;var chartForm=saveFormPanel.find("form#savetodashboardform"),saveButton=saveFormPanel.find("#save-btn1");chartForm.submit((function(e){e.preventDefault();chartForm.find(".error").remove();chartForm.find(".form-errors p").remove();chartForm.find(".form-errors").hide();saveButton.attr("disabled","true");var postData=getPostData(chartForm.serializeArray());jQuery.ajax({url:chartForm.attr("action"),contentType:"application/json",dataType:"text",data:JSON.stringify(postData),type:"POST",success:function(e){chartForm.trigger("fakesubmit");saveButton.removeAttr("disabled","false");window.location=e},error:function error(XMLHttpRequest){saveButton.removeAttr("disabled","false");if(400===XMLHttpRequest.status){var errorCollection=eval("("+XMLHttpRequest.responseText+")");if(errorCollection.generic.length>0){jQuery(errorCollection.generic).each((function(e,r){chartForm.find(".form-errors").append("<p>"+r+"</p>")}));chartForm.find(".form-errors").show()}errorCollection.fields.length>0&&jQuery(errorCollection.fields).each((function(e,r){chartForm.find("#"+r.field).after('<div class="error">'+r.error+"</div>")}))}}})}));saveFormPanel.find("#cancel-btn1").click((function(e){dialog.prevPage();saveButton.removeAttr("disabled","false");chartForm.find(".form-errors").hide();chartForm.find(".error").remove();e.preventDefault()}))}})}},addThrobber=function(){dialog.popup.element.find(".dialog-button-panel").prepend(dialogThrobber);jQuery(document).ajaxSend((function(e,r){dialog.popup.element.is(":visible")&&jQuery(r).throbber({target:dialogThrobber})}))},addErrorHandler=function(){jQuery(document).ajaxError((function(e,r){if(500===r.status){dialog.hide();jQuery("body").html(r.responseText)}}))},keypressListener=function(e){e.keyCode===keyCodes.ESCAPE&&dialog.hide()},loadChartGadgets=function(e){var r,t=[],a=parseUri(window.location),o=a.protocol+"://"+a.authority;jQuery(e.gadgets).each((function(e,a){if(a.gadgetSpecUri&&(0!==a.gadgetSpecUri.indexOf("http")||0===a.gadgetSpecUri.indexOf(o))){var i={title:a.title,gadgetUri:a.gadgetSpecUri};a.gadgetSpecUri.indexOf("filter-results")>-1&&(r=i);jQuery([a.categories]).each((function(e,a){if(a.constructor===Array)for(var o=0;o<a.length;++o)a[o]===CHARTS_CATEGORY&&r!==i&&t.push(i);else a===CHARTS_CATEGORY&&r!==i&&t.push(i)}))}}));t.sort((function(e,r){return e.title>r.title?1:-1}));r&&t.unshift(r);return t},renderPanelContents=function(e,r){e.body.html(r);e.loaded=!0},resetPanels=function(e){var r=loadChartGadgets(e);dialog.gotoPage(0);jQuery(r).each((function(e,r){dialog.page[0].addPanel(r.title,'<div class="loadingPanel">&nbsp;</div>');var t=dialog.getPanel(e);if(t){t.loaded=!1;idToUriMap[e]=r.gadgetUri;t.body.show=function(t,a){return function(){if(!t.loaded){var o=contextPath+"/rest/gadget/1.0/chart/render?id="+e+"&gadgetUri="+encodeURIComponent(r.gadgetUri),i=getFilterId();o=i?o+"&filterId="+encodeURIComponent(i):o+"&jql="+encodeURIComponent(getFilterJql());jQuery.ajax({url:o,success:function(e){renderPanelContents(t,e)}})}a.call(t.body)}}(t,t.body.show)}}))},createDialog=function(e,r,t){(dialog=new AuiDialog(e,r,DIALOG_ID)).addHeader("\u0413\u0430\u0434\u0436\u0435\u0442\u044b");resetPanels(t);dialog.addButton("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430 \u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0421\u0442\u043e\u043b",(function(e){loadSaveToDashboardForm();e.nextPage()}),"save-to-dashboard");dialog.addCancel("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",(function(e){e.hide()}));dialog.addPage();dialog.page[1].addPanel("saveToDashBoard",'<div id="saveToDashboardPanel"</div>');dialog.page[1].addHeader("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a \u043d\u0430 \u0420\u0430\u0431\u043e\u0447\u0435\u043c \u0421\u0442\u043e\u043b\u0435");addThrobber();addErrorHandler();jQuery(document).keydown(keypressListener)},resetDialog=function(e){if(dialog){saveFormLoaded=!1;jQuery("form[name=chartpopup]").show();jQuery("input[name=filterName]").val("");dialog.gotoPage(0);for(var r=0;dialog.getPanel(r);r++){dialog.getPanel(r).loaded=!1}dialog.gotoPanel(e)}},launchDialog=function(e,r,t,a){if(dialog){resetDialog(a);dialog.show()}else jQuery(jQuery.ajax({url:e,dataType:"json",success:function(e){dialog||createDialog(r,t,e);dialog.show();dialog.gotoPage(0);dialog.gotoPanel(a)}})).throbber({target:jQuery("#throbber-space")})};function initChartDialogTriggers(){jQuery(document).on("click","#charts",(function(e){AJS.populateParameters();launchDialog(contextPath+"/rest/config/1.0/directory.json",800,CHART_HEIGHT,1);e.preventDefault()}));jQuery(document).on("click","#onDashboard",(function(e){AJS.populateParameters();launchDialog(contextPath+"/rest/config/1.0/directory.json",800,CHART_HEIGHT,0);e.preventDefault()}))}return{init:initChartDialogTriggers}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.gadgets:searchrequestview-charts', location = 'script/chartpopup/chartpopup-init.js' */
require(["jira/ajs/gadget/chartpopup/chart-dialog-init","jira/ajs/gadget/chartpopup/user-preference-store","jquery"],(function(e,t,r){"use strict";gadgets.IfrGadgetService.prototype.setUserPref=function(e,r,i){var a=this.f;a&&(a=a.substr(7));t.set(a,r,i)};r((function(){e.init()}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:search-list-resize', location = 'content/js/search/util/SearchListSizing.js' */
define("jira/issues/search/util/searchlistsizing",function(){return{setSearchContainerHeight:function(){var b=document.body.getBoundingClientRect().height;const a=document.querySelector(".navigator-container"),c=document.querySelector(".contained-content");a&&c&&(b-=a.getBoundingClientRect().height,c.style.height="calc(100vh - "+b+"px)")},init:function(){const b=this;if("undefined"===typeof window.ResizeObserver)this.setSearchContainerHeight();else{let a=!1;(new window.ResizeObserver(function(){a?
a=!1:(b.setSearchContainerHeight(),a=!0)})).observe(document.body)}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-issue-nav-plugin:standalone-issue-nav', location = 'content/js/search/IssueNavInit.js' */
(function(b){var a=b("jquery"),f=b("jira/components/libs/backbone"),g=b("jira/components/libs/underscore"),h=b("jira/ajs/keyboardshortcut/keyboard-shortcut"),k=b("jira/util/data/meta"),l=b("jira/issues/search/util/searchlistsizing");a(document).on("keydown",function(a){27===a.which&&a.preventDefault()});a(function(){JIRA.Issues.Application.start({showReturnToSearchOnError:function(){return"split-view"!==JIRA.Issues.LayoutPreferenceManager.getPreferredLayoutKey()},useLog:!0===k.get("dev-mode")});JIRA.Issues.GlobalIssueNavCreator.create(a(document),
JIRA.Issues.GlobalIssueNavCreator.readInitialData());f.history.start({root:JIRA.Issues.IssueNavRouter.getBackboneRoot(),pushState:!0});h.addIgnoreCondition(function(a,b,e){return"issueaction"===e&&JIRA.Issues.Api.isCurrentlyLoadingIssue()});var b=parseInt(a("body").css("minWidth"),10);a(document).bind("resultsWidthChanged",function(){var c=a(".contained-content"),d=c.parent();if(0<c.length){var e=c.offset().left;d=(Math.max(window.innerWidth,b)-e)/d.width()*100;100>d?c.css("width",d+"%"):c.css("width",
"");a(document).trigger("issueNavWidthChanged")}});a(document).trigger("resultsWidthChanged");JIRA.Issues.onVerticalResize(function(){a.event.trigger("updateOffsets.popout")});l.init();JIRA.bind(JIRA.Events.LAYOUT_RENDERED,function(){g.defer(function(){a.event.trigger("updateOffsets.popout")})})})})(window.require);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-quicksearch-plugin:split_vendors~jira-quicksearch-plugin', location = 'frontend/bundle.vendors~jira-quicksearch-plugin.js' */
(window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664||[]).push([[2],{1:function(e,t,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=n(11),a={},i=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,d=0,u=!1,l=function(){},f=null,p="data-vue-ssr-id",c="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=a[n.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](n.parts[s]);for(;s<n.parts.length;s++)r.parts.push(b(n.parts[s]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(s=0;s<n.parts.length;s++)i.push(b(n.parts[s]));a[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function b(e){var t,n,r=document.querySelector("style["+p+'~="'+e.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(c){var s=d++;r=o||(o=v()),t=y.bind(null,r,s,!1),n=y.bind(null,r,s,!0)}else r=v(),t=C.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}e.exports=function(e,t,n,r){u=n,f=r||{};var i=s(e,t);return h(i),function(t){for(var n=[],r=0;r<i.length;r++){var o=i[r];(d=a[o.id]).refs--,n.push(d)}t?h(i=s(e,t)):i=[];for(r=0;r<n.length;r++){var d;if(0===(d=n[r]).refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete a[d.id]}}}};var g,m=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function y(e,t,n,r){var s=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,s);else{var a=document.createTextNode(s),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function C(e,t){var n=t.css,r=t.media,s=t.sourceMap;if(r&&e.setAttribute("media",r),f.ssrId&&e.setAttribute(p,t.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},11:function(e,t){e.exports=function(e,t){for(var n=[],r={},s=0;s<t.length;s++){var a=t[s],i=a[0],o={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(o):n.push(r[i]={id:i,parts:[o]})}return n}}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-quicksearch-plugin:entrypoint-jira-quicksearch-plugin', location = 'frontend/bundle.jira-quicksearch-plugin.js' */
!function(e){function t(t){for(var n,i,o=t[0],s=t[1],l=t[2],f=0,d=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(u,i)&&u[i]&&d.push(u[i][0]),u[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);d.length;)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==u[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},u={1:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[];return 0===u[e]?Promise.resolve():u[e]?u[e][2]:(t.push(new Promise((function(t,r){u[e]=[t,r]})),new Promise((function(t,r){WRM.require("wrc!com.atlassian.jira.plugins.jira-quicksearch-plugin:"+e).then(t,r)}))),u[e][2]=Promise.all(t))},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e},"undefined"!=typeof AJS&&(i.p=AJS.contextPath()+"/s/47edf59d-ecbe-43c0-ab81-3f689ad1e457/_/download/resources/com.atlassian.jira.plugins.jira-quicksearch-plugin:assets-47edf59d-ecbe-43c0-ab81-3f689ad1e457/");var o=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664=window.atlassianWebpackJsonpe5ed4b01bb42b7893d8aef5bda9bf664||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=s;a.push([7,2]),r()}([function(e,t){e.exports=require("jquery")},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUICK_SEARCH_RESULTS_EMPTY_STATE=t.QUICK_SEARCH_PARENT_LOADING_CLASS=t.QUICK_SEARCH_SPINNER_LOCATOR_CLASS=t.QUICK_SEARCH_SPINNER_CLASS=t.QUICK_SEARCH_INPUT_LOCATOR=t.QUICK_SEARCH_INPUT_ID=t.QUICK_SEARCH_FEATURE_FLAG=void 0;var n=u(r(6));function u(e){return e&&e.__esModule?e:{default:e}}var a=u(r(3)).default,i=(t.QUICK_SEARCH_FEATURE_FLAG="jira.quick.search",t.QUICK_SEARCH_INPUT_ID="quickSearchInput"),o=t.QUICK_SEARCH_INPUT_LOCATOR="#"+i,s=t.QUICK_SEARCH_SPINNER_CLASS="quick-search-spinner";t.QUICK_SEARCH_SPINNER_LOCATOR_CLASS=o+" ~ ."+s,t.QUICK_SEARCH_PARENT_LOADING_CLASS="quicksearch-loading",t.QUICK_SEARCH_RESULTS_EMPTY_STATE=Object.freeze([{id:"quick-search-issues",items:[],name:"\u0417\u0430\u043f\u0440\u043e\u0441\u044b",url:(0,n.default)()+"/issues/?jql=order+by+lastViewed+DESC",viewAllTitle:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b"},{id:"quick-search-projects",items:[],name:"ultimate.search.group.projects.name",url:(0,n.default)()+"/projects?selectedCategory=all&selectedProjectType=all&contains=",viewAllTitle:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"}])},function(e,t){e.exports=require("jira/util/formatter")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("jira/analytics")},function(e,t){e.exports=require("wrm/context-path")},function(e,t,r){"use strict";var n=s(r(0)),u=s(r(4)),a=s(r(5)),i=s(r(8));r(9);var o=r(2);function s(e){return e&&e.__esModule?e:{default:e}}i.default.isFeatureEnabled(o.QUICK_SEARCH_FEATURE_FLAG)&&((0,n.default)((function(){var e=(0,n.default)(o.QUICK_SEARCH_INPUT_LOCATOR);e.after('<div class="'+o.QUICK_SEARCH_SPINNER_CLASS+'"></div>'),e.on("beforeBlurInput",(function(e){e.preventDefault()}));var t=u.default.once((function(){r.e(0).then(r.t.bind(null,12,7)).then((function(e){return(0,e.spinStart)()})),Promise.all([r.e(4),r.e(0),r.e(3)]).then(r.t.bind(null,13,7))}));e.focus(t),e.is(":focus")&&t()})),(0,n.default)(window).load((function(){r.e(5).then(r.t.bind(null,14,7)).then((function(e){return(0,e.showOnboardingTip)()})),a.default.send({name:"quicksearch.enabled"})})))},function(e,t){e.exports=require("jira/featureflags/feature-manager")},function(e,t,r){var n=r(10);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(1)("419b7cb8",n,!0,{})},function(e,t,r){"use strict";r.r(t)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.pattern.label', location = 'aui.chunk.a05f00b0d6b1aabbb7b7--64941ab88abdc0f12374.js' */
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[8800],{7164:(u,e,s)=>{s.r(e)}},u=>{u.O(0,[8196,3039,713],(()=>{return e=7164,u(u.s=e);var e}));u.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  return '' + ((true) ? navlinks.templates.appswitcher_old.switcher(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.js' */
var APPSWITCHER_TRIGGER_CLICK="appswitcher.trigger.click",APPSWITCHER_DROPDOWN_SHOW="appswitcher.dropdown.show",APPSWITCHER_DROPDOWN_DISPLAY_ERROR="appswitcher.dropdown.display.error",APPSWITCHER_APP_LINK_CLICK="appswitcher.app.link.click",APPSWITCHER_CONFIGURE_LINK_CLICK="appswitcher.configure.link.click";
(function(a,g){g.AppSwitcher=function(e){var h=AJS.contextPath()+"/plugins/servlet/customize-application-navigator",c=this;this.$dropdown=null;e=a.extend({dropdownContents:null},e);this.getLinks=function(){return a.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:!1,dataType:"json"}).done(this.updateDropdown).fail(this.showError)};this.getDropdown=function(){this.$dropdown||(this.$dropdown=a(e.dropdownContents),this.isUserAdmin=this.$dropdown.data("is-user-admin"));return this.$dropdown};
this.updateDropdown=function(b){a(function(){c.getDropdown().html(navlinks.templates.appswitcher_old.applications({apps:b,showAdminLink:c.isUserAdmin,adminLink:h}));c.bindAnalyticsHandlers()})};this.bindAnalyticsHandlers=function(){a(".app-switcher-trigger").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_TRIGGER_CLICK})});a("#app-switcher").on("aui-dropdown2-show",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_SHOW})});a("#app-switcher .nav-link").on("click",
function(){var b="custom",d=a(this).find("a").attr("href"),f=window.location.hostname;d&&-1<d.indexOf("bitbucket.org")?b="bitbucket-cloud":-1<d.indexOf(f+"/wiki")?b="confluence":-1<d.indexOf(f+"/build")?b="bamboo":-1<d.indexOf(f)&&(b="jira");AJS.trigger("analyticsEvent",{name:APPSWITCHER_APP_LINK_CLICK,data:{product:b}})});a(".nav-link-edit-wrapper").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_CONFIGURE_LINK_CLICK})})};this.showError=function(){a(function(){AJS.trigger("analyticsEvent",
{name:APPSWITCHER_DROPDOWN_DISPLAY_ERROR});c.getDropdown().html(navlinks.templates.appswitcher_old.error()).off(".appswitcher").on("click.appswitcher",".app-switcher-retry",a.proxy(c.retryLoading,c))})};this.retryLoading=function(b){this.getDropdown().html(navlinks.templates.appswitcher_old.loading());this.getLinks();b&&b.stopPropagation()};this.getLinks()};a(function(){!0===a("#app-switcher").data("is-switcher")&&new g.AppSwitcher({dropdownContents:"#app-switcher"})})})(jQuery,window.NL=window.NL||
{});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.soy' */
// This file was automatically generated from appswitcher_old.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher_old.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher_old == 'undefined') { navlinks.templates.appswitcher_old = {}; }


navlinks.templates.appswitcher_old.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher_old.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applications.soyTemplateName = 'navlinks.templates.appswitcher_old.applications';
}


navlinks.templates.appswitcher_old.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param19 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList27 = opt_data.list;
    var linkListLen27 = linkList27.length;
    for (var linkIndex27 = 0; linkIndex27 < linkListLen27; linkIndex27++) {
      var linkData27 = linkList27[linkIndex27];
      param19 += navlinks.templates.appswitcher_old.applicationsItem(soy.$$augmentMap(linkData27, {showDescription: opt_data.showDescription}));
    }
    param19 += '</ul>';
    output += aui.dropdown2.section({content: param19});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsSection';
}


navlinks.templates.appswitcher_old.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsItem';
}


navlinks.templates.appswitcher_old.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape('\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c\x26hellip;') + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.adminSection.soyTemplateName = 'navlinks.templates.appswitcher_old.adminSection';
}


navlinks.templates.appswitcher_old.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \x3cspan class\x3d\x22app-switcher-retry\x22\x3e\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.error.soyTemplateName = 'navlinks.templates.appswitcher_old.error';
}


navlinks.templates.appswitcher_old.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape('\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\x26hellip;') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.loading.soyTemplateName = 'navlinks.templates.appswitcher_old.loading';
}


navlinks.templates.appswitcher_old.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.trigger.soyTemplateName = 'navlinks.templates.appswitcher_old.trigger';
}


navlinks.templates.appswitcher_old.switcher = function(opt_data, opt_ignored) {
  var output = '';
  var loadingContent__soy79 = '' + navlinks.templates.appswitcher_old.loading(null);
  var triggerContent__soy81 = '' + navlinks.templates.appswitcher_old.trigger(null);
  output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy79, extraClasses: 'aui-style-default', extraAttributes: {'data-is-user-admin': false, 'data-is-switcher': 'true'}}, trigger: {tagName: 'button', showIcon: false, content: triggerContent__soy81, extraClasses: 'app-switcher-trigger aui-dropdown2-trigger-arrowless', extraAttributes: {href: '#app-switcher'}}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.switcher.soyTemplateName = 'navlinks.templates.appswitcher_old.switcher';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:header-templates', location = 'soy/headerDropdown.soy' */
// This file was automatically generated from headerDropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Menu.Dropdowns.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Menu == 'undefined') { JIRA.Templates.Menu = {}; }
if (typeof JIRA.Templates.Menu.Dropdowns == 'undefined') { JIRA.Templates.Menu.Dropdowns = {}; }


JIRA.Templates.Menu.Dropdowns.dropdown2Fragment = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList3 = opt_data.sections;
  var sectionListLen3 = sectionList3.length;
  for (var sectionIndex3 = 0; sectionIndex3 < sectionListLen3; sectionIndex3++) {
    var sectionData3 = sectionList3[sectionIndex3];
    output += JIRA.Templates.Menu.Dropdowns.dropdown2Section(sectionData3);
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Fragment.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Fragment';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Section = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var hasItems__soy7 = opt_data.items && opt_data.items.length > 0;
  if (hasItems__soy7) {
    output += '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + ((opt_data.style) ? soy.$$escapeHtml(opt_data.style) : '') + '" >' + ((opt_data.label) ? '<strong role="heading" aria-level=2>' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + '<ul class="aui-list-truncate">';
    var itemList27 = opt_data.items;
    var itemListLen27 = itemList27.length;
    for (var itemIndex27 = 0; itemIndex27 < itemListLen27; itemIndex27++) {
      var itemData27 = itemList27[itemIndex27];
      output += '<li' + ((itemData27.id) ? ' id="' + soy.$$escapeHtml(itemData27.id) + '"' : '') + ((itemData27.style) ? ' class="' + soy.$$escapeHtml(itemData27.style) + '"' : '') + '>' + JIRA.Templates.Menu.Dropdowns.dropdown2Item(itemData27) + '</li>';
    }
    output += '</ul></li>';
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Section.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Section';
}


JIRA.Templates.Menu.Dropdowns.dropdown2Item = function(opt_data, opt_ignored) {
  var output = '<a href="' + soy.$$escapeHtml(opt_data.url) + '"' + ((opt_data.parameters && opt_data.parameters.trackClick) ? ' data-track-click="' + soy.$$escapeHtml(opt_data.parameters.trackClick) + '"' : '') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '_lnk"' : '') + ' class="' + ((opt_data.iconUrl) ? 'aui-icon-container' : '') + ((opt_data.parameters && opt_data.parameters['class']) ? ' ' + soy.$$escapeHtml(opt_data.parameters['class']) : '') + '"';
  if (opt_data.parameters) {
    var keyList69 = soy.$$getMapKeys(opt_data.parameters);
    var keyListLen69 = keyList69.length;
    for (var keyIndex69 = 0; keyIndex69 < keyListLen69; keyIndex69++) {
      var keyData69 = keyList69[keyIndex69];
      output += (keyData69 != 'class' && keyData69 != 'iconurl') ? ' ' + soy.$$escapeHtml(keyData69) + '="' + soy.$$escapeHtml(opt_data.parameters[keyData69]) + '"' : '';
    }
  }
  output += '>' + ((opt_data.iconUrl) ? '<img class="icon" src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" alt="" />' : '') + soy.$$escapeHtml(opt_data.label) + '</a>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Menu.Dropdowns.dropdown2Item.soyTemplateName = 'JIRA.Templates.Menu.Dropdowns.dropdown2Item';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:analytics-header', location = 'js/header-analytics.js' */
define("jira/header/init-header-analytics",["jira/analytics","jira/util/logger","jquery"],(function(n,t,e){"use strict";var i="jira.navigation.header.",o="jira.header.analytics.event",a=function(n,t){return n.some((function(n){return n.id===t}))};function r(n,t){var e=void 0;n.forEach((function(n){n.id===t&&(e=n.analyticEventKey)}));return e}var c=function(e,a,c){var d=r(a,e),u=i+d+c;n.send({name:u});t.trace(o)},d=[{id:"home_link-content",analyticEventKey:"dashboards"},{id:"browse_link-content",analyticEventKey:"projects"},{id:"find_link-content",analyticEventKey:"issues"},{id:"tempo_menu-content",analyticEventKey:"tempo"},{id:"bonfire_top_menu_dropdown-content",analyticEventKey:"capture"},{id:"greenhopper_menu-content",analyticEventKey:"boards"},{id:"plugins-jira-webitem-main-content",analyticEventKey:"portfolio"},{id:"system-help-menu-content",analyticEventKey:"help"},{id:"system-admin-menu-content",analyticEventKey:"admin"}],u=d.map((function(n){return"#"+n.id})).join(", "),s=d.reduce((function(n,t){return n+"a.aui-dropdown2-trigger[aria-owns="+t.id+"]"}),"");return{init:function(l){var y=e(l);y.on("click","#logo",(function(){n.send({name:i+"home"});t.trace(o)}));y.on("aui-dropdown2-show",u,(function(){var n=e(this).attr("id");a(d,n)&&c(n,d,".open")}));y.on("aui-dropdown2-hide",u,(function(){var n=e(this).attr("id");a(d,n)&&c(n,d,".close")}));y.on("aui-dropdown2-show","#system-help-menu-content, #user-options-content, #system-admin-menu-content",(function(){var n=e(this);n.trigger("aui-dropdown2-show-before");n.trigger("aui-dropdown2-show-after")}));y.on("click",s,(function(){var n=this.getAttribute("aria-controls");a(d,n)&&c(n,d,".click")}));y.on("click",".aui-dropdown2 .aui-dropdown2-section a",(function(a){var c=e(a.target).closest(u).first();if(null!==c){var s=c.find("a").index(a.target),l=c.attr("id"),y=r(d,l);n.send({name:i+y+".item.click",itemIndex:s});t.trace(o)}}))}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header-assets', location = 'js/init-dropdown2.js' */
define("jira/header/dropdown/element",["jira/ajs/ajax/smart-ajax","jira/jquery/deferred","jira/skate","jira/util/data/meta","wrm/context-path","jquery"],(function(e,a,t,o,n,r){"use strict";var d="jiraInitDropdown2EventNamespace",i=0;return t("jira-dropdown2-ajax",{type:t.type.CLASSNAME,attached:function(t){var u=r(document.getElementById(t.getAttribute("aria-controls"))),s=r(t),c=u.data("aui-dropdown2-ajax-key"),w=".aui-dropdown2-ajax"+(i+=1);t[d]=w;function f(){document.activeElement===s.get(0)&&u.get(0).focusItem(0);u.parents("#header").length>0&&m()}function m(){window.scrollTo(0,0)}function l(){s.data("kbd-interacted",!1)}s.on("keydown"+w,(function(){s.data("kbd-interacted",!0);setTimeout(l,4)}));u.on("aui-dropdown2-show-after"+w,l);l();u.on("aui-dropdown2-show"+w,(function(){u.trigger("aui-dropdown2-show-before");if(c){var t=new a,d=new a;setTimeout((function(){t.resolve(s.data("kbd-interacted"))}),0);u.empty();u.addClass("aui-dropdown2-loading");s.attr("aria-busy","true");e.makeRequest({url:n()+"/rest/api/1.0/menus/"+c,data:{inAdminMode:o.getBoolean("in-admin-mode")},dataType:"json",cache:!1,success:function(e){d.resolve(e)},error:d.reject});r.when(t,d).done((function(e,a){u.html(JIRA.Templates.Menu.Dropdowns.dropdown2Fragment(a));var t=s.hasClass("aui-dropdown2-sub-trigger");e&&t?setTimeout(f,0):setTimeout((function(){u.focus();m()}),0)})).always((function(){s.attr("aria-busy","false");u.removeClass("aui-dropdown2-loading");u.trigger("aui-dropdown2-show-after")}))}else u.trigger("aui-dropdown2-show-after")}));s.addClass("aui-dropdown2-ajax--interactive")},detached:function(e){var a=r(document.getElementById(e.getAttribute("aria-controls"))),t=r(e),o=e[d];if(o){a.off(o);t.off(o)}}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header-assets', location = 'js/app-switcher-analytics.js' */
define("jira/header/init-app-switcher-analytics",["jira/analytics","jquery"],(function(i,n){"use strict";return{init:function(e){var a=n(e);a.on("aui-dropdown2-show-before","#app-switcher",(function(){i.send({name:"navigation.header.appswitcher.open"})}));a.on("click","#app-switcher a, #app-switcher button",(function(e){var a,t=n(e.target),o=t.closest("li").index();if(t.is(".nav-link-edit"))a="configure";else if(t.is(".app-discovery-link"))a=this.id?this.id:"unknown.app.discovery";else if(t.is(".app-discovery-cancel-button")){a="dont.show";o=0}else a="application";i.send({name:"navigation.header.appswitcher.click",data:{position:o,linkType:a}})}));a.on("aui-dropdown2-hide","#app-switcher",(function(){i.send({name:"navigation.header.appswitcher.close"})}))}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:jira-header', location = 'js/init-header.js' */
require(["jira/header/dropdown/element","jira/header/init-header-analytics","jira/header/init-app-switcher-analytics"],(function(e,i,t){"use strict";i.init(document);t.init(document)}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-development-integration-plugin:entrypoint-column-module', location = 'dist/column-module.8ef50e6cb5d90eb66cd2.js' */
jiraDevelopmentIntegrationPluginJsonp(["column-module"],{"./js/development-column/column-module-init.js":function(a,b,c){"use strict";c.e(7).then(function(){var a=[c("./js/development-column/column-model.js"),c("./js/development-column/column-view.js"),c("./js/development-column/column-utils.js"),c("./js/util/analytics.js"),c("jira.webresources:jquery/require('jquery')")];(function(a,b,c,d,f){function g(a){if("Development"===a.attr("title")){var b=a.children("input[type=\"checkbox\"]");b.attr("checked")?d.sendEvent("devstatus.issue-navigator.dev-info.jql.basicsearcher.removed"):d.sendEvent("devstatus.issue-navigator.dev-info.jql.basicsearcher.added")}}f(function(){var e=new a({});new b({model:e,el:"#issuetable"}),JIRA.bind(JIRA.Events.LAYOUT_RENDERED,function(){new b({model:e,el:"#issuetable"})}),f(".dev-status-column-view-wrapper .fusion-widget").on("mouseenter",function(a){d.sendEvent("devstatus.issue-navigator.dev-info.hovered",{type:f(a.currentTarget).parent().attr("class")})}),f(".issuerow").length===f(".dev-status-column-view-wrapper").length&&d.sendEvent("devstatus.issue-navigator.dev-info.shown"),JIRA.Issues.Application&&JIRA.Issues.Application.execute&&JIRA.Issues.Application.execute("analytics:registerTracker",[{selector:"#save-filter-dialog form",type:"submit",handler:function(){var a=f("#advanced-search").val(),b=c.jqlContainsDevInfo(a);b&&d.sendEvent("devstatus.issue-navigator.dev-info.jql.save-as")}},{selector:"label.item-label[title=Development]",type:"mouseup",handler:function(){var a=f("li.check-list-item.active").children("label");g(a)}},{selector:"#criteria-input",type:"keydown",handler:function(a){if(13==a.keyCode){console.error(a);var b=f("li.check-list-item.active").children("label");g(b)}else console.error(a)}},{selector:"li.dev-status-basic-dev-item",type:"mouseup",handler:function(){var a={};f("li.dev-status-basic-dev-item label").each(function(b,c){var d=f(c),e=d.attr("title").replace(" ","_").toLowerCase(),g=!!d.children("input[type=\"checkbox\"]").attr("checked");a[e]=g}),d.sendEvent("devstatus.issue-navigator.dev-info.jql.basicsearcher.search",a)}},{type:"jql-search-requested",handler:function(a,b){var e=c.jqlContainsDevInfo(b);e&&d.sendEvent("devstatus.issue-navigator.dev-info.jql.search")}},{selector:"a.issue-link",type:"click",handler:function(){f("div.criteria-wrap span.fieldLabel").each(function(a,b){var c=f(b);0==c.html().toLowerCase().indexOf("development")&&d.sendEvent("devstatus.issue-navigator.dev-info.jql.issue_clicked")})}}])})}).apply(null,a)}).catch(c.oe)}},["./js/development-column/column-module-init.js"]);
//# sourceMappingURL=column-module.8ef50e6cb5d90eb66cd2.js.map
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/store-wrapper.js' */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(f){return f.raw=f};$jscomp.createTemplateTagFirstArgWithRaw=function(f,h){f.raw=h;return f};
(function(){function f(){return e&&"object"===typeof e?Object.values(e).map(function(a){return a.length}).reduce(function(a,b){return a+b},0):0}function h(a){var b="kB";a/=1E3;1E3<a&&(a/=1E3,b="MB");return""+a.toFixed(2)+b}function g(a,b){console.error("atlassian-analytics -",a,b)}function l(a,b,c){var d=h(f());void 0!==c&&"string"===typeof c?(c=h(c.length),a=a+" size: "+c+" (used space: "+d+")"):a=a+" (used space: "+d+")";g(a,b)}try{var e=window.localStorage;e.setItem("__test__","__test__");e.removeItem("__test__")}catch(a){g("localStorage is not available",
a)}var m={remove:function(a){try{e.removeItem(a)}catch(b){g("store.remove("+a+")",b)}},set:function(a,b,c){if(void 0===b)return m.remove(a);try{a:{try{var d=JSON.stringify(b);break a}catch(k){g("serialize",k)}d=void 0}e.setItem(a,d)}catch(k){l("store.set("+a+")",k,d),c&&"function"===typeof c&&c()}},get:function(a){try{a:{var b=e.getItem(a);try{var c=JSON.parse(b);break a}catch(d){g("deserialize",d)}c=void 0}return c}catch(d){l("store.get("+a+")",d)}},clear:function(){try{e.clear()}catch(a){g("store.clear()",
a)}}};this.store=m})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var hasBrowserSupport=document.hidden!==undefined;var wrapper={supported:hasBrowserSupport,isHidden:function(){return hasBrowserSupport?document.hidden:false}};return wrapper});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/user-activity-xhr-header.js' */
define("atlassian/analytics/user-activity-xhr-header",["atlassian/analytics/page-visibility"],function(b){var e=XMLHttpRequest.prototype.send,c=window.fetch,d=!1;return{install:function(){!d&&b.supported&&(XMLHttpRequest.prototype.send=function(){b.isHidden()&&this.setRequestHeader("x-atlassian-mau-ignore",b.isHidden());e.apply(this,arguments)},c&&(window.fetch=function(g,a){a=a||{};var f=a.headers;b.isHidden()&&(a.headers=f?new Headers(f):new Headers,a.headers.set("x-atlassian-mau-ignore",b.isHidden()));
return c.call(this,g,a)}),d=!0)},uninstall:function(){d&&(XMLHttpRequest.prototype.send=e,c&&(window.fetch=c));d=!1}}});require("atlassian/analytics/user-activity-xhr-header").install();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/atlassian-analytics.js' */
(function(r){var t="function"===typeof AJS.contextPath?AJS.contextPath():"",g=null,h=null,p="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)}),u=function(){return store.remove(g)},l=function(){var a=[],b;if(0!==AJS.EventQueue.length){a=store.get(g)||a;var c=0;for(b=AJS.EventQueue.length;c<b;++c){var d=AJS.EventQueue[c];d.name&&(d={name:d.name,properties:d.properties,time:d.time||0},a.push(d))}AJS.EventQueue.length=0;store.set(g,
a,u)}},q=0,v=function(a){for(var b=a.length-1;0<=b;b--){var c="",d=a[b],e=d.properties;if("undefined"===typeof d.name)c="you must provide a name for the event.";else if("undefined"!==typeof e&&null!==e)if(e.constructor!==Object)c="properties must be an object with key value pairs.";else{var k=void 0;for(k in e)if(e.hasOwnProperty(k)){var f=e[k];"undefined"!==typeof f&&null!==f&&("number"===typeof f||"string"===typeof f||"boolean"===typeof f)||("undefined"!==typeof f&&null!==f&&f.toString?e[k]=f.toString():
e[k]="")}}""!==c&&(AJS.log("WARN: Invalid analytics event detected and ignored, "+c+"\nEvent: "+JSON.stringify(d)),a.splice(b,1))}return a.length},m=0,n=function(){function a(){setTimeout(n,Math.min(5E3*Math.pow(2,q=0),3E5))}if(store.get(h))var b=!1;else store.set(h,p),b=store.get(h)===p;if(b)m=0;else if(++m,20>m)return a();try{l();var c=store.get(g);if(!c||!c.length)return a();store.remove(g);if(!v(c))return a();var d=(new Date).getTime();for(b=0;b<c.length;b++)c[b].timeDelta=0<c[b].time?c[b].time-
d:b-c.length,delete c[b].time;fetch(t+"/rest/analytics/1.0/publish/bulk",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"same-origin"}).then(function(e){if(!e.ok)throw Error("A response outside OK range (200-299)");a()}).catch(function(){AJS.EventQueue=AJS.EventQueue.concat(c);l();setTimeout(n,Math.min(5E3*Math.pow(2,++q),3E5))}).catch(function(e){console.error(e)})}finally{store.set(h,null)}};AJS.EventQueue=AJS.EventQueue||[];var w=
Array.prototype.push;AJS.EventQueue.push=function(a){a.time=(new Date).getTime();w.call(AJS.EventQueue,a)};AJS.toInit(function(){var a="unknown";"jira"===document.body.id?a="jira":"com-atlassian-confluence"===document.body.id&&(a="confluence");g="atlassian-analytics."+a;h=g+".lock";setTimeout(n,500);-1<window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")?AJS.$("[data-property-id\x3d'analytics-enabled']").remove():-1<window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")&&
(a=AJS.$(":contains(Enable Atlassian analytics)"),0<a.size()&&(a=a[a.size()-2])&&a.remove())});r(window).on("beforeunload",function(){l()});AJS.Analytics={triggerPrivacyPolicySafeEvent:function(a,b){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:a,properties:b})}};AJS.bind("analytics",function(a,b){AJS.EventQueue.push({name:b.name,properties:b.data})});AJS.bind("analyticsEvent",function(a,b){AJS.EventQueue.push({name:b.name,properties:b.data})})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:policy-update-init', location = 'js/policy-update-init.js' */
AJS.toInit(function(){WRM.data.claim("com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider")&&WRM.require("wrc!com.atlassian.analytics.analytics-client:policy-update")});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:programmatic-analytics-init', location = 'js/programmatic-analytics-init.js' */
(function(){WRM.data.claim("com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider")&&WRM.require("wrc!com.atlassian.analytics.analytics-client:programmatic-analytics")})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks=function(b){b.ApplicationHeader=function(c){c.Cog=function(){return{getDropdown:function(){var a=AJS.$("#system-admin-menu-content");if(0<a.length)return a;a=AJS.$("#admin-menu-link-content");return 0<a.length?a:AJS.$("#bamboo\\.global\\.header-admin\\.menu")}}}();return c}(b.ApplicationHeader||{});return b}(NavLinks||{});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: '\u041f\u0440\u043e\u0447\u0438\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f', content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks=function(b){b.AdminShortcuts=function(){var c=function(){AJS.$("#nl-remote-admin-section").on("click","a",function(){NL.trackEvent("remoteAdminItemSelected",NL.getCurrentApplication(),$(this).attr("href"))})};return{render:function(){AJS.$.ajax({url:AJS.contextPath()+"/rest/menu/latest/admin",cache:!1,dataType:"json"}).done(function(a){a=a.filter(function(d){return!d.local});a.length&&(a=navlinks.templates.adminshortcuts.section({links:a}),b.ApplicationHeader.Cog.getDropdown().append(a),
c())})}}}();return b}(NavLinks||{});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts-cdn.js' */
AJS.toInit(function(){AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled("rotp.admin.shortcuts")&&NavLinks.AdminShortcuts.render()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups=AJS.Popups||{};AJS.Popups.DisplayController=function(){var a=[],c=!1,d=!1;AJS.toInit(function(){setTimeout(function(){AJS.Popups.DisplayController.render()},0)});return{request:function(b){a.push(b);c&&!1===d&&this.render()},render:function(){a.sort(function(b,e){return b.weight-e.weight});c=!0;0!==a.length&&(d=!0,a[0].show())}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/path.js' */
define("dndattachment/ctrlv/path",["exports"],function(b){var c=function(a){return a.split(/\//).pop()};b.basename=c;b.dirname=function(a){var b=c(a);return a.substring(0,a.length-b.length)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'templates/soy/attach-screenshot-form.soy' */
// This file was automatically generated from attach-screenshot-form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Html5Screenshot.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Html5Screenshot == 'undefined') { JIRA.Templates.Html5Screenshot = {}; }


JIRA.Templates.Html5Screenshot.attachScreenshotForm = function(opt_data, opt_ignored) {
  return '<h2 class="dialog-title">' + soy.$$escapeHtml('\u041f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u044b') + '</h2><form action="ShowAttachScreenshotFormAction.jspa" class="aui" method="post" id="attach-screenshot-form" data-attach-secure-token="' + soy.$$escapeHtml(opt_data.attachUserToken) + '" data-submit-secure-token="' + soy.$$escapeHtml(opt_data.submitUserToken) + '"><input type="hidden" name="id" value="' + soy.$$escapeHtml(opt_data.id) + '"/><input type="hidden" name="atl_token" value="' + soy.$$escapeHtml(opt_data.atlToken) + '"><input type="hidden" name="formToken" value="' + soy.$$escapeHtml(opt_data.formToken) + '"><input type="hidden" name="filetoconvert" value=""><div class="attach-screenshot-padding"><div class="attach-screenshot-container"><div id="attach-screenshot-inner-container"><div class="mod-content"><ul class="item-details"><li><dl><dt>' + soy.$$escapeHtml('\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u043d\u0438\u043c\u043e\u043a \u044d\u043a\u0440\u0430\u043d\u0430:') + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3ePrt Scr\x3c/kbd\x3e') + '</dd>' : '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3e\x26#8963; Ctrl\x3c/kbd\x3e + \x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3e\x26#8679; Shift\x3c/kbd\x3e + \x3ckbd\x3e3\x3c/kbd\x3e') + '</dd>') + '</dl></li><li><dl><dt>' + soy.$$escapeHtml('\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435:') + '</dt>' + ((opt_data.userPlatform == 'pc') ? '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3eCtrl\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e') + '</dd>' : '<dd>' + soy.$$filterNoAutoescape('\x3ckbd\x3e\x26#8984; Cmd\x3c/kbd\x3e + \x3ckbd\x3ev\x3c/kbd\x3e') + '</dd>') + '</dl></li></ul></div><input type="text" id="attach-screenshot-fake-input"><div class="attach-screenshot-padding attach-screenshot-padding-inner"><div id="attach-screenshot-image-container" class="attach-screenshot-image-container"><div class="attach-screenshot-placeholder"><div class="mod-content"><ul class="item-details"><li><dl><dt id="attach-screenshot-placeholder-message">' + soy.$$escapeHtml('\u0412\u0430\u0448\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c') + '</dt></dl></li></ul></div></div></div></div><div id=\'attach-max-size\' class="hidden">' + soy.$$escapeHtml(opt_data.maxSize) + '</div></div></div></div><fieldset><div><legend><span>' + soy.$$escapeHtml('\u041f\u0440\u0438\u043b\u043e\u0436\u0438\u0442\u044c \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u044b') + '</span></legend><div id="attach-screenshot-filename-group" class="field-group"><div id="attach-screenshot-progress-container"></div><label for="attachscreenshotname">' + soy.$$escapeHtml('\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430') + ' <span class="aui-icon icon-required">' + soy.$$escapeHtml('\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e') + '</span></label><input class="text" type="text" id="attachscreenshotname" name="attachscreenshotname" title="File Name" value="' + soy.$$escapeHtml(opt_data.nextScreenshotName) + '"><div class="description">' + soy.$$escapeHtml('\u0414\u043b\u044f \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0438\u043c\u044f \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f') + '</div></div></div></fieldset><div class="buttons-container form-footer"><div class="buttons"><button class="aui-button aui-button-primary" id="attach-screenshot-html5-upload">' + soy.$$escapeHtml('\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c') + '</button><a href="#" class="cancel">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.Html5Screenshot.attachScreenshotForm.soyTemplateName = 'JIRA.Templates.Html5Screenshot.attachScreenshotForm';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/html5.js' */
define("dndattachment/ctrlv/html5",["require","exports"],function(e,a){var l=e("jira/util/formatter"),q=e("wrm/context-path"),m=e("jira/jquery/deferred"),c=e("jquery"),k=e("underscore"),r=e("dndattachment/ctrlv/base64decode"),h=e("dndattachment/ctrlv/utility"),t=e("jira/dialog/dialog-stack"),n=e("jira/dialog/dialog-register"),p=e("jira/ajs/ajax/smart-ajax"),u=e("jira/attachment/inline-attach");a.getFileFromEvent=function(a){var b=new m;h.isImagePasteEvent(a)?b.resolve(k(a.clipboardData.items).filter(function(a){return-1!==
a.type.indexOf("image")}).map(function(a){return a.getAsFile()})[0]||k(a.clipboardData.files).filter(function(a){return-1!==a.type.indexOf("image")})[0]):b.reject();return b.promise()};a.REQUEST_TIMEOUT_MILLIS=3E5;a.screenshotFileUpload={};a.screenshotFileUploadUri=null;a.$document=void 0;a.$window=void 0;a.$container=void 0;a.$fakeInput=void 0;a.uploadError=!1;a.uploadErrorMsg="";a.progressView={hidden:!1,progress:0,old:0,progressBarContainer:void 0,progressEl:void 0,container:void 0,options:void 0,
staticProgress:void 0,initProgress:function(){this.container=this.buildContainer();this.progressEl=this.buildProgress();this.container.append(this.progressEl);this.options={showPercentage:!1,height:"5px"};this.progressBarContainer=c("#attach-screenshot-progress-container");this.progressBarContainer.empty();this.progressBarContainer.append(this.container);this.staticProgress=this.container;this.hidden=!0},finish:function(){this.value(100)},progressHandler:function(a){this.value(Math.round(100*a.loaded/
a.total))},value:function(a){100<a?a=100:0>a&&(a=0);this.hidden&&(this.progressEl.show(),this.hidden=!1);this.old!==a&&(this.progressEl.progressBar(a,this.options),100<=a&&this.progressEl.fadeOut(),this.old=a)},buildContainer:function(){return c("\x3cdiv\x3e").addClass("file-progress")},buildProgress:function(){return c("\x3cdiv\x3e").attr("id","attach-screenshot-upload-progress")}};a.dialogView={pasteCatcher:{},presenter:void 0,getMaxSize:function(){return c("#attach-max-size").text()},getFileSize:function(){return c.isPlainObject(this.presenter.screenshotFileUpload)&&
k.isEmpty(this.presenter.screenshotFileUpload)?0:this.presenter.screenshotFileUpload.size||this.presenter.screenshotFileUpload.byteLength||this.presenter.screenshotFileUpload.length},cleanGeneralErrors:function(){c("#error-attach-screenshot-image").closest(".field-group").remove()},cleanFileErrors:function(){c("#error-attach-screenshot-filename").remove()},displayErrors:function(a){"compatibility"in a&&h.showErrorMsg("",a.compatibility);"fileName"in a&&h.showErrorMsg("",a.fileName);"fileUpload"in
a&&h.showErrorMsg("",a.fileUpload)},appendBlobImage:function(a){var b=(window.URL||window.webkitURL).createObjectURL(a);this.presenter.screenshotFileUpload=a;this.createImage(b)},createImage:function(b){var d=new Image;d.onload=function(){};d.src=b;this.presenter.screenshotToUpload=d;b=c(d);b.addClass("attach-screenshot-pasted-image");d=c("#attach-screenshot-image-container");d.empty();d.append(b);this.presenter.$fakeInput.focus();k.defer(function(){a.imageCreatedHandler()})},checkInput:function(){var b=
a.dialogView.pasteCatcher.childNodes[0];if(b){if("IMG"===b.tagName&&0===b.src.indexOf("data:"))var d=b.src;a.dialogView.pasteCatcher.innerHTML=""}d||a.$fakeInput.focus();return d},onPaste:function(b){a.dialogView.cleanFileErrors();a.dialogView.cleanGeneralErrors();h.isImagePasteEvent(b)?a.getFileFromEvent(b).then(function(a){this.appendBlobImage(a)}.bind(this)):setTimeout(function(){var b=this.checkInput();b&&(a.screenshotFileUpload=r.decodeBase64DataUri(b),a.dialogView.createImage(b))}.bind(this),
0)},getFakeInput:function(){return c("#attach-screenshot-fake-input")},getContainer:function(){return c("#attach-screenshot-image-container")},getIssueKey:function(){return c("input[name\x3d'id']").val()},getDocument:function(){return c(document)},getWindow:function(){return c(window)},getFileNameInput:function(){return c("#attachscreenshotname")},hasPngExtension:function(a){return/\.png$/i.test(a)},setFileToConvert:function(a){c("input[name\x3d'filetoconvert']").val(a)},buildPasteCatcher:function(){if(document.getElementById("attach-screenshot-form")){var a=
document.createElement("div");a.setAttribute("contenteditable","true");a.style.width=0;a.style.height=0;a.style.position="absolute";a.style.top="-5000px";document.getElementById("attach-screenshot-form").appendChild(a);return a}},_getFormSubmits:function(){return c("#attach-screenshot-form").find("button.aui-button")},disable:function(){this._getFormSubmits().attr("disabled","disabled");return this},enable:function(){this._getFormSubmits().removeAttr("disabled");return this},isEnabled:function(){return this.isVisible()&&
!this._getFormSubmits().attr("disabled")},isVisible:function(){return 0<c("#attach-screenshot-form").length},initDialog:function(a){this.pasteCatcher={};this.presenter=a;this.pasteCatcher=this.buildPasteCatcher()}};a.initScreenshotPasteHandler=function(){var b=a.dialogView;a.screenshotFileUpload={};a.resetUploadErrors();a.dialogView.initDialog(a);a.$document=b.getDocument();a.$window=b.getWindow();a.$container=b.getContainer();a.$fakeInput=b.getFakeInput();a.bindOnce(a.$container,"click",a.setFocusOnClickHandler);
a.bindOnce(a.$fakeInput,"focus",a.showFocusOnFieldHandler);a.bindOnce(a.$fakeInput,"blur",a.hideFocusOnFieldHandler);a.bindOnce(a.$fakeInput,"keydown",a.keyDownHandler);a.bindOnce(a.$window,"paste",a.pasteHandler)};a.resetUploadErrors=function(){a.uploadError=!1;a.uploadErrorMsg=void 0};a.setUploadError=function(b){a.uploadError=!0;a.uploadErrorMsg=b};a.bindOnce=function(a,d,c){a.unbind(d,c);a.bind(d,c)};a.showFocusOnFieldHandler=function(){a.$container.addClass("focus")};a.hideFocusOnFieldHandler=
function(){a.$container.addClass("focus")};a.setFocusOnClickHandler=function(){a.$fakeInput.focus()};a.pasteHandler=function(b){a.dialogView.isEnabled()&&(b=h.normalizePasteEvent(b),a.dialogView.onPaste(b))};a.polyPasteHandler=function(b,d,c){a.dialogView.isEnabled()&&(a.screenshotFileUpload={length:-1},a.screenshotFileUploadUri=d,a.dialogView.createImage(c))};a.keyDownHandler=function(b){h.isKeyPasteEvent(b)&&a.dialogView.pasteCatcher.focus&&a.dialogView.pasteCatcher.focus()};a.imageCreatedHandler=
function(){a.doAjaxUpload(this.dialogView.getIssueKey(),this.dialogView.getFileNameInput().val())};a.getMimeType=function(){return"image/png"};a.createData=function(){return a.screenshotFileUpload};a.clipboardDataIsEmpty=function(a){return null!=window.clipboardData?!1:!(a&&a.clipboardData&&a.clipboardData.types&&0<a.clipboardData.types.length)};a.validateFileSize=function(b,d,c){d=d||a.dialogView.getFileSize();c=c||a.dialogView.getMaxSize();d>c&&(d=u.Text.fileSize(c,d),b.fileUpload=l.format("\u041a\u043e\u043f\u0438\u044f \u044d\u043a\u0440\u0430\u043d\u0430 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0430\u044f \u0434\u043b\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f. Attachment is {0} but the largest allowed attachment is {1}.",
d[1],d[0]))};a.validateFormData=function(b,d){var g={};c.isPlainObject(b)&&k.isEmpty(b)&&(g.fileUpload="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c");a.validateFileSize(g);a.uploadError&&(g.fileUpload="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f - \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043d\u043e\u0432\u043e. \u041f\u0440\u0438\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u0432\u0438\u043d\u0435\u043d\u0438\u044f \u0437\u0430 \u043d\u0435\u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430.");""==d&&(g.fileName="\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0438\u043c\u044f \u0444\u0430\u0439\u043b\u0430 \u0434\u043b\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f.");h.isValidFileName(d)||(g.fileName="\u0412 \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0027\u005C\u0027, \u0027/\u0027, \u0027\u0022\u0027, \u0027:\u0027, \u0027?\u0027, \u0027*\u0027, \u0027\u003c\u0027, \u0027|\u0027, \u0027\u003e\u0027, \u0027!\u0027");return g};a.doAjaxUpload=function(b,d){a.dialogView.disable();b=
{};a.validateFileSize(b);if(k.isEmpty(b)){b=a.createData();var g=a.getMimeType(),f=c("#attach-screenshot-form").data("attach-secure-token"),e=c("#attach-screenshot-form").find("input[name\x3d'formToken']").attr("value");d=q()+"/rest/internal/1.0/AttachTemporaryFile?size\x3d"+a.dialogView.getFileSize()+"\x26filename\x3d"+encodeURIComponent(d)+"\x26atl_token\x3d"+encodeURIComponent(atl_token())+"\x26issueId\x3d"+encodeURIComponent(this.dialogView.getIssueKey())+(f?"\x26secureToken\x3d"+encodeURIComponent(f):
"")+(e?"\x26formToken\x3d"+encodeURIComponent(e):"");a.resetUploadErrors();a.executeAjaxUpload(b,d,g).progress(function(b){"init"==b&&a.progressView.initProgress()}).done(function(b){"string"==typeof b&&(b=JSON.parse(b));a.dialogView.setFileToConvert(b.id)}).fail(function(b,c,d,f){if("abort"==f.statusText)var e="\u0412\u044b\u0437\u043e\u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 Jira \u043d\u0435 \u0431\u044b\u043b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0442\u0430\u0439\u043c-\u0430\u0443\u0442\u0430.  \u041c\u044b \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u044d\u0442\u043e\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438.";else f.hasData&&(b=JSON.parse(f.data),e=b.errorMessage?b.errorMessage:p.buildSimpleErrorContent(f,{alert:!1}));a.setUploadError(e);a.dialogView.displayErrors({fileUpload:e})}).always(function(){a.dialogView.enable();
a.progressView.finish()}).progress(function(b){"init"!=b&&a.progressView.progressHandler(b)})}else a.dialogView.displayErrors(b),a.dialogView.enable()};a.executeAjaxUpload=function(b,d,e){var f=m(),g=p.makeRequest({type:"POST",url:d,contentType:e,processData:!1,data:b,timeout:a.REQUEST_TIMEOUT_MILLIS,success:f.resolve.bind(f),error:f.reject.bind(f),xhr:function(){var a=c.ajaxSettings.xhr();f.notify("init");a.upload.addEventListener("progress",f.notify.bind(f));return a}});f.always(function(){c.ajaxSettings.xhr().removeEventListener("progress",
a.progressView.progressHandler);c(n.attachScreenshotDialog).off("Dialog.hide",g.abort)});c(n.attachScreenshotDialog).one("Dialog.hide",g.abort);return f.promise()};a.show=function(){var b=new m,d=c(".issueaction-attach-screenshot-html5");if(null!=t.current||0==d.length)return b.reject().promise();k.defer(function(){d.trigger("click")});c(document).on("dialogContentReady",function(c,d){d===n.attachScreenshotDialog&&a.dialogView.isEnabled()?b.resolve(d):b.reject()});c(document).on("ajaxComplete.jira.screenshot.dialog",
function(a,c,e){-1<e.url.indexOf(d.attr("href"))&&setTimeout(function(){"resolved"===!b.state()&&b.reject()},1E3)});b.always(function(){c(document).off("ajaxComplete.jira.screenshot.dialog")});return b.promise()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/issue-paste.js' */
define("dndattachment/ctrlv/issue-paste",["require","exports"],function(h,p){function l(a,c){c.stateName=a;var b=function(){var b=c.apply(null,arguments);b.stateName=a;return b};b.stateName=a;return b}function q(a,c,b){return l(a,function(){var f=setTimeout(function(){e(9)},b),d=c.apply(null,arguments),g=function(a,b){if(a=d(a,b))return clearTimeout(f),a};g.stateName=a;return g})}function e(a,c){if(e.eventQueue)e.eventQueue.push({type:a,object:c});else{for(e.eventQueue=[{type:a,object:c}];0<e.eventQueue.length;)a=
e.eventQueue.splice(0,1)[0],(a=r(a.type,a.object))&&(r=a);delete e.eventQueue}}var k=h("jquery"),t=h("dndattachment/ctrlv/trace"),u=h("dndattachment/ctrlv/tracking"),f=h("dndattachment/ctrlv/utility"),y=h("dndattachment/ctrlv/html5"),z=h("dndattachment/ctrlv/base64decode"),v=h("jira/util/events"),A=h("dndattachment/util/events/types"),g=l("idle",function(){function a(a){if(!k(a.target).is(":input:not(.wiki-textfield, #summary)")&&!f.isContentEditable(a.target))return!0}return function(c,b){if(0==
c&&f.isKeyPasteEvent(b)){if(f.browserIsNativePaste()||!a(b))return;u.trigger("attach.screenshot.html5.catchClipboard");return new w(b)}if(1==c){if(f.isImagePasteEvent(b)){u.trigger("attach.screenshot.html5.handlePaste");if(!a(b)){t("jira/attach-images-plugin/pasteIgnored");return}k(b.target).is(":input.wiki-textfield")&&b.preventDefault();return new n(b)}t("jira/attach-images-plugin/pasteIgnoredNotImage")}}}),w=q("catchClipboard",function(a){var c=document.activeElement;a.selectionStart=a.target.selectionStart;
a.selectionEnd=a.target.selectionEnd;var b=k('\x3cdiv contenteditable\x3d"true" class\x3d"attach-screenshot-paste-catcher"\x3e\x3c/div\x3e').appendTo("body");b.focus();k(c).is(":focusable:input,:aui-focusable:input")&&setTimeout(function(){c.focus()});return function(e,d){if(1==e){if(f.isImagePasteEvent(d))return b.remove(),d.target=c,new n(d);if(f.isHtmlImagePasteEvent(d))return b.remove(),d.target=c,new x(d);if(f.isTextPasteEvent(d))return b.remove(),e=f.getTextPasteContent(d),f.insertToInput(e,
a.target,a.selectionStart,a.selectionEnd),d.preventDefault(),new g}if(9==e){b.remove();d=b.find("\x3eimg");if(d.is(":only-child")){d=d.attr("src");if(0===d.toLowerCase().indexOf("http"))return g();d=z.decodeBase64DataUri(d);d=new Blob([d],{type:"image/png"});return new m(d,a)}d=f.getTextContent(b[0]);f.insertToInput(d,a.target,a.selectionStart,a.selectionEnd);return g()}}}),x=l("imageLoading",function(a){var c=f.getHtmlImagePaste(a);c?f.loadImage(c).then(function(a){e(4,a)},e.bind(null,5)):e(5);return function(b,
c){if(4==b)return(b=f.convertImageToBlob(c))?new m(b,a):new g;if(9==b||5==b)return new g}}),n=q("fileLoading",function(a){y.getFileFromEvent(a).done(function(a){e(2,a)}).fail(function(){e(3)});return function(c,b){if(2==c)return new m(b,a);if(3==c||9==c)return new g}},1E3),m=l("attachImage",function(a,c){c=c.target;var b=f.generateFileName()+".png";a=f.convertBlobToImage(a,b);v.trigger(A.ATTACHMENT_FOR_PAGE_RECEIVED,{files:[a],isWikiTextfieldFocused:f.isWikiTextfield(k(c)),wikiTextfield:c,isPaste:!0,
successCallback:function(){e(6)}});return function(a,b){return new g}}),r=new g;p._getStateMap=function(){return{events:{EVENT_WINDOW_KEYDOWN:0,EVENT_WINDOW_PASTE:1,EVENT_FILE_LOADED:2,EVENT_FILE_LOAD_ERROR:3,EVENT_IMAGE_LOADED:4,EVENT_IMAGE_LOAD_ERROR:5,EVENT_DIALOG_LOADED:6,EVENT_DIALOG_CLOSED:7,EVENT_DIALOG_CANCELED:8,EVENT_TIMEOUT:9},states:{StateIdle:g,StateCatchClipboard:w,StateImageLoading:x,StateFileLoading:n,StateAttachImage:m}}};p.initIssuePaste=function(){k(window).on("keydown",function(a){e(0,
a)});k(window).on("paste",function(a){e(1,f.normalizePasteEvent(a))});v.bind("Dialog.hide",function(a,c,b){b?e(8,c):e(7,c)})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/trace.js' */
define("dndattachment/ctrlv/trace",["require"],function(a){return a("jira/util/logger").trace});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/tracking.js' */
define("dndattachment/ctrlv/tracking",["require","exports"],function(a,b){var c=a("jira/analytics");b.trigger=function(a,b){c.send({name:a,data:b||{}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/executor.js' */
define("dndattachment/ctrlv/executor",["require","exports"],function(a,c){var g=a("jira/jquery/deferred"),b=a("jquery"),h=a("jira/util/events"),k=a("dndattachment/ctrlv/html5"),l=a("dndattachment/upload/handler");c.register=function(){l.registerExecutor({name:"JIRA Ctrl+V attachment executor",weight:5,isValid:function(a,b){return!!b.isPaste},processFiles:function(a,c){var d=g();k.show().done(function(c){var e=b("#attach-screenshot-placeholder-message"),f=b.Event("paste");f.clipboardData={files:a};
e.focus();setTimeout(function(){e.trigger(f)});h.bind("Dialog.hide",function(a,b,c){c?d.reject():d.resolve([b.find("#attachscreenshotname").val()+".png"])})});return d}})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:jira-html5-attach-images-resources', location = 'js/ctrlv/initialize.js' */
define("dndattachment/ctrlv/initialize",["require","exports"],function(a,b){var g=a("jira/jquery/deferred"),d=a("jquery"),c=a("dndattachment/ctrlv/html5"),h=a("dndattachment/ctrlv/issue-paste"),e=a("dndattachment/ctrlv/tracking"),k=a("dndattachment/ctrlv/executor"),f=a("jira/dialog/dialog-register"),l=a("jira/dialog/form-dialog");b.init=function(){var a=l.extend({options:{}});window.JIRA.ScreenshotDialog=a;h.initIssuePaste();d(document).ready(function(){var b=g();b.resolve();f.attachScreenshotDialog=
new a({id:"attach-screenshot-dialog",trigger:".issueaction-attach-screenshot-html5",isIssueDialog:!0,onContentRefresh:function(){this.$form.bind("before-submit",function(a){var b=c.validateFormData(c.screenshotFileUpload,d.trim(c.dialogView.getFileNameInput().val()));return 0==c.dialogView.getFileSize()?(a.preventDefault(),!1):0<Object.entries(b)?(c.dialogView.displayErrors(b),a.preventDefault(),!1):!0})},delayShowUntil:function(){return b}});d(document).bind("dialogContentReady",function(a,b){b===
f.attachScreenshotDialog&&null!==document.getElementById("attach-screenshot-form")&&(e.trigger("attach.screenshot.html5.contentReady"),c.initScreenshotPasteHandler())});d(document).ready(function(){d(document).on("click","#attach-screenshot-html5",function(){e.trigger("attach.screenshot.html5.display")})})});k.register()}});require(["dndattachment/ctrlv/initialize","jquery"],function(a,b){b(function(){a.init()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-dnd-attachment-plugin:attachment-menu-link-init', location = 'js/menu/initAttachmentMenuLink.js' */
require(["jquery","jira/analytics","jira/util/events","dndattachment/util/events/types"],function(a,e,f,g){var h=function(){var b=a('\x3cinput type\x3d"file" multiple /\x3e');b.change(function(a){f.trigger(g.ATTACHMENT_FOR_PAGE_RECEIVED,{files:b[0].files})});b.click()},d=function(){a(document).on("click",".unified-attach-file",function(b){e.send({name:"issue.dnd.attachment.opsbar.attachFiles.linkClick",data:{}});var c=a(b.target);c.hasClass("issueaction-attach-file")||(b.preventDefault(),a(".issue-drop-zone").length&&
!c.data("issuekey")?h():(c.addClass("issueaction-attach-file"),c.click()))})},k=function(){d()};a.isReady?d():a(k)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-scripts-common', location = '/teams/scripts-plugin/field-common.js' */
(k=>{k.set('rm.teams.plugin.customfield.common.noMatches','\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439');})(WRM.I18n.km);
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var r,o;r=[],void 0!==(o=function(){var e,t,n,r,o,i,s,a,u,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,o){if(o!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},s=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},u=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},o=function(e){var t;if(t=e.items,0===t.length)return t.push(u({text:AJS.I18n.getText("rm.teams.plugin.customfield.common.noMatches"),additionalStyles:"jpo-dropdown-item-italic"}))},a=function(t){var n,o;return n=t.ajaxOptions,o=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=o(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:s,createInfoMessageListItem:u,addNoMatchesItemIfEmpty:o,createDropdownClass:a}}.apply(t,r))&&(e.exports=o)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.teams:teams-wr-custom-field-team', location = '/teams/scripts-plugin/field-team.js' */
(k=>{k.set('rm.teams.plugin.customfield.common.noMatches','\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439');k.set('rm.teams.plugin.customfield.team.noTeamFound','\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u00ab{0}\u00bb \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.');k.set('rm.teams.plugin.customfield.team.privateTeamInfo','\u0412\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u043f\u043b\u0430\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043f\u043b\u0430\u043d\u0430 Portfolio.');k.set('rm.teams.plugin.customfield.team.searchHeading','\u041e\u0431\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b');})(WRM.I18n.km);
!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){var r,a;r=[],void 0!==(a=function(){var e,t,n,r,a,i,o,s,u,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,a){if(a!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},o=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},u=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},a=function(e){var t;if(t=e.items,0===t.length)return t.push(u({text:AJS.I18n.getText("rm.teams.plugin.customfield.common.noMatches"),additionalStyles:"jpo-dropdown-item-italic"}))},s=function(t){var n,a;return n=t.ajaxOptions,a=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=a(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:o,createInfoMessageListItem:u,addNoMatchesItemIfEmpty:a,createDropdownClass:s}}.apply(t,r))&&(e.exports=a)},function(e,t,n){var r,a;r=[n(0)],void 0!==(a=function(e){var t,n,r,a,i,o,s,u,l,c,p,d,m,f,h;return t=AJS.$,a=AJS.ItemDescriptor,r=AJS.GroupDescriptor,l=AJS.contextPath,i=100,o=".jpo-team-selection-dropdown",s=l()+"/rest/teams/1.0/teams/find",n=l()+"/download/resources/com.atlassian.teams:jpo-wr-images-and-fonts/images/teams/default-avatar.svg",h=function(e){var t,n,a;return a=e.teams,t=new r({weight:0,items:[c()]}),n=new r({weight:1,label:AJS.I18n.getText("rm.teams.plugin.customfield.team.searchHeading"),items:f({teams:a})}),[t,n]},m=function(e){var t,r,i;return r=e.id,i=e.title,t=e.avatarUrl,new a({value:""+r,fieldText:i,label:i,icon:t||n})},f=function(t){var n,r,a;return a=t.teams,n=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)r=a[e],n.push(m(r));return n}(),e.addNoMatchesItemIfEmpty({items:n}),n},c=function(){return e.createInfoMessageListItem({text:AJS.I18n.getText("rm.teams.plugin.customfield.team.privateTeamInfo"),additionalStyles:"jpo-dropdown-item-italic"})},p=function(e){var t;return t=e.query,JSON.stringify({query:t,excludedIds:[],maxResults:i})},u=e.createDropdownClass({ajaxOptions:e.createDropdownAjaxOptions({url:s,createQueryData:p,formatResponse:h}),getNoMatchingValueMessage:function(e){return AJS.I18n.getText("rm.teams.plugin.customfield.team.noTeamFound",e)}}),d=function(e){return t(o,e).each(function(){return new u({element:t(this)})})},e.bindInitializationCallback(function(e){var t;return t=e.context,d(t)})}.apply(t,r))&&(e.exports=a)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-analytics', location = '/includes/jira/analytics/analytics-init.js' */
require(["jquery","jira/analytics","jira/util/data/meta"],(function(a,t,c){"use strict";function n(a){var t=c.get("analytics-prefix");t&&(a=t+a);return a}a(document).on("click","[data-track-click]",(function(){t.send({name:n(a(this).data("track-click"))})}));a(document).on("auxclick","[data-track-auxclick]",(function(){t.send({name:n(a(this).data("track-auxclick"))})}));a((function(){a("[data-track-pageview]").each((function(c,i){t.send({name:n(a(i).data("track-pageview"))})}))}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/Avatar.js' */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};define("jira/ajs/avatarpicker/avatar",["jira/lib/class"],(function(t){"use strict";return t.extend({init:function(t){this._id=t.id;this._isSystemAvatar=t.isSystemAvatar;this._isSelected=t.isSelected;this._urls=t.urls},setUnSelected:function(){this._isSelected=!1},setSelected:function(){this._isSelected=!0},isSelected:function(){return!!this._isSelected},isSystemAvatar:function(){return this._isSystemAvatar},getId:function(){return this._id},getUrl:function(t){return this._urls[t]},toJSON:function(){return{id:this._id,isSystemAvatar:this._isSystemAvatar,isSelected:this._isSelected,urls:this._urls}}})}));define("jira/ajs/avatarpicker/avatar-factory",["jira/ajs/avatarpicker/avatar","exports"],(function(t,e){"use strict";e.createCustomAvatar=function(e){e.isSystemAvatar=!1;return new t(e)};e.createSystemAvatar=function(e){e.isSystemAvatar=!0;return new t(e)}}));define("jira/ajs/avatarpicker/avatar/sizes",["exports"],(function(t){"use strict";t.getSizeObjectFromName=function(e){return"object"===(void 0===e?"undefined":_typeof(e))?e:t.LARGE.param===e?t.LARGE:t.MEDIUM.param===e?t.MEDIUM:t.SMALL.param===e||"xsmall"===e?t.SMALL:t.LARGE};t.LARGE={param:"large",height:48,width:48};t.MEDIUM={param:"medium",width:32,height:32};t.SMALL={param:"small",width:16,height:16}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarManager.js' */
define("jira/ajs/avatarpicker/avatar-manager",["jira/util/formatter","jira/lib/class","wrm/context-path","jquery"],(function(t,a,r,e){"use strict";var s=r();return a.extend({init:function(t){this.store=t.store;this.ownerId=t.ownerId;this.username=t.username;this.anonymousAvatarId=t.anonymousAvatarId;this.avatarSrcBaseUrl=t.avatarSrcBaseUrl},selectAvatar:function(t,a){return this.store.selectAvatar(t,a)},getById:function(t){return this.store.getById(t)},destroy:function(t,a){this.store.destroy(t,a)},update:function(t,a){this.store.update(t,a)},add:function(t,a){this.store._add(t,a)},getAllSystemAvatars:function(){return this.store.getAllSystemAvatars()},getAllCustomAvatars:function(){return this.store.getAllCustomAvatars()},getSelectedAvatar:function(){return this.store.getSelectedAvatar()},getAllAvatars:function(){return this.store.getAllAvatars()},getAllAvatarsRenderData:function(t){var a,r=this.getAllAvatars(),e={system:[],custom:[]};for(a=0;a<r.system.length;a++)e.system.push(this.getAvatarRenderData(r.system[a],t));for(a=0;a<r.custom.length;a++)e.custom.push(this.getAvatarRenderData(r.custom[a],t));return e},getAvatarRenderData:function(t,a){var r=t.toJSON();r.src=this.getAvatarSrc(t,a);r.width=a.width;r.height=a.height;return r},refreshStore:function(t){this.store.refresh(t)},getAvatarSrc:function(a,r){return this.store.isTempAvatar(a)?s+"/secure/temporaryavatar?"+e.param({cropped:!0,magic:(new Date).getTime(),size:r.param}):a.getUrl(t.format("{0}x{1}",r.height,r.width))},createTemporaryAvatar:function(t,a){this.store.createTemporaryAvatar(t,a)},createAvatarFromTemporary:function(t,a){this.store.createAvatarFromTemporary(t,a)},getAnonymousAvatarId:function(){return this.anonymousAvatarId}})}));define("jira/ajs/avatarpicker/avatar-manager-factory",["jira/ajs/avatarpicker/avatar-store","jira/ajs/avatarpicker/avatar-manager","wrm/context-path","exports"],(function(t,a,r,e){"use strict";var s=r();e.createUniversalAvatarManager=function(r){var e,n="",o="",i="",v="";if(r.projectId){var u=s+"/rest/api/latest/universal_avatar/type/"+r.avatarType+"/owner/"+r.projectId;e=u;var c=u+"/avatar";n=null;o=u+"/temp";i=c;v=c}else{e=s+"/rest/api/latest/avatar/project/system";o=s+"/rest/api/latest/avatar/project/temporary";i=s+"/rest/api/latest/avatar/project/temporaryCrop"}var l=new t({restQueryUrl:e,restUpdateUrl:n,restCreateTempUrl:o,restUpdateTempUrl:i,restSingleAvatarUrl:v,defaultAvatarId:r.defaultAvatarId});return new a({store:l,ownerId:r.projectId,avatarSrcBaseUrl:s+"/secure/projectavatar"})};e.createProjectAvatarManager=function(t){t.avatarType="project";return e.createUniversalAvatarManager(t)};e.createUserAvatarManager=function(r){var e=s+"/rest/api/latest/user",n=new t({restQueryUrl:e+"/avatars",restUpdateUrl:e+"/avatar",restCreateTempUrl:e+"/avatar/temporary",restUpdateTempUrl:e+"/avatar",restSingleAvatarUrl:e+"/avatar",restParams:{username:r.username},defaultAvatarId:r.defaultAvatarId});return new a({store:n,username:r.username,avatarSrcBaseUrl:s+"/secure/useravatar"})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarStore.js' */
define("jira/ajs/avatarpicker/avatar-store",["jira/util/urls","jira/util/formatter","jira/ajs/avatarpicker/avatar-util","jira/ajs/avatarpicker/avatar-factory","jira/ajs/ajax/smart-ajax","jira/lib/class","jquery"],(function(t,e,r,a,s,i,o){"use strict";return i.extend({TEMP_ID:"TEMP",init:function(e){if(!e.restQueryUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restQueryUrl], The rest url for querying avatars (see class description)");if(!e.restCreateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restCreateTempUrl], The rest url for creating a temporary avatar (see class description)");if(!e.restUpdateTempUrl)throw new Error("JIRA.AvatarStore.init: You must specify [restUpdateTempUrl], The rest url for updating a temporary avatar (see class description)");if(!e.defaultAvatarId)throw new Error("JIRA.AvatarStore.init: You must specify [defaultAvatarId] to the contructor so the store knows what to select if you delete the selected one");this.restQueryUrl=e.restQueryUrl;this.restUpdateUrl=e.restUpdateUrl;this.restCreateTempUrl=e.restCreateTempUrl;this.restUpdateTempUrl=e.restUpdateTempUrl;this.restSingleAvatarUrl=e.restSingleAvatarUrl;this.restParams=e.restParams||{};this.restParams.atl_token=t.atl_token();this.defaultAvatarId=e.defaultAvatarId;this.avatars={system:[],custom:[]}},_buildCompleteUrl:function(t){var r=t;if(this.restParams){var a="";for(var s in this.restParams)Object.prototype.hasOwnProperty.call(this.restParams,s)&&(a+=e.format("&{0}={1}",encodeURIComponent(s),encodeURIComponent(this.restParams[s])));r+="?"+a.substr(1)}return r},getById:function(t){var e;o.each(this.avatars.system,(function(r,a){if(this.getId()===t){e=a;return!1}}));e||o.each(this.avatars.custom,(function(r,a){if(this.getId()===t){e=a;return!1}}));return e},isTempAvatar:function(t){return t.getId()===this.TEMP_ID},_selectAvatar:function(t){var e=this.getSelectedAvatar();e&&e.setUnSelected();t.setSelected()},selectAvatar:function(t,e){var r=this;if(!t)throw new Error("JIRA.AvatarStore.selectAvatar: Cannot select Avatar that does not exist");if(this.restUpdateUrl)s.makeRequest({type:"PUT",contentType:"application/json",dataType:"json",url:this._buildCompleteUrl(this.restUpdateUrl),data:JSON.stringify(t.toJSON()),success:function(){r._selectAvatar(t);e.success&&e.success.call(this,t)},error:e.error});else{r._selectAvatar(t);e.success&&e.success.call(this,t)}},_destory:function(t){var e=o.inArray(t,this.avatars.custom);if(-1===e)throw new Error("JIRA.AvatarStore._destroy: Cannot remove avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");this.avatars.custom.splice(e,1)},destroy:function(t,e){var r=this;e=e||{};if(!t)throw new Error("JIRA.AvatarStore.destroy: Cannot delete Avatar that does not exist");s.makeRequest({type:"DELETE",url:this.getRestUrlForAvatar(t),success:function(){r._destory(t);t.isSelected()?r.selectAvatar(r.getById(r.defaultAvatarId),e):e.success&&e.success.apply(this,arguments)},error:e.error})},getSelectedAvatar:function(){for(var t=0;t<this.avatars.custom.length;t++)if(this.avatars.custom[t].isSelected())return this.avatars.custom[t];for(t=0;t<this.avatars.system.length;t++)if(this.avatars.system[t].isSelected())return this.avatars.system[t]},_update:function(t){var e=this;if(!this.getById(t.getId()))throw new Error("JIRA.AvatarStore._update: Cannot update avatar ["+t.getId()+"], it might be a system avatar (readonly) or does not exist.");o.each(this.avatars.custom,(function(r){this.getId()===t.getId()&&(e.avatars.custom[r]=t)}))},update:function(t,e){var r=this;e=e||{};s.makeRequest({type:"PUT",url:this.getRestUrlForAvatar(t),error:e.error,success:function(){r._update(t);e.success&&e.success.apply(this,arguments)}})},_add:function(t){t.isSystemAvatar()?this.avatars.system.push(t):this.avatars.custom.push(t)},createAvatarFromTemporary:function(t,e){var r=this;e=e||{};this.restUpdateTempUrl&&s.makeRequest({type:"POST",url:this._buildCompleteUrl(this.restUpdateTempUrl),data:JSON.stringify(t),contentType:"application/json",dataType:"json",success:function(t){t||(t={id:r.TEMP_ID,isSelected:!0});var s=a.createCustomAvatar(t);r._add(s);e.success&&e.success.call(this,t)},error:e.error})},createTemporaryAvatar:function(t,e){e=o.extend(!0,{},e,{params:this.restParams});r.uploadTemporaryAvatar(this.restCreateTempUrl,t,e)},_refresh:function(t){var e=this;e.avatars.system=[];e.avatars.custom=[];t.system&&o.each(t.system,(function(t,r){e.avatars.system.push(a.createSystemAvatar(r))}));t.custom&&o.each(t.custom,(function(t,r){e.avatars.custom.push(a.createCustomAvatar(r))}))},refresh:function(t){var e=this,r=this.getById(e.TEMP_ID);t=t||{};s.makeRequest({url:this._buildCompleteUrl(this.restQueryUrl),error:t.error,success:function(a){e._refresh(a);r&&e._add(r);t.success&&t.success.apply(this,arguments)}})},getAllAvatars:function(){return this.avatars},getAllSystemAvatars:function(){return this.avatars.system},getAllCustomAvatars:function(){return this.avatars.custom},getRestUrlForAvatar:function(t){return this._buildCompleteUrl(this.restSingleAvatarUrl+"/"+t.getId())}})}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarUtil.js' */
define("jira/ajs/avatarpicker/avatar-util",["jira/util/urls","jira/util/logger","jira/attachment/inline-attach","jquery"],(function(e,r,t,a){"use strict";var n={uploadUsingIframeRemoting:function(o,s,i){i=i||{};var l=s.val(),c=new t.Form(new t.FileInput(s,!1)),u=c.addStaticProgress(l),d=c.cloneFileInput();c.fileSelector.clear();var g=new t.Timer((function(){!this.cancelled&&u.show()}),this),f=new t.FormUpload({$input:d,url:o,params:a.extend({},i.params,{filename:l,atl_token:e.atl_token()}),scope:this,before:function(){!this.cancelled&&u.start()},success:function(e,r){e.errorMessages&&e.errorMessages.length?c.addErrorWithFileName(e.errorMessages[0],l,n.getErrorTarget(c)):i.success&&i.success(e,r)},error:function(e){r.log(e);this.cancelled||(e.indexOf("SecurityTokenMissing")>=0?c.addError(t.Text.tr("upload.xsrf.timeout",l),n.getErrorTarget(c)):c.addError(t.Text.tr("upload.error.unknown",l),n.getErrorTarget(c)))},after:function(){g.cancel();u.remove();this.cancelled||c.enable()}});u.onCancel((function(){f.abort()}));f.upload()},uploadUsingFileApi:function(r,o,s){var i,l,c,u=o[0].files[0],d=new t.Form(new t.FileInput(o,!1)),g=d.addProgress(u);s=s||{};i=new t.Timer((function(){g.show()}));(l=new t.AjaxUpload({file:u,params:a.extend({},s.params,{filename:u.name,size:u.size,atl_token:e.atl_token()}),scope:this,url:r,before:function(){o.hide();g.start()},progress:function(e){g.progress.$progress.parent().parent().show();g.update(e)},success:function(e,r){c;e.errorMessages&&e.errorMessages.length?d.addErrorWithFileName(e.errorMessages[0],u.name,n.getErrorTarget(d)):201===r&&s.success(e,r)},error:function(e,r){r<0?d.addError(e,n.getErrorTarget(d)):d.addError(t.Text.tr("upload.error.unknown",u.name),n.getErrorTarget(d));s.error&&s.error(e,r)},after:function(){i.cancel();g.finish().remove();o.val("").show()}})).upload();g.onCancel((function(){l.abort()}))},getErrorTarget:function(e){return{$element:e.$form.find(".error")}},uploadTemporaryAvatar:function(e,r,a){t.AjaxPresenter.isSupported(r)?this.uploadUsingFileApi(e,r,a):this.uploadUsingIframeRemoting(e,r,a)}};return n}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.js' */
define("jira/ajs/avatarpicker/avatar-picker",["jira/util/logger","jira/util/formatter","jira/util/strings","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/ajax/smart-ajax","jira/dialog/dialog","jira/ajs/control","aui/message","jquery"],(function(a,e,t,r,i,n,c,o,d){"use strict";return c.extend({init:function(a){this.avatarManager=a.avatarManager;this.avatarRenderer=a.avatarRenderer;this.imageEditor=a.imageEditor;this.size=a.size;this.selectCallback=a.select;this.cropperDialog=null;this.initialSelection=a.initialSelection},render:function(a){var e=this;this.avatarManager.refreshStore({success:function(){if(e.cropperDialog instanceof n){e.cropperDialog.hide();delete e.cropperDialog}e.element=d('<div id="jira-avatar-picker" />');e.element.html(JIRA.Templates.AvatarPicker.picker({avatars:e.avatarManager.getAllAvatarsRenderData(e.size)}));e._assignEvents("selectAvatar",e.element.find(".jira-avatar button"));e._assignEvents("deleteAvatar",e.element.find(".jira-delete-avatar"));e._assignEvents("uploader",e.element.find("#jira-avatar-uploader"));void 0!==e.initialSelection&&e.getAvatarElById(e.initialSelection).addClass("jira-selected-avatar");a(e.element)},error:function(t,r,i,n){e.appendErrorContent(e.element,n);a(e.element)}})},appendErrorContent:function(a,e){try{var r=JSON.parse(e.data);r&&r.errorMessages?d.each(r.errorMessages,(function(e,r){o.error(a,{body:t.escapeHtml(r),closeable:!1,shadowed:!1})})):a.append(i.buildDialogErrorContent(e,!0))}catch(t){a.append(i.buildDialogErrorContent(e,!0))}},uploadTempAvatar:function(e){var t=this;this.avatarManager.createTemporaryAvatar(e,{success:function(a){if(a.id)t.render((function(){t.selectAvatar(a.id)}));else{e.val("");t.cropperDialog=new n({id:"project-avatar-cropper",width:560,content:function(e){var r=t.imageEditor.render(a);t.imageEditor.edit({confirm:function(a){var e=function(){var a=r.find("input[type=submit]"),e=d("<span class='icon throbber loading'></span>");a.attr("aria-disabled","true").attr("disabled","");a.before(e);return function(){e.remove();a.removeAttr("aria-disabled").removeAttr("disabled")}}();t.avatarManager.createAvatarFromTemporary(a,{success:function(a){t.render((function(){t.selectAvatar(a.id)}))},error:function(a,r,i,n){t.appendErrorContent(t.imageEditor.element,n);e()}})}});r.find(".cancel").click((function(){t.cropperDialog.hide()}));e(r)}});t.cropperDialog.bind("dialogContentReady",(function(){d(t).trigger(r.LOADED)}));t.cropperDialog.bind("Dialog.hide",(function(){d(t).trigger(r.DISMISSED)}));t.cropperDialog.show()}},error:function(){a.log(arguments)}})},getAvatarElById:function(a){return this.element.find(".jira-avatar[data-id='"+a+"']")},selectAvatar:function(a){var e=this.avatarManager.getById(a),t=this;this.avatarManager.selectAvatar(this.avatarManager.getById(a),{error:function(){},success:function(){t.getAvatarElById(a).remove();t.selectCallback&&t.selectCallback.call(t,e,t.avatarManager.getAvatarSrc(e,t.size))}})},deleteAvatar:function(a){var t=this;confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440?")&&this.avatarManager.destroy(this.avatarManager.getById(a),{error:function(){},success:function(){var e=t.avatarManager.getSelectedAvatar(),r=t.getAvatarElById(a);r.fadeOut((function(){r.remove()}));if(e.getId()!==a){t.getAvatarElById(e.getId()).addClass("jira-selected-avatar");t.selectCallback.call(t,e,t.avatarManager.getAvatarSrc(e,t.size),!0)}}})},_events:{uploader:{change:function(a,e){this.uploadTempAvatar(e)}},deleteAvatar:{click:function(a,e){this.deleteAvatar(e.attr("data-id"))}},selectAvatar:{click:function(a,e){"button"===e[0].tagName.toLowerCase()&&this.selectAvatar(e.attr("data-id"))}}}})}));define("jira/ajs/avatarpicker/avatar-picker/image-editor",["jira/ajs/control","jquery"],(function(a,e){"use strict";var t=a.extend({render:function(a){this.element=e('<div id="avatar-picker-image-editor"/>').html(JIRA.Templates.AvatarPicker.imageEditor(a));return this.element},edit:function(a){var t=this,r=this.element.find(".avataror");a=a||{};r.unbind();r.bind("AvatarImageLoaded",(function(){a.ready&&a.ready()}));r.find("img").load((function(){r.avataror({previewElement:t.element.find(".jira-avatar-cropper-header"),parent:t.element})}));this.element.find("#avataror").submit((function(t){t.preventDefault();a.confirm&&a.confirm({cropperOffsetX:e("#avatar-offsetX").val(),cropperOffsetY:e("#avatar-offsetY").val(),cropperWidth:e("#avatar-width").val()})})).find(".cancel").click((function(e){e.preventDefault();a.cancel&&a.cancel()}))}});t.LOADED="imageEditorLoaded";t.DISMISSED="imageEditorDismissed";return t}));define("jira/ajs/avatarpicker/avatar-picker-factory",["jira/util/browser","jira/util/formatter","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jira/ajs/avatarpicker/avatar-manager-factory","jira/ajs/avatarpicker/avatar/sizes","jira/dialog/form-dialog","wrm/context-path","wrm/data","wrm/require","jquery","exports"],(function(a,e,t,r,i,n,c,o,d,l,s,v){"use strict";v.createUniversalAvatarPicker=function(a){return new t({avatarManager:i.createUniversalAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,avatarType:a.avatarType}),initialSelection:a.initialSelection,imageEditor:new r,size:a.hasOwnProperty("avatarSize")?a.avatarSize:n.LARGE,select:a.select})};v.createProjectAvatarPicker=function(a){return new t({avatarManager:i.createProjectAvatarManager({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId}),imageEditor:new r,size:n.LARGE,select:a.select})};v.createUserAvatarPicker=function(a){return new t({avatarManager:i.createUserAvatarManager({username:a.username,defaultAvatarId:a.defaultAvatarId}),imageEditor:new r,size:n.LARGE,select:a.select})};v.createUniversalAvatarPickerDialog=function(a){var t=a.initialSelection||a.defaultAvatarId,r=new c({trigger:a.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(i){var n,c;c=s('<div id="projectavatar-content-wrapper"/>');s("<h2 />").text(a.title||"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0410\u0432\u0430\u0442\u0430\u0440 \u041f\u0440\u043e\u0435\u043a\u0442\u0430").appendTo(c);n=v.createUniversalAvatarPicker({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,initialSelection:t,avatarType:a.avatarType,avatarSize:a.avatarSize,select:function(e,i,n){t=String(e.getId());a.select&&a.select.apply(this,arguments);n||r.hide()}});n.render((function(a){l("wrc!jira.webresources:jquery-avataror",(function(){c.append(a);i(c)}))}))}});r._focusFirstField=function(){}};v.createProjectAvatarPickerDialog=function(a){var t=new c({trigger:a.trigger,id:"project-avatar-picker",width:600,stacked:!0,content:function(r){var i,n;n=s('<div id="projectavatar-content-wrapper"/>');s("<h2 />").text("\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0410\u0432\u0430\u0442\u0430\u0440 \u041f\u0440\u043e\u0435\u043a\u0442\u0430").appendTo(n);i=v.createProjectAvatarPicker({projectKey:a.projectKey,projectId:a.projectId,defaultAvatarId:a.defaultAvatarId,select:function(e,r,i){a.select&&a.select.apply(this,arguments);i||t.hide()}});i.render((function(a){l("wrc!jira.webresources:jquery-avataror",(function(){n.append(a);r(n)}))}))}});t._focusFirstField=function(){}};var p=d.claim("jira.core:avatar-picker-data.data");v.createUserAvatarPickerDialog=function(t){if(p&&p.isEnabled)s(t.trigger).click((function(e){var t=o()+p.url,r=t.indexOf("?")>-1?"&":"?";t+=r+"continue="+encodeURIComponent(window.location.href);e.preventDefault();e.stopPropagation();a.reloadViaWindowLocation(t)}));else var r=new c({trigger:t.trigger,id:"user-avatar-picker",width:600,stacked:!0,content:function(a){var i,n;n=s('<div id="useravatar-content-wrapper"/>');s("<h2 />").text("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f").appendTo(n);i=v.createUserAvatarPicker({username:t.username,defaultAvatarId:t.defaultAvatarId,select:function(a,e,i){t.select&&t.select.apply(this,arguments);s(".avatar-image").attr("src",e);i||r.hide()}});i.render((function(e){l("wrc!jira.webresources:jquery-avataror",(function(){n.append(e);a(n)}))}))}})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/GravatarUtil.js' */
define("jira/ajs/avatarpicker/gravatar-util",["jquery","exports"],(function(a,r){"use strict";r.showGravatarHelp=function(r){if(void 0!==r&&void 0!==r.entry){a(".gravatar-signup-text").addClass("hidden");a(".gravatar-login-text").removeClass("hidden")}};r.displayGravatarHelp=function(){var t=a("#gravatar_json_url");t.length&&a.ajax(t.val(),{dataType:"jsonp",success:r.showGravatarHelp})}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/initAvatarPicker.js' */
!function(){"use strict";var a=require("jquery"),r=require("jira/ajs/avatarpicker/avatar/sizes"),e=require("jira/ajs/avatarpicker/avatar-factory"),t=require("jira/ajs/avatarpicker/avatar-manager-factory"),c=require("jira/ajs/avatarpicker/avatar-picker-factory"),A=require("jira/ajs/avatarpicker/gravatar-util");AJS.namespace("JIRA.Avatar",null,require("jira/ajs/avatarpicker/avatar"));AJS.namespace("JIRA.Avatar.createCustomAvatar",null,e.createCustomAvatar);AJS.namespace("JIRA.Avatar.createSystemAvatar",null,e.createSystemAvatar);AJS.namespace("JIRA.Avatar.getSizeObjectFromName",null,r.getSizeObjectFromName);AJS.namespace("JIRA.Avatar.LARGE",null,r.LARGE);AJS.namespace("JIRA.Avatar.MEDIUM",null,r.MEDIUM);AJS.namespace("JIRA.Avatar.SMALL",null,r.SMALL);AJS.namespace("JIRA.AvatarManager",null,require("jira/ajs/avatarpicker/avatar-manager"));AJS.namespace("JIRA.AvatarManager.createUniversalAvatarManager",null,t.createUniversalAvatarManager);AJS.namespace("JIRA.AvatarManager.createProjectAvatarManager",null,t.createProjectAvatarManager);AJS.namespace("JIRA.AvatarManager.createUserAvatarManager",null,t.createUserAvatarManager);AJS.namespace("JIRA.AvatarPicker",null,require("jira/ajs/avatarpicker/avatar-picker"));AJS.namespace("JIRA.AvatarPicker.ImageEditor",null,require("jira/ajs/avatarpicker/avatar-picker/image-editor"));AJS.namespace("JIRA.AvatarPicker.createUniversalAvatarPicker",null,c.createUniversalAvatarPicker);AJS.namespace("JIRA.AvatarPicker.createProjectAvatarPicker",null,c.createProjectAvatarPicker);AJS.namespace("JIRA.AvatarPicker.createUserAvatarPicker",null,c.createUserAvatarPicker);AJS.namespace("JIRA.createUniversalAvatarPickerDialog",null,c.createUniversalAvatarPickerDialog);AJS.namespace("JIRA.createProjectAvatarPickerDialog",null,c.createProjectAvatarPickerDialog);AJS.namespace("JIRA.createUserAvatarPickerDialog",null,c.createUserAvatarPickerDialog);AJS.namespace("JIRA.AvatarStore",null,require("jira/ajs/avatarpicker/avatar-store"));AJS.namespace("JIRA.AvatarUtil",null,require("jira/ajs/avatarpicker/avatar-util"));AJS.namespace("JIRA.GravatarUtil.showGravatarHelp",null,A.showGravatarHelp);a((function(){c.createUserAvatarPickerDialog({trigger:"#user_avatar_image",username:a("#avatar-owner-id").text(),defaultAvatarId:a("#default-avatar-id").text()});a("#gravatar_help_params")&&A.displayGravatarHelp()}))}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker', location = '/includes/ajs/avatarpicker/AvatarPicker.soy' */
// This file was automatically generated from AvatarPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.AvatarPicker.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.AvatarPicker == 'undefined') { JIRA.Templates.AvatarPicker = {}; }


JIRA.Templates.AvatarPicker.picker = function(opt_data, opt_ignored) {
  var output = '<form class="jira-avatar-upload-form aui top-label" action="#"><input name="id" value="10000" type="hidden" ><input name="pid" value="10000" type="hidden" ><div class="field-group"><label for="jira-avatar-uploader">' + soy.$$escapeHtml('\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u0432\u0430\u0442\u0430\u0440') + '</label><input type="file" class="ignore-inline-attach" name="avatar" id="jira-avatar-uploader"/><div class="error"></div></div></form><div class="form-body"><ul class="jira-avatars">';
  var avatarList6 = opt_data.avatars.system;
  var avatarListLen6 = avatarList6.length;
  for (var avatarIndex6 = 0; avatarIndex6 < avatarListLen6; avatarIndex6++) {
    var avatarData6 = avatarList6[avatarIndex6];
    output += '<li class="jira-avatar jira-system-avatar ' + ((avatarData6.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this Avatar" data-id="' + soy.$$escapeHtml(avatarData6.id) + '"><button data-id="' + soy.$$escapeHtml(avatarData6.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0430\u0432\u0430\u0442\u0430\u0440') + '"><img id="avatar-' + soy.$$escapeHtml(avatarData6.id) + '" src="' + soy.$$escapeHtml(avatarData6.src) + '" width="' + soy.$$escapeHtml(avatarData6.width) + '" height="' + soy.$$escapeHtml(avatarData6.height) + '" alt="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0430\u0432\u0430\u0442\u0430\u0440') + '"/></button></li>';
  }
  var avatarList29 = opt_data.avatars.custom;
  var avatarListLen29 = avatarList29.length;
  for (var avatarIndex29 = 0; avatarIndex29 < avatarListLen29; avatarIndex29++) {
    var avatarData29 = avatarList29[avatarIndex29];
    output += '<li class="jira-avatar jira-custom-avatar ' + ((avatarData29.isSelected) ? 'jira-selected-avatar' : '') + '" title="Select this avatar" data-id="' + soy.$$escapeHtml(avatarData29.id) + '"><button data-id="' + soy.$$escapeHtml(avatarData29.id) + '" class="jira-icon-button" title="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0430\u0432\u0430\u0442\u0430\u0440') + '"><img id="avatar-' + soy.$$escapeHtml(avatarData29.id) + '" src="' + soy.$$escapeHtml(avatarData29.src) + '" width="' + soy.$$escapeHtml(avatarData29.width) + '" height="' + soy.$$escapeHtml(avatarData29.height) + '" alt="' + soy.$$escapeHtml('\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0430\u0432\u0430\u0442\u0430\u0440') + '" /></button><button class="jira-delete-avatar jira-icon-button" data-id="' + soy.$$escapeHtml(avatarData29.id) + '" title="' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0410\u0432\u0430\u0442\u0430\u0440') + '">' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0410\u0432\u0430\u0442\u0430\u0440') + '</button></li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.picker.soyTemplateName = 'JIRA.Templates.AvatarPicker.picker';
}


JIRA.Templates.AvatarPicker.imageEditor = function(opt_data, opt_ignored) {
  return '<form id="avataror" class="jira-avatar-cropper-form aui" action="/jira/secure/project/AvatarPicker.jspa"><input type="hidden" name="cropperOffsetX" id="avatar-offsetX" value="' + soy.$$escapeHtml(opt_data.cropperOffsetX) + '"><input type="hidden" name="cropperOffsetY" id="avatar-offsetY" value="' + soy.$$escapeHtml(opt_data.cropperOffsetY) + '"><input type="hidden" name="cropperWidth" id="avatar-width"  value="' + soy.$$escapeHtml(opt_data.cropperWidth) + '"><div class="jira-avatar-cropper-header"><p>' + soy.$$escapeHtml('\u041e\u0431\u0440\u0435\u0436\u044c\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u0430.') + '</p><div id="jira-avatar-cropper-keyboard-instructions"><p>' + soy.$$escapeHtml('\u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0433\u043e\u0440\u044f\u0447\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438:') + '</p><p>' + soy.$$filterNoAutoescape('\x3ckbd\x3e\u041a\u043b\u0430\u0432\u0438\u0448\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438\x3c/kbd\x3e \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438.') + '</p><p>' + soy.$$filterNoAutoescape('\x3ckbd\x3eAlt/Option + \u043a\u043b\u0430\u0432\u0438\u0448\u0438 \u0441\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0430\u043c\u0438\x3c/kbd\x3e \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438.') + '</p></div></div><div class="form-body"><div class="avataror"><img src="' + soy.$$escapeHtml(opt_data.url) + '" height="300" /></div></div><div class="form-footer buttons-container"><div class="buttons"><input type="submit" class="aui-button aui-button-primary" value="' + soy.$$escapeHtml('\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c') + '"><a class="aui-button aui-button-link cancel" href="#">' + soy.$$escapeHtml('\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c') + '</a></div></div></form>';
};
if (goog.DEBUG) {
  JIRA.Templates.AvatarPicker.imageEditor.soyTemplateName = 'JIRA.Templates.AvatarPicker.imageEditor';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/initAvatarPickerTrigger.js' */
define("jira/admin/init/avatar-picker-trigger",["jira/ajs/layer/layer-constants","jira/util/events","jira/util/events/types","jira/util/events/reasons","jira/ajs/layer/inline-layer","jira/ajs/contentretriever/content-retriever","jira/ajs/avatarpicker/avatar","jira/ajs/avatarpicker/avatar-picker-factory","jira/ajs/avatarpicker/avatar-picker","jira/ajs/avatarpicker/avatar-picker/image-editor","jquery"],(function(t,a,e,r,i,n,c,s,v,o,d){"use strict";var f=n.extend({init:function(t){this.avatarPicker=t},content:function(t){this.avatarPicker.render((function(a){t(d("<div />").html(a))}))},cache:function(){return!1},isLocked:function(){},startingRequest:function(){},finishedRequest:function(){}}),l=i.extend({init:function(t){var a=this;this.avatarPicker=v.createProjectAvatarPicker({projectId:t.projectId,projectKey:t.projectKey,defaultAvatarId:t.defaultAvatarId,select:function(e,r,i){t.select&&t.select.apply(this,arguments);i||a.hide();a.offsetTarget().attr("src",r);a.offsetTarget().trigger("AvatarSelected")}});t.contentRetriever=new f(this.avatarPicker);d(this.avatarPicker.imageEditor).bind(o.LOADED,(function(){a.setWidth(a.layer().attr("scrollWidth"))}));this._super(t);var e=this.offsetTarget(),r=d("<span class='jira-avatar-picker-trigger'></span>");r.insertBefore(e).append(e);this._assignEvents("offsetTarget",r)},_events:{offsetTarget:{click:function(){this.show()}}}});a.bind(e.NEW_CONTENT_ADDED,(function(a,e,i){if(i!==r.panelRefreshed){n=e,v=d(".jira-avatar-picker-trigger"),o=d(".jira-avatar-picker-trigger img, img.jira-avatar-picker-trigger",n),f=d(n).find("#avatar-picker-avatar-id"),g=d(n).find("#avatar-picker-iconurl"),""!==(j=d(n).find("#avatar-type")).text()&&s.createUniversalAvatarPickerDialog({trigger:v,title:d(n).find("#avatar-dialog-title").text(),projectId:d(n).find("#avatar-owner-id").text(),projectKey:d(n).find("#avatar-owner-key").text(),defaultAvatarId:d(n).find("#default-avatar-id").text(),initialSelection:f.val(),avatarSize:c.getSizeObjectFromName(d(n).find("#avatar-size").text()),avatarType:j.text(),select:function(t,a){o.attr("src",a);g.val(a);f.val(t.getId())}});!function(a){var e=d(".jira-inline-avatar-picker-trigger",a);e.length&&new l({offsetTarget:e,projectId:d(a).find("#avatar-owner-id").text(),projectKey:d(a).find("#avatar-owner-key").text(),defaultAvatarId:d(a).find("#default-avatar-id").text(),alignment:t.LEFT,width:420,allowDownsize:!0})}(e)}var n,v,o,f,g,j}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:avatar-picker-trigger', location = '/includes/jira/admin/init/init-avatar-picker.js' */
require("jira/admin/init/avatar-picker-trigger");
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:croneditor', location = '/includes/js/cron/croneditor.js' */
define("jira/util/cron",["exports"],(function(n){"use strict";var i=window.timesOnce=window.timesOnce||{};n.hideCronEdit=function(n){document.getElementById(n).style.display="none"};n.showCronEdit=function(n){document.getElementById(n).style.display=""};n.toggleFrequencyControl=function(i,e){"0"===document.getElementById(i+"interval").value?n.switchToOnce(i,e):n.switchToMany(i,e)};n.switchToOnce=function(e,o){n.hideCronEdit(e+"runMany");n.showCronEdit(e+"runOnce");o&&(i[e]=!0)};n.switchToMany=function(e,o){n.hideCronEdit(e+"runOnce");n.showCronEdit(e+"runMany");o&&(i[e]=!1)};n.switchToDaysOfMonth=function(i){n.hideCronEdit(i+"daysOfWeek");n.showCronEdit(i+"daysOfMonth");n.showCronEdit(i+"freqDiv");n.hideCronEdit(i+"innerFreqDiv");n.hideCronEdit(i+"advanced");n.switchToOnce(i,!1)};n.switchToDaysOfWeek=function(i){n.showCronEdit(i+"daysOfWeek");n.hideCronEdit(i+"daysOfMonth");n.showCronEdit(i+"freqDiv");n.showCronEdit(i+"innerFreqDiv");n.hideCronEdit(i+"advanced");n.switchToOriginal(i)};n.switchToDaily=function(i){n.hideCronEdit(i+"daysOfWeek");n.hideCronEdit(i+"daysOfMonth");n.showCronEdit(i+"freqDiv");n.showCronEdit(i+"innerFreqDiv");n.hideCronEdit(i+"advanced");n.switchToOriginal(i)};n.switchToAdvanced=function(i){n.hideCronEdit(i+"daysOfWeek");n.hideCronEdit(i+"daysOfMonth");n.hideCronEdit(i+"runOnce");n.hideCronEdit(i+"runMany");n.hideCronEdit(i+"freqDiv");n.showCronEdit(i+"advanced")};n.switchToOriginal=function(e){i[e]?n.switchToOnce(e,!1):n.switchToMany(e,!1)}}));!function(){"use strict";var n=require("jira/util/cron");AJS.namespace("hideCronEdit",null,n.hideCronEdit);AJS.namespace("showCronEdit",null,n.showCronEdit);AJS.namespace("switchToOnce",null,n.switchToOnce);AJS.namespace("switchToMany",null,n.switchToMany);AJS.namespace("switchToDaysOfMonth",null,n.switchToDaysOfMonth);AJS.namespace("switchToDaysOfWeek",null,n.switchToDaysOfWeek);AJS.namespace("switchToDaily",null,n.switchToDaily);AJS.namespace("switchToAdvanced",null,n.switchToAdvanced);AJS.namespace("switchToOriginal",null,n.switchToOriginal);AJS.namespace("toggleFrequencyControl",null,n.toggleFrequencyControl)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-page-atl-prefetch', location = '/includes/jira/page/prefetch.js' */
define("jira/page/atl/prefetch",["jira/util/data/meta","jira/data/local-storage","jira/ajs/dark-features","jquery","wrm/context-path"],(function(e,t,r,n,i){"use strict";var a,s,u,c="jira.issue.prefetch.last.superbatch",f=(a=new Date,s=a.getFullYear().toString()+a.getMonth().toString()+a.getDate().toString(),((u=n("head > script").filter((function(e,t){return t.src.indexOf("/_super")>0}))).length>0?u[0].src:"empty")+s);function o(e){n("<link />",{rel:"prefetch",href:e}).appendTo("head")}function l(e,t){for(var r=t.exec(e);r;){o(r[1].replace(/&amp;/g,"&"));r=t.exec(e)}}function h(){try{t.setItem(c,f)}catch(e){}}function p(e){l(e,/<script.+?src="(.+?)".+?<\/script>/g);l(e,/<link.+?rel="stylesheet".+?href="(.+?)".+?>/g);h()}function g(e){var t=function(e){var t=e.sections;if(t){var r=t.filter((function(e){return"issues_history_main"===e.id}));if(r.length&&0!==r[0].items.length)return r[0].items[0].url}}(e);t&&d(t)}function d(e){n.get(e,p)}return{prefetchResourcesForUrl:d,prefetchViewIssueResources:function(){(function(){if(!r.isEnabled("jira.issue.prefetch"))return!1;if(1===n("#isNavigator").length){h();return!1}if(e.get("issue-key")){h();return!1}return f!==t.getItem(c)})()&&n.ajax({url:i()+"/rest/api/1.0/menus/find_link?inAdminMode=false",dataType:"json"}).done(g)}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-jira-page-atl-prefetch', location = '/includes/jira/page/initPrefetch.js' */
require(["jira/page/atl/prefetch","jquery"],(function(e,r){"use strict";r(window).on("load",e.prefetchViewIssueResources.bind(e))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:init-terminology-help-dialog', location = '/includes/jira/terminology/InitTerminologyHelpDialog.js' */
require(["jira/data/local-storage","jira/dialog/dialog-register","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/terminology-feature-service","jira/util/formatter","jira/util/init-on-dcl","jquery"],(function(e,i,o,t,l,r,n,a){"use strict";n((function(){var n=e.getItem("jira.terminology.help.clicked"),s=e.getItem("jira.terminology.help.dismissed"),g=a("#terminology_help");if(!s&&l.isEnglishLocale()){i.terminologyHelp=new t({id:"terminology-help-dialog",trigger:"#terminology_help",widthClass:"medium",ajaxOptions:o.getDefaultAjaxOptions,defineResources:function(){this.requireResource("jira.webresources:terminology-help-dialog")}});i.terminologyHelp.onContentReady((function(){var i=this;this.get$popupContent().find("#terminology-dismiss-btn").on("click",(function(){e.setItem("jira.terminology.help.dismissed",!0);i.hide();g.parent("li").remove()}))}));if(!n){var m=a('<span class="aui-lozenge aui-lozenge-subtle aui-lozenge-new">'+"\u041d\u043e\u0432\u044b\u0439"+"</span>").css("margin-left","5px").appendTo(g);g.on("click",(function(){e.setItem("jira.terminology.help.clicked",!0);m.remove()}))}}else g.parent("li").remove()}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.feedback.jira-feedback-plugin:button-resources-init', location = '/js/feedback-dialog-init.js' */
require(["jquery","jira/loading/loading","wrm/require"],(function(n,i,e){"use strict";var o=!1;function a(n){o=!1;n&&AJS.dim.$dim.css("transition","none");AJS.undim();n&&AJS.dim.$dim&&AJS.dim.$dim.css("transition","");i.hideLoadingIndicator()}n(document).on("click",".jira-feedback-plugin",(function(n){n.preventDefault();if(!o){!function(){o=!0;AJS.dim();i.showLoadingIndicator()}();e(["wr!com.atlassian.feedback.jira-feedback-plugin:button-resources"]).done((function(){require("jira/feedback/feedback-dialog").show().then((function(){return a(!0)}),(function(n){console.error("Something went wrong in an attempt to show the issue collector dialog",n);a(!1)}))})).fail((function(n){console.error("Something went wrong when loading feedback plugin resources",n);a(!1)}))}}));n(window).on("message",(function(n){"cancelFeedbackDialog"===n.originalEvent.data&&AJS.$(".jira-feedback-plugin")[0].focus()}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init', location = 'static/components/newsletter/initNewsletterSignup.js' */
define("jira/newsletter/init-signup",["wrm/data","wrm/require-lazily","require"],(function(e,i,r){"use strict";return function(){var t=e.claim("com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup");!t||t&&!t.showNewsletterTip||i("wr!com.atlassian.jira.jira-header-plugin:newsletter-signup-tip").then((function(){r("jira/newsletter/signuptip").render(t)}))}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init-init', location = 'static/components/newsletter/initInitNewsletterSignup.js' */
require(["jquery","jira/newsletter/init-signup"],(function(i,e){"use strict";i((function(){e()}))}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/notification-helper-init.js' */
require(["jquery","jira/util/data/meta","wrm/require"],function(a,b,c){b.get("is-admin")&&a(document).delegate(".notificationhelper-trigger","click",function(a){a.preventDefault();c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>{(new (require("jira/admin-helper/dialog"))({id:"notification-helper-dialog",content:function(a){const b=this;require(["jira/admin-helper/notification-helper/content-loader"],function(c){c.loadContent(b,a)})}})).show()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/permission-helper-init.js' */
require(["jquery","jira/util/data/meta","wrm/require"],function(a,b,c){b.get("is-admin")&&a(document).delegate(".permissionhelper-trigger","click",function(a){a.preventDefault();c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>{(new (require("jira/admin-helper/dialog"))({id:"permission-helper-dialog",content:function(a){const b=this;require(["jira/admin-helper/permission-helper/content-loader"],function(c){c.loadContent(b,a)})}})).show()})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-resources', location = 'js/whereismycf-init.js' */
require(["jquery","jira/util/data/meta","jira/dialog/dialog-stack","wrm/require"],function(b,d,e,c){if(d.get("is-admin")){var f="\u0413\u0434\u0435 \u043c\u043e\u0435 \u043f\u043e\u043b\u0435?";b(document).delegate(".whereismycf-trigger","click",function(a){a.preventDefault();c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>{(new (require("jira/admin-helper/dialog"))({id:"whereismycf-dialog",width:500,content:function(a){var b=this;require(["jira/admin-helper/whereismycf/content-loader"],
function(g){g.loadContentForView(b,a)})}})).show()})});b(document).bind("aui-show",function(a){"qf-fieldpicker-inline"===a.target.id&&(a=b("#qf-fieldpicker-inline"),0==a.find(".whereismycf-qfpicker-link").length&&b("\x3cdiv\x3e\x3ca href\x3d'#' tabindex\x3d'0' class\x3d'whereismycf-qfpicker-link'\x3e"+f+"\x3c/a\x3e\x3c/div\x3e").prependTo(a.find(".qf-picker-header")).attr("tabindex",0).click(function(a){a.preventDefault();const b=e.current;c("wr!com.atlassian.jira.plugins.jira-admin-helper-plugin:dialog-async-resources").then(()=>
{(new (require("jira/admin-helper/dialog"))({id:"whereismycf-dialog",width:500,content:function(a){const c=this;require(["jira/admin-helper/whereismycf/content-loader"],function(d){d.loadContentForEditAndCreate(c,b,a)})}})).show()})}))})}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:split_aui.component.form.toggle', location = 'aui.chunk.358897a37a312557220d--8ee257c0e4f2a850f4d7.js' */
(k=>{k.set('aui.toggle.off','\u0412\u044b\u043a\u043b.');k.set('aui.toggle.on','\u0412\u043a\u043b.');})(WRM.I18n.km);
"use strict";(self.webpackChunk_auiRuntime=self.webpackChunk_auiRuntime||[]).push([[3506],{2441:(e,t,i)=>{i.r(t),i.d(t,{ToggleEl:()=>L});i(8316),i(9116),i(1062),i(6829);var n=i(7159),a=i(4304),u=i(9228),s=i(1613),o=i(2031),l=i(2596),c=i.n(l),r=i(7843),d=i(9319),f=i(4266),h=i(130),b=i(6110);function g(e){return e._input||(e._input=e.querySelector("input"))}function p(e){return e._spinner||(e._spinner=new h.default)}function v(e,t){g(t).removeAttribute(e)}function m(e,t,i){g(t).setAttribute(e,i.newValue)}function k(e){return{removed:v.bind(this,e),fallback:m.bind(this,e)}}const A={removed:function(e){v.call(this,"form",e),e._formId=null},fallback:function(e,t){m.call(this,"form",e,t),e._formId=t.newValue}},y={removed:v.bind(void 0,"id"),fallback:function(e,t){const i=`${t.newValue}${d.INPUT_SUFFIX}`;g(e).setAttribute("id",i)}},w={removed:function(e){v.call(this,"value",e),g(e).value="on"},fallback:function(e,t){m.call(this,"value",e,t)}},_={removed:function(e){g(e).checked=!1},fallback:function(e){g(e).checked=!0}},E={removed:function(e){g(e).removeAttribute("aria-label")},fallback:function(e,t){g(e).setAttribute("aria-label",t.newValue)}};const I=(0,r.default)("aui-toggle",{template:c()('<input type="checkbox" role="switch" class="aui-toggle-input assistive">','<span class="aui-toggle-view">','<span class="aui-toggle-tick aui-icon aui-icon-small aui-iconfont-success"></span>','<span class="aui-toggle-cross aui-icon aui-icon-small aui-iconfont-close-dialog"></span>',"</span>"),created:function(e){g(e),p(e).setAttribute("size",h.SIZE.SMALL.name),(0,n.default)(g(e)).tooltip({title:function(){return this.checked?this.getAttribute("tooltip-on"):this.getAttribute("tooltip-off")},gravity:"s",hoverable:!1}),function(e){g(e).addEventListener("keydown",(function(t){e.busy&&t.keyCode===o.default.SPACE&&t.preventDefault()})),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&g(e).addEventListener("click",(function(t){e.busy&&t.preventDefault()})),(0,u.supportsFocusWithin)()||(e._input.addEventListener("focus",(()=>e.classList.add("active"))),e._input.addEventListener("blur",(()=>e.classList.remove("active"))))}(e),e.hasAttribute("checked")&&g(e).setAttribute("checked",""),e._canFireEventsNow=!0},attached:function(e){(0,s.default)(e).attributeExists("label")},events:{click:function(e,t){const i=g(e);e.disabled||e.busy||t.target===i||(i.checked=!i.checked,function(e){e._canFireEventsNow&&e.dispatchEvent(new f.default("change",{bubbles:!0}))}(e)),(0,a.setBooleanAttribute)(e,"checked",i.checked)}},attributes:{id:y,checked:_,disabled:k("disabled"),form:A,name:k("name"),value:w,"tooltip-on":{value:b.I18n.getText("aui.toggle.on"),fallback:function(e,t){g(e).setAttribute("tooltip-on",t.newValue||b.I18n.getText("aui.toggle.on"))}},"tooltip-off":{value:b.I18n.getText("aui.toggle.off"),fallback:function(e,t){g(e).setAttribute("tooltip-off",t.newValue||b.I18n.getText("aui.toggle.off"))}},label:E},prototype:{focus:function(){return g(this).focus(),this},get checked(){return g(this).checked},set checked(e){g(this).checked!==e&&(g(this).checked=e,(0,a.setBooleanAttribute)(this,"checked",e))},get disabled(){return g(this).disabled},set disabled(e){return(0,a.setBooleanAttribute)(this,"disabled",e)},get form(){return document.getElementById(this._formId)},set form(e){return A.fallback.call(this,this,{newValue:e||null}),this.form},get name(){return g(this).name},set name(e){return this.setAttribute("name",e),e},get value(){return g(this).value},set value(e){let t=null===e?"":e;return this.setAttribute("value",t),t},get busy(){return"true"===g(this).getAttribute("aria-busy")},set busy(e){const t=g(this),i=p(this);var u,s;return(0,a.setBooleanAttribute)(this,"busy",e),e?(t.setAttribute("aria-busy","true"),t.indeterminate=!0,this.checked?(t.classList.add("indeterminate-checked"),(0,n.default)(this.querySelector(".aui-toggle-tick")).append(i)):(0,n.default)(this.querySelector(".aui-toggle-cross")).append(i)):(t.classList.remove("indeterminate-checked"),t.indeterminate=!1,t.removeAttribute("aria-busy"),i.parentNode&&i.parentNode.removeChild(this._spinner)),s=!!e,(u=this).id&&Array.prototype.forEach.call(document.querySelectorAll(`aui-label[for="${u.id}"]`),(function(e){e.disabled=s})),e}}}),L=I}},e=>{e.O(0,[7224,9378,1356,2582,2475,7035,8196,3469,3039,2276,713,4271,4678,7981,2554,8877,7201,7501,4544,9030,8313,113,3022,2990,7825,3042,3108,5853,979,6645,7927,9228,5553,5290],(()=>{return t=2441,e(e.s=t);var t}));e.O()}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-common', location = 'js/ajs-amd.js' */
define('troubleshooting/ajs', [], function () {
    'use strict';

    return AJS;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-healthchecks-notification', location = 'js/notification.js' */
/* global AJS */
require([
    "jquery",
    "aui/flag",
    "troubleshooting/ajs",
    "troubleshooting/location"
], function ($, flag, AJS, location) {
    'use strict';

    if (location.isOnSupportToolsPage()) {
        // Exit if we are on the ATST screen, we don't want to display healthcheck notification if user browsing on ATST
        return;
    }

    var pluginPageUrl = AJS.contextPath() + '/plugins/servlet/troubleshooting/view';

    AJS.toInit(function () {
        var restBase = AJS.contextPath() + '/rest/troubleshooting/1.0';
        var user = $('meta[name=ajs-remote-user]').attr('content');

        // Initialise the healthcheck notification. Make a GET call to /check/{username} endpoint to get the list of failed check by user
        var initHealthcheckNotification = function () {
            $.getJSON(restBase + '/check/' + user).done(function (statusReport) {
                statusReport.statuses.forEach(function (status) {
                    showNotification(status);
                });

                // Listen to click event to dismiss or snooze notification
                $(document).find('.dismiss-notification').on('click', function () {
                    var $notification = $(this).parents().eq(3);
                    dismissNotification($notification);
                });

                $(document).find('.healthcheck-detail').on('click', function () {
                    var $notification = $(this).parents().eq(3);
                    var application = $notification.attr('application');
                    var severity = $notification.attr('severity');
                    var completeKey = $notification.attr('completeKey');

                    analyticsModule.run("Viewed", completeKey, application, severity);
                    snoozeNotification($notification);
                });
            });
        };

        // Renders the flat notification here, and set the necessary attribute to the flag
        var showNotification = function (status) {

            var healthCheckNotificationId = status.name.replace(/\s+/g, '-').toLowerCase() + '-healthcheck-notification';
            var healthCheckName = status.name;
            var severity = status.severity;
            var notificationId = status.id;
            var application = status.application;
            var completeKey = status.completeKey;
            var key = completeKey.split(':').pop();

            var flagType = (severity === 'warning' || severity === 'minor') ? 'warning' : 'error';
            var healthCheckUrl = pluginPageUrl + '?source=notification&healthCheck=' + key;

            var healthcheckNotification = flag({
                type: flagType,
                body: '<p>' + AJS.format("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f {0} \u0432 \u0432\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c.", '<strong>' + healthCheckName + '</strong>') + '</p>' +
                    '<ul class="aui-nav-actions-list">' +
                    '<li><a href="' + healthCheckUrl + '" class="healthcheck-detail" target="_self">' + "\u0423\u0437\u043d\u0430\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435." + '</a></li>' +
                    '<li><a href="#" class="dismiss-notification">' + "\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u043c\u043d\u0435" + '</a></li>' +
                    '</ul>',
                close: 'manual'
            });

            healthcheckNotification.setAttribute('id', healthCheckNotificationId);
            healthcheckNotification.setAttribute('healthcheck-name', healthCheckName);
            healthcheckNotification.setAttribute('notification-id', notificationId);
            healthcheckNotification.setAttribute('application', application);
            healthcheckNotification.setAttribute('severity', severity);
            healthcheckNotification.setAttribute('completeKey', completeKey);

            healthcheckNotification.addEventListener('aui-flag-close', function () {
                var $notification = $(this);
                snoozeNotification($notification);
            });


            analyticsModule.run('Display', completeKey, application, severity);
        };

        // Called when the "Don’t remind me again" link is clicked. Notifications that are dismissed / marked as read won't reappear to the user anymore
        var dismissNotification = function ($notification) {
            $notification[0].close();

            var id = $notification.attr('notification-id');
            var name = $notification.attr('healthcheck-name');
            var application = $notification.attr('application');
            var severity = $notification.attr('severity');
            var completeKey = $notification.attr('completeKey');

            var data = {};
            data["username"] = user;
            data["notificationId"] = id;
            data["snooze"] = false;

            var jsonData = JSON.stringify(data);

            AJS.$.ajax({
                async: false,
                type: 'POST',
                url: restBase + '/dismissNotification',
                data: jsonData,
                contentType: "application/json",
                dataType: "json",
                success: function () {

                    analyticsModule.run("Dismissed", completeKey, application, severity);
                }
            })
        };

        // Called when the notification is closed via the cross button or if user open the link to the healthcheck
        // A notification is dismissed / marked as read automatically if it snoozes 3 times
        var snoozeNotification = function ($notification) {
            var id = $notification.attr('notification-id');
            var name = $notification.attr('healthcheck-name');
            var application = $notification.attr('application');
            var severity = $notification.attr('severity');
            var completeKey = $notification.attr('completeKey');

            var data = {};
            data["username"] = user;
            data["notificationId"] = id;
            data["snooze"] = true;

            var jsonData = JSON.stringify(data);

            AJS.$.ajax({
                async: false,
                type: 'POST',
                url: restBase + '/dismissNotification',
                data: jsonData,
                contentType: "application/json",
                dataType: "json",
                success: function (data, textStatus, jqXHR) {

                    isAutoDismissed(id, completeKey, name, application, severity);
                    analyticsModule.run("Snoozed", completeKey, application, severity);

                }
            })
        };

        var isAutoDismissed = function (notificationId, completeKey, name, application, severity) {
            var url = restBase + '/dismissNotification/' + user + '/' + notificationId;

            AJS.$.ajax({
                async: false,
                type: 'GET',
                url: url,
                contentType: "text/xml",
                success: function (data, textStatus, jqXHR) {
                    if (jqXHR.status == 200) {
                        notificationAutoDismissed(name);
                        analyticsModule.run("Autodismissed", completeKey, application, severity);
                    }


                }
            });
        };

        // This module allows for us to capture the correct Analytics events per display as per SHC-344.
        var analyticsModule = (function () {
            var lastEvent;
            var event = {};

            event.run = function (action, completeKey, application, severity) {
                if (lastEvent == "Viewed") {
                    // when user views info, we snooze the notification. We only want to record the Viewed AA event.
                    lastEvent = action;
                } else {
                    lastEvent = action;
                    if (action == "Display") {
                        AJS.trigger('analyticsEvent', {
                            name: "healthcheck.notification.display",
                            data: {action: action, name: completeKey, application: application, severity: severity}
                        });
                    } else {
                        AJS.trigger('analyticsEvent', {
                            name: "healthcheck.notification.action",
                            data: {action: action, name: completeKey, application: application, severity: severity}
                        });
                    }
                }
            };
            return event;
        }());

        // This function is called when a notification is automatically marked as read (normally is called when a notification is snoozed 3 times)
        var notificationAutoDismissed = function (healthCheckName) {
            // We set a quick timeout here so the animation will be displayed properly
            setTimeout(function () {
                flag({
                    type: "info",
                    body: "<p>The <strong>" + healthCheckName + "</strong> notification is now dismissed. </p>" +
                        "<p>Please visit <a href='" + AJS.contextPath() + "/plugins/servlet/troubleshooting/view/?source=notification' class='healthcheck-detail' target='_self'>this link</a> for more on the check.</p>",
                    close: "auto"
                });
            }, 1500);
        };

        initHealthcheckNotification();
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-healthchecks-notification', location = 'js/shc-location.js' */
define('troubleshooting/location', [], function () {
    return {
        // Get the path name of the current page URL, and returns true if user is on ATST page or false if user is on other admin screens
        isOnSupportToolsPage: function () {
            return window.location.pathname.toLowerCase().indexOf("/troubleshooting/view") >= 0;
        }
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-healthcheck-sensors', location = 'js/sensors/page-protocols.js' */
define('troubleshooting/sensors/page-protocols', ['troubleshooting/ajs'], function(AJS) {
    var baseUrl = AJS.contextPath();
    var hasPerfData = window.performance && typeof window.performance.getEntriesByType === 'function';

    // WARNING: This is a rough assumption based on how the WRM works.
    // Consuming this from the WRM would be a better option, but meh.
    // See: https://bitbucket.org/atlassian/atlassian-plugins-webresource/src/master/atlassian-plugins-webresource/src/main/java/com/atlassian/plugin/webresource/WebResourceUrlProviderImpl.java
    // See also: https://stash.atlassian.com/projects/CP/repos/static-assets-url/browse/src/main/resources/ui/health-checks/health-checks.js
    var WRM_STATIC_ASSET_REGEX = new RegExp(baseUrl + '/s/.+?/_/');

    function isStaticResource(resource) {
        return WRM_STATIC_ASSET_REGEX.test(resource.name);
    }

    function getNextHopData(resource) {
        return (resource && resource.nextHopProtocol) || 'unknown';
    }

    function unique(elem, pos, arr) {
        return arr.indexOf(elem) === pos;
    }

    return {
        isWorking: function() {
            return hasPerfData;
        },
        getName: function() {
          return 'page-protocols';
        },
        getData: function() {
            var resources = window.performance.getEntriesByType('resource');
            var navigation = window.performance.getEntriesByType('navigation');
            var resourceProtocols = resources
                .filter(isStaticResource)
                .map(getNextHopData)
                .filter(unique)
                .sort();
            if (!resourceProtocols.length) {
                resourceProtocols.push('unknown');
            }
            return {
                resourceProtocols: resourceProtocols,
                navigationProtocol: getNextHopData(navigation[0]),
                userAgent: navigator.getUserAgent && "use-js-client-hints" || navigator.userAgent
            };
        }
    }
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-jira:atst-healthcheck-sensors', location = 'js/sensors.js' */
require([
    'troubleshooting/sensors/page-protocols',
    'troubleshooting/ajs'
], function(
    protocolSensor,
    AJS
) {
    var sensors = [protocolSensor];

    AJS.toInit(function() {

        function hash(str) {
            var hash = 0;
            for (var i = 0; i < str.length; ++i) {
                hash = 31 * hash + str.charCodeAt(i);
                hash |= 0; // this reduces the number to 32bits and prevents Infinity
            }
            return hash;
        }

        //this handles cases when the user disabled access to local storage
        var localStorageWrapper = {
            getWithDefaultOnError: function(sensorName, defaultValue) {
                try {
                    return window.localStorage.getItem(sensorName) || "0";
                } catch (e) {
                    return defaultValue;
                }
            },
            setItemQuietly: function (key, value) {
                try {
                    window.localStorage.setItem(key, value);
                } catch (ignored) {
                }
            }
        };

        // Iterate through each sensor and ingest any data it has for us...
        // but only if it's actually working properly in this client.
        sensors.forEach(function(sensor) {
            if (!sensor.isWorking()) {
                return
            }

            var sensorData = {};
            var newData = sensor.getData();
            for (var key in newData) {
                if (newData.hasOwnProperty(key)) {
                    sensorData[key] = newData[key];
                }
            }

            var sensorName = 'atst.healthcheck.sensors.' + sensor.getName();
            var currentHash = hash(JSON.stringify(sensorData)).toString(36);
            var previousHash = localStorageWrapper.getWithDefaultOnError(sensorName, currentHash);
            if (previousHash===currentHash && Math.random()>0.01) {
                return;
            }
            // What's one more analytics event to the world? A drop in the data ocean.
            AJS.trigger('analytics', {
                name: sensorName,
                data: sensorData
            });
            localStorageWrapper.setItemQuietly(sensorName, currentHash);
        });

    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/singleUserPicker.soy' */
// This file was automatically generated from singleUserPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.single = function(opt_data, opt_ignored) {
  var output = '<select id="' + soy.$$escapeHtml(opt_data.field.id) + '" name="' + soy.$$escapeHtml(opt_data.field.name) + '" class="single-user-picker js-' + ((opt_data.type) ? soy.$$escapeHtml(opt_data.type) : 'default-user-picker') + '"' + ((opt_data.inputText) ? ' data-input-text="' + soy.$$escapeHtml(opt_data.inputText) + '"' : '') + ((opt_data.editValue) ? ' data-edit-value="' + soy.$$escapeHtml(opt_data.editValue) + '"' : '') + ((opt_data.showDropdownButton) ? ' data-show-dropdown-button="true"' : '') + ((opt_data.userType) ? ' data-user-type="' + soy.$$escapeHtml(opt_data.userType) + '"' : '') + ((opt_data.containerClass) ? ' data-container-class="' + soy.$$escapeHtml(opt_data.containerClass) + '"' : '') + 'aria-hidden="true" aria-labelledby="' + soy.$$escapeHtml(opt_data.field.id) + '-field"' + soy.$$escapeHtml(opt_data.additionalAttributes) + '>';
  var optionList42 = opt_data.options;
  var optionListLen42 = optionList42.length;
  for (var optionIndex42 = 0; optionIndex42 < optionListLen42; optionIndex42++) {
    var optionData42 = optionList42[optionIndex42];
    if (optionData42.optionGroup) {
      output += '<optgroup id="' + soy.$$escapeHtml(opt_data.field.id) + '-group-' + soy.$$escapeHtml(optionData42.id) + '" label="' + soy.$$escapeHtml(optionData42.display) + '"' + ((optionData42.footer) ? ' data-footer-text="' + soy.$$escapeHtml(optionData42.footer) + '"' : '') + ((optionData42.weight != -1) ? ' data-weight="' + soy.$$escapeHtml(optionData42.weight) + '"' : '') + '>';
      var groupOptionList63 = optionData42.groupOptions;
      var groupOptionListLen63 = groupOptionList63.length;
      for (var groupOptionIndex63 = 0; groupOptionIndex63 < groupOptionListLen63; groupOptionIndex63++) {
        var groupOptionData63 = groupOptionList63[groupOptionIndex63];
        output += JIRA.Templates.Fields.Pickers.User.option(groupOptionData63);
      }
      output += '</optgroup>';
    } else {
      output += JIRA.Templates.Fields.Pickers.User.option(optionData42);
    }
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.single.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.single';
}


JIRA.Templates.Fields.Pickers.User.option = function(opt_data, opt_ignored) {
  return '<option ' + ((opt_data.loggedInUser) ? 'class="current-user" ' : '') + ((opt_data.selected) ? 'selected="selected" ' : '') + 'value="' + soy.$$escapeHtml(opt_data.optionName) + '" data-field-text="' + soy.$$escapeHtml(opt_data.displayName) + '" data-field-label="' + soy.$$escapeHtml(opt_data.displayName) + ((opt_data.emailAddress) ? ' - ' + soy.$$escapeHtml(opt_data.emailAddress) : '') + ((opt_data.optionName && opt_data.optionName != '-1') ? ' (' + soy.$$escapeHtml(opt_data.optionName) + ')' : '') + '" data-icon="' + soy.$$escapeHtml(opt_data.avatarURL) + '" data-icon-type="rounded" >' + soy.$$escapeHtml(opt_data.displayName) + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.option.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.option';
}


JIRA.Templates.Fields.Pickers.User.popupTrigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.hasPermission) ? '<a class="' + ((opt_data['class']) ? soy.$$escapeHtml(opt_data['class']) : 'popup-trigger') + '"' + ((opt_data.fieldId) ? ' id="' + soy.$$escapeHtml(opt_data.fieldId) + '"' : '') + ' title="' + soy.$$escapeHtml(opt_data.imgTitle) + '" aria-label="' + soy.$$escapeHtml(opt_data.imgTitle) + '" href="' + ((opt_data.href) ? soy.$$escapeHtml(opt_data.href) : '#') + '"><span class="icon-default aui-icon aui-icon-small aui-iconfont-admin-roles"></span></a>' : '<span class="aui-icon aui-icon-small aui-iconfont-locked" title="' + soy.$$escapeHtml(opt_data.noPermissionTitle) + '"></span>');
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.popupTrigger.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.popupTrigger';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:field-templates', location = '/includes/jira/field/templates/assigneeField.soy' */
// This file was automatically generated from assigneeField.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.User.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.User == 'undefined') { JIRA.Templates.Fields.Pickers.User = {}; }


JIRA.Templates.Fields.Pickers.User.assignee = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.Fields.Pickers.User.single(soy.$$augmentMap(opt_data, {options: opt_data.assigneeOptions.options, showDropdownButton: true, userType: 'assignee', type: 'assignee-picker', containerClass: 'long-field', additionalAttributes: 'data-use-new-endpoint=' + soy.$$escapeHtml(opt_data.useNewEndpoint)})) + ((opt_data.isLoggedInUserAssignable) ? '<button type="button" data-field-id="#' + soy.$$escapeHtml(opt_data.field.id) + '" class="aui-button aui-button-link" id="assign-to-me-trigger">' + soy.$$escapeHtml('\u041d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u043c\u0435\u043d\u044f') + '</button>' : '') + '<fieldset class="hidden parameters"><input type="hidden" title="projectKeys" value="' + soy.$$escapeHtml(opt_data.projectKeys) + '"/>' + ((opt_data.issueKey) ? '<input type="hidden" title="assigneeEditIssueKey" value="' + soy.$$escapeHtml(opt_data.issueKey) + '"/>' : '') + ((opt_data.actionDescriptorId) ? '<input type="hidden" title="actionDescriptorId" value="' + soy.$$escapeHtml(opt_data.actionDescriptorId) + '"/>' : '') + '</fieldset>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.User.assignee.soyTemplateName = 'JIRA.Templates.Fields.Pickers.User.assignee';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'jira.webresources:jira-accessible-dialog', location = '/includes/jira/dialog/AccessibleDialog.js' */
define("jira/dialog/accessible-dialog",["jquery","aui/dialog"],(function(e,t){"use strict";var i=function(e){this.options=e;t.call(this,e);e&&a(this.getCurrentPage(),e.onPageLoadFocusBehavior)};i.prototype=Object.assign({},t.prototype);function a(e,t){e.handleFocusOnLoad=t||i.OnPageLoadFocusBehavior.Title}i.prototype.removeHiddenPageMenu=function(e){e.find(".dialog-page-menu[style*='display: none']").remove()};i.prototype.getCurrentPage=function(){return this.page[this.curpage]};i.prototype.get$CurrentPageTitle=function(){return this.getCurrentPage().element.find(".dialog-title")};i.prototype._handleDialogHide=function(){document.removeEventListener("keydown",this.handleFocus);this.options&&this.options.$elementToFocusOnClose&&this.options.$elementToFocusOnClose.focus()};i.prototype._focusFirstInteractiveElement=function(e){e.find(":focusable:not([tabindex='-1']):first").focus()};i.prototype._handleFocusOnPageLoad=function(){this.getCurrentPage().handleFocusOnLoad(this)};i.prototype.show=function(){var t,a=this.popup.element;a.addClass(i.ClassNames.Dialog);this.popup.show();AJS.trigger("show.dialog",{dialog:this});this.handleFocus=(t=this.id,function(i){if("Tab"===i.key){var a=document.activeElement,o=e("#"+t).find(".dialog-components:visible").find(":focusable:not([tabindex='-1'])"),n=o[0],s=o[o.length-1],r=a===n||e(a).hasClass("dialog-title"),l=e(a).hasClass("dialog-title"),d=a===s;if(i.shiftKey&&(r||l)){s.focus();i.preventDefault()}else if(!i.shiftKey&&d){n.focus();i.preventDefault()}}});document.addEventListener("keydown",this.handleFocus);a.attr({"aria-hidden":!1,"aria-modal":!0,role:"dialog"});var o=this.get$CurrentPageTitle();a.attr("aria-labelledby",o.attr("id"));this.removeHiddenPageMenu(a);setTimeout(function(){this._handleFocusOnPageLoad()}.bind(this));return this};i.prototype.hide=function(){this.popup.hide();AJS.trigger("hide.dialog",{dialog:this});this._handleDialogHide();return this};i.prototype.remove=function(){t.prototype.remove.call(this);this._handleDialogHide()};i.prototype.addHeader=function(t,i,a){var o=this.getCurrentPage();o.header&&o.header.remove();var n=e("<div class='dialog-header'></div>"),s=e("<h1 class='dialog-title' tabindex='-1'></h1>").text(t||"");i&&s.addClass(i);var r=o.element.attr("id");!a&&r?a=r+"-title":a||r||(a=this.popup.element.attr("id")+"-page-"+this.curpage+"-title");s.attr("id",a);this.popup.element.attr("aria-labelledby",a);n.append(s);o.element.prepend(n);o.header=n;o.recalcSize();return this};i.prototype._makePageAccessible=function(){var e=this.getCurrentPage().element,t=this.get$CurrentPageTitle();this.popup.element.attr("aria-labelledby",t.attr("id"));this.removeHiddenPageMenu(e);this._handleFocusOnPageLoad()};i.prototype.prevPage=function(){t.prototype.prevPage.call(this);this._makePageAccessible();return this};i.prototype.nextPage=function(){t.prototype.nextPage.call(this);this._makePageAccessible();return this};i.prototype.gotoPage=function(e){t.prototype.gotoPage.call(this,e);this._makePageAccessible();return this};i.prototype.addPage=function(e,i){t.prototype.addPage.call(this,e);a(this.getCurrentPage(),i);return this};i.prototype.updateHeight=function(){t.prototype.updateHeight.call(this);this._handleFocusOnPageLoad()};i.ClassNames={Dialog:"jira-accessible-dialog"};i.OnPageLoadFocusBehavior={Title:function(e){e.get$CurrentPageTitle().focus()},FirstInteractiveElement:function(e){e._focusFirstInteractiveElement(e.getCurrentPage().element)}};return i}));AJS.namespace("JIRA.AccessibleDialog",null,require("jira/dialog/accessible-dialog"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/lib/jquery.dotdotdot-1.5.7.js' */
(function(i){if(i.fn.dotdotdot){return}i.fn.dotdotdot=function(v){if(this.length==0){if(!v||v.debug!==false){b(true,'No element found for "'+this.selector+'".')}return this}if(this.length>1){return this.each(function(){i(this).dotdotdot(v)})}var r=this;if(r.data("dotdotdot")){r.trigger("destroy.dot")}r.bind_events=function(){r.bind("update.dot",function(y,A){y.preventDefault();y.stopPropagation();t.maxHeight=(typeof t.height=="number")?t.height:o(r);t.maxHeight+=t.tolerance;if(typeof A!="undefined"){if(typeof A=="string"||A instanceof HTMLElement){A=i("<div />").append(A).contents()}if(A instanceof i){w=A}}s=r.wrapInner('<div class="dotdotdot" />').children();s.empty().append(w.clone(true)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var z=false,x=false;if(q.afterElement){z=q.afterElement.clone(true);q.afterElement.remove()}if(k(s,t)){if(t.wrap=="children"){x=d(s,t,z)}else{x=m(s,r,s,t,z)}}s.replaceWith(s.contents());s=null;if(i.isFunction(t.callback)){t.callback.call(r[0],x,w)}q.isTruncated=x;return x}).bind("isTruncated.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],q.isTruncated)}return q.isTruncated}).bind("originalContent.dot",function(y,x){y.preventDefault();y.stopPropagation();if(typeof x=="function"){x.call(r[0],w)}return w}).bind("destroy.dot",function(x){x.preventDefault();x.stopPropagation();r.unwatch().unbind_events().empty().append(w).data("dotdotdot",false)});return r};r.unbind_events=function(){r.unbind(".dot");return r};r.watch=function(){r.unwatch();if(t.watch=="window"){var z=i(window),y=z.width(),x=z.height();z.bind("resize.dot"+q.dotId,function(){if(y!=z.width()||x!=z.height()||!t.windowResizeFix){y=z.width();x=z.height();if(p){clearInterval(p)}p=setTimeout(function(){r.trigger("update.dot")},10)}})}else{u=j(r);p=setInterval(function(){var A=j(r);if(u.width!=A.width||u.height!=A.height){r.trigger("update.dot");u=j(r)}},100)}return r};r.unwatch=function(){i(window).unbind("resize.dot"+q.dotId);if(p){clearInterval(p)}return r};var w=r.contents(),t=i.extend(true,{},i.fn.dotdotdot.defaults,v),q={},u={},p=null,s=null;q.afterElement=c(t.after,r);q.isTruncated=false;q.dotId=l++;r.data("dotdotdot",true).bind_events().trigger("update.dot");if(t.watch){r.watch()}return r};i.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true,debug:false};var l=1;function d(s,w,v){var u=s.children(),p=false;s.empty();for(var r=0,q=u.length;r<q;r++){var t=u.eq(r);s.append(t);if(v){s.append(v)}if(k(s,w)){t.remove();p=true;break}else{if(v){v.remove()}}}return p}function m(s,r,A,t,q){var w=s.contents(),x=false;s.empty();var z="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style";for(var y=0,u=w.length;y<u;y++){if(x){break}var v=w[y],p=i(v);if(typeof v=="undefined"){continue}s.append(p);if(q){s[(s.is(z))?"after":"append"](q)}if(v.nodeType==3){if(k(A,t)){x=e(p,r,A,t,q)}}else{x=m(p,r,A,t,q)}if(!x){if(q){q.remove()}}}return x}function e(q,r,p,w,s){var D=false,A=q[0];if(typeof A=="undefined"){return false}var E=(w.wrap=="letter")?"":" ",t=h(A).split(E),F=-1,v=-1,G=0,y=t.length-1;while(G<=y){var x=Math.floor((G+y)/2);if(x==v){break}v=x;a(A,t.slice(0,v+1).join(E)+w.ellipsis);if(!k(p,w)){F=v;G=v}else{y=v}}if(F!=-1&&!(t.length==1&&t[0].length==0)){var u=f(t.slice(0,F+1).join(E),w);D=true;a(A,u)}else{var z=q.parent();q.remove();var C=(s)?s.length:0;if(z.contents().size()>C){var B=z.contents().eq(-1-C);D=e(B,r,p,w,s)}else{var A=z.prev().contents().eq(-1)[0];if(typeof A!="undefined"){var u=f(h(A),w);a(A,u);z.remove();D=true}}}return D}function k(q,p){return q.innerHeight()>p.maxHeight}function f(p,q){while(i.inArray(p.slice(-1),q.lastCharacter.remove)>-1){p=p.slice(0,-1)}if(i.inArray(p.slice(-1),q.lastCharacter.noEllipsis)<0){p+=q.ellipsis}return p}function j(p){return{width:p.innerWidth(),height:p.innerHeight()}}function a(q,p){if(q.innerText){q.innerText=p}else{if(q.nodeValue){q.nodeValue=p}else{if(q.textContent){q.textContent=p}}}}function h(p){if(p.innerText){return p.innerText}else{if(p.nodeValue){return p.nodeValue}else{if(p.textContent){return p.textContent}else{return""}}}}function c(p,q){if(typeof p=="undefined"){return false}if(!p){return false}if(typeof p=="string"){p=i(p,q);return(p.length)?p:false}if(typeof p=="object"){return(typeof p.jquery=="undefined")?false:p}return false}function o(s){var t=s.innerHeight(),r=["paddingTop","paddingBottom"];for(var u=0,q=r.length;u<q;u++){var p=parseInt(s.css(r[u]),10);if(isNaN(p)){p=0}t-=p}return t}function b(q,p){if(!q){return false}if(typeof p=="string"){p="dotdotdot: "+p}else{p=["dotdotdot:",p]}if(typeof window.console!="undefined"){if(typeof window.console.log!="undefined"){window.console.log(p)}}return false}var n=i.fn.html;i.fn.html=function(p){if(typeof p!="undefined"){if(this.data("dotdotdot")){if(typeof p!="function"){return this.trigger("update",[p])}}return n.call(this,p)}return n.call(this)};var g=i.fn.text;i.fn.text=function(q){if(typeof q!="undefined"){if(this.data("dotdotdot")){var p=i("<div />");p.text(q);q=p.html();p.remove();return this.trigger("update",[q])}return g.call(this,q)}return g.call(this)}})(require("jquery"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/ProjectTemplatesList.soy' */
// This file was automatically generated from ProjectTemplatesList.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.renderProjectTemplates = function(opt_data, opt_ignored) {
  return '' + ((soy.$$getMapKeys(opt_data.projectTemplates).length == 0) ? JIRA.Templates.errorMsg({closeable: false, msg: '\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.'}) : JIRA.Templates.ProjectTemplates.renderTemplates(opt_data));
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplates';
}


JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.projectTemplatesByType.length == 0) {
    output += JIRA.Templates.errorMsg({closeable: false, msg: '\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.'});
  } else {
    var projectTypeTemplatesGroupList18 = opt_data.projectTemplatesByType;
    var projectTypeTemplatesGroupListLen18 = projectTypeTemplatesGroupList18.length;
    for (var projectTypeTemplatesGroupIndex18 = 0; projectTypeTemplatesGroupIndex18 < projectTypeTemplatesGroupListLen18; projectTypeTemplatesGroupIndex18++) {
      var projectTypeTemplatesGroupData18 = projectTypeTemplatesGroupList18[projectTypeTemplatesGroupIndex18];
      output += '<div class="template-group" id="project-template-group-' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeKey) + '"><div class="template-group-header"><h6><img class="project-type-icon" src="data:image/svg+xml;base64, ' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.icon) + ' " alt=""/><span>' + soy.$$escapeHtml(projectTypeTemplatesGroupData18.projectTypeBean.projectTypeDisplayKey) + '</span></h6></div>' + JIRA.Templates.ProjectTemplates.renderTemplates({projectTemplates: projectTypeTemplatesGroupData18.projectTemplates}) + '</div>';
    }
  }
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType';
}


JIRA.Templates.ProjectTemplates.renderTemplates = function(opt_data, opt_ignored) {
  return '<div class="pt-templates-list">' + JIRA.Templates.ProjectTemplates.renderItems(opt_data) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderTemplates.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderTemplates';
}


JIRA.Templates.ProjectTemplates.renderItems = function(opt_data, opt_ignored) {
  var output = '<fieldset><legend class="assistive">' + soy.$$escapeHtml('\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043b\u043e\u043d \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + '</legend><div class="templates">';
  var templateList39 = opt_data.projectTemplates;
  var templateListLen39 = templateList39.length;
  for (var templateIndex39 = 0; templateIndex39 < templateListLen39; templateIndex39++) {
    var templateData39 = templateList39[templateIndex39];
    output += '<div class="template"' + ((templateData39.itemModuleCompleteKey) ? 'data-item-module-complete-key="' + soy.$$escapeHtml(templateData39.itemModuleCompleteKey) + '"' : '') + ((templateData39.projectTemplateModuleCompleteKey) ? 'data-project-template-module-complete-key="' + soy.$$escapeHtml(templateData39.projectTemplateModuleCompleteKey) + '"' : '') + ((templateData39.createProject) ? 'data-create-project="' + soy.$$escapeHtml(templateData39.createProject) + '"' : '') + ((templateData39.demoProject) ? 'data-demo-project="' + soy.$$escapeHtml(templateData39.demoProject) + '"' : '') + ((templateData39.backgroundIconUrl) ? 'data-background-icon-url="' + soy.$$escapeHtml(templateData39.backgroundIconUrl) + '"' : '') + ((templateData39.name) ? 'data-name="' + soy.$$escapeHtml(templateData39.name) + '"' : '') + ((templateData39.description) ? 'data-description="' + soy.$$escapeHtml(templateData39.description) + '"' : '') + ((templateData39.longDescriptionContent) ? 'data-long-description-content="' + soy.$$escapeHtml(templateData39.longDescriptionContent) + '"' : '') + ((templateData39.infoSoyPath) ? 'data-info-soy-path="' + soy.$$escapeHtml(templateData39.infoSoyPath) + '"' : '') + '><img class="template-preview" src="' + soy.$$escapeHtml(templateData39.iconUrl) + '" alt="" /><input type="radio" class="assistive" name="project-template" id="' + soy.$$escapeHtml(templateData39.itemModuleCompleteKey) + '"><label for="' + soy.$$escapeHtml(templateData39.itemModuleCompleteKey) + '" class="assistive">' + soy.$$escapeHtml(templateData39.name) + ', ' + soy.$$escapeHtml(templateData39.description) + '</label><div class="template-meta" aria-hidden="true"><div class="template-name" title="' + soy.$$escapeHtml(templateData39.name) + '">' + soy.$$escapeHtml(templateData39.name) + '</div><div class="template-description" title="' + soy.$$escapeHtml(templateData39.description) + '">' + soy.$$escapeHtml(templateData39.description) + '</div></div></div>';
  }
  output += '</div></fieldset>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.renderItems.soyTemplateName = 'JIRA.Templates.ProjectTemplates.renderItems';
}


JIRA.Templates.ProjectTemplates.loadingTemplatesList = function(opt_data, opt_ignored) {
  return '<div class="wait-container"><img class="wait-icon" src="' + soy.$$escapeHtml("") + '/images/icons/wait.gif"><span class="wait-text">' + soy.$$escapeHtml('\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432') + '&hellip;</span></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loadingTemplatesList.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loadingTemplatesList';
}


JIRA.Templates.ProjectTemplates.footerLinks = function(opt_data, opt_ignored) {
  return '<div class="footer-links"><a class="import-project-trigger button-panel-link" href="' + soy.$$escapeHtml("") + '/secure/admin/views/ExternalImport1.jspa">' + soy.$$escapeHtml('\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442') + '</a>|<a class="create-with-shared-config button-panel-link" href="#"><span class="aui-icon aui-icon-create-shared">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043e\u0431\u0449\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e') + '</span> ' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043e\u0431\u0449\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e') + '</a>' + ((opt_data.showDemoLink) ? '| <a class="add-demo-project-trigger button-panel-link" href="#">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442') + '</a>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.footerLinks.soyTemplateName = 'JIRA.Templates.ProjectTemplates.footerLinks';
}


JIRA.Templates.ProjectTemplates.addWorkflowsLink = function(opt_data, opt_ignored) {
  return '<a class="add-workflow-link" href="' + soy.$$escapeHtml(opt_data.baseUrl) + '/plugins/servlet/wfshare-import?src=projecttemplates">' + soy.$$escapeHtml('\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0432 Marketplace') + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addWorkflowsLink.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addWorkflowsLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/AddProject.soy' */
// This file was automatically generated from AddProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.addProjectForm = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.errors.errorMessages) {
    var errorList5 = opt_data.errors.errorMessages;
    var errorListLen5 = errorList5.length;
    for (var errorIndex5 = 0; errorIndex5 < errorListLen5; errorIndex5++) {
      var errorData5 = errorList5[errorIndex5];
      output += JIRA.Templates.errorMsg({closeable: false, msg: errorData5});
    }
  }
  output += '<div class="add-project-wrapper"><div class="add-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({legendContent: '', content: '' + JIRA.Templates.ProjectTemplates.longTextField({id: 'name', name: 'name', isRequired: false, maxLength: opt_data.maxNameLength, labelContent: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435', descriptionText: AJS.format('\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c {0} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432',opt_data.maxNameLength), value: opt_data.currentName ? opt_data.currentName : '', errorTexts: opt_data.errors.errors.projectName ? [opt_data.errors.errors.projectName] : []}) + JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon({id: 'key', name: 'key', isRequired: false, maxLength: opt_data.maxKeyLength, labelContent: '\u041a\u043e\u0434', descriptionText: AJS.format('\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c {0} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432',opt_data.maxKeyLength), helpTitle: 'ID \u043f\u0440\u043e\u0435\u043a\u0442\u0430', value: opt_data.currentKey ? opt_data.currentKey : '', errorTexts: opt_data.errors.errors.projectKey ? [opt_data.errors.errors.projectKey] : []}) + ((opt_data.shouldShowLead) ? JIRA.Templates.ProjectTemplates.projectLeadField({field: opt_data.projectLeadPickerField, isRequired: false, errorTexts: opt_data.errors.errors.projectLead ? [opt_data.errors.errors.projectLead] : [], options: opt_data.leadOptions}) : '') + ((opt_data.addUserToLicense.displayCheckbox) ? JIRA.Templates.ProjectTemplates.addUserToLicense({fieldId: opt_data.addUserToLicense.fieldId, fieldName: opt_data.addUserToLicense.fieldName, applicationName: opt_data.addUserToLicense.applicationName, usedSeats: opt_data.addUserToLicense.usedSeats, totalSeats: opt_data.addUserToLicense.totalSeats, disableCheckbox: opt_data.addUserToLicense.disableCheckbox, licensingUrl: opt_data.addUserToLicense.licensingUrl}) : '') + '<input type="hidden" name="keyEdited" id="keyEdited" value="false"><input type="hidden" name="projectTemplateWebItemKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateWebItemKey) + '"><input type="hidden" name="projectTemplateModuleKey" value="' + soy.$$escapeHtml(opt_data.projectTemplateModuleKey) + '"><input type="submit" class="pt-hidden-submit offscreen-left" tabindex="-1" aria-hidden="true">'}), id: 'add-project-form'}) + '</div>' + ((opt_data.projectTemplateDescriptionContent) ? '<div class="add-project-description-wrapper"><div class="project-template-title"><h3>' + soy.$$escapeHtml(opt_data.projectTemplateTitle) + '</h3></div><div class="project-template-description">' + soy.$$filterNoAutoescape(opt_data.projectTemplateDescriptionContent) + '</div></div>' : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addProjectForm';
}


JIRA.Templates.ProjectTemplates.keyHelpPopup = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog id="key-help-popup" class="project-key-help" alignment="top left" aria-label="' + soy.$$escapeHtml('ID \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + ' ' + soy.$$escapeHtml('\u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + '; ' + soy.$$escapeHtml('\u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e, \u043d\u043e \u044d\u0442\u043e \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430.') + '." ><p><b>' + soy.$$escapeHtml('ID \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + '</b></p><ul><li>' + soy.$$escapeHtml('\u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + '</li><li>' + soy.$$escapeHtml('\u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e, \u043d\u043e \u044d\u0442\u043e \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430.') + '</li></ul></aui-inline-dialog>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.keyHelpPopup.soyTemplateName = 'JIRA.Templates.ProjectTemplates.keyHelpPopup';
}


JIRA.Templates.ProjectTemplates.projectLeadField = function(opt_data, opt_ignored) {
  var param83 = '' + aui.form.label({forField: opt_data.field.name + '-field', isRequired: opt_data.isRequired, content: '\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430'}) + JIRA.Templates.Fields.Pickers.User.single({field: opt_data.field, options: opt_data.options, editValue: opt_data.value}) + aui.form.fieldDescription({message: '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u0435\u0434\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442.'});
  if (opt_data.errorTexts) {
    var errorList96 = opt_data.errorTexts;
    var errorListLen96 = errorList96.length;
    for (var errorIndex96 = 0; errorIndex96 < errorListLen96; errorIndex96++) {
      var errorData96 = errorList96[errorIndex96];
      param83 += aui.form.fieldError({message: errorData96});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param83});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.projectLeadField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.projectLeadField';
}


JIRA.Templates.ProjectTemplates.addUserToLicense = function(opt_data, opt_ignored) {
  var output = '';
  var labelMessage__soy102 = '' + soy.$$escapeHtml(AJS.format('\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043c\u043d\u0435 {0} \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e, \u0447\u0442\u043e\u0431\u044b \u044f \u043c\u043e\u0433 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0440\u043e\u0435\u043a\u0442\u0443.',opt_data.applicationName)) + ((opt_data.totalSeats > 0) ? '<br/>' + soy.$$escapeHtml(AJS.format('({0} \u0438\u0437 {1} \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0441\u0435\u0439\u0447\u0430\u0441)',opt_data.usedSeats,opt_data.totalSeats)) : '');
  output += aui.form.fieldGroup({content: '' + aui.form.label({forField: opt_data.fieldName, content: 'License'}) + ((opt_data.disableCheckbox) ? aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy102, isDisabled: true, descriptionContent: AJS.format('\u041c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0434\u0430\u0442\u044c \u0432\u0430\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a {0} \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e {1}\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f{2} \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u043c {0}.',opt_data.applicationName,'<a href="' + "" + opt_data.licensingUrl + '">','</a>')}) : aui.form.field({id: opt_data.fieldId, name: opt_data.fieldName, value: 'true', type: 'checkbox', isChecked: false, labelContent: labelMessage__soy102, isDisabled: false}))});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.addUserToLicense.soyTemplateName = 'JIRA.Templates.ProjectTemplates.addUserToLicense';
}


JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon = function(opt_data, opt_ignored) {
  var param134 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value}) + '<a role="button" tabindex="0" class="help-lnk" id="' + soy.$$escapeHtml(opt_data.id) + '-help-trigger" data-aui-trigger aria-controls="key-help-popup"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml(opt_data.helpTitle) + '</span></a>' + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList156 = opt_data.errorTexts;
    var errorListLen156 = errorList156.length;
    for (var errorIndex156 = 0; errorIndex156 < errorListLen156; errorIndex156++) {
      var errorData156 = errorList156[errorIndex156];
      param134 += aui.form.fieldError({message: errorData156});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param134});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon.soyTemplateName = 'JIRA.Templates.ProjectTemplates.textFieldWithHelpIcon';
}


JIRA.Templates.ProjectTemplates.longTextField = function(opt_data, opt_ignored) {
  var param162 = '' + aui.form.label({forField: opt_data.name, isRequired: opt_data.isRequired, content: opt_data.labelContent}) + aui.form.input({id: opt_data.id, name: opt_data.name, type: 'text', maxLength: opt_data.maxLength, value: opt_data.value, extraClasses: 'long-field'}) + ((opt_data.descriptionText) ? aui.form.fieldDescription({message: opt_data.descriptionText}) : '');
  if (opt_data.errorTexts) {
    var errorList180 = opt_data.errorTexts;
    var errorListLen180 = errorList180.length;
    for (var errorIndex180 = 0; errorIndex180 < errorListLen180; errorIndex180++) {
      var errorData180 = errorList180[errorIndex180];
      param162 += aui.form.fieldError({message: errorData180});
    }
  }
  var output = '' + aui.form.fieldGroup({content: param162});
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.longTextField.soyTemplateName = 'JIRA.Templates.ProjectTemplates.longTextField';
}


JIRA.Templates.ProjectTemplates.spinner = function(opt_data, opt_ignored) {
  return '<span id=\'' + soy.$$escapeHtml(opt_data.id) + '\' class=\'icon throbber loading\'/>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.spinner.soyTemplateName = 'JIRA.Templates.ProjectTemplates.spinner';
}


JIRA.Templates.ProjectTemplates.formatAnchor = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.body) + '</a>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.formatAnchor.soyTemplateName = 'JIRA.Templates.ProjectTemplates.formatAnchor';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/soy/CreateSharedProject.soy' */
// This file was automatically generated from CreateSharedProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }


JIRA.Templates.ProjectTemplates.createSharedProjectForm = function(opt_data, opt_ignored) {
  return '<div class="create-shared-project-wrapper"><div class="create-shared-project-form-wrapper">' + aui.form.form({content: '' + aui.form.fieldset({content: '<p>' + soy.$$escapeHtml('\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439.') + '<a class="help-lnk" title="' + soy.$$escapeHtml('\u041a \u0447\u0435\u043c\u0443 \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u043e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f?') + '" id="shared-help-icon"><span class="aui-icon aui-icon-help">' + soy.$$escapeHtml('\u041a \u0447\u0435\u043c\u0443 \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u043e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f?') + '</span></a></p>' + aui.form.fieldGroup({extraClasses: 'project-picker-group', content: '' + aui.form.label({forField: 'project-picker', isRequired: false, content: '\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442'}) + aui.form.input({id: 'project-picker', name: 'project', type: 'text'}) + '<div id="project-picker-options" data-suggestions="' + soy.$$escapeHtml(opt_data.projectSuggestions) + '"></div>'}) + '<p class="create-shared-info">' + soy.$$escapeHtml('\u0415\u0441\u043b\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043e\u0431\u0449\u0430\u044f \u0434\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432, \u0442\u043e \u0432\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0432\u043b\u0438\u044f\u044e\u0442 \u043d\u0430 \u0432\u0441\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b.') + '</p>'}), id: 'create-shared-project-form'}) + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.createSharedProjectForm.soyTemplateName = 'JIRA.Templates.ProjectTemplates.createSharedProjectForm';
}


JIRA.Templates.ProjectTemplates.loading = function(opt_data, opt_ignored) {
  return '<div><div class="dialog-spinner"></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.loading.soyTemplateName = 'JIRA.Templates.ProjectTemplates.loading';
}


JIRA.Templates.ProjectTemplates.noProjects = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('\u0414\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0435\u0449\u0435 \u043d\u0435\u0442. \u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c, \u043a\u0430\u043a \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442.') + '</p>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.noProjects.soyTemplateName = 'JIRA.Templates.ProjectTemplates.noProjects';
}


JIRA.Templates.ProjectTemplates.sharedHelp = function(opt_data, opt_ignored) {
  return '<div class="shared-help"><p><strong>' + soy.$$escapeHtml('\u041a \u0447\u0435\u043c\u0443 \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u043e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f?') + '</strong></p><p>' + soy.$$escapeHtml('\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0445\u0435\u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435') + '</p><ul><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430') + '</li><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439') + '</li><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432') + '</li><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430') + '</li><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u0442\u0438\u043f\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430') + '</li><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u044d\u043a\u0440\u0430\u043d\u0430 \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432') + '</li><li>' + soy.$$escapeHtml('\u0421\u0445\u0435\u043c\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u0435\u0439') + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.sharedHelp.soyTemplateName = 'JIRA.Templates.ProjectTemplates.sharedHelp';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/Config.js' */
define("jira/project-templates/config",{model:{}});AJS.namespace("JPT.ConfigModel",null,require("jira/project-templates/config"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/ProjectKeyGenerator.js' */
define("jira/project-templates/project-key-generator",["jquery","underscore-1.8.3"],function(d,h){var c={};c.IGNORED_WORDS=["THE","A","AN","AS","AND","OF","OR"];c.CHARACTER_MAP={};c.CHARACTER_MAP[199]="C";c.CHARACTER_MAP[231]="c";c.CHARACTER_MAP[252]="u";c.CHARACTER_MAP[251]="u";c.CHARACTER_MAP[250]="u";c.CHARACTER_MAP[249]="u";c.CHARACTER_MAP[233]="e";c.CHARACTER_MAP[234]="e";c.CHARACTER_MAP[235]="e";c.CHARACTER_MAP[232]="e";c.CHARACTER_MAP[226]="a";c.CHARACTER_MAP[228]="a";c.CHARACTER_MAP[224]="a";c.CHARACTER_MAP[229]="a";c.CHARACTER_MAP[225]="a";c.CHARACTER_MAP[239]="i";c.CHARACTER_MAP[238]="i";c.CHARACTER_MAP[236]="i";c.CHARACTER_MAP[237]="i";c.CHARACTER_MAP[196]="A";c.CHARACTER_MAP[197]="A";c.CHARACTER_MAP[201]="E";c.CHARACTER_MAP[230]="ae";c.CHARACTER_MAP[198]="Ae";c.CHARACTER_MAP[244]="o";c.CHARACTER_MAP[246]="o";c.CHARACTER_MAP[242]="o";c.CHARACTER_MAP[243]="o";c.CHARACTER_MAP[220]="U";c.CHARACTER_MAP[255]="Y";c.CHARACTER_MAP[214]="O";c.CHARACTER_MAP[241]="n";c.CHARACTER_MAP[209]="N";c.desiredKeyLength=4;c.maxKeyLength=10;c.getTotalLength=function a(k){return k.join("").length};c.removeIgnoredWords=function f(k){return h.reject(k,function(l){return d.inArray(l,c.IGNORED_WORDS)!==-1})};c.createAcronym=function b(l){var k="";d.each(l,function(m,n){k+=n.charAt(0)});return k};c.getFirstSyllable=function i(m){var l=false;var k;for(k=0;k<m.length;k++){if(c.isVowelOrY(m[k])){l=true}else{if(l){return m.substring(0,k+1)}}}return m};c.isVowelOrY=function g(k){return k&&k.length===1&&k.search("[AEIOUY]")!==-1};c.init=function j(l,k){c.desiredKeyLength=l;c.maxKeyLength=k};c.generate=function e(l){l=d.trim(l);if(!l){return""}var k=[];for(var n=0,p=l.length;n<p;n++){var o=c.CHARACTER_MAP[l.charCodeAt(n)];k.push(o?o:l[n])}l=k.join("");var r=[];d.each(l.split(/\s+/),function(s,t){if(t){t=t.replace(/[^a-zA-Z]/g,"");t=t.toUpperCase();t.length&&r.push(t)}});if(c.desiredKeyLength&&c.getTotalLength(r)>c.desiredKeyLength){r=c.removeIgnoredWords(r)}var m;if(r.length==0){m=""}else{if(r.length==1){var q=r[0];if(c.desiredKeyLength&&q.length>c.desiredKeyLength){m=c.getFirstSyllable(q)}else{m=q}}else{m=c.createAcronym(r)}}if(c.maxKeyLength&&m.length>c.maxKeyLength){m=m.substr(0,c.maxKeyLength)}return m};return c});AJS.namespace("JPT.ProjectKeyGenerator",null,require("jira/project-templates/project-key-generator"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogView.js' */
define("jira/project-templates/dialog-view-impl",["require","jira/backbone-1.3.3","underscore-1.8.3","jquery","jira/dialog/accessible-dialog"],function(d,g,c,f,e){var a=AJS.trigger;return g.View.extend({events:{"click   .add-project-trigger":"_onClickAddProject","click   .add-demo-project-trigger":"_onClickAddDemoProject","click   .add-workflow-link":"_onClickViewMarketplaceWorkflows","click   #add-project-dialog .add-demo-project-trigger":"_onCreateProjectAddDemoProjectClick","click   #add-project-dialog .import-project-trigger":"_onClickImportProject","click   #add-project-dialog .create-with-shared-config":"_onClickCreateShared","keydown #add-project-dialog .pt-templates-list":"_onKeydownInTemplatesList"},draw:function(){var h=this.$dialogTrigger;if(!h||h.is("#project_template_create_link_lnk")){h=f("#header nav #browse_link")}var i=new e({width:840,height:400,id:"add-project-dialog",closeOnOutsideClick:false,keypressListener:c.bind(this._onKeyPressed,this),$elementToFocusOnClose:h});var j=i.popup.element;i.addPage("project-templates-page");i.addHeader("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442","add-project-dialog-header");i.addPanel("ProjectTemplatesListPanel",JIRA.Templates.ProjectTemplates.loadingTemplatesList(),"pt-content");this._dialog=i;this._$dialogElement=j;i.show();return i},remove:function(){this._dialog&&this._dialog.remove()},showErrorMessage:function(h){this._dialog.getPanel(1,0).html(JIRA.Templates.errorMsg({closable:false,msg:h}))},get$PTContent:function b(){return this.getDialogController().$dialogElement.find(".pt-content")},_onKeyPressed:function(i){var h=27;if(this._dialog){if(i.keyCode===h){this.getDialogController().hideDialogFromNewUser("dismissed");this._dialog.remove();return false}}return true},_onKeydownInTemplatesList:function(i){var h=13;if(this._dialog){if(i.keyCode===h){this._$dialogElement.find(".pt-submit-button:visible").click();return false}}return true},_onClickAddProject:function(h){h.preventDefault();this.$dialogTrigger=f(h.target);this.getDialogController().handleProjectTemplateTriggered()},_onCreateProjectAddDemoProjectClick:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.create.project.clicked"})},_onClickViewMarketplaceWorkflows:function(){a("analyticsEvent",{name:"jira.project.templates.dialog.create.viewmarketplaceworkflows.clicked"})},_onClickAddDemoProject:function(i){i.preventDefault();var h=this.getDialogController().dialog;if(h&&h.popup&&h.popup.element){h.remove()}this.getDialogController().handleDemoProjectTemplateTriggered()},_onClickImportProject:function(h){this.getDialogController().hideDialogFromNewUser("importproject")},_onClickCreateShared:function(h){this.getDialogController().handleCreateShared()},getDialogController:function(){return d("jira/project-templates/dialog-controller")}})});define("jira/project-templates/dialog-view",["jira/project-templates/dialog-view-impl","jquery"],function(b,a){return new b({el:a(document)})});AJS.namespace("JPT.DialogView",null,require("jira/project-templates/dialog-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/DialogController.js' */
define("jira/project-templates/dialog-controller",["jira/project-templates/dialog-view","jira/project-templates/config","jira/ajs/ajax/smart-ajax","jira/util/data/meta","jira/lib/class","jquery","underscore-1.8.3","wrm/data"],function(n,e,a,g,b,k,o,m){var d=AJS.contextPath();var f=AJS.isDevMode;var i=AJS.log;function h(p,q){AJS.trigger("analyticsEvent",{name:p,data:q})}var l;var c=function(){if(!l){l=m.claim("com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData")||{}}return l};var j=b.extend({WELCOME_REST_URL:d+"/rest/welcome/1.0/show/welcome",initialize:function(){o.bindAll(this,"handleProjectTemplateTriggered","hideDialogFromNewUser");if(g.getBoolean("show-welcome-screen")){this.handleProjectTemplateTriggered()}},handleProjectTemplateTriggered:function(){this.demoProject=false;h("jira.project.templates.dialog.create.show");this.openWithFirstProjectTemplateOfTypePreSelected()},handleDemoProjectTemplateTriggered:function(){this.demoProject=true;var p=this.getTemplateController().loadDemoProjectTemplatesData();this.openWithFirstProjectTemplateOfTypePreSelected(null,p);this._addAnalyticsToCreateDemoShow(p)},_addAnalyticsToCreateDemoShow:function(p){p.done(function(r){var s={};var q=function(t){return t.projectTemplatesGroupedByType.map(function(u){return u.projectTemplates.map(function(v){return v.itemModuleCompleteKey}).join()}).join()};s.demoSets=q(r);s.instanceCreatedDate=c().instanceCreatedDate;h("jira.project.templates.dialog.create.demo.show",s)}.bind(this))},openWithFirstProjectTemplateOfTypePreSelected:function(p,q){q=q||this.getTemplateController().loadProjectTemplatesData();this.dialog=n.draw();q.fail(o.bind(function(r){this._handleUnknownErrorOfPTRetrieval()},this));q.done(o.bind(function(r){this.$dialogElement=this.dialog.popup.element;var s;if(!o.isUndefined(e.model.selectedTemplate)){s=e.model.selectedTemplate}e.model=r;e.model.selectedTemplate=s;this.getTemplateController().init(r,p)},this))},handleCreateShared:function(){h("jira.project.templates.dialog.create.shared.clicked");this.demoProject=false;this.openWithCreateShared()},openWithCreateShared:function(){var p=require("jira/project-templates/create-shared-controller");p.initCreateShared()},callbackWithResize:function(p){return o.bind(o.wrap(p,function(q){q.call(this);this.dialog.updateHeight()}),this)},addPage:function(r){var q=this.dialog.addPage(r.name,r.onLoadFocusBehavior).page[this.dialog.curpage];this.dialog.addHeader(r.title,"add-project-dialog-header");this.dialog.addPanel(r.panelName,"","pt-content");if(r.backButton){this._addBackButton(q)}this.dialog.addButton(r.submitButtonText,this.callbackWithResize(r.submitButtonCallback),r.submitButtonClass+" pt-submit-button");var p=this.$dialogElement.find("."+r.submitButtonClass);p.removeClass("button-panel-button").addClass("aui-button aui-button-primary");this.dialog.addCancel("\u041e\u0442\u043c\u0435\u043d\u0430",o.bind(function(s){this.hideDialogFromNewUser("dismissed");this.dialog.remove()},this));return q},_backButtonOnClickCallback:function(p){return o.bind(function(){if(this.demoProject){h("jira.project.templates.dialog.demo.back")}else{h("jira.project.templates.dialog.create.back")}var q=n.get$PTContent();q.css("background-image","none");this.dialog.prevPage();p.remove();this.dialog.page.pop()},this)},_addBackButton:function(q){this.dialog.addButton("\u041d\u0430\u0437\u0430\u0434",this.callbackWithResize(this._backButtonOnClickCallback(q)),"add-project-back-button");var p=this.$dialogElement.find(".add-project-back-button");p.removeClass("button-panel-button").addClass("aui-button")},_handleUnknownErrorOfPTRetrieval:function(){n.showErrorMessage("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 Jira")},hideDialogFromNewUser:function(p){if(p==="dismissed"){if(this.demoProject){h("jira.project.templates.dialog.demo.dismissed")}else{h("jira.project.templates.dialog.create.dismissed")}}else{if(p==="importproject"){h("jira.project.templates.dialog.import.clicked")}else{if(p==="templateselected"){if(this.demoProject){h("jira.project.templates.dialog.demo.templateselected")}else{h("jira.project.templates.dialog.create.templateselected")}}}}if(g.getBoolean("show-welcome-screen")){k.ajax({url:this.WELCOME_REST_URL+"/"+p,type:"DELETE",success:function(){if(f&&f()){i("don't show project template dialog anymore")}}})}},getTemplateController:function(){return require("jira/project-templates/select-project-template-controller")}});return new j()});AJS.namespace("JPT.DialogController",null,require("jira/project-templates/dialog-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectView.js' */
define("jira/project-templates/add-project-view-impl",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/util/events","jira/util/events/types","require","jira/backbone-1.3.3","jquery","underscore-1.8.3","jira/dialog/accessible-dialog"],function(r,o,u,z,n,f,h,E,e){var g=AJS.InlineDialog;return f.View.extend({TIMEOUT_MS:100,postDrawCallbacks:[],events:{"submit #add-project-form":"onSubmitForm"},page:undefined,isSubmitting:false,initialize:function(G){E.bindAll(this,"bindHook")},addPostDrawCallback:function(G){this.postDrawCallbacks.push(G)},prepareDialog:function(G){this.page=r.addPage({name:"add-project",title:G,panelName:"add-project",backButton:true,submitButtonText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",submitButtonCallback:this.onSubmitForm.bind(this),submitButtonClass:"add-project-dialog-create-button",onLoadFocusBehavior:e.OnPageLoadFocusBehavior.FirstInteractiveElement})},draw:function(Y){function Z(aa){if(!aa.errors){aa.errors={}}return aa}this.isSubmitting=false;r.dialog.gotoPage(this.page.id);var H=Y.webItemData.projectTemplateModuleCompleteKey;var G=E.find(o.model.projectTemplatesGroupedByType,function(aa){return E.any(aa.projectTemplates,function(ab){return ab.itemModuleCompleteKey==H})});var P=(G&&G.applicationInfo&&G.applicationInfo.applicationName)||"";var M=(G&&G.applicationInfo&&G.applicationInfo.licenseUsedSeats)||0;var I=(G&&G.applicationInfo&&G.applicationInfo.licenseTotalSeats)||0;var X=(G&&G.applicationInfo&&G.applicationInfo.canUserBeAddedToApplication)||false;var L=(G&&G.applicationInfo&&G.applicationInfo.canUserUseApplication)||false;var T=(G&&G.applicationInfo&&G.applicationInfo.ondemand)||false;var J;if(!G||!G.applicationInfo){J=false}else{J=!L}var V={maxNameLength:o.model.maxNameLength,maxKeyLength:o.model.maxKeyLength,shouldShowLead:o.model.shouldShowProjectLead,projectTemplateWebItemKey:o.model.selectedTemplate||Y.webItemData.itemModuleCompleteKey,projectTemplateModuleKey:H,projectTemplateTitle:Y.webItemData.name,projectTemplateDescriptionContent:Y.webItemData.longDescriptionContent,currentKey:Y.currentKey||"",currentName:Y.currentName||"",errors:Z(Y.errors),projectLeadPickerField:{id:"lead",name:"lead"},addUserToLicense:{displayCheckbox:J,disableCheckbox:!X,applicationName:P,usedSeats:M,totalSeats:I,fieldId:"licenseUser",fieldName:"licenseUser",licensingUrl:T?"/admin/accessconfig":"/plugins/servlet/applications/versions-licenses"},leadOptions:[{selected:true,displayName:Y.currentUserDisplayName,optionName:Y.currentUserName,avatarURL:Y.currentUserAvatarUrl}]};var R=JIRA.Templates.ProjectTemplates.addProjectForm(V);r.dialog.getPanel(this.page.id,0).html(R);if(Y.webItemData&&Y.webItemData.backgroundIconUrl){var U=r.$dialogElement.find(".pt-content");U.css("background-image",'url("'+Y.webItemData.backgroundIconUrl+'")')}var S=h("#add-project-form");u.trigger(z.NEW_CONTENT_ADDED,[S]);this.nameElement=r.$dialogElement.find("#name");this.keyElement=r.$dialogElement.find("#key");this.keyEditedElement=r.$dialogElement.find("#keyEdited");this.leadDisplayElement=r.$dialogElement.find("#lead-field");this.leadValueElement=r.$dialogElement.find("#lead");var N=this.keyElement.parent().find("#key-help-trigger");if(N.length){var K=h(JIRA.Templates.ProjectTemplates.keyHelpPopup());N.after(K);K.bind("aui-show",function(){K.attr("role","tooltip")});var O=27;K.bind("keydown",function(aa){if(aa.key==="Escape"||aa.keyCode===O){aa.stopPropagation();K.removeAttr("open")}})}this.keyElement.attr("style","text-transform: uppercase");var W=n("jira/project-templates/add-project-controller");this.nameElement.focus(E.bind(function(aa){this.bindHook(aa,W.nameTimeout)},this));var Q=this;this.nameElement.change(function(aa){W.validateName();Q.unbindHook(aa)});this.keyElement.focus(E.bind(function(ab){var aa=h(ab.target);aa.data("lastValue",aa.val());this.bindHook(ab,W.keyTimeout)},this));this.keyElement.blur(E.bind(function(aa){this.unbindHook(aa)},this));this.keyElement.change(function(){W.validateKey();W.autofillKeyIfNeeded()});if(!E.isEmpty(this.postDrawCallbacks)){E.each(this.postDrawCallbacks,function(aa){aa()})}r.dialog.updateHeight()},onSubmitForm:function(H){var G=n("jira/project-templates/add-project-controller");G.submit();return false},get$SubmitButton:function(){return r.$dialogElement.find(".add-project-dialog-create-button")},get$BackButton:function(){return r.$dialogElement.find(".add-project-back-button")},bindHook:function q(J,H){var G=h(J.target),I;I=E.bind(function(){this.unbindHook(J);H.apply();if(G.is(":visible")){G.data("checkHook",setTimeout(I,this.TIMEOUT_MS))}},this);if(!G.data("checkHook")){G.data("checkHook",setTimeout(I,0))}},unbindHook:function(H){var G=h(H.target);clearTimeout(G.data("checkHook"));G.removeData("checkHook")},showInlineError:function(H,I){if(this.isSubmitting){return}var G=H.parent().find(".error");if(!G.length){G=h("<div class='error'></div>");H.parent().append(G)}G.text(I);G.show()},showInlineErrorForName:function F(G){this.showInlineError(this.nameElement,G)},showInlineErrorForKey:function B(G){this.showInlineError(this.keyElement,G)},hideInlineError:function A(G){G.parent().find(".error").hide()},hideInlineErrorForName:function c(){this.hideInlineError(this.nameElement)},hideInlineErrorForKey:function v(){this.hideInlineError(this.keyElement)},setName:function j(G){this.nameElement.val(G)},getName:function t(){return this.nameElement.val()},setKey:function b(G){this.keyElement.val(G)},getKey:function p(){return this.keyElement.val().toUpperCase()},getLeadDisplayName:function w(){return this.leadDisplayElement.val()},getLeadUserName:function x(){return this.leadValueElement.val()},getAvatarUrlOfSelectedLead:function s(){var G=r.$dialogElement.find("#lead-single-select .aui-ss-entity-icon").css("background-image");if(!E.isUndefined(G)){var H=G.match(/^url\((.+)\)$/);return(H&&H[1])?H[1]:""}else{return""}},setKeyEdited:function m(G){this.keyEditedElement.val(G)},getKeyEdited:function C(){return this.keyEditedElement.val()},setKeyEdited:function m(){var G=this.getKey();if(this.keyElement.data("lastValue")!==G){this.keyEditedElement.val((G)?"true":"false")}this.keyElement.data("lastValue",G)},hasNameErrors:function d(){return this.nameElement.parent().find(".error").size()>0},getAddProjectForm:function i(){return h("#add-project-form")},get$FormFields:function l(){return r.$dialogElement.find(":input")},enterLoadingState:function k(){$submitButton=this.get$SubmitButton();if(!$submitButton.attr("disabled")){$backButton=this.get$BackButton();$submitButton.attr("disabled","disabled");$backButton.attr("disabled","disabled");$backButton.before(JIRA.Templates.ProjectTemplates.spinner({id:"addproject-loading"}));this.get$FormFields().attr("disabled","disabled");this.isSubmitting=true;return true}else{return false}},hideLoadingState:function y(){r.$dialogElement.find("[id^='addproject-loading']").remove();this.get$SubmitButton().removeAttr("disabled");this.get$BackButton().removeAttr("disabled");this.get$FormFields().removeAttr("disabled")},avoidDirtyFormWarning:function a(){if(h.fn.removeDirtyWarning){this.getAddProjectForm().removeDirtyWarning()}},hasInlineErrors:function D(){return r.$dialogElement.find(".field-group .error:visible").length!=0}})});define("jira/project-templates/add-project-view",["jira/project-templates/add-project-view-impl","jira/project-templates/dialog-view","jquery"],function(b,a,c){return new b({el:c(document),dialogView:a})});AJS.namespace("JPT.AddProjectView",null,require("jira/project-templates/add-project-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/AddProjectController.js' */
define("jira/project-templates/add-project-controller-impl",["jira/project-templates/add-project-view","jira/project-templates/project-key-generator","jira/project-templates/dialog-controller","jira/project-templates/config","jira/lib/class","jquery","underscore-1.8.3"],function(m,i,k,e,b,l,o){var d=AJS.contextPath();var c=AJS.trigger;return b.extend({postProjectCreationCallbacks:[],projectKeyValidationCallbacks:[],projectNamesUpperCased:[],init:function(p){this._window=p.window||window;o.bindAll(this,"projectCreatedHandler","projectValidationFailedHandler","nameTimeout","keyTimeout","submit")},initCreateShared:function(p){this.existingProjectData=p;this._initAddProject("\u0421\u043e\u0437\u0434\u0430\u0442\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043e\u0431\u0449\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e")},initProjectTemplate:function(p){this.existingProjectData=undefined;this.webItemData=p;this._initAddProject(p.name)},_initAddProject:function(p){this.desiredKeyLength=4;this.lastKeyValidated="";this._getExistingProjects();i.init(this.desiredKeyLength,e.model.maxKeyLength);m.prepareDialog(p);m.draw({webItemData:this.webItemData||{},maxKeyLength:e.model.maxKeyLength,maxNameLength:e.model.maxNameLength,currentUserName:e.model.currentUserName,currentUserDisplayName:e.model.currentUserDisplayName,currentUserAvatarUrl:e.model.currentUserAvatarUrl,errors:{}})},_resetProjectLeadValues:function(){e.model.currentUserDisplayName="";e.model.currentUserName="";e.model.currentUserAvatarUrl=""},_hasFullyConfiguredProjectLead:function(){return m.getLeadDisplayName()&&m.getAvatarUrlOfSelectedLead()!=""},submit:function(p){var q;if(this.existingProjectData){q={key:m.getKey(),name:m.getName(),lead:m.getLeadUserName()&&m.getLeadUserName()[0]}}else{q=jQuery.param(m.getAddProjectForm().serializeArray().map(function(r){if(r.name==="key"){r.value=r.value.toUpperCase()}return r}))}if(m.hasInlineErrors()){return}if(m.enterLoadingState()){if(this._hasFullyConfiguredProjectLead()){e.model.currentUserDisplayName=m.getLeadDisplayName();e.model.currentUserName=e.model.currentUserDisplayName?m.getLeadUserName():"";e.model.currentUserAvatarUrl=m.getAvatarUrlOfSelectedLead()}else{this._resetProjectLeadValues()}if(this.existingProjectData){l.ajax({url:d+"/rest/project-templates/1.0/createshared/"+this.existingProjectData.existingProjectId,type:"POST",contentType:"application/json",data:JSON.stringify(q)}).done(this.projectCreatedHandler).fail(this.projectValidationFailedHandler)}else{l.ajax({url:d+(this.webItemData.demoProject?"/rest/jira-importers-plugin/1.0/demo/create":"/rest/project-templates/1.0/templates"),type:"POST",data:q,headers:{"X-Atlassian-Token":"no-check"}}).done(this.projectCreatedHandler).fail(this.projectValidationFailedHandler)}}},registerPostProjectCreationCallback:function(p){this.postProjectCreationCallbacks.push(p)},registerProjectKeyValidationCallback:function(p){this.projectKeyValidationCallbacks.push(p)},localStoragePrefix:"jira.projecttemplates.",projectCreatedHandler:function(q){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.success"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.success"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.success"})}}m.avoidDirtyFormWarning();var p=this.localStoragePrefix;var r=["confluenceProject","fisheyeProject","crucibleProject","bambooProject"];o.map(r,function(s){if(q.remoteProjectLinks&&q.remoteProjectLinks[s]){localStorage.setItem(p+s,q.remoteProjectLinks[s])}});if(!o.isEmpty(this.postProjectCreationCallbacks)){k.dialog.addPage("post-project-created-page");o.each(this.postProjectCreationCallbacks,function(s){s(k.dialog,q.returnUrl,q.projectId,q.projectKey,q.projectName)})}else{this._window.location=d+q.returnUrl}},projectValidationFailedHandler:function(q,s){if(this.existingProjectData){c("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.create.failure"})}else{if(this.webItemData.demoProject){c("analyticsEvent",{name:"jira.project.templates.dialog.create.demo.failure"})}else{c("analyticsEvent",{name:"jira.project.templates.dialog.create.project.failure"})}}var r={};if(this.isBadRequest(q)){r=JSON.parse(q.responseText)}else{if(this.isUnDefinedServerSideError(q)){r={errorMessages:["\u0425\u043c\u043c... \u043d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u0437-\u0437\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435 \u0440\u0430\u0437."]}}else{if(this.isDefinedServerSideError(q)){var p=JSON.parse(q.responseText);JIRA.Messages.showReloadErrorMsg(p.message);m.avoidDirtyFormWarning();this._window.location=d+p.returnUrl;return}else{if(this.isTimeoutError(s)){r={errorMessages:["\u0418\u0441\u0442\u0435\u043a\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"]}}else{r={errorMessages:[AJS.format("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430, {0}",q.responseText)]}}}}}m.draw({webItemData:this.webItemData||{},errors:r,currentName:m.getName(),currentKey:m.getKey(),currentUserDisplayName:e.model.currentUserDisplayName,currentUserName:e.model.currentUserName,currentUserAvatarUrl:e.model.currentUserAvatarUrl});m.hideLoadingState()},isBadRequest:function(p){return(p.status===400)},isUnDefinedServerSideError:function(p){if(p.status===500){try{JSON.parse(p.responseText)}catch(q){return true}}return false},isDefinedServerSideError:function(p){return p.status===500&&!o.isUndefined(JSON.parse(p.responseText).message)},isTimeoutError:function(p){return p==="timeout"},_updateAndValidateKey:function a(p){m.setKey(p);this.validateKey()},_shouldUpdateKey:function h(){return(m.getKeyEdited()!="true")},autofillKeyIfNeeded:function n(){if(this._shouldUpdateKey()){var p=i.generate(m.getName());if(p.length>1){this._updateAndValidateKey(p)}else{m.setKey("")}}},_doesProjectNameExists:function(q){var p;for(p in this.projectNamesUpperCased){if(q.toUpperCase()==this.projectNamesUpperCased[p]){return true}}return false},validateName:function(){var p=l.trim(m.getName());if(!p){return}if(p.length<e.model.minNameLength){m.showInlineErrorForName(AJS.format("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043e\u0439 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 {0} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.",e.model.minNameLength));return}if(p.length>e.model.maxNameLength){m.showInlineErrorForName(AJS.format("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c {0} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0434\u043b\u0438\u043d\u0443.",e.model.maxNameLength));return}if(this._doesProjectNameExists(p)){m.showInlineErrorForName("\u041f\u0440\u043e\u0435\u043a\u0442 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442.");return}m.hideInlineErrorForName()},_performKeyValidationChecks:function(p){var q=l.ajax({url:d+"/rest/api/latest/projectvalidate/key?key="+p.toUpperCase()});q.done(o.bind(function(s){if(s.errors&&s.errors.projectKey){m.showInlineErrorForKey(s.errors.projectKey)}else{var r=false;o.each(this.projectKeyValidationCallbacks,function(u){var t=u(p.toUpperCase());if(t.errors&&t.errors.projectKey){r=true;m.showInlineErrorForKey(t.errors.projectKey)}});if(!r){m.hideInlineErrorForKey()}}},this))},validateKey:function g(){var p=m.getKey();if(this.lastKeyValidated===p){return}if(p){this.lastKeyValidated=p;this._performKeyValidationChecks(p)}else{m.hideInlineErrorForKey()}},nameTimeout:function j(){this.autofillKeyIfNeeded()},keyTimeout:function f(){m.setKeyEdited()},_getExistingProjects:function(){if(this.projectNamesUpperCased.length>0){return this.projectNamesUpperCased}var p=l.ajax({url:d+"/rest/api/latest/project"});p.done(o.bind(function(q){this.projectNamesUpperCased=o.map(q,function(r){return r.name.toUpperCase()})},this))}})});define("jira/project-templates/add-project-controller",["jira/project-templates/add-project-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.AddProjectController",null,require("jira/project-templates/add-project-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoView.js' */
define("jira/project-templates/template-info-view",["jira/project-templates/dialog-controller","require","jira/backbone-1.3.3","jquery","underscore-1.8.3"],function(e,c,f,d,b){var a=AJS.trigger;return f.View.extend({initialize:function(g){b.bindAll(this,"draw","onNext")},draw:function(i,h){var j=e.addPage({name:"template-info",title:h,panelName:"template-info",backButton:true,submitButtonText:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",submitButtonCallback:this.onNext,submitButtonClass:"template-info-dialog-create-button"});var g=this._nameToObj(i)();e.dialog.getPanel(j.id,0).html(g);e.dialog.gotoPage(j.id)},_nameToObj:function(g){return b.reduce(g.split("."),function(i,h){if(i){return i[h]}},window)},onNext:function(h){a("analyticsEvent",{name:"jira.project.templates.dialog.create.templateinfo.next"});var g=c("jira/project-templates/template-info-controller");g.next();return false}})});AJS.namespace("JPT.TemplateInfoView",null,require("jira/project-templates/template-info-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/TemplateInfoController.js' */
define("jira/project-templates/template-info-controller",["jira/project-templates/template-info-view","jira/lib/class","require","underscore-1.8.3"],function(e,a,c,b){var d=a.extend({init:function(f){b.bindAll(this,"initTemplateInfo","next")},initTemplateInfo:function(g){this.projectTemplateData=g;var f=new e();f.draw(g.infoSoyPath,g.name)},next:function(){var f=c("jira/project-templates/select-project-template-controller");f.openAddProjectPage(this.projectTemplateData)}});return new d()});AJS.namespace("JPT.TemplateInfoControllerImpl",null,require("jira/project-templates/template-info-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateView.js' */
define("jira/project-templates/select-project-template-view",["jira/project-templates/dialog-controller","jira/project-templates/config","jira/featureflags/feature-manager","require","jira/backbone-1.3.3","jquery","underscore-1.8.3"],function(g,a,b,e,h,f,d){var c=AJS.contextPath();return{ROW_LENGTH:2,DIALOG_BODY_CLASS:"select-project-templates-page",DIALOG_WIDTH:800,draw:function(m,k){var i=e("jira/project-templates/select-project-template-controller");this.page=g.addPage({name:this.DIALOG_BODY_CLASS,title:m.demoProjects?"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442",panelName:"ProjectTemplatesListPanel",backButton:false,submitButtonText:"\u0414\u0430\u043b\u0435\u0435",submitButtonCallback:i.dialogSubmitted,submitButtonClass:"create-project-dialog-create-button"});function o(){if(i.isProjectTypesEnabled(m)){return JIRA.Templates.ProjectTemplates.renderProjectTemplatesGroupedByType({projectTemplatesByType:m.projectTemplatesGroupedByType})}return JIRA.Templates.ProjectTemplates.renderProjectTemplates({projectTemplates:m.projectTemplates})}g.dialog.getPanel(this.page.id,0).html(o());var l=g.$dialogElement;if(a.model.projectCount>=2&&!m.demoProjects){f(JIRA.Templates.ProjectTemplates.addWorkflowsLink({baseUrl:c})).appendTo(l.find(".dialog-header"))}var n=l.find(".create-project-dialog-create-button");var j=this;this.getTemplateItems().click(function(){j.selectTemplate(l,f(this))}).dblclick(function(){n.click()});if(!m.demoProjects){f(JIRA.Templates.ProjectTemplates.footerLinks({showDemoLink:b.isFeatureEnabled("jira.onboarding.cyoa")})).prependTo(l.find(".dialog-button-panel"))}if(i.isProjectTypesEnabled(m)){if((m.projectTemplatesGroupedByType).length==0){n.attr("disabled","disabled")}}else{if((m.projectTemplates).length==0){n.attr("disabled","disabled")}}this.selectFirstTemplate(k);g.dialog.updateHeight();this.truncateTemplateDescriptions()},selectTemplate:function(j,i){$templates=j.find(".template-group .template");$templates.removeClass("selected").find("input[type='radio']").removeAttr("checked");i.addClass("selected").find("input[type='radio']").attr("checked","true")},get$TemplatesContainer:function(){return g.$dialogElement.find(".templates")},selectFirstTemplate:function(i){if(i){this.getFirstTemplateItemOfProjectType(i).click()}else{this.getFirstTemplateItem().click()}},getSelectedTemplateData:function(){var i=g.$dialogElement.find(".template.selected");return i.data()},scrollToSelectedElement:function(k){var n=f(".dialog-panel-body.pt-content");var i=n.offset().top;var j=k.offset().top;var m=j+k.height();var l=i+n.height();if(j<i){n.scrollTop(n.scrollTop()-(i-j))}else{if(m>(i+n.height())){n.scrollTop(n.scrollTop()+m-l)}}},get$NextButton:function(){return g.$dialogElement.find(".create-project-dialog-create-button")},disableNextButton:function(){this.get$NextButton().attr("disabled","disabled")},truncateTemplateDescriptions:function(){var i=AJS.Meta.get("user-locale");var j="word";if(i==="ja_JP"){j="letter"}g.$dialogElement.find(".template-description").each(function(){f(this).dotdotdot({wrap:j,lastCharacter:{remove:[" ",",",";",".","!","?","。"],noEllipsis:[]}})})},getFirstTemplateItem:function(){return this.getTemplateItems().first()},getFirstTemplateItemOfProjectType:function(i){return this.getTemplateItems().filter("#project-template-group-"+i+" *").first()},getTemplateItems:function(){return g.$dialogElement.find(".template")}}});AJS.namespace("JPT.SelectProjectTemplateView",null,require("jira/project-templates/select-project-template-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/SelectProjectTemplateController.js' */
define("jira/project-templates/select-project-template-controller",["jira/project-templates/select-project-template-view","jira/project-templates/template-info-controller","jira/project-templates/add-project-controller","jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/project-templates/config","wrm/context-path","jquery","underscore-1.8.3"],function(f,h,k,l,o,g,n,m,p){var e=n();var d={init:function q(s,r){f.draw(s,r)},isProjectTypesEnabled:function c(r){return r.projectTemplatesGroupedByType!=null},loadProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates",type:"GET"})},loadDemoProjectTemplatesData:function j(){return m.ajax({url:e+"/rest/project-templates/1.0/templates/demo-projects",type:"GET"}).done(function(r){r.demoProjects=true;return r})},dialogSubmitted:function b(){var r=f.getSelectedTemplateData();l.hideDialogFromNewUser("templateselected");d.raiseAtlassianEvent(r.itemModuleCompleteKey);if(!p.isUndefined(r.infoSoyPath)){h.initTemplateInfo(r)}else{d.openAddProjectPage(r)}},openAddProjectPage:function i(r){if(!r){o.showErrorMessage("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 Jira");return}if(r.createProject){k.initProjectTemplate(r)}else{l.dialog.addPage("blank-template-page");m("body").trigger(r.itemModuleCompleteKey,l.dialog)}},raiseAtlassianEvent:function a(r){g.model.selectedTemplate=r;if(AJS.EventQueue){AJS.EventQueue.push({name:"projecttemplates.templateselected",properties:{selectedTemplate:r}})}}};return d});AJS.namespace("JPT.SelectProjectTemplateController",null,require("jira/project-templates/select-project-template-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedView.js' */
define("jira/project-templates/create-shared-view",["jira/project-templates/dialog-controller","jira/project-templates/dialog-view","jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestion-collection-model","require","jira/backbone-1.3.3","jquery"],function(d,h,g,i,c,j,e){var f=AJS.InlineDialog;var b=AJS.trigger;var a=j.View.extend({events:{"submit #create-shared-project-form":"onSubmitForm"},page:undefined,prepareDialog:function(l){var k=c("jira/project-templates/create-shared-controller");this.page=d.addPage({name:"create-shared-project",title:l,panelName:"create-shared-project",backButton:true,submitButtonText:"\u0414\u0430\u043b\u0435\u0435",submitButtonCallback:k.dialogSubmitted,submitButtonClass:"create-shared-dialog-button"})},draw:function(l){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.createSharedProjectForm({projectSuggestions:JSON.stringify(l.projectSuggestions)});d.dialog.getPanel(this.page.id,0).html(k);this._createProjectPicker();var m=d.$dialogElement.find("#shared-help-icon");if(m.length){new f(m,"shared-project-help-popup",function(p,o,n){p.html(JIRA.Templates.ProjectTemplates.sharedHelp());n()},{width:330,offsetX:-30})}d.$dialogElement.find(".dialog-button-panel button").removeAttr("disabled")},showProjectMissingError:function(){this._clearFormErrors();this._getProjectPickerInput().after(aui.form.fieldError({extraClasses:"project-picker-missing-error",message:"\u0412\u043d\u0430\u0447\u0430\u043b\u0435 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442."}))},drawEmptyInfo:function(){var k=JIRA.Templates.ProjectTemplates.noProjects();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-button-panel button").hide()},drawError:function(k){d.dialog.getPanel(this.page.id,0).html(JIRA.Templates.errorMsg({closable:false,msg:k}))},drawLoading:function(){d.dialog.gotoPage(this.page.id);var k=JIRA.Templates.ProjectTemplates.loading();d.dialog.getPanel(this.page.id,0).html(k);d.$dialogElement.find(".dialog-spinner").spin();d.$dialogElement.find(".dialog-button-panel button").attr("disabled","disabled")},_clearFormErrors:function(){d.$dialogElement.find(".project-picker-missing-error").remove()},_getProjectPickerInput:function(){return d.$dialogElement.find("#project-picker")},onSubmitForm:function(l){this._clearFormErrors();var k=c("jira/project-templates/create-shared-controller");k.dialogSubmitted();return false},_getExtraInfoMessage:function(){return d.$dialogElement.find(".create-shared-info")},_createProjectPicker:function(){this._getExtraInfoMessage().hide();this.projectSelect=new g({element:this._getProjectPickerInput(),revertOnInvalid:true,pageSize:50,pagingThreshold:100,model:i});this.projectSelect.$field.focus();var k=this;this._getProjectPickerInput().on("selected",function(m,l){if(l.value()){b("analyticsEvent",{name:"jira.project.templates.dialog.create.shared.project.selected"});k._getExtraInfoMessage().show()}})},getSelectedProject:function(){return this.projectSelect.getSelectedDescriptor()&&this.projectSelect.getSelectedDescriptor().value()}});return new a({el:e(document),dialogView:h})});AJS.namespace("JPT.CreateSharedView",null,require("jira/project-templates/create-shared-view"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/CreateSharedController.js' */
define("jira/project-templates/create-shared-controller-impl",["jira/project-templates/add-project-controller","jira/project-templates/create-shared-view","jira/lib/class","jquery","underscore-1.8.3"],function(e,f,a,d,c){var b=AJS.contextPath();return a.extend({init:function(g){this._window=g.window||window;c.bindAll(this,"dialogSubmitted")},initCreateShared:function(){f.prepareDialog("\u0421\u043e\u0437\u0434\u0430\u0442\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043e\u0431\u0449\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e");var g=this;this._getProjectSuggestions().done(function(h){if(g._hasSuggestions(h)){f.draw({projectSuggestions:h})}else{f.drawEmptyInfo()}}).fail(function(){f.drawError("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 Jira")});f.drawLoading()},_hasSuggestions:function(h){var g=false;d.each(h,function(j,k){if(k&&k.items&&k.items.length>0){g=true}});return g},_getProjectSuggestions:function(){return d.ajax({url:b+"/rest/project-templates/1.0/createshared"})},dialogSubmitted:function(){var g=f.getSelectedProject();if(g){e.initCreateShared({existingProjectId:g})}else{f.showProjectMissingError()}}})});define("jira/project-templates/create-shared-controller",["jira/project-templates/create-shared-controller-impl","jquery"],function(a,b){return new a({el:b(document)})});AJS.namespace("JPT.CreateSharedController",null,require("jira/project-templates/create-shared-controller"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources', location = '/js/RemoteProjectsCreatedMessage.js' */
var $=require("jquery");$(function(){var i=AJS.format;var e=require("jira/project-templates/add-project-controller");var b=localStorage.getItem(e.localStoragePrefix+"confluenceProject");var j=localStorage.getItem(e.localStoragePrefix+"fisheyeProject");var g=localStorage.getItem(e.localStoragePrefix+"crucibleProject");var d=localStorage.getItem(e.localStoragePrefix+"bambooProject");localStorage.removeItem(e.localStoragePrefix+"confluenceProject");localStorage.removeItem(e.localStoragePrefix+"fisheyeProject");localStorage.removeItem(e.localStoragePrefix+"crucibleProject");localStorage.removeItem(e.localStoragePrefix+"bambooProject");var k;function c(m,l){return JIRA.Templates.ProjectTemplates.formatAnchor({href:m,body:l,title:l})}function a(n,o,m,p){var l=[];l.push("\u043f\u0440\u043e\u0435\u043a\u0442 Jira");if(n){l.push(c(n,"\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e Confluence"))}if(o){l.push(c(o,"\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 FishEye"))}if(m){l.push(c(m,"\u043f\u0440\u043e\u0435\u043a\u0442 Crucible"))}if(p){l.push(c(p,"\u043f\u0440\u043e\u0435\u043a\u0442 Bamboo"))}return l}function h(m,o,l,r){var q="\u0411\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043e\u0431\u044a\u0435\u043a\u0442\u044b {0} \u0438 {1}.";var n=a(m,o,l,r);var p=n.pop();return(n.length>0)?i(q,n.join(", "),p):null}function f(l){var m=$(l).offset();if(m){window.scrollTo(m.left,m.top)}}if(b||j||g||d){k=h(b,j,g,d);if(k){JIRA.Messages.showSuccessMsg(k,{closeable:true})}f("#project-config-webpanel-summary-settings")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira-core-project-templates:jira-core-project-templates-resources', location = '/soy/CoreProjectTemplates.soy' */
// This file was automatically generated from CoreProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ProjectTemplates.CoreTemplates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ProjectTemplates == 'undefined') { JIRA.Templates.ProjectTemplates = {}; }
if (typeof JIRA.Templates.ProjectTemplates.CoreTemplates == 'undefined') { JIRA.Templates.ProjectTemplates.CoreTemplates = {}; }


JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: '\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438, \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0443\u0439\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u0438\u043b\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0445 \u043a\u043e\u043c\u0443-\u043b\u0438\u0431\u043e \u0435\u0449\u0435.', projectTemplate: 'taskManagement', altText: '\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u043c\u0438 \xab\u041a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e\xbb \u0438 \xab\u0413\u043e\u0442\u043e\u0432\u043e\xbb', imgSrc: 'images/svg/core-task-management-workflow.svg'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: '\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0432\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0438, \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0443\u0439\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443, \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0438 \u0432\u043e\u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0439\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435. \u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u043e\u0446\u0435\u043d\u043e\u043a \u0438 \u0443\u0447\u0435\u0442\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0432\u0430\u043c \u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0442\u0447\u0435\u0442\u044b \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0441\u0442\u0430\u0434\u0438\u0438.', projectTemplate: 'projectManagement', altText: '\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u043c\u0438 \xab\u041a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e\xbb, \xab\u0412 \u0440\u0430\u0431\u043e\u0442\u0435\xbb \u0438 \xab\u0413\u043e\u0442\u043e\u0432\u043e\xbb', imgSrc: 'images/svg/core-project-management-workflow.svg'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.projectManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: '\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0432\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0438\u0445 \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u044d\u0442\u0430\u043f\u0435, \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e, \u043e\u0434\u043e\u0431\u0440\u044f\u0442\u044c \u0437\u0430\u0442\u0440\u0430\u0442\u044b \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b.', projectTemplate: 'processManagement', altText: '\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u043c\u0438: \xab\u041e\u0442\u043a\u0440\u044b\u0442\xbb, \xab\u0412 \u0440\u0430\u0431\u043e\u0442\u0435\xbb \u0438 \xab\u041e\u0442\u043c\u0435\u043d\u0435\u043d\xbb; \xab\u041d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0438\xbb \u0438 \xab\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\xbb; \xab\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\xbb \u0438 \xab\u0413\u043e\u0442\u043e\u0432\u043e\xbb', imgSrc: 'images/svg/core-process-management-workflow.svg'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.processManagementInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog({description: '\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0430\u043d\u0435\u043b\u0438.', projectTemplate: 'projectManagement', altText: '\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430\u043c\u0438 \xab\u041a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e\xbb, \xab\u0412 \u0440\u0430\u0431\u043e\u0442\u0435\xbb \u0438 \xab\u0413\u043e\u0442\u043e\u0432\u043e\xbb', imgSrc: 'images/svg/core-project-management-workflow.svg', issueTypesHtml: '' + JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null)});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.boardBetaInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml('\u0422\u0438\u043f\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c') + '</h6><ul class="project-template-issuetype-list">' + ((opt_data.issueTypesHtml != null) ? soy.$$filterNoAutoescape(opt_data.issueTypesHtml) : JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType(null) + JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType(null)) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml('\u0411\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441') + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.projectTemplate) + '"><img src="' + soy.$$escapeHtml("") + '/download/resources/com.atlassian.jira-core-project-templates:jira-core-project-templates-resources/' + soy.$$escapeHtml(opt_data.imgSrc) + '" alt="' + soy.$$escapeHtml(opt_data.altText) + '" /></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.templateInfoDialog';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.issueType = function(opt_data, opt_ignored) {
  return '<li><span class="issuetype-list-label"><span class="issuetype-icon ' + soy.$$escapeHtml(opt_data.iconKey) + '"></span><span class="issuetype-name">' + soy.$$escapeHtml(opt_data.label) + '</span></span></li>';
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.issueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.issueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'task', label: '\u0417\u0430\u0434\u0430\u0447\u0430'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.taskIssueType';
}


JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.ProjectTemplates.CoreTemplates.issueType({iconKey: 'subtask', label: '\u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0430'});
};
if (goog.DEBUG) {
  JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType.soyTemplateName = 'JIRA.Templates.ProjectTemplates.CoreTemplates.subtaskIssueType';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-baseurl-plugin:baseurl-lib', location = 'js/window.js' */
define('baseurl-checker/window', [], function() {
    return window;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-baseurl-plugin:baseurl-lib', location = 'js/baseurl-checker.js' */
define('baseurl-checker', [
    'jira/flag',
    'jira/util/formatter',
    'jira/util/data/meta',
    'jira/ajs/ajax/smart-ajax',
    'jira/analytics',
    'jira/libs/parse-uri',
    'wrm/context-path',
    'jquery',
    'baseurl-checker/window'
], function (flag, formatter, Meta, SmartAjax, analytics, parseUri, contextPathFunc, $, window) {
    'use strict';
    var $flagElement;
    var contextPath = contextPathFunc();

    var BaseUrl = {
        jiraRestPath: contextPath + "/rest/api/2/settings/baseUrl",

        isDisplayed: function () {
            return !!$('#base-url-banner').length;
        },

        performCheck: function () {
            if (this.isDisplayed()) {
                return;
            }
            var requestUrl = this.constructRequestUrl();
            var serverUrl = this.constructServerUrl();
            var baseUrl = parseUri(Meta.get('base-url'));

            var baseUrlErrorDisplayed = baseUrl.source !== requestUrl.source && this.showWrongBaseUrlFlag(baseUrl, requestUrl);
            if (!baseUrlErrorDisplayed && (serverUrl && serverUrl.source !== requestUrl.source)) {
                this.showWrongConfigFlag(requestUrl);
            }
        },

        showWrongBaseUrlFlag: function (baseUrl, requestUrl) {
            var title = "wrong.baseurl.title";
            var requestUrlLink = this.linkFor(requestUrl);
            var baseUrlLink = this.linkFor(baseUrl);
            var body = formatter.format("\u0417\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441 Jira \u2014 {0}, \u0430 \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\u0435 \u0441 Jira \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 {1}.",
                baseUrlLink,
                requestUrlLink
            ) + '<p>' + this.constructFlagLink('#', "\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0430\u0437\u043e\u0432\u044b\u0439 URL-\u0430\u0434\u0440\u0435\u0441 Jira") + '</p>';
            var clickEvent = 'jira.base.url.plugin.banner.update';
            var closeEvent = 'no-match';
            var dismissalKey = 'com.atlassian.jira.baseurl';

            return this.showWarningFlag(title, body, clickEvent, closeEvent, dismissalKey, function (e) {
                e.preventDefault();
                BaseUrl.updateBaseUrl(requestUrl);
            });
        },

        showWrongConfigFlag: function (requestUrl) {
            var title = "\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f Tomcat";
            var link = this.constructFlagLink('https://confluence.atlassian.com/x/LFsGO', "\u0423\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u043e\u0441\u0442\u0438");
            var body = "\u0424\u0430\u0439\u043b server.xml \u0434\u043b\u044f Tomcat \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e:" + this.constructConfigProblems(requestUrl) + '<p>' + link + '</p>';
            var clickEvent = 'jira.base.url.plugin.banner.troubleshoot';
            var closeEvent = 'cant-check-proxy';
            var dismissalKey = 'com.atlassian.jira.proxyconfig';

            return this.showWarningFlag(title, body, clickEvent, closeEvent, dismissalKey);
        },

        showWarningFlag: function (title, body, clickEvent, closeEvent, dismissalKey, clickCallback) {
            if (this.isDisplayed()) {
                return false;
            }
            var flagElement = flag.showWarningMsg('', body, {dismissalKey: dismissalKey});
            if (!flagElement) {
                return false;
            }

            $flagElement = $(flagElement);

            $flagElement.find('#base-url-proxy-config-fix').click(function (e) {
                analytics.send({name: clickEvent});
                if (clickCallback) {
                    clickCallback(e);
                }
            });

            $flagElement.data('type', closeEvent);
            $flagElement.data('base-url-flag', true);
            $flagElement.data('openTime', Date.now());

            flagElement.addEventListener('aui-flag-close', BaseUrl.sendAnalyticsOnClose);

            analytics.send({
                name: 'jira.base.url.plugin.banner.open',
                data: {
                    type: $flagElement.data('type'),
                    openTime: $flagElement.data('openTime')
                }
            });
            return true;
        },

        sendAnalyticsOnClose: function (event) {
            var flagElement = event.target;
            var $flagElement = $(flagElement);

            if ($flagElement.data('base-url-flag') === false) {
                return;
            }

            analytics.send({
                name: 'jira.base.url.plugin.banner.close',
                data: {
                    type: $flagElement.data('type'),
                    flagOpenFor: Date.now() - $flagElement.data('openTime')
                }
            });

            flagElement.removeEventListener('aui-flag-close', BaseUrl.sendAnalyticsOnClose)
        },


        destroyBanner: function () {
            $flagElement.find('.aui-close-button').click();
        },

        updateBaseUrl: function (baseUrl) {
            SmartAjax.makeRequest({
                url: BaseUrl.jiraRestPath,
                type: "PUT",
                data: baseUrl.source,
                contentType: "application/json"
            }).done(function () {
                flag.showSuccessMsg('', formatter.format("\u0414\u043b\u044f \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e URL-\u0430\u0434\u0440\u0435\u0441\u0430 Jira \u0431\u044b\u043b\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 {0}.", BaseUrl.linkFor(baseUrl)));
                BaseUrl.destroyBanner();
            });
        },

        constructConfigProblems: function (requestUrl) {
            return '<p>' +
                this.constructConfigProblemItem('scheme', requestUrl.protocol) + '<br/>' +
                this.constructConfigProblemItem('proxyName', requestUrl.host) + '<br/>' +
                this.constructConfigProblemItem('proxyPort', BaseUrl.getPort(requestUrl)) +
                '</p>';
        },

        constructConfigProblemItem: function (subject, value) {
            return formatter.format("\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 {0} \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c {1}", '<strong>' + subject + '</strong>', '\'' + value + '\'');
        },

        constructFlagLink: function (href, linkText) {
            return '<a target="_blank" href="' + href + '"' + ' class="aui-button aui-button-link" id="base-url-proxy-config-fix">' + linkText + '</a>';
        },

        constructRequestUrl: function () {
            return parseUri(window.location.protocol + '//' + window.location.host + contextPath);
        },

        constructServerUrl: function () {
            var scheme = Meta.get('server-scheme');
            var serverPort = Meta.get('server-port');
            var port = ((scheme === 'https' && serverPort === '443') ||
                (scheme === 'http' && serverPort === '80')) ? '' : serverPort;
            return parseUri(scheme + '://' + Meta.get('server-name') +
                (port ? ':' + port : '') + contextPath);
        },

        linkFor: function (url) {
            return formatter.format('<a href="{0}">{0}</a>', url.source);
        },

        getPort: function(url){
            return url.port || (url.protocol === 'https' ? '443' : '80');
        }
    };


    return BaseUrl;
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.jira-baseurl-plugin:baseurl-lib', location = 'js/init-base-url-checker.js' */
require(['baseurl-checker', 'jquery'], function(BaseUrlProxyConfigCheck, $) {
    $(function () {
        BaseUrlProxyConfigCheck.performCheck();
    });
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_14', location = '14.ed230545f0b34496d59c.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[14],{11:function(b,a,n){b.exports=void 0}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_19', location = '19.02a3057d6469f6b9eb3e.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[19],{5:function(n,t,a){"use strict";var e;void 0===(e=function(){return function(t,e){a(47);var o=t.split("."),b=o.pop(),i=o.reduce((function(t,a){return n(t[a])||(t[a]={})}),window);i[b]?Object.assign(i[b],e):AJS.namespace(b,i,e)};function n(n){return!("object"!=typeof n||!n)&&n}}.apply(t,[]))||(n.exports=e)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_20', location = '20.7782dc3e7bb70e3813e5.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[20],{6:function(n,a,b){"use strict";var i,o;i=[b(1)],void 0===(o=function(n){return window.GH||(window.GH={}),n(GH)}.apply(a,i))||(n.exports=o)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_26', location = '26.ffd6b1f1741cb02df9d8.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[26],{404:function(n,t,o){n.exports=void 0},405:function(n,t,o){n.exports=void 0},80:function(n,t,o){"use strict";var s;void 0===(s=function(){return o(404),o(405),GH.tpl.status}.apply(t,[]))||(n.exports=s)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_26', location = 'includes/js/jira-agile/rapid/ui/component/field/StatusRenderer.soy' */
// This file was automatically generated from StatusRenderer.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.status.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.status == 'undefined') { GH.tpl.status = {}; }


GH.tpl.status.renderIcon = function(opt_data, opt_ignored) {
  var output = '';
  var isSubtleFinal__soy3 = opt_data.isSubtle == undefined ? true : opt_data.isSubtle;
  output += (opt_data.status) ? (opt_data.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status, isCompact: opt_data.isCompact, isSubtle: isSubtleFinal__soy3, maxWidth: opt_data.maxWidth}) : '<img src="' + soy.$$escapeHtml(opt_data.status.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.status.name) + '" title="' + soy.$$escapeHtml(opt_data.status.name) + '">' : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.status.renderIcon.soyTemplateName = 'GH.tpl.status.renderIcon';
}


GH.tpl.status.renderText = function(opt_data, opt_ignored) {
  var output = '';
  var isSubtleFinal__soy22 = opt_data.isSubtle == undefined ? true : opt_data.isSubtle;
  output += (opt_data.status) ? (opt_data.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status, isCompact: opt_data.isCompact, isSubtle: isSubtleFinal__soy22, maxWidth: opt_data.maxWidth}) : soy.$$escapeHtml(opt_data.status.name) : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.status.renderText.soyTemplateName = 'GH.tpl.status.renderText';
}


GH.tpl.status.renderFull = function(opt_data, opt_ignored) {
  var output = '';
  var isSubtleFinal__soy35 = opt_data.isSubtle == undefined ? true : opt_data.isSubtle;
  output += (opt_data.status) ? (opt_data.status.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus: opt_data.status, isCompact: opt_data.isCompact, isSubtle: isSubtleFinal__soy35}) : '<img src="' + soy.$$escapeHtml(opt_data.status.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.status.name) + '" title="' + soy.$$escapeHtml(opt_data.status.name) + '">' + soy.$$escapeHtml(opt_data.status.name) + '</img>' : '';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.status.renderFull.soyTemplateName = 'GH.tpl.status.renderFull';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_35', location = '35.d444527cf237f0c9295f.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[35],{91:function(n,i,r){"use strict";var t,o;t=[r(5)],void 0===(o=function(n){var i={sprintConfig:void 0,setSprintConfig:function(n){i.sprintConfig=n},getSprintConfig:function(){return i.sprintConfig},getSprintFieldId:function(){var n;return null===(n=i.getSprintConfig())||void 0===n?void 0:n.sprintFieldId}};n("GH.SprintConfig",i);var r=Array.from(arguments).map((function(n,i){return{empty:!n||0===Object.getOwnPropertyNames(n).length&&!n[Symbol.for("soyProxy")],index:i}})).filter((function(n){return n.empty})).map((function(n){return n.index+1}));return r.length&&(window.__circulars=window.__circulars||0,window.__circulars+=r.length,console.error("[circ deps] in ","/jira-agile/rapid/ui/plan/SprintConfig.js",r)),i}.apply(i,t))||(n.exports=o)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_41', location = '41.859d48b294bba87cd6e8.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[41],{44:function(b,a){b.exports=require("jira/moment")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_45', location = '45.309cf63a892ea55d7c70.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[45],{406:function(i,t,n){i.exports=void 0},407:function(i,t,n){i.exports=void 0},60:function(i,t,n){"use strict";var e,o;e=[n(98)],void 0===(o=function(){return n(11),n(407),GH.tpl.detailview}.apply(t,e))||(i.exports=o)},98:function(i,t,n){"use strict";var e,o;e=[n(48),n(80)],void 0===(o=function(){return n(406),GH.tpl.inlineEditableDetailview}.apply(t,e))||(i.exports=o)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_45', location = 'includes/js/jira-agile/rapid/ui/detail/editable/EditableDetailsView.soy' */
// This file was automatically generated from EditableDetailsView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.inlineEditableDetailview.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.inlineEditableDetailview == 'undefined') { GH.tpl.inlineEditableDetailview = {}; }


GH.tpl.inlineEditableDetailview.renderIssueDetailsSkeleton = function(opt_data, opt_ignored) {
  return '<div class="ui-resizable-outer"><div id="js-sizer" class="ui-sidebar ui-resizable-handle ui-resizable-w" title="' + soy.$$escapeHtml('\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0433\u043e \u0440\u0430\u043a\u0443\u0440\u0441\u0430') + '"></div></div><div id="ghx-detail-contents" class="ghx-detail-contents issue-container"><div class="ghx-detail-view-blanket"></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderIssueDetailsSkeleton.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderIssueDetailsSkeleton';
}


GH.tpl.inlineEditableDetailview.renderIssueDetails = function(opt_data, opt_ignored) {
  return '<div id="ghx-detail-issue" class="ghx-detail-issue issue-body-content" data-issueid="' + soy.$$escapeHtml(opt_data.issueDetails.id) + '" data-issuekey="' + soy.$$escapeHtml(opt_data.issueDetails.key) + '"><div class="hidden"><div id="ghx-epic-key">' + soy.$$escapeHtml(opt_data.issueDetails.key) + '</div><div id="ghx-epic-name">' + soy.$$escapeHtml(opt_data.issueName) + '</div></div>' + GH.tpl.detailview.renderIssueDetailsBody(opt_data) + '</div>';
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderIssueDetails.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderIssueDetails';
}


GH.tpl.inlineEditableDetailview.renderAggregateRemainingEstimateTooltip = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.data) {
    output += '<div class="ghx-aggregatetimeestimate-tooltip">';
    var rowList25 = opt_data.data;
    var rowListLen25 = rowList25.length;
    for (var rowIndex25 = 0; rowIndex25 < rowListLen25; rowIndex25++) {
      var rowData25 = rowList25[rowIndex25];
      output += (rowData25) ? '<div><span>' + soy.$$escapeHtml(rowData25.label) + ': </span><span>' + soy.$$escapeHtml(rowData25.value ? rowData25.value : '-') + '</span></div>' : '';
    }
    output += '</div>';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderAggregateRemainingEstimateTooltip.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderAggregateRemainingEstimateTooltip';
}


GH.tpl.inlineEditableDetailview.renderTabMenuStructure = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-detail-nav-menu"><ul>';
  var tabList37 = opt_data.tabs;
  var tabListLen37 = tabList37.length;
  for (var tabIndex37 = 0; tabIndex37 < tabListLen37; tabIndex37++) {
    var tabData37 = tabList37[tabIndex37];
    output += GH.tpl.inlineEditableDetailview.renderTabNavigation({tab: tabData37});
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderTabMenuStructure.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderTabMenuStructure';
}


GH.tpl.inlineEditableDetailview.renderTabNavigation = function(opt_data, opt_ignored) {
  var output = '';
  var sectionList43 = opt_data.tab.sections;
  var sectionListLen43 = sectionList43.length;
  for (var sectionIndex43 = 0; sectionIndex43 < sectionListLen43; sectionIndex43++) {
    var sectionData43 = sectionList43[sectionIndex43];
    output += (sectionData43.iconFont || sectionData43.iconURL) ? '<li id="' + soy.$$escapeHtml(opt_data.tab.tabId) + '-' + soy.$$escapeHtml(sectionData43.id) + '-nav" class="ghx-detail-nav-item ' + ((sectionData43.isLazyLoading) ? 'disabled' : '') + '"><a href="#' + soy.$$escapeHtml(sectionData43.id) + '">' + ((sectionData43.thirdPartyTab) ? (sectionData43.iconFont) ? '<span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-' + soy.$$escapeHtml(sectionData43.iconFont) + '">' + soy.$$escapeHtml(sectionData43.title) + '</span>' : '<span class="ghx-icon ghx-icon-thirdparty" style="background-image:url(\'' + soy.$$escapeHtml(sectionData43.iconURL) + '\');">' + soy.$$escapeHtml(sectionData43.title) + '</span>' : '<span class="aui-icon aui-icon-small aui-iconfont-' + soy.$$escapeHtml(sectionData43.iconFont) + '">' + soy.$$escapeHtml(sectionData43.title) + '</span>') + ((sectionData43.hasTitleCount) ? '<b>' + soy.$$escapeHtml(sectionData43.titleCount) + '</b>' : '') + '</a></li>' : '';
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderTabNavigation.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderTabNavigation';
}


GH.tpl.inlineEditableDetailview.renderTabs = function(opt_data, opt_ignored) {
  var output = '<div id="js-detail-nav-content" class="ghx-detail-nav-content">';
  var tabList87 = opt_data.tabs;
  var tabListLen87 = tabList87.length;
  for (var tabIndex87 = 0; tabIndex87 < tabListLen87; tabIndex87++) {
    var tabData87 = tabList87[tabIndex87];
    output += '<div id="' + soy.$$escapeHtml(tabData87.tabId) + '">';
    var sectionList91 = tabData87.sections;
    var sectionListLen91 = sectionList91.length;
    for (var sectionIndex91 = 0; sectionIndex91 < sectionListLen91; sectionIndex91++) {
      var sectionData91 = sectionList91[sectionIndex91];
      output += '<div id="' + soy.$$escapeHtml(sectionData91.id) + '" class="ghx-detail-section"></div>';
    }
    output += '</div>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderTabs.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderTabs';
}


GH.tpl.inlineEditableDetailview.renderFieldStructure = function(opt_data, opt_ignored) {
  var output = '';
  var isAgileInlineEdit__soy100 = opt_data.field.id == 'timeoriginalestimate' || opt_data.field.id == 'timeestimate';
  output += '<dl class="ghx-detail-list"><dt class="ghx-detail-term ghx-fieldtype-' + soy.$$escapeHtml(opt_data.field.type) + ' ghx-fieldname-' + soy.$$escapeHtml(opt_data.field.id) + '" id="' + soy.$$escapeHtml(opt_data.field.id) + '-label"' + ((opt_data.field.dataTooltip) ? 'title="' + soy.$$escapeHtml(opt_data.field.dataTooltip) + '"' : 'title="' + soy.$$escapeHtml(opt_data.field.tooltip ? opt_data.field.tooltip : opt_data.field.label) + '"') + '>' + soy.$$escapeHtml(opt_data.field.label) + ':</dt><dd id="' + soy.$$escapeHtml(opt_data.field.id) + '-val" class="ghx-detail-description ghx-fieldtype-' + soy.$$escapeHtml(opt_data.field.type) + ' ghx-fieldname-' + soy.$$escapeHtml(opt_data.field.id) + '"' + ((opt_data.issueDetails.editable && opt_data.field.editable) ? 'tabindex="0"' : '') + ' data-field-id="' + soy.$$escapeHtml(opt_data.field.id) + '"' + ((opt_data.field.dataTooltip) ? 'title="' + soy.$$escapeHtml(opt_data.field.dataTooltip) + '"' : 'title="' + soy.$$escapeHtml(opt_data.field.tooltip ? opt_data.field.tooltip : opt_data.field.label) + '"') + '></dd></dl>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderFieldStructure.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderFieldStructure';
}


GH.tpl.inlineEditableDetailview.renderSubtasks = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-container">';
  if (opt_data.filteredSubtaskCount > 0 && opt_data.subtasks.length == 0) {
    output += GH.tpl.rapid.notification.renderAuiMessage({type: 'info', message: opt_data.filteredSubtaskMessage, messageHtml: true, icon: true});
  } else if (opt_data.subtasks.length == 0 && opt_data.filteredSubtaskCount == 0) {
    output += GH.tpl.detailview.renderSubtasksEmpty(null);
  } else if (opt_data.subtasks.length > 0) {
    output += '<table class="aui"><tbody>';
    var issueList155 = opt_data.subtasks;
    var issueListLen155 = issueList155.length;
    for (var issueIndex155 = 0; issueIndex155 < issueListLen155; issueIndex155++) {
      var issueData155 = issueList155[issueIndex155];
      output += GH.tpl.inlineEditableDetailview.renderIssueRow({issue: issueData155, classNames: opt_data.classNames, showTrackingField: opt_data.showTrackingField, showActionsColumn: opt_data.showActionsColumn});
    }
    output += ((opt_data.showTrackingField && opt_data.trackingFieldSum) ? '<tr><td colspan="5"/><td headers="sub-estimate" class="ghx-estimate-sum ghx-right ghx-nowrap"><div title="' + soy.$$escapeHtml('\u041e\u0441\u0442\u0430\u0432\u0448\u0430\u044f\u0441\u044f \u0441\u0443\u043c\u043c\u0430') + '">&Sigma; ' + soy.$$escapeHtml(opt_data.trackingFieldSum) + '</div></td>' + ((opt_data.showActionsColumn) ? '<td></td>' : '') + '</tr>' : '') + ((opt_data.filteredSubtaskCount > 0) ? '<tr><td colspan="5">' + GH.tpl.rapid.notification.renderAuiMessage({type: 'info', message: opt_data.filteredSubtaskMessage, messageHtml: true, icon: true}) + '</td></tr>' : '') + '</tbody></table>';
  }
  output += '</div>' + ((opt_data.canCreateSubtask && opt_data.subtasks.length == 0) ? '<div class="ghx-controls"><button class="aui-button js-create-subtask">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u0442\u0438\u043f\u0430 \u043f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0430') + '</button></div>' : '');
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderSubtasks.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderSubtasks';
}


GH.tpl.inlineEditableDetailview.renderIssuesInEpic = function(opt_data, opt_ignored) {
  var output = '<div class="ghx-container">';
  if (opt_data.filteredIssues.length == 0) {
    output += GH.tpl.detailview.renderEmptyIssuesInEpic(null);
  } else {
    output += '<table class="aui"><tbody>';
    var issueList196 = opt_data.filteredIssues;
    var issueListLen196 = issueList196.length;
    for (var issueIndex196 = 0; issueIndex196 < issueListLen196; issueIndex196++) {
      var issueData196 = issueList196[issueIndex196];
      output += GH.tpl.inlineEditableDetailview.renderIssueRow({issue: issueData196, classNames: opt_data.classNames, showTrackingField: false, showActionsColumn: opt_data.showActionsColumn});
    }
    output += '</tbody></table>';
  }
  output += '</div>' + ((opt_data.hiddenIssuesCount > 0) ? '<div id="ghx-controls"><button class="aui-button aui-button-link" id="' + soy.$$escapeHtml(opt_data.showMoreIssuesId) + '">' + soy.$$escapeHtml(AJS.format('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435 {0} {0,choice,0#\u0437\u0430\u0434\u0430\u0447|1#\u0437\u0430\u0434\u0430\u0447\u0443|2#\u0437\u0430\u0434\u0430\u0447\u0438|3#\u0437\u0430\u0434\u0430\u0447\u0438|4#\u0437\u0430\u0434\u0430\u0447\u0438|4\x3c\u0437\u0430\u0434\u0430\u0447}',opt_data.hiddenIssuesCount)) + '</button></div>' : '') + ((opt_data.canCreateIssuesInEpic && opt_data.filteredIssues.length == 0) ? '<div class="ghx-controls"><button type="button" class="aui-button ' + soy.$$escapeHtml(opt_data.classNames.createAction) + '">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0432 \u044d\u043f\u0438\u043a\u0435') + '</button></div>' : '');
  return output;
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderIssuesInEpic.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderIssuesInEpic';
}


GH.tpl.inlineEditableDetailview.renderIssueRow = function(opt_data, opt_ignored) {
  return '<tr class="' + soy.$$escapeHtml(opt_data.classNames.issue) + ((opt_data.issue.done) ? ' ghx-done' : '') + '" data-issue-key="' + soy.$$escapeHtml(opt_data.issue.key) + '" data-issue-id="' + soy.$$escapeHtml(opt_data.issue.id) + '"><td headers="sub-key" class="ghx-nowrap"><a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.issue.key) + '" title="' + soy.$$escapeHtml('\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u044d\u0442\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443') + '" class="js-detailview ghx-key">' + soy.$$escapeHtml(opt_data.issue.key) + '</a></td><td headers="sub-summary"><div class="ghx-summary" title="' + soy.$$escapeHtml('\u0422\u0435\u043c\u0430') + '">' + soy.$$escapeHtml(opt_data.issue.summary) + '</div></td>' + ((opt_data.issue.type && opt_data.issue.type.iconUrl) ? '<td headers="issue-type"><span class="ghx-type" title="' + soy.$$escapeHtml(opt_data.issue.type.name) + '"><img src="' + soy.$$escapeHtml(opt_data.issue.type.iconUrl) + '" alt="' + soy.$$escapeHtml(opt_data.issue.type.name) + '"></span></td>' : '') + '<td headers="sub-status" class="ghx-status' + ((! opt_data.issue.status.statusCategory) ? ' ghx-center' : '') + '">' + GH.tpl.status.renderIcon({status: opt_data.issue.status, maxWidth: 'short'}) + '</td><td headers="sub-avatar">' + ((opt_data.issue.assignee) ? '<div class="ghx-sub-avatar"><span id="issue_summary_assignee_admin" class="user-hover" rel="' + soy.$$escapeHtml(opt_data.issue.assignee.name) + '">' + ((! opt_data.issue.assignee.avatarUrl) ? '<a class="user-hover" rel="' + soy.$$escapeHtml(opt_data.issue.assignee.name) + '" href="' + soy.$$escapeHtml("") + '/secure/ViewProfile.jspa?name=' + soy.$$escapeHtml(opt_data.issue.assignee.name) + '">' + soy.$$escapeHtml(opt_data.issue.assignee.displayName) + '</a>' : '<img class="user-hover" src="' + soy.$$escapeHtml(opt_data.issue.assignee.avatarUrl) + '"' + ((opt_data.issue.assignee.displayName) ? 'alt="' + soy.$$escapeHtml(opt_data.issue.assignee.displayName) + '" title="' + soy.$$escapeHtml('\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c') + ': ' + soy.$$escapeHtml(opt_data.issue.assignee.displayName) + '"' : 'alt=""') + '>') + '</span></div>' : '') + '</td>' + ((opt_data.showTrackingField) ? '<td headers="sub-estimate" class="ghx-estimate ghx-right ghx-nowrap"><div title="' + soy.$$escapeHtml('\u041e\u0446\u0435\u043d\u043a\u0430 \u043e\u0441\u0442\u0430\u0432\u0448\u0435\u0433\u043e\u0441\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u0438') + '">' + GH.tpl.detailview.renderTextView({field: opt_data.issue.trackingField}) + '</div></td>' : '') + ((opt_data.showActionsColumn) ? '<td headers="sub-actions" class="ghx-nowrap ghx-actions ghx-center"><ul class="menu">' + ((opt_data.issue.canEdit) ? '<li><a class="' + soy.$$escapeHtml(opt_data.classNames.editAction) + '" title="' + soy.$$escapeHtml('\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + '"><span class="ghx-icon ghx-icon-edit">' + soy.$$escapeHtml('\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c') + '</span></a></li>' : '') + ((opt_data.issue.canDelete) ? '<li><a class="' + soy.$$escapeHtml(opt_data.classNames.deleteAction) + '" title="' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c') + '"><span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-remove">' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c') + '</span></a></li>' : '') + '</ul></td>' : '') + '</tr>';
};
if (goog.DEBUG) {
  GH.tpl.inlineEditableDetailview.renderIssueRow.soyTemplateName = 'GH.tpl.inlineEditableDetailview.renderIssueRow';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_45', location = 'includes/js/jira-agile/rapid/ui/detail/DetailsView.soy' */
// This file was automatically generated from DetailsView.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.detailview.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.detailview == 'undefined') { GH.tpl.detailview = {}; }


GH.tpl.detailview.renderIssueDetailsBody = function(opt_data, opt_ignored) {
  var output = '<div id="ghx-detail-head" class="ghx-detail-head js-issue-fields"><header><div class="ghx-key-group"><div class="ghx-project">' + soy.$$escapeHtml(opt_data.issueDetails.projectName) + '</div><div class="ghx-parent-key js-view-in-jira"></div><div class="ghx-key js-view-in-jira"></div></div><div class="ghx-controls">';
  if (opt_data.showActionsCog) {
    var tooltip__soy8 = '' + soy.$$escapeHtml('\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f (\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \x27.\x27)');
    output += aui.buttons.button({extraAttributes: {title: tooltip__soy8, 'aria-label': AJS.format('{0}: \u0434\u0440\u0443\u0433\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f',opt_data.issueDetails.key)}, extraClasses: ['ghx-actions', 'aui-button-compact', 'aui-button-subtle'], text: '', iconClass: 'ghx-iconfont aui-icon-small aui-iconfont-more', iconType: 'aui'}) + GH.tpl.detailview.renderIssueOperationsForCog(opt_data);
  }
  output += ((opt_data.canClose) ? '<div class="ghx-detail-close js-detailclose" title="' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438 ( T )') + '" role="button" tabindex="0"><span class="ghx-iconfont aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438 ( T )') + '</span></div>' : '') + '</div></header><div class="ghx-group"><span class="ghx-project-avatar"><img src="' + soy.$$escapeHtml(opt_data.issueDetails.projectAvatarUrl) + '" title="' + soy.$$escapeHtml(opt_data.issueDetails.projectName) + '"/></span><div class="ghx-detail-summary"></div></div>' + GH.tpl.detailview.renderStatisticGroup(null) + '</div><div id="ghx-detail-nav" class="ghx-detail-nav js-issue-fields"></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderIssueDetailsBody.soyTemplateName = 'GH.tpl.detailview.renderIssueDetailsBody';
}


GH.tpl.detailview.renderStatisticGroup = function(opt_data, opt_ignored) {
  return '<div class="ghx-statistic-group"><div class="ghx-detail-statistic ghx-estimate js-estimate"></div><div class="ghx-remaining-group"><div class="ghx-detail-statistic ghx-remainings js-remainings"></div>' + GH.tpl.detailview.renderLogWorkTrigger(null) + '</div></div>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderStatisticGroup.soyTemplateName = 'GH.tpl.detailview.renderStatisticGroup';
}


GH.tpl.detailview.renderLogWorkTrigger = function(opt_data, opt_ignored) {
  return '<dl id="ghx-log-work-container"><dt class="ghx-detail-term"></dt><dd class="ghx-detail-description"><a role="button" class="ghx-trigger js-log-work">' + soy.$$escapeHtml('\u0417\u0430\u043f\u0438\u0441\u044c \u043e \u0440\u0430\u0431\u043e\u0442\u0435') + '</a></dd></dl>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderLogWorkTrigger.soyTemplateName = 'GH.tpl.detailview.renderLogWorkTrigger';
}


GH.tpl.detailview.renderIssueOperationsForCog = function(opt_data, opt_ignored) {
  var output = '<div class="aui-list hidden js-issueaction-container-cog" data-issuekey="' + soy.$$escapeHtml(opt_data.issueDetails.key) + '">';
  var sectionList44 = opt_data.issueDetails.operations.filteredSections;
  var sectionListLen44 = sectionList44.length;
  for (var sectionIndex44 = 0; sectionIndex44 < sectionListLen44; sectionIndex44++) {
    var sectionData44 = sectionList44[sectionIndex44];
    output += '<ul class="aui-list-section ' + ((sectionIndex44 == 0) ? 'aui-first' : '') + '">';
    var operationList50 = sectionData44.operations;
    var operationListLen50 = operationList50.length;
    for (var operationIndex50 = 0; operationIndex50 < operationListLen50; operationIndex50++) {
      var operationData50 = operationList50[operationIndex50];
      output += '<li class="aui-list-item"><a title="' + soy.$$escapeHtml(operationData50.title) + '" class="aui-list-item-link js-issueaction ' + soy.$$escapeHtml(operationData50.styleClass) + '" href="' + soy.$$escapeHtml(operationData50.url) + '" >' + soy.$$escapeHtml(operationData50.label) + '</a></li>';
    }
    output += '</ul>';
  }
  output += '<ul class="aui-list-section aui-last"><li class="aui-list-item"><a id="ghx-more-actions" title="' + soy.$$escapeHtml('\u0411\u043e\u043b\u044c\u0448\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439...') + '" class="aui-list-item-link js-issueaction" href="#" >' + soy.$$escapeHtml('\u0411\u043e\u043b\u044c\u0448\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439...') + '</a></li></ul></div>';
  return output;
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderIssueOperationsForCog.soyTemplateName = 'GH.tpl.detailview.renderIssueOperationsForCog';
}


GH.tpl.detailview.renderTabSection = function(opt_data, opt_ignored) {
  return '<div class="ghx-tab-section">' + ((opt_data.renderTitle) ? '<h4>' + soy.$$escapeHtml(opt_data.title) + '</h4>' : '') + '<div class="ghx-tab-section-content"></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderTabSection.soyTemplateName = 'GH.tpl.detailview.renderTabSection';
}


GH.tpl.detailview.renderTabTitle = function(opt_data, opt_ignored) {
  return '<div class="ghx-header"><h3>' + soy.$$escapeHtml(opt_data.tabTitle) + '</h3></div>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderTabTitle.soyTemplateName = 'GH.tpl.detailview.renderTabTitle';
}


GH.tpl.detailview.renderIssueDetailsLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.skipTitle) ? GH.tpl.detailview.renderIssueLink(opt_data) : '<h3 class="ghx-issue-details-link">' + GH.tpl.detailview.renderIssueLink(opt_data) + '</h3>');
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderIssueDetailsLink.soyTemplateName = 'GH.tpl.detailview.renderIssueDetailsLink';
}


GH.tpl.detailview.renderIssueLink = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(GH.Ajax.CONTEXT_PATH) + '/browse/' + soy.$$escapeHtml(opt_data.issueKey) + '" ' + ((! opt_data.skipTitle) ? 'title="' + soy.$$escapeHtml('\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u044d\u0442\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443') + '"' : '') + '>' + ((opt_data.description) ? soy.$$escapeHtml(opt_data.description) : soy.$$escapeHtml(opt_data.issueKey)) + '</a>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderIssueLink.soyTemplateName = 'GH.tpl.detailview.renderIssueLink';
}


GH.tpl.detailview.renderTextView = function(opt_data, opt_ignored) {
  return '' + ((opt_data.field.text) ? soy.$$escapeHtml(opt_data.field.text) : '<span class="ghx-fa">' + ((opt_data.field.type == 'number') ? '&nbsp;' : soy.$$escapeHtml('\u041d\u0435\u0442')) + '</span>');
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderTextView.soyTemplateName = 'GH.tpl.detailview.renderTextView';
}


GH.tpl.detailview.renderTextEstimateView = function(opt_data, opt_ignored) {
  return '' + ((opt_data.field.text) ? soy.$$escapeHtml(opt_data.field.text) : '<span class="ghx-fa">' + soy.$$escapeHtml('\u041d\u0435\u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e') + '</span>');
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderTextEstimateView.soyTemplateName = 'GH.tpl.detailview.renderTextEstimateView';
}


GH.tpl.detailview.renderHtmlView = function(opt_data, opt_ignored) {
  return '' + ((opt_data.field.html) ? soy.$$filterNoAutoescape(opt_data.field.html) : '<span class="ghx-fa">' + soy.$$escapeHtml('\u041d\u0435\u0442') + '</span>');
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderHtmlView.soyTemplateName = 'GH.tpl.detailview.renderHtmlView';
}


GH.tpl.detailview.renderDescriptionHtmlView = function(opt_data, opt_ignored) {
  return '' + ((opt_data.field.html) ? soy.$$filterNoAutoescape(opt_data.field.html) : '<span class="ghx-fa">' + soy.$$escapeHtml('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442') + '</span>');
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderDescriptionHtmlView.soyTemplateName = 'GH.tpl.detailview.renderDescriptionHtmlView';
}


GH.tpl.detailview.renderDateView = function(opt_data, opt_ignored) {
  return '' + ((opt_data.field.text) ? GH.tpl.detailview.renderDate({value: opt_data.field.text, displayValue: opt_data.field.html}) : '<span class="ghx-fa">' + soy.$$escapeHtml('\u041d\u0435\u0442') + '</span>');
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderDateView.soyTemplateName = 'GH.tpl.detailview.renderDateView';
}


GH.tpl.detailview.renderTextareaEdit = function(opt_data, opt_ignored) {
  return '<span class="ghx-spinner" style="display:none"></span><textarea rows="' + soy.$$escapeHtml(opt_data.numRows) + '" cols="40"></textarea><div class="js-fielderrors ghx-error"></div>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderTextareaEdit.soyTemplateName = 'GH.tpl.detailview.renderTextareaEdit';
}


GH.tpl.detailview.renderTextEdit = function(opt_data, opt_ignored) {
  return '<span class="ghx-spinner" style="display:none"></span><input class="text short-field" type="text"/><div class="js-fielderrors ghx-error"></div>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderTextEdit.soyTemplateName = 'GH.tpl.detailview.renderTextEdit';
}


GH.tpl.detailview.fieldUpdateSuccess = function(opt_data, opt_ignored) {
  return 'Field updated successfully';
};
if (goog.DEBUG) {
  GH.tpl.detailview.fieldUpdateSuccess.soyTemplateName = 'GH.tpl.detailview.fieldUpdateSuccess';
}


GH.tpl.detailview.fieldUpdateFailure = function(opt_data, opt_ignored) {
  return 'Updating field value failed';
};
if (goog.DEBUG) {
  GH.tpl.detailview.fieldUpdateFailure.soyTemplateName = 'GH.tpl.detailview.fieldUpdateFailure';
}


GH.tpl.detailview.renderDate = function(opt_data, opt_ignored) {
  return '<span class="date user-tz"><time datetime="' + soy.$$escapeHtml(opt_data.value) + '" title="' + soy.$$escapeHtml(opt_data.displayValue) + '">' + soy.$$escapeHtml(opt_data.displayValue) + '</time></span>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderDate.soyTemplateName = 'GH.tpl.detailview.renderDate';
}


GH.tpl.detailview.renderFieldErrors = function(opt_data, opt_ignored) {
  var output = '';
  var errorList179 = opt_data.errors;
  var errorListLen179 = errorList179.length;
  for (var errorIndex179 = 0; errorIndex179 < errorListLen179; errorIndex179++) {
    var errorData179 = errorList179[errorIndex179];
    output += ((! (errorIndex179 == 0)) ? '<br/>' : '') + soy.$$escapeHtml(errorData179.message);
  }
  return output;
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderFieldErrors.soyTemplateName = 'GH.tpl.detailview.renderFieldErrors';
}


GH.tpl.detailview.renderSubtasksEmpty = function(opt_data, opt_ignored) {
  return '<p class="ghx-fa">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442.') + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderSubtasksEmpty.soyTemplateName = 'GH.tpl.detailview.renderSubtasksEmpty';
}


GH.tpl.detailview.renderParentIssueTooltip = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml(opt_data.issueKey) + ' - ' + soy.$$escapeHtml(opt_data.summary);
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderParentIssueTooltip.soyTemplateName = 'GH.tpl.detailview.renderParentIssueTooltip';
}


GH.tpl.detailview.renderEmptyIssuesInEpic = function(opt_data, opt_ignored) {
  return '<p class="ghx-fa">' + soy.$$escapeHtml('\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442.') + '</p>';
};
if (goog.DEBUG) {
  GH.tpl.detailview.renderEmptyIssuesInEpic.soyTemplateName = 'GH.tpl.detailview.renderEmptyIssuesInEpic';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_56', location = '56.61ef6eae6e26a92332c0.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[56],{273:function(e,n,r){"use strict";var t,a;t=[r(98),r(60),r(0)],void 0===(a=function(e,n,r){var t=!1,a={mergeDetailsViewTemplate:function(){t||(r.extend(n,e),t=!0)}};AJS.namespace("GH.DetailsObjectFactory",null,a);var i=Array.from(arguments).map((function(e,n){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:n}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return i.length&&(window.__circulars=window.__circulars||0,window.__circulars+=i.length,console.error("[circ deps] in ","/jira-agile/rapid/ui/detail/DetailsObjectFactory.js",i)),a}.apply(n,t))||(e.exports=a)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_81', location = '81.29262b158c8655bb215d.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[81],{211:function(b,a){b.exports=require("jira/ajs/select/checkbox-multi-select")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-custom-field-pickers', location = 'gh-custom-field-pickers.3e4c78df9fa645cfeb6f.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[110],{320:function(e,t){e.exports=require("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler")},321:function(e,t,n){"use strict";var r,i;r=[n(16)],void 0===(i=function(e){return n(566),e((function(){return GH.tpl.customfields.sprintmultiselect}))}.apply(t,r))||(e.exports=i)},557:function(e,t,n){"use strict";!function(){n(558),n(560);var e=n(32),t=n(82),r=n(212),i=n(205),s=n(561),o=n(565),a=n(1);e.bind(t.NEW_CONTENT_ADDED,(function(e,t,n){n!==r.panelRefreshed&&(a(".js-epic-picker",t).each((function(){var e=a(this),t=new i({element:e});a(document).trigger(i.READY_EVENT,t)})),function(e){a(".js-sprint-picker",e).each((function(){var e=a(this),t=new s({element:e});a(document).trigger(s.READY_EVENT,t)}))}(t)),o.createSprintMultiselect(t)}))}()},558:function(e,t,n){"use strict";var r,i;r=[n(559),n(73),n(38),n(211),n(32),n(82),n(2),n(13),n(1),n(0)],void 0===(i=function(e,t,n,r,i,s,o,a,l,c){function u(e){return 0!==e.indexOf("project")?"":p(e).trim()}function p(e){return function(e){var t=e.match(/\bproject\s*=\s*(\S+)/i);return t?t[1]:null}(e)||function(e){var t=e.match(/\bproject\s+in\s+\((.*?)\)/i);return t?t[1]:null}(e)}i.bind(s.NEW_CONTENT_ADDED,(function(i,s){var p=l("#jql",this).val();s.find(".js-epiclink-checkboxmultiselect").each((function(){var i=new r({element:this,matchingStrategy:"(^|.*?(.*))({0})(.*)",maxInlineResultsDisplayed:5,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:a()+"/rest/greenhopper/1.0/epics",error:function(){i._setSuggestions([])},data:{searchQuery:"",projectKey:u(p),filterEpicsByGivenProjects:!0,maxResults:100},query:!0,minQueryLength:0,formatResponse:function(e){var r=[];if(r.push(new t({weight:1,items:[new n({highlighted:!0,label:"\u041d\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u044d\u043f\u0438\u043a",value:"EMPTY",title:"EMPTY"})]})),!e||!e.epicLists||0===e.total)return r;for(var i=0;i<e.epicLists.length;i++){var s=e.epicLists[i],a=s.epicNames,l=new t({label:s.listDescriptor,weight:i});a.length>0&&(c.each(a,(function(e){l.addItem(new n({highlighted:!0,label:e.name+" - ("+e.key+")",value:e.key,title:e.key}))})),r.push(l))}return r}},suggestionsHandler:e})}))}));var d=Array.from(arguments).map((function(e,t){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:t}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));d.length&&(window.__circulars=window.__circulars||0,window.__circulars+=d.length,console.error("[circ deps] in ","/jira-agile/field/EpicLinkMultiselect.js",d))}.apply(t,r))||(e.exports=i)},559:function(e,t,n){"use strict";var r,i;r=[n(0),n(320)],void 0===(i=function(e,t){var n=t.extend({formatSuggestions:function(t,n){var r=this.model.getDisplayableSelectedDescriptors(),i=function(e){var t;for(t in r)if(r[t].properties.value===e.properties.value.toString())return!1;return!0};return t=e.map(t,(function(t){var n=e.filter(t.properties.items,i);return t.properties.items=n,t})),this._super(t,n)}});AJS.namespace("GH.EpicLinkSuggestHandler",null,n);var r=Array.from(arguments).map((function(e,t){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:t}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return r.length&&(window.__circulars=window.__circulars||0,window.__circulars+=r.length,console.error("[circ deps] in ","/jira-agile/field/EpicLinkSuggestHandler.js",r)),n}.apply(t,r))||(e.exports=i)},560:function(e,t,n){e.exports=void 0},561:function(e,t,n){"use strict";var r,i;r=[n(562),n(48),n(273),n(91),n(73),n(38),n(564),n(2),n(17),n(1),n(0),n(40),n(6)],void 0===(i=function(e,t,r,i,s,o,a,l,c,u,p,d,g){var h=d.extend({element:void 0,Storage:void 0,_isShowAll:function(){return"true"===this.Storage.getItem("gh.sprintpicker.showall")},_constructRequestData:function(e){return"true"!==u(this.element).attr("data-relevant-sprints-enabled")||this._isShowAll()?{query:e}:{project:u(this.element).attr("data-project-key"),query:e}},_formatResponse:function(t){var n=this;function r(e){var t=c.escapeHtml(String(e.name));return new o({value:e.id.toString(),label:e.name,html:t,stateKey:e.stateKey,boardName:e.boardName,allowDuplicate:!1})}function i(e){return p.sortBy(e,(function(e){return e.name.toLowerCase()}))}if(!t.suggestions&&!t.allMatches)return[];var a=new s({weight:0,label:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),d=new s({weight:1,label:"\u0412\u0441\u0435 \u0441\u043f\u0440\u0438\u043d\u0442\u044b"});p.each(i(t.suggestions),(function(e){a.addItem(r(e))})),p.each(i(t.allMatches),(function(e){d.addItem(r(e))}));var g=[];if(g.push(a),g.push(d),"true"===u(this.element).attr("data-relevant-sprints-enabled")){this.getQueryVal();var h=new s({weight:0,showLabel:!1});h.addItem(new o({label:"",highlighted:!0,styleClass:"ghx-epic-menu-header",customItem:!0,html:n._isShowAll()?e.renderShowAllButtonChecked():e.renderShowAllButtonUnchecked()})),g.unshift(h)}return g},_handleClickOnShowAllCheckbox:function(e){e.preventDefault();var t=!this._isShowAll();try{this.Storage.setItem("gh.sprintpicker.showall",t)}catch(e){console.log("Failed to set item in localStorage ",e)}return this.$field.click(),!1},init:function(s){this.element=s.element,this.Storage=localStorage;var o,c,p,d=this._handleClickOnShowAllCheckbox.bind(this),h="ACTIVE",f="FUTURE",m=this.element.data("saved-state"),w=this.element.data("saved-id"),v=this,y=a.extend({formatSuggestions:function(e,t){return e=this._super(e,t),0===t.length&&e[e.length-1].footerText("\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434 \u0441\u043f\u0440\u0438\u043d\u0442\u043e\u0432."),e}}),x=n(13),S=this.setSelection;function b(t){var n=o.apply(this,arguments);return n.find("a").append(e.renderSuggestionMeta(t.properties)),n}function _(e){var t,n=this.getSelectedDescriptor();e||n||A(null),I(),this.hideErrorMessage(),(t=n?j(n):k(e)).message&&(this.options.errorMessage=t.message,c.apply(this,arguments),this.$errorMessage.addClass("inline-edit-error")),t.needsScopeChangeWarning&&E()}function k(e){var t=null,n=!1;return e&&e.length>0?m?(t=l.format("{0} \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0441\u043f\u0440\u0438\u043d\u0442\u0430. \u0414\u0430\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447.",e),m===h&&(n=!0)):t=l.format("{0} \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0441\u043f\u0440\u0438\u043d\u0442\u0430.",e):m===h&&(n=!0),{message:t,needsScopeChangeWarning:n}}function j(e){var t=!1;return m===h?t=!!T()||parseInt(w,10)!==e.properties.value:m===f?e.properties.stateKey===h&&(t=!0):m||e.properties.stateKey===h&&(t=!0),{message:null,needsScopeChangeWarning:t}}function E(){if(!p){T()||(p=u(t.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"\u042d\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043c \u0441\u043f\u0440\u0438\u043d\u0442\u0430."})));var e=v.$container.closest(".inline-edit-fields");e.size()>0?T()?((p=u('<div class="ghx-estimate-scope-warning"></div>')).text("\u042d\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043c \u0441\u043f\u0440\u0438\u043d\u0442\u0430."),e.find(".field-group").append(p)):e.closest(".editable-field").append(p):(T()&&(p=u(t.renderAuiMessage({type:"warning",className:"ghx-sprint-picker-scope-warning",icon:!0,title:"\u042d\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043c \u0441\u043f\u0440\u0438\u043d\u0442\u0430."}))),v.$container.closest(".field-group").append(p))}p.show()}function I(){p&&(p.remove(),p=null)}function A(e){i.getSprintFieldId()&&g.trigger("QuickEdit.fieldChange",{fieldId:i.getSprintFieldId(),fieldChangeData:{original:w,updated:e?e.properties.value:null}})}function T(){return!(!GH||!r)}this.setSelection=function(e,t){e.properties.customItem||S.apply(this,arguments)},u.extend(s,{submitInputVal:!1,showDropdownButton:!0,removeOnUnSelect:!1,maxInlineResultsDisplayed:10,ajaxOptions:{url:x()+"/rest/greenhopper/1.0/sprint/picker",data:this._constructRequestData.bind(this),formatResponse:this._formatResponse.bind(this),error:function(e,n,r){var i=u(v.element);i.siblings(".ghx-error").remove(),i.before(t.renderAuiMessage({message:"\u041e\u0448\u0438\u0431\u043a\u0430"+": "+r,type:"error",className:"ghx-error aui-ss"}))}}}),function(){v._super(s);var e=n(206);if(o=v.listController._renders.suggestion,c=v.showErrorMessage,v.listController._renders.suggestion=b,v.showErrorMessage=_,v.dropdownController.bind(e.EVENTS.show,(function(e,t){t.off("click",'.ghx-epic-menu-header label[for="chkShowAllSprints"]',d),t.on("click",'.ghx-epic-menu-header label[for="chkShowAllSprints"]',d)})),T()){var t=v.$container.closest(".inline-edit-fields").size()>0;if(t)v.element.parent().find("input").on("focus",(function(){v.showErrorMessage()}))}v.element.bind("selected",(function(e,n,r){T()&&t||r.showErrorMessage(r.getQueryVal()),A(n),v.showErrorMessage()})),v.suggestionsHandler=new y(v.options,v.model)}()}});AJS.namespace("JIRA.SprintPicker",null,h),JIRA.SprintPicker.READY_EVENT="gh.sprint-picker.ready";var f=Array.from(arguments).map((function(e,t){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:t}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return f.length&&(window.__circulars=window.__circulars||0,window.__circulars+=f.length,console.error("[circ deps] in ","/jira-agile/field/SprintPicker.js",f)),h}.apply(t,r))||(e.exports=i)},562:function(e,t,n){"use strict";var r,i;r=[n(16)],void 0===(i=function(e){return n(563),e((function(){return GH.tpl.customfields.sprintpicker}))}.apply(t,r))||(e.exports=i)},563:function(e,t,n){e.exports=void 0},564:function(e,t){e.exports=require("jira/ajs/select/suggestions/select-suggest-handler")},565:function(e,t,n){"use strict";var r,i;r=[n(321),n(567),n(73),n(38),n(211),n(44),n(2),n(1),n(0),n(13)],void 0===(i=function(e,t,n,r,i,s,o,a,l,c){function u(t){t.date=s(t.date,"YYYY-MM-DDTHH:mm:ssZ").format("LL");var n=e.renderSuggestionMeta(t);return new r({value:t.id,label:t.name,html:n,title:e.renderTooltip(t),date:t.date,boardName:t.boardName,stateKey:t.stateKey,highlighted:!0,allowDuplicate:!1})}function p(e){return[new n({weight:0,label:"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f",items:l.map(e.suggestions,u)}),new n({weight:1,label:"\u0412\u0441\u0435 \u0441\u043f\u0440\u0438\u043d\u0442\u044b",items:l.map(e.allMatches,u)})]}return{createSprintMultiselect:function(e){a(".js-sprint-checkboxmultiselect",e).each((function(){var e=new i({element:this,maxInlineResultsDisplayed:10,content:"ajax",removeOnUnSelect:!0,ajaxOptions:{url:c()+"/rest/greenhopper/1.0/sprint/picker",error:function(){e._setSuggestions([])},data:{excludeCompleted:!1,maxResults:11},formatResponse:p},suggestionsHandler:t,hideSuggestionCount:!0})}))}}}.apply(t,r))||(e.exports=i)},566:function(e,t,n){e.exports=void 0},567:function(e,t,n){"use strict";var r,i;r=[n(321),n(44),n(0),n(320)],void 0===(i=function(e,t,n,r){var i=function(r){n.each(r,(function(n){var r=JSON.parse(n.properties.meta);r.date=t(r.date).format("LL"),n.properties.title=e.renderTooltip(r),n.properties.html=e.renderSuggestionMeta(r)}))},s=r.extend({formatSuggestions:function(e,t){var r=this.model.getDisplayableSelectedDescriptors();i(r);var s=function(e){var t;for(t in r)if(r[t].properties.value===e.properties.value.toString())return!1;return!0};return e=n.map(e,(function(e){var t=n.filter(e.properties.items,s);return e.properties.items=t,e})),this._super(e,t)}});AJS.namespace("GH.SprintSuggestHandler",null,s);var o=Array.from(arguments).map((function(e,t){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:t}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return o.length&&(window.__circulars=window.__circulars||0,window.__circulars+=o.length,console.error("[circ deps] in ","/jira-agile/field/SprintSuggestHandler.js",o)),s}.apply(t,r))||(e.exports=i)}},[[557,0,1,2,3,6,5,7,10,14,15,17,19,20,21,23,26,29,30,35,41,46,45,56,72,81]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-custom-field-pickers', location = 'includes/js/jira-agile/field/SprintPicker.soy' */
// This file was automatically generated from SprintPicker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintpicker.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintpicker == 'undefined') { GH.tpl.customfields.sprintpicker = {}; }


GH.tpl.customfields.sprintpicker.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '' + ((opt_data.boardName) ? '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithBoardName(opt_data) + ')</span>' : '<span class=\'ghx-sprint-picker-meta\'> (' + GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName(opt_data) + ')</span>');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderSuggestionMeta';
}


GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml('\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u043f\u0440\u0438\u043d\u0442') : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('\u0411\u0443\u0434\u0443\u0449\u0438\u0439 \u0441\u043f\u0440\u0438\u043d\u0442') : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintpicker.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u043f\u0440\u0438\u043d\u0442 \u0432 {0}',opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format('\u0411\u0443\u0434\u0443\u0449\u0438\u0439 \u0441\u043f\u0440\u0438\u043d\u0442 \u0432 {0}',opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked = function(opt_data, opt_ignored) {
  return '<li><h5> ' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437 \u0441\u043f\u0440\u0438\u043d\u0442\u043e\u0432 \u0438\u0437 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + ' </h5><label for=\'chkShowAllSprints\'><input type=\'checkbox\' id=\'show-all-sprints-toggle\' checked>' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435') + '</label></li>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderShowAllButtonChecked';
}


GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked = function(opt_data, opt_ignored) {
  return '<li><h5> ' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437 \u0441\u043f\u0440\u0438\u043d\u0442\u043e\u0432 \u0438\u0437 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430') + ' </h5><label for=\'chkShowAllSprints\'><input type=\'checkbox\' id=\'show-all-sprints-toggle\'>' + soy.$$escapeHtml('\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435') + '</label></li>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked.soyTemplateName = 'GH.tpl.customfields.sprintpicker.renderShowAllButtonUnchecked';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-custom-field-pickers', location = 'includes/js/jira-agile/field/SprintMultiselect.soy' */
// This file was automatically generated from SprintMultiselect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.customfields.sprintmultiselect.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.customfields == 'undefined') { GH.tpl.customfields = {}; }
if (typeof GH.tpl.customfields.sprintmultiselect == 'undefined') { GH.tpl.customfields.sprintmultiselect = {}; }


GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$escapeHtml(opt_data.name) + '</div><div><span class=\'ghx-sprint-multiselect-meta\'> ' + ((opt_data.boardName) ? GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName(opt_data) : GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName(opt_data)) + '</span></div>';
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderSuggestionMeta';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml('\u0410\u043a\u0442\u0438\u0432\u043d\u043e') : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('\u0411\u0443\u0434\u0443\u0449\u0435\u0435') : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u043e') : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithoutBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('\u0410\u043a\u0442\u0438\u0432 \xb7 {0}',opt_data.boardName)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml(AJS.format('\u0411\u0443\u0434\u0443\u0449\u0435\u0435 \xb7 {0}',opt_data.boardName)) : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format('\u0417\u0430\u043a\u0440\u044b\u0442\u043e \xb7 {0}',opt_data.boardName)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderMetaWithBoardName';
}


GH.tpl.customfields.sprintmultiselect.renderTooltip = function(opt_data, opt_ignored) {
  return '' + ((opt_data.stateKey == 'ACTIVE') ? soy.$$escapeHtml(AJS.format('\u0417\u0430\u043f\u0443\u0441\u043a: {0}',opt_data.date)) : (opt_data.stateKey == 'FUTURE') ? soy.$$escapeHtml('\u0411\u0443\u0434\u0443\u0449\u0435\u0435') : (opt_data.stateKey == 'CLOSED') ? soy.$$escapeHtml(AJS.format('\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f: {0}',opt_data.date)) : '');
};
if (goog.DEBUG) {
  GH.tpl.customfields.sprintmultiselect.renderTooltip.soyTemplateName = 'GH.tpl.customfields.sprintmultiselect.renderTooltip';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_project-template-resources', location = 'project-template-resources.39881a73934f672c9d17.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[152],{577:function(t,n,o){"use strict";o(578),o(580),o(581)},578:function(t,n,o){"use strict";var i,s;i=[o(16)],void 0===(s=function(t){return o(579),t((function(){return GH.tpl.projecttemplates}))}.apply(n,i))||(t.exports=s)},579:function(t,n,o){t.exports=void 0},580:function(t,n,o){t.exports=void 0},581:function(t,n,o){t.exports=void 0}},[[577,0,7]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_project-template-resources', location = 'projecttemplates/soy/ProjectTemplates.soy' */
// This file was automatically generated from ProjectTemplates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace GH.tpl.projecttemplates.
 */

if (typeof GH == 'undefined') { var GH = {}; }
if (typeof GH.tpl == 'undefined') { GH.tpl = {}; }
if (typeof GH.tpl.projecttemplates == 'undefined') { GH.tpl.projecttemplates = {}; }


GH.tpl.projecttemplates.kanbanInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0434\u043b\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438. \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c, \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0440\u0435\u043c\u044f, \u0437\u0430\u0442\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u043c\u043e\u0435 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c, \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0443\u0437\u043a\u0438\u0435 \u043c\u0435\u0441\u0442\u0430 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u0445 \u0438 \u0442. \u0434. \u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u0430\u043d\u0435\u043b\u044c Kanban, \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441 Agile \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0434\u043d\u0435\u0435.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u0418\u0441\u0442\u043e\u0440\u0438\u044f') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'kanban-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.kanbanInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.kanbanInfoPageJira7';
}


GH.tpl.projecttemplates.scrumInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043b\u044f Agile. \u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043f\u0438\u0441\u043a\u0438 \u0437\u0430\u0434\u0430\u0447, \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0443\u0439\u0442\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0441\u043f\u0440\u0438\u043d\u0442\u043e\u0432, \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c \u043e\u0442\u0447\u0435\u0442\u043e\u0432 \u0438 \u0442. \u0434. \u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u0430\u043d\u0435\u043b\u044c Scrum, \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441 Agile \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0434\u043d\u0435\u0435.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon story"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u0418\u0441\u0442\u043e\u0440\u0438\u044f') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'scrum-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.scrumInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.scrumInfoPageJira7';
}


GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7 = function(opt_data, opt_ignored) {
  return '' + GH.tpl.projecttemplates.templateInfoDialog({description: '\u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u043e\u0432\u044b\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 \u043f\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0443 \u0438 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a. \u041f\u0440\u043e\u0435\u043a\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0437\u0434\u043d\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c.', extraIssueTypes: '<li><span class="issuetype-list-label"><span class="issuetype-icon improvement"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon newfeature"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u041d\u043e\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon epic"></span><span class="issuetype-name">' + soy.$$escapeHtml('Epic') + '</span></span></li>', workflowScreenshotClass: 'basic-development-workflow-screenshot'});
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7.soyTemplateName = 'GH.tpl.projecttemplates.softwareDevelopmentInfoPageJira7';
}


GH.tpl.projecttemplates.templateInfoDialog = function(opt_data, opt_ignored) {
  return '<div><div class="top-panel"><p>' + soy.$$escapeHtml(opt_data.description) + '</p></div><div class="left-panel"><h6>' + soy.$$escapeHtml('\u0422\u0438\u043f\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c') + '</h6><ul class="project-template-issuetype-list" ><li><span class="issuetype-list-label"><span class="issuetype-icon bug"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u041e\u0448\u0438\u0431\u043a\u0430') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon task"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u0417\u0430\u0434\u0430\u0447\u0430') + '</span></span></li><li><span class="issuetype-list-label"><span class="issuetype-icon subtask"></span><span class="issuetype-name">' + soy.$$escapeHtml('\u041f\u043e\u0434\u0437\u0430\u0434\u0430\u0447\u0430') + '</span></span></li>' + soy.$$filterNoAutoescape(opt_data.extraIssueTypes) + '</ul></div><div class="right-panel"><h6>' + soy.$$escapeHtml('\u0411\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u043e\u0446\u0435\u0441\u0441') + '</h6><div class="workflow ' + soy.$$escapeHtml(opt_data.workflowScreenshotClass) + '"></div></div></div>';
};
if (goog.DEBUG) {
  GH.tpl.projecttemplates.templateInfoDialog.soyTemplateName = 'GH.tpl.projecttemplates.templateInfoDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_16', location = '16.569d7f990e4ac2b22711.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[16],{7:function(e,n,t){"use strict";var a,i;a=[t(21),t(0),t(1)],void 0===(i=function(e,n,t){function a(e,t,a){if(n.isUndefined(e))throw new Error("You must specify a category");this.params={},this.params.category=e;var i=0;n.isUndefined(t)||(this.params.action=t,i++,n.isUndefined(a)||(this.params.label=a,i++)),this.requiredArgumentNames=["action","label","value"].slice(i),this.useAsync=!0}a.prototype.setAsync=function(e){return this.useAsync=e,this},a.prototype.trigger=function(){this.requiredArgumentNames.length<arguments.length&&e.log("Warning: too many arguments passed in. Needed at most "+this.requiredArgumentNames.length+" but got "+arguments.length);for(var a=n.clone(this.params),i=0;i<arguments.length&&!n.isUndefined(this.requiredArgumentNames[i]);i++)a[this.requiredArgumentNames[i]]=arguments[i];this._validateParams(a);var r="gh.analytics.async";t(document).trigger(r,a)},a.prototype._validateParams=function(e){n.each(["category","action","label"],(function(t){n.isUndefined(e[t])||n.isString(e[t])?n.isUndefined(e[t])&&(e[t]=""):e[t]=e[t].toString()})),n.each(["category","action"],(function(n){e[n]=e[n].replace(/\s+/g,"")})),n.isUndefined(e.value)||(e.value=parseInt(e.value,10),isNaN(e.value)&&(e.value=void 0))},AJS.namespace("GH.AnalyticsTracker",null,a),window.define("jira-agile/rapid/analytics-tracker",[],(function(){return a}));var i=Array.from(arguments).map((function(e,n){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:n}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return i.length&&(window.__circulars=window.__circulars||0,window.__circulars+=i.length,console.error("[circ deps] in ","/jira-agile/rapid/analytics-tracker.js",i)),a}.apply(n,a))||(e.exports=i)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_48', location = '48.0cd6b45b9c78ec2c25d5.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[48],{158:function(b,a){b.exports=require("jira/util/init-on-dcl")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_55', location = '55.3c13e2ecfd8ddfa2f8e5.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[55],{306:function(n,a,e){"use strict";var i,t;i=[e(1),e(0)],void 0===(t=function(n,a){GH.AnalyticsEnabled=!0;var e="gh.analytics.async";function i(){n(document).on(e,(function(n,a){t(a)}))}function t(n){var e={},i=n.category;a.isUndefined(n.action)||(i=i+"."+n.action),a.isUndefined(n.label)||(e.label=n.label),a.isUndefined(n.value)||(e.value=n.value),AJS.trigger("analytics",{name:i,data:e})}i();var r={isEnabled:function(){return GH.AnalyticsEnabled},setEnabled:function(n){return GH.AnalyticsEnabled=n}};AJS.namespace("GH.Analytics",null,r);var c=Array.from(arguments).map((function(n,a){return{empty:!n||0===Object.getOwnPropertyNames(n).length&&!n[Symbol.for("soyProxy")],index:a}})).filter((function(n){return n.empty})).map((function(n){return n.index+1}));return c.length&&(window.__circulars=window.__circulars||0,window.__circulars+=c.length,console.error("[circ deps] in ","/jira-agile/rapid/analytics.js",c)),r}.apply(a,i))||(n.exports=t)}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-help-analytics', location = 'gh-help-analytics.39a700e188e6a30f8842.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[122],{736:function(e,n,r){"use strict";var t,i,a;t=r(7),i=r(158),a=r(1),r(306),i((function(){var e=function(e){return new t(e).setAsync(!1)};a("#gh_view_help").click((function(r){return e("gh.gethelp").trigger("usermenu","docs"),n(a(this))})),a("#greenhopper-my-jira-home-enablement").click((function(r){return e("gh.myjirahome").trigger("usermenu","enabled"),n(a(this))})),a("#greenhopper-my-jira-home-enablement-ondemand").click((function(r){return e("gh.myjirahome").trigger("usermenu","set"),n(a(this))})),a("#greenhopper-my-jira-home-disablement-ondemand").click((function(r){return e("gh.myjirahome").trigger("usermenu","disable"),n(a(this))})),a("#greenhopper-my-jira-home-set").click((function(r){return e("gh.myjirahome").trigger("usermenu","set"),n(a(this))})),a("#beta_gh\\.configuration\\.rapid\\.removal").click((function(n){var r=a(this).attr("checked")?"on":"off";return e("gh.labs.feature").trigger("rapid_removal",r),!0})),a(document).on("click","#js-classic-link_lnk",(function(){return e("gh.agile.menu").trigger("classic"),!0}));var n=function(e){return"_blank"===e.attr("target")||(setTimeout('document.location = "'+e.attr("href")+'"',100),!1)}}))}},[[736,0,1,2,4,16,48,55]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_24', location = '24.5cd4ac059f9d2e65ab74.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[24],{114:function(a,b){a.exports=require("jira/dialog/dialog")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_58', location = '58.527e559cd0a85075a4cd.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[58],{160:function(b,a){b.exports=require("jira/util/browser")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_82', location = '82.874170c80cd8d4c6b2d3.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[82],{115:function(a,b){a.exports=require("jira/issuenavigator/issue-navigator")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_100', location = '100.c3f37a281f952607baa3.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[100],{174:function(b,a){b.exports=require("jira/issue")}}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.pyxis.greenhopper.jira:split_gh-globalkeyboardshortcuts', location = 'gh-globalkeyboardshortcuts.77f92c75f32925f96936.js' */
(window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71=window.atlassianWebpackJsonpfbf65a2811294b5bb986808ed460db71||[]).push([[121],{795:function(e,o,s){"use strict";var t,n;t=[s(13),s(10),s(113),s(244),s(796),s(174),s(115),s(114),s(1),s(160),s(13)],void 0===(n=function(e,o,s,t,n,a,r,i,c,u,d){var l={findSelectedIssueId:function(){var e;return r&&r.getSelectedIssueId&&(e=r.getSelectedIssueId()),!e&&a&&a.getIssueId&&(e=a.getIssueId()),e},goToAgile:function(){var e="/secure/RapidBoard.jspa",o=d();o&&(e=o+e),window.location.href=e},followLink:function(e){var o=c(e);o.length>0&&("a"===o[0].nodeName.toLowerCase()||"link"===o[0].nodeName.toLowerCase())&&(o.click(),window.location.href=o.attr("href"))},sendToTop:function(e,o){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToTop)return GH.Shortcut.sendToTop(e),void l.closeDialogAndPopMessage();if("Action"===e){var t=o||l.findSelectedIssueId(),n=d()||"";s.makeRequest({type:"post",contentType:"application/json",url:n+"/rest/greenhopper/1.0/rank/global/first",data:JSON.stringify({issueId:t}),success:l.handleRankSuccess}),c(document).trigger("gh.global.rankissues",{action:"rankToTop"+(e||""),count:1})}},sendToBottom:function(e,o){if(window.GH&&GH.RapidBoard&&GH.Shortcut&&GH.Shortcut.sendToBottom)return GH.Shortcut.sendToBottom(e),void l.closeDialogAndPopMessage();if("Action"===e){var t=o||l.findSelectedIssueId(),n=d()||"";s.makeRequest({type:"post",contentType:"application/json",url:n+"/rest/greenhopper/1.0/rank/global/last",data:JSON.stringify({issueId:t}),success:l.handleRankSuccess}),c(document).trigger("gh.global.rankissues",{action:"rankToBottom"+(e||""),count:1})}},closeDialogAndPopMessage:function(){r.isNavigator()?u.reloadViaWindowLocation():(i&&i.current&&i.current.hide(),window.GH?(GH.RapidBoard&&o&&o.showIssueMessage&&o.showIssueMessage(),window.Boards&&window.Boards.refreshAll()):r&&n&&n.flashIssueRow&&n.flashIssueRow())},handleRankSuccess:function(e,o,s){l.storeSuccessMessage(e.issueId,e.issueKey,"thanks_issue_updated"),l.closeDialogAndPopMessage()},storeSuccessMessage:function(e,o,s){var n=t;try{n.setItem("selectedIssueId",e),n.setItem("selectedIssueKey",o),n.setItem("selectedIssueMsg",s)}catch(e){}},newIssue:function(){c("#create_link").click()}};c(document).delegate(".issueaction-greenhopper-rank-top-operation","click",(function(e){e.preventDefault();var o=c(this).attr("data-issueid");l.sendToTop("Action",o)})),c(document).delegate(".issueaction-greenhopper-rank-bottom-operation","click",(function(e){e.preventDefault();var o=c(this).attr("data-issueid");l.sendToBottom("Action",o)})),AJS.namespace("gh.app.globalkeyboardshortcuts",null,l);var p=Array.from(arguments).map((function(e,o){return{empty:!e||0===Object.getOwnPropertyNames(e).length&&!e[Symbol.for("soyProxy")],index:o}})).filter((function(e){return e.empty})).map((function(e){return e.index+1}));return p.length&&(window.__circulars=window.__circulars||0,window.__circulars+=p.length,console.error("[circ deps] in ","/jira-agile/gh-globalkeyboardshortcuts.js",p)),l}.apply(o,t))||(e.exports=n)},796:function(e,o){e.exports=require("jira/issuenavigator/issue-navigator/shortcuts")}},[[795,0,1,2,3,4,6,5,7,8,9,10,11,24,58,82,100]]]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugin.ext.bamboo:bamboo-soy-resources', location = 'templates/plugins/bamboo/components.soy' */
(k=>{k.set('bamboo.loginAndApprove','\u0412\u043e\u0439\u0442\u0438 \u0438 \u0443\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c');})(WRM.I18n.km);
// This file was automatically generated from components.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace bamboo.components.
 */

if (typeof bamboo == 'undefined') { var bamboo = {}; }
if (typeof bamboo.components == 'undefined') { bamboo.components = {}; }


bamboo.components.pageHeader = function(opt_data, opt_ignored) {
  return '' + aui.page.pageHeader({content: '' + ((opt_data.headerImageContent) ? aui.page.pageHeaderImage({content: opt_data.headerImageContent}) : '') + aui.page.pageHeaderMain({content: opt_data.headerMainContent}) + ((opt_data.headerActionsContent) ? aui.page.pageHeaderActions({content: opt_data.headerActionsContent}) : '')});
};
if (goog.DEBUG) {
  bamboo.components.pageHeader.soyTemplateName = 'bamboo.components.pageHeader';
}


bamboo.components.icon = function(opt_data, opt_ignored) {
  return '<span class="bamboo-icon bamboo-icon-' + soy.$$escapeHtml(opt_data.type) + '"' + ((opt_data.text && opt_data.showTitle) ? ' title="' + soy.$$escapeHtml(opt_data.text) + '"' : '') + '>' + ((opt_data.text) ? '<span>' + soy.$$escapeHtml(opt_data.text) + '</span>' : '') + '</span>';
};
if (goog.DEBUG) {
  bamboo.components.icon.soyTemplateName = 'bamboo.components.icon';
}


bamboo.components.buildDetail = function(opt_data, opt_ignored) {
  return '<dl><dt class="' + soy.$$escapeHtml(opt_data.keyClass) + '">' + soy.$$escapeHtml(opt_data.key) + '</dt><dd>' + soy.$$filterNoAutoescape(opt_data.value) + '</dd></dl>';
};
if (goog.DEBUG) {
  bamboo.components.buildDetail.soyTemplateName = 'bamboo.components.buildDetail';
}


bamboo.components.artifacts = function(opt_data, opt_ignored) {
  var output = '<ul id="shared-artifacts">';
  var artifactList42 = opt_data.artifacts;
  var artifactListLen42 = artifactList42.length;
  for (var artifactIndex42 = 0; artifactIndex42 < artifactListLen42; artifactIndex42++) {
    var artifactData42 = artifactList42[artifactIndex42];
    output += bamboo.components.artifactItem(soy.$$augmentMap(artifactData42, {id: artifactData42.name, url: artifactData42.link.href}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.artifacts.soyTemplateName = 'bamboo.components.artifacts';
}


bamboo.components.artifactItem = function(opt_data, opt_ignored) {
  return '<li>' + bamboo.components.icon({type: 'artifact-shared'}) + ' <a class="artifact-link" id="artifact-' + soy.$$escapeHtml(opt_data.id) + '" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '">' + soy.$$escapeHtml(opt_data.name) + '</a><span class="filesize">(' + soy.$$escapeHtml(opt_data.prettySizeDescription) + ')</span></li>';
};
if (goog.DEBUG) {
  bamboo.components.artifactItem.soyTemplateName = 'bamboo.components.artifactItem';
}


bamboo.components.labels = function(opt_data, opt_ignored) {
  var output = '<ul class="labels">';
  var labelList65 = opt_data.labels;
  var labelListLen65 = labelList65.length;
  for (var labelIndex65 = 0; labelIndex65 < labelListLen65; labelIndex65++) {
    var labelData65 = labelList65[labelIndex65];
    output += bamboo.components.labelItem(soy.$$augmentMap(labelData65, {url: opt_data.baseBambooUrl + '/browse/label/' + labelData65.name}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  bamboo.components.labels.soyTemplateName = 'bamboo.components.labels';
}


bamboo.components.labelItem = function(opt_data, opt_ignored) {
  return '<li><a class="lozenge" href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.name) + '"><span>' + soy.$$escapeHtml(opt_data.name) + '</span></a></li>';
};
if (goog.DEBUG) {
  bamboo.components.labelItem.soyTemplateName = 'bamboo.components.labelItem';
}


bamboo.components.errorResponseMessage = function(opt_data, opt_ignored) {
  return '' + bamboo.components.auiWarning({body: '' + ((opt_data.errorMessage.messageBody) ? '<p>' + soy.$$escapeHtml(opt_data.errorMessage.messageBody) + '</p>' : (opt_data.errorMessage.oauthCallback) ? '<p><a href="' + soy.$$filterNoAutoescape(opt_data.errorMessage.oauthCallback) + '&amp;redirectUrl=' + soy.$$filterNoAutoescape(opt_data.oAuthDanceReturnUrl) + '" id="oauthDanceLink">' + soy.$$escapeHtml('\u0412\u043e\u0439\u0442\u0438 \u0438 \u0443\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c') + '</a></p>' : '<p>' + soy.$$escapeHtml(opt_data.errorMessage.message) + '</p>')});
};
if (goog.DEBUG) {
  bamboo.components.errorResponseMessage.soyTemplateName = 'bamboo.components.errorResponseMessage';
}


bamboo.components.auiWarning = function(opt_data, opt_ignored) {
  return '<div class="aui-message aui-message-warning warning">' + soy.$$filterNoAutoescape(opt_data.body) + '</div>';
};
if (goog.DEBUG) {
  bamboo.components.auiWarning.soyTemplateName = 'bamboo.components.auiWarning';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-wrmdata-amd', location = '/js/wrmdata-amd.js' */
try{require("wrm/data")}catch(a){console.warn("no wrm/data available, attempting to re-define"),"function"===typeof define?WRM.data?define("wrm/data",[],function(){return WRM.data}):console.warn("failed to re-define wrm/data - no WRM.data"):console.warn('failed to re-define wrm/data - no "define" method')};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap', location = '/js/bootstrap-init.js' */
require(["atlassian-whisper/bootstrap"],function(a){a()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap', location = '/js/bootstrap.js' */
define("atlassian-whisper/bootstrap",["wrm/require"],function(d){return function(){var a=require("wrm/data").claim("com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap.WhisperData");if(a&&!0===a.hasMessages){var c=function(){try{localStorage.setItem("hermes.config.delivery-url",AJS.contextPath()+"/rest/whisper/1/messages"),localStorage.setItem("hermes.config.store-url",AJS.contextPath()+"/rest/whisper/1/properties")}catch(b){return}require(["atlassian-whisper/hermes-init"],
function(b){b(a)},void 0,a.syncInit)};a.syncInit?c():AJS.$(function(){d("wr!com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-hermes",c)})}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.administration.atlassian-admin-quicksearch-jira:admin-quicksearch-webresources', location = 'com/atlassian/administration/quicksearch/jira/js/adminQuickNav.js' */
/**
 * Shifter group for admin search
 */
require([
    'jquery',
    'underscore',
    'jira/ajs/ajax/smart-ajax',
    'jira/shifter',
    'wrm/context-path'
], function (jQuery,
             _,
             SmartAjax,
             Shifter,
             contextPath) {
    Shifter.register(function () {
        var suggestionsDeferred = jQuery.Deferred();

        function formatItem(item) {
            return {
                label: item.label,
                value: item.linkUrl,
                keywords: item.aliases
            };
        }

        function getItemsInSection(section) {
            return _.map(section.items, formatItem).concat(_.map(section.sections, getItemsInSection));
        }

        function formatResponse(data) {
            return _.flatten(getItemsInSection(data));
        }

        SmartAjax.makeRequest({
            dataType: 'json',
            url: contextPath() + '/rest/adminquicksearch/latest/links/default'
        })
            .pipe(formatResponse)
            .done(function (suggestions) {
                suggestionsDeferred.resolve(suggestions);
            })
            .fail(function () {
                suggestionsDeferred.reject();
            });

        return {
            id: 'admin',
            name: "\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",
            weight: 500,
            getSuggestions: function () {
                return suggestionsDeferred;
            },
            onSelection: function (value) {
                window.location = value;
                return jQuery.Deferred();
            }
        };
    });
});

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jpo:jpo-wr-dialog-bootstrap', location = '/jpo2/scripts-plugin/dialog-bootstrap.js' */
!function(o){function t(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return o[e].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=o,t.c=i,t.d=function(o,i,e){t.o(o,i)||Object.defineProperty(o,i,{configurable:!1,enumerable:!0,get:e})},t.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(i,"a",i),i},t.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},t.p="",t(t.s=1)}([,function(o,t){window.AJS.$(function(){return null==window.JIRA.Portfolio&&(window.JIRA.Portfolio={}),window.JIRA.Portfolio.createDialog=new window.JIRA.FormDialog({id:"jpo-create-dialog",trigger:"li.jpo-create-dialog a, a.jpo-create-dialog",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,widthClass:"large"}),window.JIRA.Portfolio.quickCreateDialog=new window.JIRA.FormDialog({id:"jpo-quick-create-dialog",trigger:"li.jpo-quick-create-dialog a, a.jpo-quick-create-dialog",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,widthClass:"large"}),window.JIRA.Portfolio.keyboardShortcutsDialog=new window.JIRA.FormDialog({id:"jpo-keyboard-shortcuts-dialog",trigger:"a.jpo-keyboard-shortcuts",ajaxOptions:window.JIRA.Dialogs.getDefaultAjaxOptions,autoClose:!0,width:500})})}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jpo:jpo-wr-custom-field-scripts-parent', location = '/jpo2/scripts-plugin/field-parent.js' */
(k=>{k.set('rm.jpo.plugin.customfield.parent.epicLinkMustBeUsedForEpics','\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u044d\u043f\u0438\u043a \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043d\u0435\u0433\u043e.');k.set('rm.jpo.plugin.customfield.parent.error.epicLinkIsSet','\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u044d\u043f\u0438\u043a\u0430.');k.set('rm.jpo.plugin.customfield.parent.noParentFound','\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u00ab{0}\u00bb, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.');k.set('rm.teams.plugin.customfield.common.noMatches','\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439');})(WRM.I18n.km);
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){var r,i;r=[],void 0!==(i=function(){var e,t,n,r,i,o,s,u,a,c;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,c=AJS.escapeHTML,o=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,i){if(i!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},s=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},a=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:c(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},i=function(e){var t;if(t=e.items,0===t.length)return t.push(a({text:AJS.I18n.getText("rm.teams.plugin.customfield.common.noMatches"),additionalStyles:"jpo-dropdown-item-italic"}))},u=function(t){var n,i;return n=t.ajaxOptions,i=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=i(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:o,createDropdownAjaxOptions:s,createInfoMessageListItem:a,addNoMatchesItemIfEmpty:i,createDropdownClass:u}}.apply(t,r))&&(e.exports=i)},,function(e,t,n){var r;r=[n(0)],function(e){var t,n,r,i,o,s,u,a,c,l,p,f,d,m,h,g,y,v,j,I,x,w,S,T,A,E,D,b,J,M,N,O,_,k;if(a=window.JIRA,t=AJS.$,u=AJS.ItemDescriptor,r=AJS.GroupDescriptor,m=AJS.contextPath,x=AJS.escapeHTML,c=100,l=".jpo-parent-selection-dropdown",o=".jpo-initial-issue-type-name",i=".jpo-initial-epic-link",n=".jpo-client-error-message-container.jpo-parent-link",s="#issuetype-field",p=m()+"/rest/jpo/1.0/parent/suggest",E="",J=void 0,I=void 0,T=function(e){var t,n,r,i;for(t={},r=0,i=e.length;r<i;r++)n=e[r],t[n.id]=n;return t},O=function(){return E=t(o).val()},b=function(){return t(s).change(function(e){var t;if(null!=(t=e.target.value)&&t.length>0)return E=t})},A=function(){return null!=I&&I.length>0},N=function(){return I=t(i).val()},D=function(e){return e.$field.change(function(e){return I=e.target.value,d()})},d=function(){return A()?k(AJS.I18n.getText("rm.jpo.plugin.customfield.parent.error.epicLinkIsSet")):S()},_=function(e){if(null!=J)return J.$container.toggle(e)},k=function(e){return _(!1),t(n).html("<span class='error'>"+x(e)+"</span>")},S=function(){return _(!0),t(n).empty()},w=function(e){var t,n,i,o,s;return i=e.issues,n=e.issueTypes,s=e.projects,t=new r({weight:0,showLabel:!1,items:[h()]}),o=new r({weight:1,items:j({issues:i,issueTypes:n,projects:s})}),[t,o]},v=function(e){var t,n,r,i,o,s,a;return r=e.issue,s=e.issueType,a=e.project,i=r.issueKey,o=r.issueSummary,t=a.key+"-"+i,n=t+" "+o,new u({value:t,fieldText:n,label:n,icon:s.iconUrl})},j=function(t){var n,r,i,o,s,u,a;return o=t.issues,r=t.issueTypes,u=t.projects,i=T(r),a=T(u),s=function(){var e,t,r;for(r=[],e=0,t=o.length;e<t;e++)n=o[e],r.push(v({issue:n,issueType:i[n.issueTypeId],project:a[n.projectId]}));return r}(),e.addNoMatchesItemIfEmpty({items:s}),s},h=function(){return e.createInfoMessageListItem({text:AJS.I18n.getText("rm.jpo.plugin.customfield.parent.epicLinkMustBeUsedForEpics"),additionalStyles:"jpo-dropdown-item-italic"})},g=function(e){var t;return t=e.query,JSON.stringify({query:t,issueTypeName:E,maxResults:c})},f=e.createDropdownClass({ajaxOptions:e.createDropdownAjaxOptions({url:p,createQueryData:g,formatResponse:w}),getNoMatchingValueMessage:function(e){return AJS.I18n.getText("rm.jpo.plugin.customfield.parent.noParentFound",e)}}),y=function(e){return t(l,e).each(function(){return J=new f({element:t(this)}),d()})},e.bindInitializationCallback(function(e){var t;return t=e.context,N(),O(),b(),y(t)}),null!=(null!=(M=a.EpicPicker)?M.READY_EVENT:void 0))return a.bind(a.EpicPicker.READY_EVENT,function(e,t){return D(t)})}.apply(t,r)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jpo:jpo-wr-custom-field-scripts-target-dates', location = '/jpo2/scripts-plugin/field-target-dates.js' */
(k=>{k.set('rm.jpo.plan.common.baselineEnd.error.notAfterStart','\u0426\u0435\u043b\u0435\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0434\u0430\u0442\u044b \u043d\u0430\u0447\u0430\u043b\u0430');k.set('rm.jpo.plan.common.baselineStart.error.notBeforeEnd','\u0426\u0435\u043b\u0435\u0432\u0430\u044f \u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0440\u0430\u043d\u044c\u0448\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0434\u0430\u0442\u044b \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f');k.set('rm.teams.plugin.customfield.common.noMatches','\u041d\u0435\u0442 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439');})(WRM.I18n.km);
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){var r,o;r=[],void 0!==(o=function(){var e,t,n,r,o,i,a,u,s,l;return n=window.JIRA,e=AJS.$,r=AJS.SingleSelect,t=AJS.ItemDescriptor,l=AJS.escapeHTML,i=function(e){return n.bind(n.Events.NEW_CONTENT_ADDED,function(t,r,o){if(o!==n.CONTENT_ADDED_REASON.panelRefreshed)return e({context:r})})},a=function(e){var t,n,r;return r=e.url,t=e.createQueryData,n=e.formatResponse,{url:r,type:"POST",query:!0,data:function(e){return t({query:e})},dataType:"json",contentType:"application/json",formatResponse:n,keyInputPeriod:200}},s=function(e){var n,r;return r=e.text,n=e.additionalStyles,new t({label:r,html:l(r),highlighted:!0,styleClass:"jpo-dropdown-item-unselectable "+n,unselectableItem:!0})},o=function(e){var t;if(t=e.items,0===t.length)return t.push(s({text:AJS.I18n.getText("rm.teams.plugin.customfield.common.noMatches"),additionalStyles:"jpo-dropdown-item-italic"}))},u=function(t){var n,o;return n=t.ajaxOptions,o=t.getNoMatchingValueMessage,r.extend({init:function(t){return e.extend(t,{submitInputVal:!0,showDropdownButton:!0,ajaxOptions:n}),this._super(t)},setSelection:function(e){if(!e.properties.unselectableItem)return this._super.apply(this,arguments)},handleFreeInput:function(t){var n;if(this._super.apply(this,arguments),null==t&&(t=e.trim(this.$field.val())),null==this.model.getDescriptor(t)&&this.$container.hasClass("aui-ss-editing"))return n=null!=t&&t.length>0,n?(this.options.errorMessage=o(t),this.showErrorMessage(t),this.clear(),this.model.removeFreeInputVal()):this.hideErrorMessage()}})},{bindInitializationCallback:i,createDropdownAjaxOptions:a,createInfoMessageListItem:s,addNoMatchesItemIfEmpty:o,createDropdownClass:u}}.apply(t,r))&&(e.exports=o)},,,function(e,t,n){var r;r=[n(0)],function(e){var t,n,r,o,i,a,u,s,l,c,p,f,d,m,h,g,v,j,y;return t=AJS.$,c=AJS.escapeHTML,i=".jpo-baseline-start > div > input",o=".jpo-baseline-end > div > input",r=".jpo-client-error-message-container.jpo-start",n=".jpo-client-error-message-container.jpo-end",y=void 0,j=void 0,d=function(){return t(i).change(function(e){var t;if(null!=(t=e.target.value))return y=t,u()})},f=function(){return t(o).change(function(e){var t;if(null!=(t=e.target.value))return j=t,a()})},h=function(){return y=t(i).val()},m=function(){return j=t(o).val()},l=function(e,t){var n,r;return r=new Date(e),n=new Date(t),r.getTime()>n.getTime()},a=function(){return null!=j&&null!=y&&l(y,j)?g(AJS.I18n.getText("rm.jpo.plan.common.baselineEnd.error.notAfterStart")):p()},u=function(){return null!=j&&null!=y&&l(y,j)?v(AJS.I18n.getText("rm.jpo.plan.common.baselineStart.error.notBeforeEnd")):p()},g=function(e){return t(n).html("<span class='error jpo-error'>"+c(e)+"</span>")},v=function(e){return t(r).html("<span class='error jpo-error'>"+c(e)+"</span>")},p=function(){return t(n).empty(),t(r).empty()},s=function(e){return t(i,e).each(function(){return t(this.parentNode).append("<div class='jpo-client-error-message-container jpo-start'/>"),y=h(),j=m(),u()}),t(o,e).each(function(){return t(this.parentNode).append("<div class='jpo-client-error-message-container jpo-end'/>"),a()})},e.bindInitializationCallback(function(e){var t;return t=e.context,f(),d(),s(t)})}.apply(t,r)}]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.jira.plugins.jira-browser-metrics:sensors', location = 'sensors.js' */
require(["internal/browser-metrics","jira/util/events"],function(e,i){var a,o,d,t,r,l,s,n={},g={};d=i,t=e,(o=a={}).applicationMenusSensorInit=function(){var i={"bonfire_top_menu_dropdown-content":"jira.header.menu.capture","browse_link-content":"jira.header.menu.projects","find_link-content":"jira.header.menu.issues","greenhopper_menu-content":"jira.header.menu.agile","home_link-content":"jira.header.menu.dashboards","plugins-jira-webitem-main-content":"jira.header.menu.portfolio","servicedesk-section-content":"jira.header.menu.service-desk","system-admin-menu-content":"jira.header.menu.admin","system-help-menu-content":"jira.header.menu.help","user-options-content":"jira.header.menu.profile"};function a(e){return i.hasOwnProperty(e)?i[e]:null}d.bind("aui-dropdown2-show-before",function(e){e=e.target,e=a(e&&e.id);e&&t.start({key:e,isInitial:!1,threshold:250})}),d.bind("aui-dropdown2-show-after",function(e){e=e.target,e=a(e&&e.id);e&&t.end({key:e})})},a=o,n=function(e){e.safeDialogId=function(e){var i;if(a.hasOwnProperty(e))return e;for(i=0;i<o.length;i++)if(e.match(o[i].pattern))return o[i].dialogId;return null};var a=["about-dialog","add-basicuser-dialog","add-developer-dialog","add-field-configuration-dialog","add-field-configuration-scheme-dialog","add-field-dialog","add-field-screen-dialog","add-field-screen-scheme-dialog","add-incoming-mail-handler-dialog","add-issue-type-dialog","add-issue-type-field-configuration-association-dialog","add-issue-type-screen-scheme-configuration-association-dialog","add-issue-type-screen-scheme-dialog","add-new-issue-type-to-scheme-dialog","add-screen-scheme-item-dialog","add-subtask-type-dialog","add-workflow-dialog","add_workflowscheme-dialog","assign-dialog","assign-issue-types-dialog","assign-to-me-link-handler","attach-file-dialog","attach-screenshot-dialog","auditing-settings-dialog","clone-issue-dialog","comment-add-dialog","configure_wallboard_dialog","confluence-page-search-dialog","copy_classic default workflow-dialog","copy-filter-dialog","copy_jira-dialog","create-issue-dialog","create-issue-dialog.issueType","create-issue-dialog.projectId","create-request-dialog","create-service-desk-dialog","create-status-dialog","create-story-dialog","create-story-dialog.issueType","create-story-dialog.projectId","create-subtask-dialog","create-subtask-dialog.issueType","create-team-dialog","create_user-dialog","credits-dialog","delete-attachment-dialog","delete-comment-dialog","delete-dshboard","delete-filter-dialog","delete-issue-dialog","delete-issue-link-dialog","delete-log-work-dialog","delete-metric","delete-queue","delete-status-dialog","deleteuser_link-dialog","devstatus-branch-detail-dialog","devstatus-build-detail-dialog","devstatus-commit-detail-dialog","devstatus-cta-dialog","devstatus-deployment-detail-dialog","devstatus-pullrequest-detail-dialog","devstatus-review-detail-dialog","discard-draft-dialog","discard_draft_workflow-dialog","edit-attachments-dialog","edit-comment","editgroups_admin-dialog","editgroups_link-dialog","editgroups_sysadmin-dialog","edit-issue-dialog","edit-labels-dialog","edit-log-work-dialog","edit-status-dialog","edituser_link_admin-dialog","edit-workflow-dialog","gh-find-on-board-dialog-issue","gh-find-on-board-dialog-sprint","inline-issue-create-dialog","invite_user-dialog","issue-actions-dialog","issue-tab-error-dialog","jim-create-project-dialog","keyboard-shortcuts-dialog","link-issue-dialog","log-work-dialog","manage-attachment-dialog","metric-pre-save-dialog","modal-field-view","permission-helper-dialog","project-avatar-cropper","project-avatar-picker","project-config-details-project-category-dialog","project-config-project-edit-dialog","project-config-project-edit-lead-and-default-assignee-dialog","project-email-dialog","publish_draft_workflow-dialog","queue-dirty-edits","QuickCreateIssue.error","QuickCreateIssue.success","QuickCreateSubtask.error","QuickCreateSubtask.success","QuickEdit.error","QuickEdit.success","remote-jira-search-dialog","rename-filter-dialog","report-dirty-edits","save-filter-dialog","sd-add-default-value","sd-add-remove-agent-dialog","sd-remove-field-dialog","server-error-dialog","report-delete-confirm","tempo-add-hours-issue-dialog","tempo-add-internal-activity-form","tempo-core-medium-form","tempo-delete-form-dialog","tempo-grace-form","tempo-large-form","tempo-medium-form","tempo-move-form-dialog","tempo-pdf-form","tempo-small-form","tempo-split-form-dialog","tempo-user-settings-dialog","user-avatar-picker","user-defaults-edit-dialog","versionsMergeDialog","view-workflow-dialog","view-workflow-dialog-project-admin","view-workflow-dialog-workflow-schemes","wait-migrate-dialog","whereismycf-dialog","workflow-text-view"].reduce(function(e,i){return e[i]=!0,e},{}),o=[{dialogId:"component-delete-dialog",pattern:/^component-\d+-delete-dialog$/i},{dialogId:"version-delete-dialog",pattern:/^version-\d+-delete-dialog$/i},{dialogId:"workflow-transition-dialog",pattern:/^workflow-transition-\d+-dialog$/i}];return e}(n),r=i,l=e,s=n,(n=g).dialogsSensorInit=function(){r.bind("beforeShow",function(e,i){"string"!=typeof i||(i=(0,s.safeDialogId)(i))&&l.start({key:"jira.dialog.open."+i,isInitial:!1,threshold:1e3})}),r.bind("dialogContentReady",function(e,i){"string"!=typeof i.options.id||(i=(0,s.safeDialogId)(i.options.id))&&l.end({key:"jira.dialog.open."+i})})},g=g=n,(0,a.applicationMenusSensorInit)(),(0,g.dialogsSensorInit)()});
}catch(e){WRMCB(e)};